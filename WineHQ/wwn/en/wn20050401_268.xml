<?xml version="1.0" ?>
<kc>

<title>Wine Traffic</title>

<author contact="http://www.theshell.com/~vinn">Brian Vincent</author>
<issue num="268" date="04/01/2005" />
<intro> <p>This is the 268th issue of the Wine Weekly News publication.
Its main goal is to welcome Spring. It also serves to inform you of what's going on around Wine. Wine is an open source implementation of the Windows API on top of X and Unix.  Think of it as a Windows compatibility layer.  Wine does not require Microsoft Windows, as it is a completely alternative implementation consisting of 100% Microsoft-free code, but it can optionally use native system DLLs if they are available.   You can find more info at <a href="http://www.winehq.org">www.winehq.org</a></p> </intro>
<stats posts="198" size="745" contrib="82" multiples="39" lastweek="39">

<person posts="17" size="41" who="Alexandre Julliard" />
<person posts="12" size="39" who="Dmitry Timoshkov" />
<person posts="11" size="30" who="Dimitrie O. Paun" />
<person posts="9" size="27" who="James Hawkins" />
<person posts="7" size="47" who="Robert Shearman" />
<person posts="7" size="22" who="Mike McCormack" />
<person posts="6" size="20" who="Uwe Bonnes" />
<person posts="5" size="16" who="Ferenc Wagner" />
<person posts="5" size="14" who="Mike Hearn" />
<person posts="5" size="13" who="Peter Berg Larsen" />
<person posts="4" size="23" who="Rein Klazes" />
<person posts="4" size="14" who="Oliver Stieber" />
<person posts="5" size="16" who="Marcus Meissner" />
<person posts="3" size="18" who="Andrew Neil Ramage" />
<person posts="3" size="13" who="Troy Rollo" />
<person posts="3" size="11" who="Jakob Eriksson" />
<person posts="3" size="11" who="Huw D M Davies" />
<person posts="3" size="10" who="Kuba Ober" />
<person posts="3" size="8" who="Wesley Parish" />
<person posts="3" size="8" who="Tom Huckstep" />
<person posts="3" size="44" who="Eric Pouech" />
<person posts="2" size="11" who="Jeremy White" />
<person posts="2" size="9" who="Brian Vincent" />
<person posts="2" size="8" who="Alex Woods" />
<person posts="2" size="8" who="Damjan Jovanovic" />
<person posts="2" size="8" who="James Courtier-Dutton" />
<person posts="2" size="7" who="Paul Vriens" />
<person posts="2" size="7" who="(wino)" />
<person posts="2" size="7" who="Dietrich Teickner" />
<person posts="2" size="6" who="Joris Huizer" />
<person posts="2" size="6" who="Jacek Caban" />
<person posts="2" size="6" who="Hannu Valtonen" />
<person posts="2" size="5" who="Tobias Burnus" />
<person posts="2" size="5" who="Raphael Clifford" />
<person posts="2" size="5" who="Konstantin Goudkov" />
<person posts="2" size="5" who="Marcelo Duarte" />
<person posts="2" size="5" who="Krzysztof Foltman" />
<person posts="2" size="4" who="Vincent B&#233;ron" />
<person posts="2" size="4" who="Boaz Harrosh" />
<person posts="1" size="22" who="Robert Reif" />
<person posts="1" size="7" who="Charles W. Stevenson" />
<person posts="1" size="6" who="Aric Cyr" />
<person posts="1" size="6" who="Brouard Nicolas" />
<person posts="1" size="5" who="Michael Jung" />
<person posts="1" size="5" who="Casper Hornstrup" />
<person posts="1" size="4" who="Mitchell Mebane" />
<person posts="1" size="4" who="Scott Ritchie" />
<person posts="1" size="4" who="(peter)" />
<person posts="1" size="4" who="(cyrix12)" />
<person posts="1" size="3" who="Joshua Walker" />
<person posts="1" size="3" who="Hans-Ulrich Schmid" />
<person posts="1" size="3" who="James Courtier-Dutton" />
<person posts="1" size="3" who="=?ISO-8859-1?Q?Joaqu=EDn_Fern=E1ndez?=" />
<person posts="1" size="3" who="Maxime Bellenge" />
<person posts="1" size="3" who="Jeff Latimer" />
<person posts="1" size="3" who="Andrew Tridgell" />
<person posts="1" size="3" who="Paul Millar" />
<person posts="1" size="3" who="Adam D. Moss" />
<person posts="1" size="3" who="Matthew Mastracci" />
<person posts="1" size="3" who="Hans Leidekker" />
<person posts="1" size="3" who="Joachim von Thadden" />
<person posts="1" size="3" who="Paul Millar" />
<person posts="1" size="3" who="Chris Morgan" />
<person posts="1" size="3" who="Dan Kegel" />
<person posts="1" size="2" who="Andreas Mohr" />
<person posts="1" size="2" who="Paul van Schayck" />
<person posts="1" size="2" who="Steven Edwards" />
<person posts="1" size="2" who="Andrew Bartlett" />
<person posts="1" size="2" who="Aaron Arvey" />
<person posts="1" size="2" who="Lionel Ulmer" />
<person posts="1" size="2" who="Jonathan Duncan" />
<person posts="1" size="2" who="Cal Pierog" />
<person posts="1" size="2" who="Francois Gouget" />
<person posts="1" size="2" who="Igor Sysoev" />
<person posts="1" size="2" who="Steven Edwards" />
<person posts="1" size="2" who="Jonathan Ernst" />
<person posts="1" size="2" who="Tom Wickline" />
<person posts="1" size="2" who="Phil Krylov" />
<person posts="1" size="2" who="Phil Krylov" />

</stats>
<section 
	title="News: CrossOver Office 4.2, Whitepaper, DX9" 
	subject="News"
	archive="http://crossover.codeweavers.com/pipermail/announce/2005-March/000029.html"
	posts="3"
	startdate="03/26/2005"
	enddate="04/01/2005"
>
<topic>News</topic>
<p>
The biggest news of the week is the release of CrossOver Office
4.2.  CodeWeavers 
<a href="http://crossover.codeweavers.com/pipermail/announce/2005-March/000029.html">announced 4.2</a> on Wednesday.  The 
<a href="http://www.codeweavers.com/about/general/press/?id=20050330">press
release</a> goes into detail about some of the new features,
or you can read the short version in the 
<a href="http://www.codeweavers.com/products/cxoffice/change_log">ChangeLog</a>.  
Some excerpts from Jeremy White's announcement:</p>
<quote who="Jeremy White"><p>

I am very happy to announce that today we have shipped version 4.2 of
CrossOver Office.  This includes a long awaited update to our server
product, CrossOver Office Server Edition.
</p><p>
This release includes support for Quicken 2005, as well as new support
for QuickBooks, versions 2001-2004 (note that QuickBooks 2005 is not yet
supported).  This release now supports the latest version of iTunes,
and the iPod support code has been tuned to work with that version.
We've also started an effort to properly support EndNote.

</p><p>
I also want to take a minute to stop and thank everyone
that has purchased CrossOver from us.  As I look back on the 7 years (7!)
I've been involved in the Wine project, no part has been as rewarding
as the time we've been working on CrossOver.  There are many
employees at CodeWeavers, and we are able to pursue a dream,
and still provide for our families, entirely because of your support.
</p><p>
For example, we've been able to invest a lot of energy into Wine over
the last few months; the changes that we've put into WineHQ that will
come out as part of 5.0 this summer are going to be very exciting.
The changes include a window manager rewrite, which should
finally give us the tools to nail all those pesky visual glitches,
a complete implementation  of MSI and COM, which should allow
us to get just about anything installed and up and running,
and many other improvements too numerous to list.
</p><p>
In short, I think that this is the year that we start to really
push Wine to fulfill its promise, and we have only been able
to do this work because of your support. I hope that we have
showed and continue to show our appreciation  for your support
through the improvements we make to Wine and by the support
we provide to you.</p></quote>

<p>The next day Alexandre took off on vacation for a week.  
So don't expect any CVS updates. </p>

<p>A whitepaper discussing
<a href="http://www.desktoplinux.com/articles/AT2779208064.html">
<i>The role 
of WINE in Linux desktop enterprise migration strategies</i> </a>
appeared on DesktopLinux.com.  It lays out a solid analysis for what
role Wine can play in that while admitting it's not a silver 
bullet.  From the foreword:</p>
<quote who="DesktopLinux.com">
<p>
This whitepaper by CodeWeavers COO Jon Parshall and CEO Jeremy White takes a 
detailed look at the potential value of WINE ("Wine Is Not an Emulator") as 
an ingredient in a strategy for enterprise migration from Windows to Linux 
desktops. The paper itemizes the requirements for enterprise desktop 
migration, examines a range of available tactics, and then suggests 
strategies for making the journey in ways that are "pragmatic, economical, 
and customer focused," the authors say.</p></quote>

<p>For fun, print it and drop in the office mailbox of a random PHB.</p>


<p>Slashdot 
<a href="http://games.slashdot.org/games/05/03/28/1843246.shtml">reported</a>
the linux-gamers.net 
<a href="http://winecvs.linux-gamers.net/index.php/Main_Page">WineCVS.sh</a>
has been updated to include support for installing Oliver Stiebers Direct3D 
9 patches.  With a little luck Oliver's patches will get merged and this 
feature will become obsolete.</p>

</section>
<section 
	title="MSHTML Work" 
	subject="Progress of work on MSHTML"
	archive="http://www.winehq.org/hypermail/wine-devel/2005/03/1152.html" 
	posts="1"
	startdate="03/29/2005"
>
<topic>Status Updates</topic>
<p>Every once in a while someone pops up and mentions a bunch of
work they've been doing.  Krzysztof Foltman's recent
work on the RichEdit control was one such example.  Jacek Caban 
announced some work this week he's been doing on 
<a href="http://msdn.microsoft.com/library/default.asp?url=/workshop/browser/mshtml/reference/reference.asp">MSHTML</a>:</p>
<quote who="Jacek Caban"><p>
 
I decided that it's time to write here about my work. I'm working on an
implementation of MSHTML using Gecko (Mozilla's engine) API. Results 
of this work you can see here:
<ul><a href="http://www.lo3.wroc.pl/~jcaban/wine-ie/">
http://members.lycos.co.uk/merplayers/wine/</a></ul></p><p>
Yes, it is Internet Explorer on Mozilla's engine under Wine! 
At last... it doesn't work
as nice as one can think looking at the picture... but it's starting
to work.</p><p>

I'd like to do it using Linux Mozilla, but to do it I'd need to pass
GtkWidget to Gecko.  So AFAIK there is no way to do it in an 
acceptable way for Wine. If there is, please let me know.
</p><p>
Gecko API is based on XPCOM that is quite similar to MSCOM. We cannot use
Gecko's headers as they are designed for C++, but I wrote idl files that can
be used by widl to generate binary-compatible headers. Fortunately,
excluding
interfaces, we can do everything using only C functions. Currently Wine's
implementation uses Mozilla ActiveX Control. It's enough for some
applications
using it as a replacement for WebBrowser Control, yet I don't know anyone using
it as a replacement for HTMLDocument (and it won't work as this is a control, not
a document).
</p><p>
This code needs a lot of cleanup and I need to remove temporary hacks,
but I think it's time to start sending patches. Unfortunately I'll 
be out next week and this week I won't have much time. This week I'll 
send only some simple code, and later will come more.</p></quote>

</section>

<section 
	title="WineConf Agenda" 
	subject="WineConf Agenda"
	archive="http://www.winehq.org/hypermail/wine-devel/2005/03/1157.html" 
	posts="8"
	startdate="03/29/2005"
	enddate="04/03/2005"
>
<topic>WineConf 2005</topic>
<p>Over the last few weeks I've been putting together the
agenda for 
<a href="http://www.winehq.org/wineconf">WineConf</a>.  
I thought for a while we were short
on presentations, then as I put started gathering everything
together I realized things were in pretty good shape.  So
I decided to get some feedback and put out a last call for
ideas:</p>
<quote who="Brian Vincent"><p>

This is the initial agenda for WineConf.  I hope to add a few more
items, but Jeremy suggested I pull the trigger and announce it.  I
agree - there's enough here to fill two days and leave a lot of time
for people to get together in small groups.  Only the first two items
are in any formal order:
<ul>
  <li>Alexandre - Keynote  (He said he's reusing last year's slides.)</li>
  <li>Dimi - to do list / status update</li>
  <li>Steven Edwards and the ReactOS crew</li>
  <li>Charles W Stevenson - Winelib / Winelib porting / and a commercial perspective</li>
  <li>Andrew Bartlett / Samba team? - Samba 4, authentication, lots of
intelligent ideas</li>
  <li>Juan Lang - Wine's RPC + Samba or something like that :)</li>
  <li>Jeremy White - CXTest</li>
  <li>Jason Edmeades - DirectX 9 / wined3d / eye candy</li>
</ul></p><p>
I think a full agenda would be about 11 items.  If you would like to
present something let me know - there's definitely space available. 
If you've been wondering, "There's a neat project I'd like to do if I
could only get a few more people interested", well, this is the
perfect time to bring it up.  If there's something strategic to Wine
development, this is a great time to discuss it.  For example, we've
had mixed feelings regarding revision control and its been suggested
to bring it up as a topic.  Would anyone find it useful to discuss
subversion vs. arch vs. cvs?  We could probably get Mike Hearn to show
off how he manages patches with SVK and then let him arm wrestle
Alexandre about whether arch is better.
</p><p>
Friday night we will have an informal dinner after meeting up at the
hotel.  The conference will kick off Saturday morning on campus around
8am.  Lunch will be provided on Saturday and Sunday as well as dinner
on Saturday.  There will definitely be a lot of time for informal
discussion.
</p><p>
For the Samba guys - I think there's a great opportunity to share some
knowledge to prevent anyone from reinventing the wheel.  If there's
any topic you'd find interesting, let me know.  If you'd just like to
hear a specific topic from the Wine folks, we can arrange that.
</p><p>
For travel arrangements, please join wineconf_at_winehq.org (
<a href="http://www.winehq.org/mailman/listinfo/wineconf">
http://www.winehq.org/mailman/listinfo/wineconf</a> ) For instance, I'm
actually flying into Frankfurt on April 23rd and it'd be cool to hang
out with anyone arriving early.  If you haven't made reservations at a
hotel, don't worry too much.  There's still rooms available as Mr.
Schmid described here:
<ul><a href="http://www.winehq.com/hypermail/wine-devel/2005/03/1119.html">
http://www.winehq.com/hypermail/wine-devel/2005/03/1119.html</a></ul>
</p><p>
If you haven't signed up on the RSVP list, please do so.  It can be
found on the WineConf page:
<ul><a href="http://www.winehq.com/wineconf">http://www.winehq.com/wineconf</a></ul>
</p></quote>

<p>Since then some excellent ideas have come up for
additional topics to fill in the few remaining slots.
Andrew Tridgell from Samba asked:</p>
<quote who="Andrew Tridgell"><p>
I'd like to present something on the way Samba4 stores the extra NTFS
meta-data in posix filesystems (streams, NT ACLs, DOS attributes,
extra timestamps etc) and open up a discussion on whether we could
come to an agreement with the wine project on how this should be
done. I can provide a demo of the implementation we currently have in
the posix NTVFS backend in Samba4.
</p><p>
I'd similarly like to discuss cooperating on share modes, oplocks and
byte range locks.
</p><p>
In each case I will be trying to encourage methods which can store the
full NTFS semantics, rather than limiting ourselves to only the things
that fit natually in posix filesystems. I'm guessing we will have some
lively discussion on whether this is a worthwhile aim :-)
</p><p>
Finally, if we have time, I'd like to discuss cooperation on IDL files
and MSRPC interfaces.
</p></quote>

<p>Dimi Paun followed up with,
<quote who="Dimitrie Paun">
Speaking of which, both Samba and Wine suffer from the lack of support
of case-insensitiveness in the kernel. Now, I'm not suggesting that
we should push for that (I'm aware of the past discussions on LKML, and
I must agree with Linus), but we should push for *something* that's
acceptable and helps us solve the negative lookups a bit faster than a
full directory listing every time.</quote></p>


<p>Marcus Meissner also had an idea,
<quote who="Marcus Meissner">
I could give an introduction into reverse engineering, including 
an IDA Pro introduction</quote></p>

<p>Jakob Eriksson expanded on the testing topic:</p>
<quote who="Jakob Eriksson"><p>
I don't know if I can find the time to prepare a proper
presentation, but if I do, I'd like to talk about and get some
input from you on the subject of testing.
<ol>
 <li> I want the conformance tests done faster. (I have a clear idea how.)
      </li>
 <li>What's almost never been brought up on wine-devel is the
unit testing in the XP sense.</li></ol>
</p><p>


1 has been discussed on wine-devel quite a bit, so I'll skip it
in this mail.
</p><p>

regarding 2:
</p><p>
CXTest is like application testing. This is good, high-level testing.
</p><p>
The conformance tests test the Windows API.
But in the case of a complicated API (and Windows is complicated) maybe
we need to test the smaller units behind the API.
</p><p>
So, the conformance tests often are somewhere between application testing
and unit testing.
</p><p>

Can we have an infrastructure for running unit tests of small units of code
private to the implementation?
</p></quote>



</section>

<section 
	title="Autopackage 1.0" 
	subject="Autopackage 1.0"
	archive="http://www.winehq.org/hypermail/wine-devel/2005/03/1118.html" 
	posts="2"
	startdate="03/29/2005"
>
<topic>Build Process</topic>
<p>
<a href="http://www.autopackage.org/">Autopackage</a> is a side project 
 of Mike Hearn.  Or maybe this week we should say that Wine is the side 
 project.  Slashdot 
 <a href="http://linux.slashdot.org/article.pl?sid=05/03/27/1745250">announced</a> 
 the release of Autopackage 1.0.  It aims to be a distribution independent
 method for packaging software.  So for everyone asking, "Why not just use
 an RPM / .deb / .tgz?"  Well, that's not really the point.  The topic
 caused Boaz Harrosh to bring up the question,
<quote who="Boaz Harrosh">
 now that Autopackage 1.0 is out does any one plan on a Wine Autopackage 
 installer?</quote></p>

<p>Mike answered,
<quote who="Mike Hearn">
 In case anybody is waiting, I'm not planning on this anytime soon. I have
 enough to do just supporting other projects that need it much more
 (because they don't have [m]any distro specific packages etc). If somebody
 wants to do it though, go for it. I'm happy to answer questions.
</quote></p>

</section>

<section 
	title="Scripting Around Winedbg" 
	subject="Wine Debugger"
	archive="http://www.winehq.org/hypermail/wine-devel/2005/03/1170.html" 
	posts="4"
	startdate="03/31/2005"
>
<topic>Fixes</topic>
<p>I could see someone else running into this same problem trying
to get something else to work.  Cal Pierog asked:</p>
<quote who="Cal Pierog"><p>
I am trying to write a script which, at one point, needs to run the wine 
test suite, accomplished with:
<ul><code>
make -k test</code></ul></p><p>

Even though this skips over bad tests, it does not prevent the debugger 
from kicking in every once in a while and asking for user input. I would 
like this script to be robust enough to run the test suite without user 
input, even when one of the tests fails badly enough to call the debugger.
</p><p>
So, is there any way to disable the debugger so that the script can just 
continue on errors and not sit at a "Wine-dbg>" prompt?
</p></quote>

<p>Eric Pouech replied first,
<quote who="Eric Pouech">
use regedit at the beginning of your script to set the AeDebug 
key to a "" string (and you should have saved the key value before), 
and restore it at the end of your script</quote></p>

<p>Francois Gouget and Paul Millar both suggested a slightly 
different method.  Francois wrote:</p>
<quote who="Francois Gouget"><p>
Alternately you could add the '--auto' option and winedbg should then 
run in non-interactive mode. This will also cause it to dump a stack 
trace which is nice for later debugging if you save the output 
somewhere.
<ul><code>
[Software\\Microsoft\\Windows NT\\CurrentVersion\\AeDebug]<br />
"Auto"="1"<br />
"Debugger"="winedbg.exe --auto %ld %ld"</code></ul></p></quote>

</section>

<section 
	title="InstallShield Breakage" 
	subject="Nearly all InstallShield installers fail"
	archive="http://www.winehq.org/hypermail/wine-devel/2005/04/0000.html" 
	posts="9"
	startdate="04/01/2005"
>
<topic>RPC / COM / OLE</topic>
<p>In the beginning, InstallShield didn't work.  Then we
got it to work.  Then they broke it.  Then we got it to work.
Then we broke it.  That's the short version of the story.

Uwe Bonnes ran into an issue this week with one such 
installer and Rob Shearman gave the low down on the
details:</p>
<quote who="Robert Shearman"><p>

 There are a number of issues with InstallShield currently. I 
 had hoped that getting one working would get all working, but this 
 doesn't seem to be the case from the current discussion on wine-devel. I 
 am aware of 3 issues with ole32, 2 deadlocks and one error. The 
 remaining issues appear to be with the typelib marshaler, which 
 unfortunately lacks regression tests.
</p></quote>


</section>
</kc>
