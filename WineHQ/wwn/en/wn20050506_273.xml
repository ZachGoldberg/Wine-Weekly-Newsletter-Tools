<?xml version="1.0" ?>
<kc>

<title>Wine Traffic</title>

<author contact="http://www.theshell.com/~vinn">Brian Vincent</author>
<issue num="273" date="05/06/2005" />
<intro> <p>This is the 273rd issue of the Wine Weekly News publication.
Its main goal is to sleep. It also serves to inform you of what's going on around Wine. Wine is an open source implementation of the Windows API on top of X and Unix.  Think of it as a Windows compatibility layer.  Wine does not require Microsoft Windows, as it is a completely alternative implementation consisting of 100% Microsoft-free code, but it can optionally use native system DLLs if they are available.   You can find more info at <a href="http://www.winehq.org">www.winehq.org</a></p> </intro>
<stats posts="419" size="1935" contrib="110" multiples="65" lastweek="37">

<person posts="24" size="116" who="Shachar Shemesh" />
<person posts="18" size="82" who="William Poetra Yoga H" />
<person posts="17" size="99" who="Tom Wickline" />
<person posts="17" size="45" who="Alexandre Julliard" />
<person posts="15" size="50" who="Dustin Navea" />
<person posts="13" size="54" who="Mike Hearn" />
<person posts="13" size="52" who="James Hawkins" />
<person posts="13" size="38" who="Juan Lang" />
<person posts="13" size="38" who="Dimitrie O. Paun" />
<person posts="11" size="183" who="Maarten Lankhorst" />
<person posts="10" size="46" who="Michael Jung" />
<person posts="9" size="28" who="Francois Gouget" />
<person posts="9" size="23" who="Andreas Mohr" />
<person posts="8" size="39" who="Alex Woods" />
<person posts="9" size="35" who="Robert Shearman" />
<person posts="8" size="21" who="Ivan Leo Puoti" />
<person posts="7" size="66" who="Ivan Gyurdiev" />
<person posts="7" size="58" who="Stefan D&#246;singer" />
<person posts="7" size="22" who="Kees Cook" />
<person posts="6" size="25" who="Jules Richardson" />
<person posts="6" size="19" who="Jakob Eriksson" />
<person posts="6" size="19" who="Lionel Ulmer" />
<person posts="6" size="18" who="Boaz Harrosh" />
<person posts="5" size="78" who="Vincent B&#233;ron" />
<person posts="5" size="14" who="Troy Rollo" />
<person posts="4" size="63" who="MediaHost (TM)" />
<person posts="4" size="41" who="Robert Reif" />
<person posts="4" size="21" who="(fenix)" />
<person posts="4" size="16" who="Steven Edwards" />
<person posts="4" size="15" who="Vitaliy Margolen" />
<person posts="4" size="14" who="(wino)" />
<person posts="4" size="14" who="Robert Lunnon" />
<person posts="4" size="13" who="Paul van Schayck" />
<person posts="4" size="13" who="Rein Klazes" />
<person posts="4" size="13" who="Brian Vincent" />
<person posts="4" size="12" who="David Hemmo" />
<person posts="6" size="17" who="Marcus Meissner" />
<person posts="3" size="44" who="Stefan D&#246;singer" />
<person posts="3" size="15" who="Timothy Mann" />
<person posts="3" size="13" who="Stephen Torri" />
<person posts="3" size="11" who="Eric Frias" />
<person posts="5" size="16" who="David =?iso-8859-15?q?G=FCmbel?=" />
<person posts="3" size="9" who="Jesse Allen" />
<person posts="3" size="9" who="Hiji" />
<person posts="3" size="9" who="Mike McCormack" />
<person posts="3" size="8" who="Oliver Stieber" />
<person posts="2" size="12" who=" &lt;linax@topol.dp.ua&gt;" />
<person posts="2" size="10" who="Christian Costa" />
<person posts="2" size="8" who="Andrew Bartlett" />
<person posts="2" size="8" who="Chris Morgan" />
<person posts="2" size="8" who="Carl Sopchak" />
<person posts="2" size="7" who="Rolf Kalbermatter" />
<person posts="2" size="7" who="Chris Morgan" />
<person posts="2" size="7" who="Green, Shaun E." />
<person posts="2" size="6" who="Michael Stefaniuc" />
<person posts="2" size="6" who="Andrew Neil Ramage" />
<person posts="2" size="6" who="(peter)" />
<person posts="2" size="6" who="Eric Pouech" />
<person posts="2" size="6" who="Jeff Latimer" />
<person posts="2" size="5" who="Michael Ost" />
<person posts="2" size="5" who="Paul Vriens" />
<person posts="2" size="5" who="Richard Cohen" />
<person posts="2" size="4" who="Detlef Riekenberg" />
<person posts="1" size="5" who="Augustus Saunders" />
<person posts="1" size="4" who="(felix.nawothnig)" />
<person posts="1" size="4" who="Damjan Jovanovic" />
<person posts="1" size="4" who="Florian Goth" />
<person posts="1" size="4" who="Augustus Saunders" />
<person posts="1" size="4" who="Huw D M Davies" />
<person posts="1" size="3" who="Matthew Mastracci" />
<person posts="1" size="3" who="Peter Kovacs" />
<person posts="1" size="3" who="Michael Stefaniuc" />
<person posts="1" size="3" who="Peter" />
<person posts="1" size="3" who="Tobias Burnus" />
<person posts="1" size="3" who="Ferenc Wagner" />
<person posts="1" size="3" who="Paul Millar" />
<person posts="1" size="3" who="NSK" />
<person posts="1" size="3" who="Dmitry Timoshkov" />
<person posts="1" size="3" who="Uwe Bonnes" />
<person posts="1" size="3" who="Duane Clark" />
<person posts="1" size="3" who="Timm Reasbeck" />
<person posts="1" size="3" who="Jeremy White" />
<person posts="1" size="2" who="Michael Lin" />
<person posts="1" size="2" who="Dan Kegel" />
<person posts="1" size="2" who="Paul Millar" />
<person posts="1" size="2" who="Ira Krakow" />
<person posts="1" size="2" who="Fabian Cenedese" />
<person posts="1" size="2" who="Jeremy Newman" />
<person posts="1" size="2" who="Raphael" />
<person posts="1" size="2" who="luis lenders" />
<person posts="1" size="2" who="Marcos Vicente Cruz" />
<person posts="1" size="2" who="Kenneth Porter" />
<person posts="1" size="2" who="Sebastien Fievet" />
<person posts="1" size="2" who="Saulius Krasuckas" />
<person posts="1" size="2" who="Maxime Bellenge" />
<person posts="1" size="2" who="=?iso-8859-1?q?Z=E9?=" />
<person posts="1" size="2" who="Ge van Geldorp" />
<person posts="1" size="2" who="Krzysztof Foltman" />
<person posts="1" size="2" who="=?ISO-8859-1?Q?Jani_K=E4rkk=E4inen?=" />
<person posts="1" size="2" who="Ryan May" />
<person posts="1" size="2" who="Stefan Leichter" />
<person posts="1" size="2" who="Hans Leidekker" />
<person posts="1" size="2" who="gslink" />
<person posts="1" size="2" who="Jason Edmeades" />
<person posts="1" size="2" who="David =?iso-8859-1?Q?G=FCmbel?=" />
<person posts="1" size="1" who="Vitaly Lipatov" />

</stats>
<section 
	title="News: WineConf Wrapup, Press" 
	subject="News"
	archive="wwn/272" 
	posts="3"
	startdate="04/23/2005"
	enddate="05/06/2005"
>
<topic>News</topic>
<p>There's a bunch of topics this week that would normally all fall under
the new headline.  Since many were discussed on wine-devel, we'll break
them out as separate threads.  You can think of this issue as a big
WineConf wrapup.  
</p>

<p>There are a few WineConf related items worth mentioning here.
If you haven't had a chance to check out this year's 
<a href="wwn/272">WineConf Summary</a> (aka WWN #272), you should
do that.  It covers all the presentations and a lot of the ideas 
discussed.  Both 
<a href="http://linux.slashdot.org/article.pl?sid=05/05/04/1447258">Slashdot</a>
and <a href="http://linuxtoday.com/developer/2005050500626OSDVEV">LinuxToday</a>
picked up that story and ran with it.  (Thanks to both of them.) 
We didn't have any threads appear on wine-devel about pictures from
WineConf.  I'm only aware of our large, annotated
<a href="http://www.winehq.com/images/wineconf05_grp.jpg">group photo</a>
and 
<a href="http://kuschelt.net/gallery/2005wineconf?page=1">Marcus Meissner's
photos</a>.  I need to put mine up, so maybe next week I'll have more to
include here.  Slashdot readers were quick to point out the lack of
females, therefore any help coordinating next year's WineConf in conjunction
with a cheerleader camp would be much appreciated.
</p>

<p>In the category of real news, we've got a few items.  DesktopLinux.com
put together their 
<a href="http://www.desktoplinux.com/articles/AT2127420238.html">2004
Desktop Linux Market survey</a> and included a question asking about
people running Windows apps under Linux.  They found:</p>
<quote who="DesktopLinux.com"><p>
Last year's poll results revealed that about 60 percent of the 3,946
 readers polled had both currently used Windows applications under 
Linux and expected to do so in the future.</p><p>
The numbers haven't changed at all in the year since, nor have the
solutions. Both this year and last year, Wine surfaced as the top 
choice of 34 percent of respondants. About 16 percent expressed a 
preference for CrossOver, and VMware exhibited a stable base of 14 
percent both years.</p></quote>

<p>I think there's a few significant things in there.  First, the results
remained the same which means the user community has stayed with us 
through some recent growing pains - filesystem changes, removal of the
config file, and no graphical config tool to replace it.  So thanks for
continuing to support the project.  Also notable is that 60% (the
graphs make this number look much closer to 70%) of the user community
wants some sort of emulation solution.  </p>

<p>I've really been enjoying Brian Proffitt's weekly editorials on
LinuxToday.  Last week he wrote one titled,
<a href="http://linuxtoday.com/it_management/2005042901726OPDP">
<i>Speaking of Migration</i></a>.  Wine is mentioned in passing as
an option.  Overall it's a nice concise article.  
</p>

<p>Finally, I have some catchup to do, so I could have easily
overlooked some threads.  If you happened to see one on wine-devel
you'd like covered here, let me know.</p>

</section>

<section 
	title="WineConf Videos" 
	subject="WineConf 2005"
	archive="http://www.winehq.com/hypermail/wine-devel/2005/05/0087.html" 
	posts="13"
	startdate="05/03/2005"
	enddate="05/05/2005"
>
<topic></topic>
<p>We recorded this year's WineConf and Ivan Leo Puoti put the
videos up on Ge van Geldorp's server.  The files are pretty 
lengthy, so you'll probably want to be selective in what you
grab.  Most of them are over an hour in length.  The WineConf
summary will give you a good idea what's in each video.  We haven't
put Alexandre's keynote online yet.  I'll try to remember to announce
it when we do.  Anyway, Ivan wrote:</p>
<quote who="Ivan Leo Puoti"><p>
Videos will appear here
<ul><a href="http://wineconf.geldorp.nl/">
http://wineconf.geldorp.nl/</a></ul></p><p>

enjoy.
</p></quote>

<p>Hans Leidekker announced a mirror can be found at:
<a href="http://mirzam.it.vu.nl/wineconf/">
  http://mirzam.it.vu.nl/wineconf/</a>.  </p>

<p>Andi Mohr announced a page on our new wiki to collect everything:</p>
<quote who="Andreas Mohr"><p>

I set up a page with various video and presentation sites at
<ul>
<a href="http://wiki.winehq.org/WineConf">
http://wiki.winehq.org/WineConf</a></ul></p><p>

Feel free to add further stuff there!</p></quote>

<p>If you're trying to figure out what the videos correspond to,
this might help:</p>
<table>
<tr><td>2005_04_30_10_12_39.avi</td><td> Dimi Paun- Status Update</td></tr>
<tr><td>2005_04_30_11_13_44.avi</td><td> Shachar Shemesh - PGP party announcement</td></tr>
<tr><td>2005_04_30_11_22_59.avi</td><td> Charles Stevenson - Wine &amp;
	Commercial Development</td></tr>
<tr><td>2005_04_30_13_31_16.avi</td><td> Juan Lang - Wine &amp; samba</td></tr>
<tr><td>2005_04_30_14_00_31.avi</td><td> Andrew Tridgell - Cooperating with Samba</td></tr>
<tr><td>2005_04_30_16_31_39.avi</td><td> Andrew Bartlett - Windows Authentication</td></tr>
<tr><td>2005_05_01_08_52_15.avi</td><td> Steven Edwards &amp; KJK Hyperion - ReactOS</td></tr>
<tr><td>2005_05_01_09_52_29.avi</td><td> Jason Edmeades - DirectX 8/9 &amp; wined3d</td></tr>
<tr><td>2005_05_01_11_12_30.avi</td><td> Mike McCormack &amp; Aric Stewart - MSI</td></tr>
<tr><td>2005_05_01_13_57_26.avi</td><td> Marcus Meissner - Reverse Engineering</td></tr>
<tr><td>2005_05_01_15_07_37.avi</td><td> Paul Millar &amp; Jeremy White - Testing &amp; CXTest</td></tr>
<tr><td>2005_05_01_16_48_07.avi</td><td> Dimi Paun - Future Ideas</td></tr>
</table>

</section>
<section 
	title="Wine Wiki" 
	subject="Wine Wiki Status"
	archive="http://www.winehq.com/hypermail/wine-devel/2005/05/0205.html" 
	posts="1"
	startdate="05/05/2005"
>
<topic>WineHQ</topic>
<p>Wine has it's own wiki now!  The
<a href="http://wiki.winehq.org">Wine Wiki</a> was put together by
Dimi Paun and announced at WineConf.  We've discussed for a while
it would be nice to have one, but for various reasons we haven't
wanted to maintain it on WineHQ.  (By "we" I mean Newman.)  However,
Newman was more than happy to let Dimi host it and set up the DNS
for it.  So it's set up, it's running, and you can add stuff.  
</p><p>
Dimi sent an update this week on how it's going:</p>
<quote who="Dimitrie Paun"><p>
A few things:
<ol>
<li> We've been attacked Wed by one or two idiots from
   Slashdot. They kept replacing the content of the 
   front page with some silly Balmer images :)
   Not a big deal, since MoinMoin makes it a snap to
   revert to an older version.
   However, this episode forced me to at least require
   that you sign up before you can edit a page. This
   is probably a good idea anyway, I hope people agree.</li>

<li> I've placed the modifications to the code on the
   Wine CVS repository at SourceForge in the 'wiki'
   module. Please feel free to check it out and send
   in patches (sending them to wine-patches_at_winehq.org
   with a subject prefix of 'Wiki:' is fine, or
   directly to me if you prefer).</li>

<li> Mike is right, the namespacing stuff if not a good
   idea. I'll try to get rid of it, I'm going to try
   to rename the page, but first I have to enable the
   feature. If not, I'll just simply recreate them.</li>
</ol>
As always, you comments, suggestions and complaints
are most welcome. 
</p></quote>

<p>Mike Hearn told everyone he wrote up a page about the
<a href="http://wiki.winehq.org/InstallShield">inner 
workings of InstallShield</a> and put it on the wiki.</p>

</section>
<section
        title="DirectX 9 Updated, Not Merged"
        subject="DirectX 9 patches"
        archive="http://www.winehq.org/hypermail/wine-devel/2005/04/0640.html"
        posts="9"
        startdate="04/29/2005"
	enddate="04/30/2005"
>
<topic>DirectX</topic>

<p>Oliver Stieber has updated his large DirectX 9 patch:</p>
<quote who="Oliver Stieber"><p>

I've put an updated patch and some new screenshot on
sourceforge for the time being
<a href="http://directxwine.sourceforge.net/">
http://directxwine.sourceforge.net/</a>, I'm now at the
point where I'm happy to stop fixing bugs in DirectX 9
and start sending in more patches..
</p><p>
Thanks for everyone's help and support.
</p></quote>

<p>Thus far no patches have appeared on wine-patches.
Timothy Mann tried out the massive one and offered a
tip for anyone else trying it:</p>
<quote who="Timothy Mann"><p>
 I was recently messing around with Oliver's new patch and it took me a
while to figure out how to apply it. So, in case anyone else is like me
and doesn't want to ask, the command that I used to patch wine-20050419
from within the wine directory was:
<ul><code>
patch -p2 &lt; (path_to_patch)/d3d9patch.2005-04-28-2.diff</code></ul>
</p><p>

I hope that this will help someone. I know that most people on here
already know how to use the patch utility, but I did not.
</p></quote>
</section>
<section
        title="Short Circuiting Dialogs"
        subject="short-circuting a dialog box?"
        archive="http://www.winehq.org/hypermail/wine-devel/2005/05/0050.html"
        posts="8"
        startdate="05/03/2005"
>
<topic>Controls</topic>

<p>An interesting question came up from Kees Cook:</p>
<quote who="Kees Cook"><p>
I'm trying to figure out if there is a way to short-circuit a dialog 
box.  Basically, I want to trap calls to DialogBoxParam, pump calls 
into lpDialogFunc for dialog init, and then clicking of the "Ok" button, 
and finally trap calls to EndDialog.
</p><p>
It seems that this is ... hard.  :)  There is a lot of resource loading, 
window initialization code, etc that goes on inside DialogBoxParam, and 
I'd need to handle all of that, I think.  There even appears to be 
issues with 16 vs 32 bit handler addresses, etc.  Looks really ugly.
</p><p>
Is there a simpler way to programmatically click "Ok" on a dialog box?
(The dialog box coming from code that I don't have source for...)
</p></quote>

<p>Shachar Shemesh suggested:</p>
<quote who="Shachar Shemesh"><p>
For simple things, merely sending the dialog a WM_COMMAND with the right 
parameters will do it for you. You can programmatically find the dialog
using "FindWindow".
</p><p>
I've done such things before. For simple things, this works very well. 
As soon as things stop being simple, this gets very hairy very fast. 
Just hope that your case is a simple one.
</p></quote>

<p>It worked, but Kees then ran into another problem:</p>
<quote who="Kees Cook"><p>

Ah-ha, yes.  I ended up using EnumWindows (filtering out the HWND from 
GetTopWindow).  Thanks!  WM_COMMAND, IDOK, 0 did the trick.
</p><p>
Now, a final note, is there any way to stop a dialog from 
displaying itself?  (i.e., let dialogs become active, but not draw 
themselves?)  The ttydrv doesn't like trying to open the dialog:
</p><p>
<code>fixme:ttydrv:TTYDRV_GetBitmapBits (0x7d, 0x76d3501c, 128): stub
</code></p></quote>

<p>He didn't get an answer to the second question.</p>

</section>
<section 
	title="Crypt(Un)ProtectData" 
	subject="Re: crypt32: CryptProtectData/CryptUnprotectData"
	archive="http://www.winehq.org/hypermail/wine-devel/2005/05/0049.html" 
	posts="8"
	startdate="05/03/2005"
	enddate="05/04/2005"
>
<topic>Auth / Crypto</topic>
<p>Kees Cook has been working on implementing two API's: CryptProtectData 
and CryptUnprotectData.  These functions take some arbitrary data and
encrypt/decrypt it.  There were some threads last month I didn't 
cover as Kees was working on it (patch revision 
<a href="http://www.winehq.com/hypermail/wine-devel/2005/04/0047.html">#1</a>,
<a href="http://www.winehq.com/hypermail/wine-devel/2005/04/0083.html">#2</a>,
and
<a href="http://www.winehq.com/hypermail/wine-devel/2005/04/0114.html">#3</a>.)
There were some issues because Kees used the registry to store some
data.  Kees also didn't actually implement the encryption - he just set up
the framework to enable it for later.  Alexandre commented on the patch
and said:</p>
<quote who="Alexandre Julliard"><p>
 You should do this as close to Windows as possible, so that it's
 easier to adapt it to work correctly later on. If you do everything
 right except you replace the encryption step by a dummy XOR, then it's
 obvious how to fix it. With the registry approach, if someone wants to
 fix it they first have to rip out all the code and restart from
 scratch; that makes it much less likely that it ever will get fixed.
</p></quote>

<p>Kees had some questions based on that:</p>
<quote who="Kees Cook"><p>
I'd really like to get my Crypt*Protect data patches in, so I want to 
make sure that I do this rewrite in a way that'll be accepted.  If I 
understand correctly, you want me to:
<ul>
<li> parse the Windows data format as best I can</li>
<li> produce output that looks like the Windows data format</li>
<li> do some kind of encryption on the data so that nothing needs to be
  stored to the computer between calls of CryptProtectData and
  CryptUnprotectData.  (The existing patches intentionally avoid 
  any encryption.)</li></ul>
From looking at Wine's configure.ac, it seems safe to depend on openssl 
being available.  Is that correct?</p></quote>

<p>Juan Lang replied:</p>
<quote who="Juan Lang"><p>
Someone previously posted pretty good information about the format of
CryptProtectData on MSDN.  I think it should be possible to implement a
close facsimile, except that the user's credentials (password) would be
missing in Wine since there isn't any at the moment.  If you have time to
do this, it would be ideal.  Failing that, doing any stateless
transformation (e.g. no change at all, or xor-ing with some magic value)
would be preferrable to storing this data in the registry, if I understood
Alexandre's comments correctly.
</p><p>
We're trying to avoid proliferation of OpenSSL in Wine.  Relying on
CryptoAPI is a safer bet.</p></quote>

<p>Kees found the link:</p>
<quote who="Kees Cook"><p>

Okay.  The article (while very good: 
<a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dnsecure/html/windataprotection-dpapi.asp">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dnsecure/html/windataprotection-dpapi.asp</a>)
doesn't fully address the "opaque data blob".  I have taken it apart and 
found some common lengths, etc, so I think I can produce a reasonable 
guess at it, so that the future implementations will have very little to 
change.  The clues in the section "Protected data blob" is what I'm 
using for the guesses at the data blob format sections.
</p><p>
I should have a new patch ready soon.  Luckily all the tests and 
documentation will remain valid.  :)
</p><p>
Is there somewhere I can find details on what's been completed in the 
CryptoAPI?  The 
 <a href="http://winehq.com/winapi_stats">http://winehq.com/winapi_stats</a>
 page say it's at "21%".
</p></quote>

<p>James Hawkins suggested browsing the code to see how much of
CryptoAPI has been completed.  A quick glance at the spec file may
be enough to see which functions remain as stubs.  Michael Jung had
some ideas about this:</p>
<quote who="Michael Jung"><p>
You don't have to store this data. Actually it would be quite a bad idea to do 
so, for security reasons. What windows does conceptionally, is to compute a 
new key based on the following parameters: A hash of the user's login 
password, the description and the entropy. The client provided DATA_BLOB is 
then encrypted given this key and passed back to the user. It is not stored 
anywhere. In fact AFAIK, the Crypt(Un)ProtectData functions do not store 
anything whatsoever. The caller is responsible for storing the encrypted 
DATA_BLOB somewhere. He also has to be able to restore in some way the 
entropy and the description, if he wants to decrypt the DATA_BLOB at some 
later time.
</p><p>
In my opinion, the Crypt(Un)ProtectData APIs should basically be implemented 
as no-ops at the moment (IMHO XOR-ing with some magic value is senseless in 
an open source project. I think it's not a good idea, since it gives the 
impression of security, where there is none). As far as I understand, passing 
back the input DATA_BLOB just as it was given by the caller should work just 
fine. A FIXME on the command line telling the user that his data is not 
actually protected would be appropriate. 
</p><p>
<i>parse the Windows data format as best I can</i><br />
DATA_BLOB's are opaque by nature. Applications should not expect anything of 
the format. So there is no benefit in trying to mimic the Windows data 
format. (Sometimes MSDN states that a format should be considered opaque, 
while certain components of Windows don't treat it this way. In these cases 
it's necessary to mimic the native binary format. As far as I know, that's 
not the case here.)

We don't have access to a hash of the user's login 
password, so we can't provide real security here. Therefore I think we should 
not try to pretend it. IMO you shouldn't do any encryption. Just pass back 
the DATA_BLOB.
</p><p>
That said, if the caller actually provides the pszDataDescription and 
pOptionalEntropy parameters, you could derive a key from those. The CryptoAPI 
is accessible by the Crypt* family of APIs in advapi32.dll. All that is 
necessary for this to implement should be available in wine already.
</p></quote>

<p>Alexandre explained the reasoning behind putting in a dummy XOR:</p>
<quote who="Alexandre Julliard"><p>

The idea of using a XOR is not to provide any security, it's just to
make sure the code goes through the proper motions so that plugging in
real encryption later on is easier. If you simply pass the data
through you are not really exercising the functionality.  Of course it
would be even better to do true encryption with a hardcoded key; it
still doesn't provide any security, but it's much closer to the
desired end result, which makes it more likely that someone will be
able to plug in the missing step.</p></quote>

<p>Michael took another look and explained the steps Kees should go
through:</p>
<quote who="Michael Jung"><p>
<a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/seccrypto/security/example_c_program_deriving_a_session_key_from_a_password.asp">
http://msdn.microsoft.com/library/default.asp ?url=/library/en-us/seccrypto/security/example_c_program_deriving_a_session_key_from_a_password.asp</a>
</p><p>
gives a pretty good introduction on how to derive a key from a password using 
CryptoAPI. You should hash the following: 1.) A placeholder for the user's 
login password, 2.) the pszDescription parameter (if present) and 3.) the 
pEntropy (if present).
</p><p>
If you apply the user's login name as the placeholder for 1.) you are even 
closer to Windows in the sense that one user can't decrypt another users 
DATA_BLOB's. (Well, he can of course. But only with some hacking involved.)
</p></quote>

</section>
<section 
	title="New Program: getsffile" 
	subject=""
	archive="http://www.winehq.com/hypermail/wine-devel/2005/05/0034.html" 
	posts="5"
	startdate="05/01/2005"
	enddate="05/06/2005"
>
<topic>Utilities</topic>
<p>
Vincent B&#233;ron announced a new program available for anyone
to use:</p>
<quote who="Vincent Beron"><p>
New program in programs/getsffile (Get Sourceforge File). It downloads a
file from Sourceforge download section, finding a suitable mirror by
itself.
</p><p>
This should solve part of the mirroring problem we have for the Mozilla
ActiveX control, to make it easy to install on demand, and can most
probably be used by other similar things as well.
</p><p>
You can also specify a preferred mirror in the registry
(Software\\Wine\\getsffile, key SFPreferredMirror. If the file is not
available from that mirror (mirror down, not yet synced, etc.), it'll
try another one (up to 3 times). The list of mirrors is retrieved from sf.net,
it's not maintained in getsffile.
</p><p>
Basically, to use it to get the Mozilla ActiveX control, what needs to
be done is to actually put the control on sf (along with a zip
containing 2 needed dlls, one of them is msvcp60.dll), and change the
download logic in shdocvw to call getsffile for both files rather than
do the download itself. The installation part is almost the same (it'd
be nice if the zip would be installed at the same time, even nicer if it
wouldn't be needed but that's Mozilla's part).
</p><p>
Note that it's still not 100% proof, some mirrors give a 404 back and
it's not properly detected. Is it possible to detect such things while
using URLDownloadToFile?
</p><p>
The whole dialog is ripped from shdocvw (Mike McCormack's work), the
rest is my own development.

</p></quote>
</section>
<section 
	title="Benchmarks Galore" 
	subject="Benchmarking Wine againt XP Part 1"
	archive="http://www.winehq.com/hypermail/wine-devel/2005/04/0645.html" 
	posts="3"
	startdate="04/29/2005"
>
<topic>Testing</topic>
<p>Tom Wickline ran some benchmarks against Wine and Windows XP.  He
presented his results in two different emails.  The 
<a href="http://www.winehq.com/hypermail/wine-devel/2005/04/0645.html">first
set</a> of benchmarks cover 3DMark2000, 3DMark2001, Dronezmark, and PC Mark 04.
The 
<a href="http://www.winehq.com/hypermail/wine-devel/2005/04/0646.html">second
set</a> benchmarked Quake3, UT2004, GL Excess, Passmark PerformanceTest.
Here's just a sample of the results from PC Mark 04:</p>
<p><table>
<tr><th>Test</th><th>XP</th><th>Wine</th></tr>
<tr><td>File Compression </td><td> 5.358 MB/s</td><td>5.765 MB/s</td></tr>
<tr><td>File Encryption </td><td> 69.920 MB/s</td><td>70.658 MB/s</td></tr>
<tr><td>File Decompression </td><td> 45.547 MB/s</td><td>45.863 MB/s</td></tr>
<tr><td>Image Processing </td><td> 18.544 MPixels/s</td><td>19.273 MPixels/s</td></tr>
<tr><td>Virus Scanning </td><td> 3205.915 MB/s</td><td>4049.208 MB/s</td></tr>
<tr><td>Grammar Check </td><td> 2.783 KB/s</td><td>3.071 KB/s</td></tr>
<tr><td>File Decryption </td><td> 107.727 MB/s</td><td>108.715 MB/s</td></tr>
<tr><td>Audio Conversion </td><td> 2940.131 KB/s</td><td>2943.677 KB/s</td></tr>
<tr><td>Web Page Rendering </td><td> 7.096 pages/s</td><td>na</td></tr>
<tr><td>WMV Video Compression </td><td> 62.986 fps</td><td>na</td></tr>
<tr><td>Divx Video Compression </td><td> 79.133 fps</td><td>na</td></tr>
<tr><td>Physics Calculation and 3D </td><td> 182.937 fps</td><td>na</td></tr>
<tr><td>Graphics Memory - 64 Lines </td><td> 1249.365 fps</td><td>250.577</td></tr></table></p>

<p>Notice anything strange?  I picked those results out only because I
thought it was interesting Wine performed better than Windows.  As
Tom cautioned:</p>
<quote who="Tom Wickline"><p>
Before you put any merit into any of my results I would highly
recommend that you run the benchmark software yourself. I am only
sharing <i>MY</i> results, your results may vary depending on your Linux
distro, Linux config, Wine config as well as your system's hardware.
</p></quote>


</section>
<section 
	title="WineConf Thoughts" 
	subject="Wineconf thoughts for next year"
	archive="http://www.winehq.com/"
	posts="4"
	startdate="05/01/2005"
	enddate="05/04/2005"
>
<topic>WineConf 2005</topic>
<p>Jeremy White posted some thoughts concerning WineConf.  I agree
that it's useful to write these down to refer to later.  I know I 
looked back on last year's notes as plans were being made for this
year.  Jeremy wrote:</p>
<quote who="Jeremy White"><p>

I persist in thinking that it's useful to write down thoughts
on Wineconf to remember for next year, so that we can perhaps
have a better event the next year.
</p><p>
Sadly, I do not think there is much chance that we will
have a better event next year; I cannot imagine finding more
gracious hosts, a nicer venue, or better weather than we
had this weekend.
</p><p>
I did not talk to anyone that didn't think that this was
a fantastic event, and I think we are all in shock at how
helpful the Fachschaft Elektrotechnik were, and how generous
WRS was.
</p><p>
However, I want to correct an oversight.
I was glad we were able to publicly thank our hosts,
but there are a few people from our own community that
deserve a round of virtual applause as well.
</p><p>
Without Brian, I don't think we would
have had Wineconf; he spurred us to thinking of it,
pulled us together, and juggled the thorny issue of
the agenda quite well.
</p><p>
Further, several folks from Germany really helped out
as well.  David Gumbel, Andreas Mohr, Michael Stefaniuc,
(and others I've forgotten) were extremely helpful to
us all.  You all certainly helped this American feel
very welcome and at home.
</p><p>
So thank you all.
</p><p>

I did want to file a few practical thoughts away:
</p><p>

First, I thought we did audio and video just right this year;
we made an honest attempt at it, but
it didn't interfere with the conference at all.
</p><p>

However, I think we need to recognize that we Wine hackers
are badly addicted to Internet access, and I think we need
to set aside a formal time on day 1 to make sure that all
access is good.  We did have mounting frustrations over
the connectivity, only getting it all ironed out midway
through day two.  I found myself being increasingly
distracted by the problems until we finally ironed it out.
</p><p>
(There were counter proposals on the train to eliminate
internet access so that folks would focus on the talks; I'm not sure
how I feel about that, but it's an interesting point).
</p><p>
We also seem to crave massive amounts of power; we should probably
sponsor a box of power strips for our host next year.
</p><p>
Brian was feeling that we might have done better with a
slightly lighter schedule, but others didn't seem
to feel that so strongly, so I'm ambivalent.  But the
healthy and flexible breaks were once again invaluable.
</p><p>
At any rate, it was great to see you all.  I look forward
to planning Wine 1.0 at Huw's house next year *grin*.
</p><p>
Thanks again to everyone that helped bring off a brilliant
Wineconf!
</p></quote>

<p>The topic of Internet access was discussed.  Everyone
agreed it's necessary in some form, but whether we should
have it while discussions are taking place is debatable.  
</p>
</section></kc>
