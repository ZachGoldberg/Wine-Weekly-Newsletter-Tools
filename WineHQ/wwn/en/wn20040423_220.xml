<?xml version="1.0" ?>
<kc>

<title>Wine Traffic</title>

<author contact="http://www.theshell.com/~vinn">Brian Vincent</author>
<issue num="220" date="04/23/2004" />
<intro> <p>This is the 220th issue of the Wine Weekly News publication.
Its main goal is to buy mosquito repellent. It also serves to inform you of what's going on around Wine. Wine is an open source implementation of the Windows API on top of X and Unix.  Think of it as a Windows compatibility layer.  Wine does not require Microsoft Windows, as it is a completely alternative implementation consisting of 100% Microsoft-free code, but it can optionally use native system DLLs if they are available.   You can find more info at <a href="http://www.winehq.org">www.winehq.org</a></p> </intro>
<stats posts="279" size="1033" contrib="80" multiples="44" lastweek="32">

<person posts="30" size="275" who="Dimitrie O. Paun" />
<person posts="26" size="57" who="Jakob Eriksson" />
<person posts="23" size="61" who="Ferenc Wagner" />
<person posts="22" size="52" who="Alexandre Julliard" />
<person posts="10" size="18" who="Ivan Leo Murray-Smith" />
<person posts="8" size="22" who="Dmitry Timoshkov" />
<person posts="8" size="21" who="Mike Hearn" />
<person posts="8" size="19" who="Kevin Koltzau" />
<person posts="7" size="23" who="Robert Shearman" />
<person posts="7" size="21" who="Shachar Shemesh" />
<person posts="6" size="27" who="Chris Morgan" />
<person posts="5" size="45" who="Raphael" />
<person posts="5" size="12" who="Francois Gouget" />
<person posts="4" size="13" who="Ryan Underwood" />
<person posts="4" size="10" who="Paul Millar" />
<person posts="3" size="24" who="Christian Costa" />
<person posts="3" size="23" who="Santosh Siddheshwar" />
<person posts="3" size="21" who="Peter Riocreux" />
<person posts="3" size="14" who="Paul Davis" />
<person posts="3" size="9" who="emmanuel maillard" />
<person posts="3" size="8" who="(pvriens)" />
<person posts="3" size="8" who="Steven Edwards" />
<person posts="3" size="8" who="hatky" />
<person posts="3" size="7" who="Ge van Geldorp" />
<person posts="3" size="6" who="Filip Navara" />
<person posts="3" size="6" who="Geoff Thorpe" />
<person posts="3" size="6" who="Eric Pouech" />
<person posts="3" size="6" who="Lionel Ulmer" />
<person posts="3" size="6" who="R.U. Deranged" />
<person posts="3" size="5" who="Krzysztof Foltman" />
<person posts="2" size="25" who="Felipe W Damasio (Elipse Software)" />
<person posts="2" size="6" who="Pierre d'Herbemont" />
<person posts="2" size="5" who="Duane Clark" />
<person posts="2" size="5" who="Henk Poley" />
<person posts="2" size="4" who="Joel Konkle-Parker" />
<person posts="2" size="4" who="Brian Vincent" />
<person posts="2" size="4" who="Ove Kaaven" />
<person posts="2" size="4" who="Jeremy Newman" />
<person posts="2" size="4" who="Hans Leidekker" />
<person posts="2" size="4" who="Lonnie Cumberland" />
<person posts="2" size="3" who="Mehmet YASAR" />
<person posts="2" size="3" who="Vincent B&#233;ron" />
<person posts="2" size="3" who="=?iso-8859-1?q?Robbert=20Xerox?=" />
<person posts="1" size="15" who="eternal" />
<person posts="1" size="6" who="Izak Burger" />
<person posts="1" size="5" who="Fabian Cenedese" />
<person posts="1" size="3" who="Cecil Champenois" />
<person posts="1" size="3" who="jeffl" />
<person posts="1" size="3" who="Rafael Avila de Espindola" />
<person posts="1" size="3" who="P. Christeas" />
<person posts="1" size="3" who="Chris Seddon" />
<person posts="1" size="3" who="Luke Stras" />
<person posts="1" size="2" who="Joshua Walker" />
<person posts="1" size="2" who="Geoffrey Hausheer" />
<person posts="1" size="2" who="Dan Kegel" />
<person posts="1" size="2" who="Tyler Nielsen" />
<person posts="1" size="2" who="Krishna Murthy" />
<person posts="1" size="2" who="Acke Carlsson" />
<person posts="1" size="2" who="David Costanzo" />
<person posts="1" size="2" who="Mike McCormack" />
<person posts="1" size="2" who="Robert van Herk" />
<person posts="1" size="2" who="Tony Lambregts" />
<person posts="1" size="2" who="Uwe Bonnes" />
<person posts="1" size="2" who="Ge van Geldorp" />
<person posts="1" size="2" who="Troy Rollo" />
<person posts="1" size="2" who="Brett I. Holcomb" />
<person posts="1" size="2" who="Chris Morgan" />
<person posts="1" size="2" who="Christoph Frick" />
<person posts="1" size="2" who="Tim Hentenaar" />
<person posts="1" size="2" who="Stefan Leichter" />
<person posts="1" size="2" who="Ben A L Jemmett" />
<person posts="1" size="2" who="(brettholcomb)" />
<person posts="1" size="2" who="Phil Krylov" />
<person posts="1" size="1" who="Lonnie Cumberland" />
<person posts="1" size="1" who="Abby Ricart" />
<person posts="1" size="1" who="Juan Lang" />
<person posts="1" size="1" who="Rein Klazes" />

</stats>
<section 
	title="Visual FoxPro" 
	subject="Visual FoxPro"
	archive="http://www.winehq.org/hypermail/wine-devel/2004/04/0352.html" 
	posts="4"
	startdate="04/16/2004"
	enddate="04/17/2004"
>
<topic></topic>
<p>It's been a while since Visual Foxpro on Wine has been in the
news, but this week Cecil Champenois wondered about the status
of using it:</p>
<quote who="Cecil Champenois"><p>
I have heard that there is a lot of interest in moving the WINE for 
Visual FoxPro forward. About a year ago, a major FoxPro developer by the 
name of Whil Hentzen was telling our <a href="http://www.ocfox.org">User
Group</a> about the 
Visual FoxPro work you are doing with WINE. He also demonstrated Visual 
FoxPro working on a Linux laptop. We were all very impressed by this and 
wanted to jump right into development but were told that the conversion 
or whatever you want to call it was at least 1 to 1.5 years away. This 
discouraged us a bit, so what we'd like to know is this: Where does the 
WINE work in relation to VFP 6, 76 and 8 stand now?
</p><p>
We would like to begin some development in Linux, but need to know where 
the WINE work stands at this time and what the future looks like.
</p></quote>

<p>Steven Edwards didn't think there was a technical issue involved,
<quote who="Steven Edwards">
I have heard a lot of good reports of FoxPro working with WINE but the
last major issue I heard was that Microsoft was restricting the
redistribution of the FoxPro runtime on Non-Microsoft platforms. It
seems they don't like people writing apps with their tools for
non-windows platforms &lt;g&gt;. I can't find a link to this information
though so I could be mistaken or they may have amended the EULA to
allow this type of redistrabtution like in the case of MFC and ATL.
</quote></p>

<p>Duane Clark had a tip about where to find more info:</p>
<quote who="Duane Clark"><p>
There is quite a bit of detailed info on the status of Wine with VFP in 
the Wine application database:
<ul> <a href="http://appdb.winehq.org/appview.php?appId=296">
    http://appdb.winehq.org/appview.php?appId=296</a></ul></p><p>
That is probably a pretty good starting point.</p></quote>

<p>Paul McNett has done a lot of work running FoxPro with Wine and
has a web page titled, 
<i><a href="http://www.openfox.org/wc.dll/sections/divulge/36">HOWTO:
Install Visual Foxpro on Linux/Wine</a></i>.  He also put together
a much longer 
<a href="http://www.paulmcnett.com/vfp/wine/vfp-wine-whitepaper.pdf">whitepaper</a>
on the subject.</p>

</section>
<section 
	title="Distributed Testing" 
	subject="Winetest results uploaded... where?"
	archive="http://www.winehq.org/hypermail/wine-devel/2004/04/0476.html" 
	posts="40"
	startdate="04/20/2004"
	enddate="04/22/2004"
>
<topic>Testing</topic>

<p>About a month ago we touched on a new distributed testing environment
being set up (see 
<a href="http://www.winehq.com/wwn/216#A%20Distributed%20Test%20Environment">issue #216</a>
for a brief overview.)  Things have been a bit stalled as some of the
build components have been broken and various patches needed to get
upstreamed.  Now things are beginning come together and some preliminary
results are available.  Dimi provided a link for people to see a preview:</p>
<quote who="Dimitrie Paun"><p>
Look into:
<ul><a href="http://test.winehq.org/data/">
    http://test.winehq.org/data/</a></ul></p><p>
Today's test results can be found here:
<ul><a href="http://test.winehq.org/data/200404192305/">
    http://test.winehq.org/data/200404192305/</a></ul></p>
</quote>

<p>Right now this is still in development mode.  Most of the
harder parts are complete.  Within the next few weeks we'll make
available a client that can be downloaded to Windows computers
and run as a service.  Then nightly tests will be automatically
distributed to them so Wine's regression testing suite can run
on them.  All of the results will be available on WineHQ. </p>
<p>
The purpose of doing this is to collect more stastics about how
Windows behaves compared to the way we think it behaves.
Most developers have only limited access to Windows systems, and 
certainly none of them have each and every single version of
Windows.  By writing small tests and integrating them into 
the test system we'll be able to find out how well they really
run on Windows. </p>

<p>A further advantage is that only knowledge of Win32 is
required to write tests.  With a little luck some Windows 
developers will be able to find time to help out.</p>

</section>
<section 
	title="Windows Local Security Authority" 
	subject="Security of WINE and ReactOS: was Documents and settings"
	archive="http://www.winehq.org/hypermail/wine-devel/2004/04/0374.html" 
	posts="6"
	startdate="04/17/2004"
	enddate="04/18/2004"
>
<topic>Architecture</topic>
<p>The topic of getting some of the Win32 security mechanisms working
with Wine has begun to come up more often over the past six months
or so.  Perhaps this is because they are increasingly used by programs.
Steven Edwards started off a thread by sharing his thoughts about it:
</p><quote who="Steven Edwards"><p>
 Note I only know a little about the Local Securty Authority but I think
 it's not going to be too hard to implement if Wine and ReactOS work
 together on it. /me just doubts how much he can write.
</p><p>
The unix security design of users and groups with permissions is not
bad it's just outdated. The nice thing about Unix is adding new security
modules via PAM is not to bad except they are only for authentication.
The unix concept of groups, users and permissions needs to be moved
forward about 20 years. The SELinux stuff has really helped a lot in
this regard. (Please don't flame it's the truth)
</p><p>
I recently addressed this in a discussion about ReactOS. Currently our
lsass does not exist. I think we have what we have parts of the
security reference monitor already implemented in ntoskrnl and most of
the parts are there for winlogon and the SAM database so we need to
develop the lsass services and build out the authentication modules
for MSV1_0 auth.
</p><p>
One of the nice things about the design of the Windows security module
is that we can make plugins at both ends so that users can be granted
access either based on a "domain" concept in winlogin/Gina using
plugins for LDAP and PAM or via the lsass so users can be authenticated
locally. 
</p><p>
It would be nice if we could work with the WineHQ people on this as I
think we can share the parts of the security subsystem that reside in
lsass. Think of it like this
</p><p>
<u>Kernel support</u>
</p><p>
wineserver/ntosknrl need to both implement the security reference
monitor for privileged use of the local system resources. I don't know
how much of this wineserver really needs to take in to account in the
initial incarnation. 
</p><p>
<u>Local security subsystem</u>
</p><p>
Lsass works interactively with services and the login system and can
accept all sorts of nice plugins so we are not limited to just the
standard Windows authentication. As a matter of fact you could replace
large parts of the authentication system if you are super paronoid.
Think of lsass as the sentry for Windows. It talks to the SRM to make
sure you are not doing anything you shouldn't be.
</p><p>
<u>User interaction</u>
</p><p>
Interaction with the user will come from Winlogon on ReactOS or on Unix
the user should already be authenticated via Linux security. This can
of course be done via the authentication modules described above. Once
the user
</p><p>
I wish I could attach the nice chart from Inside Windows NT so you
could see the security subsystem. It's quite a piece of work and is
quite a shame Windows security gets a bad name due to slack
administrators.
</p></quote>

<p>Several people wrote in to mention their apprehension of the
Windows security model, especially in instances where it may need
access to root privileges.  
Of course, Steven calling Unix security "outdated" prompted some
minor flaming as well.  Josh Walker didn't see any difference
between Windows XP and old DOS systems.  Shachar Shemesh explained
why, and then brought up some more ideas:</p>
<quote who="Shachar Shemesh"><p>
Joshua - your work XP was installed on FAT filesystem. If it were NTFS, 
you would have had a list of ACLs (Access Control Lists). This is a list 
that says "A can do this, B can do that, C is not allowed to do those" 
etc. It gives 100% granularity on what each entity can or cannot do, 
with each file, registry entry and device in the system.
</p><p>
Of course, Steven is, in my very humble opinion, dead wrong here. 
Windows' security model is a gross violation of KISS (keep it simple, 
stupid). Granularity is set so high, it is practically impossible to 
actually get anything configured. When was the last time you saw ANY 
windows program installer that changes the file permissions in any way? 
Last I checked, the standard installshield and wise template builders 
didn't even have an option to do that! In other words, we should not 
aspire to bring Windows' security model into Linux. All the Windows 
security model did was cause every single user on the system to be an 
administrator. 
</p><p>
At the moment, Wine is only aimed at single user installations. As long 
as that is the case, each wine user is an "Administrator" over his own 
fake-root wine installation. I don't see that changing.
</p><p>
I do want to see wine evolving into a (Linux) system wide installation, 
at which point security will have to come into play. I did post one idea 
on how to do that at 
 <ul><a href="http://www.kerneltraffic.org/wine/wn20030328_163.html#5">
http://www.kerneltraffic.org/wine/wn20030328_163.html#5</a></ul></p><p>
and in 
particular at 
 <ul><a href="http://www.winehq.com/hypermail/wine-devel/2002/10/0654.html"> 
http://www.winehq.com/hypermail/wine-devel/2002/10/0654.html</a></ul></p><p>
(October 2002!).
</p><p>
IMHO, the idea should be to bring Unix simplicit permissions to the 
Windows world, at least for the Unix installations of Wine. Reactos may 
well legitimately want the full blown stuff, with all the security 
problems that come with it. This means that we do translate the Posix 
users and groups into ACLs, but we do not necessarily do it the other 
way around. Let's not forget that the purpose of Wine is to bring 
Windows apps into the Unix/Linux world, not to change Unix/Linux itself.
</p></quote>

<p>There's a lot of work to be done in this area, anyone interested 
in examining the differences between the Unix and Windows security models
might be interested in working on this.</p>

</section>
<section 
	title="Listing More Downloads on WineHQ" 
	subject="List other downloads on winehq"
	archive="http://www.winehq.org/hypermail/wine-devel/2004/04/0387.html" 
	posts="16"
	startdate="04/17/2004"
	enddate="04/20/2004"
>
<topic>WineHQ</topic>
<p>
Vincent B&#233;ron wondered if we could list more downloads
on the <a href="http://www.winehq.com/download">Wine download 
page</a>:</p>

<quote who="Vincent Beron"><p> 
 Following a discussion on IRC with a new user, we probably want to list
 on the Download page on winehq what other packages are available on sf,
 besides Wine per se.
</p><p>
 Also, besides DCOM95, there are a couple other Microsoft packages that
 people are sometimes encouraged to install to get some functionality
 that Wine hasn't matched yet. Does somebody have a list of what can be
 found (and installed on a non-Windows platform) on Microsoft's site?
</p></quote>

<p>Ivan Leo Murray-Smith started with a list of things he's
found helpful:</p>
<quote who="Ivan Leo Murray-Smith"><p>
It's not a complete list, but I've got the following links
<ul>
<li><a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=bf9a24f9-b5c5-48f4-8edd-cdf2d29a79d5&amp;DisplayLang=en">
vb runtime</a></li>

<li><a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=cebbacd8-c094-4255-b702-de3bb768148f&amp;DisplayLang=en">
the windows installer for win9x</a></li>

<li><a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=4b6140f9-2d36-4977-8fa1-6f8a0f5dca8f&amp;DisplayLang=en">
the windows installer for winnt/2k</a></li>

<li><a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=6f94d31a-d1e0-4658-a566-93af0d8d4a1e&amp;displaylang=en">comctl32 dll</a>, 
   the eula says you can only distribute it with an app that runs
   on windows, but it also says you can use it, and doesn't say that to do so you
   need a windows license (The eula is the same one you get with the sdk), so it's
   ok to use it on wine.</li>
<li><a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=bfc0b436-9015-43e2-81a3-54938b6f4614&amp;DisplayLang=en">
   gdi+ components, same license as comctl32</a></li>

<li><a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=860ee43a-a843-462f-abb5-ff88ea5896f6&amp;DisplayLang=en">
   CAPICOM.DLL</a></li>

<li><a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=6ae02498-07e9-48f1-a5d6-dbfa18d37e0f&amp;DisplayLang=en">
   ShFolder DLL</a></li></ul>
</p><p>
 I think all these windows components can be used without problems on wine, but
 probably winehq can't redistribute any of them.</p></quote>

<p>Mike Hearn said MSI, MDAC, and Internet Explorer were also useful.  
Ivan noted,
<quote who="Ivan Leo Murray-Smith">
 Installing IE requires a windows license for the computer where you're
 installing it. This sort of restricts its use with wine.
</quote> But Jakob Eriksson pointed out that was not enforcable
in every country and explained how it worked in Sweden:</p>
<quote who="Jakob Eriksson"><p>
Any additional license agreements are click-through or whatever. In 
Sweden a contract done like that is not valid. It has to be an oral
or written agreement between two (juridical or physical) persons.
</p><p>
This leaves us with plain copyright law.
IE is still copyrighted of course, so you may not be permitted to spread 
it further.
</p><p>
But since you have not agreed to any license, you are free to personally 
use your download however you wish.
</p></quote>

<p>Several small licensing discussion popped up, but in the end no
list appeared on WineHQ.</p>

</section>
<section 
	title="Project David ?" 
	subject="project David?"
	archive="http://www.winehq.org/hypermail/wine-devel/2004/04/0578.html" 
	posts="10"
	startdate="04/22/2004"
>
<p>Rein Klazes wondered if anyone had heard of a Project
David, 
<quote who="Rein Klazes">
 Somehow, we are doing something far to complicated:
 <a href="http://www.specopslabs.com/david.htm">
 http://www.specopslabs.com/david.htm</a></quote></p>

<p>Speculation quickly turned to what, if any, technology
the company had developed.  Someone looked a bit closer
and thought parts of Wine might be used by it,
<quote who="R.U. Deranged">
 If you can pierce through all that marketing hype, it seems to indicate 
 they're using some code from the Wine project. I hope they're in compliance 
 with Wine's LGPL license...</quote></p>

<p>Quite a few people were angered at comments on the web 
site against Wine.  Mike Hearn placed the software firmly
in the vaporware category:</p>
<quote who="Mike Hearn"><p>
Yeah, we're actually solving the problem instead of scamming investors out
of their cash - or was I the only one who watched Hustle ?
</p><p>
Of course it's possible that they found some amazing way of hosting the NT
kernel as a Linux kernel module, lifted the Wine x11drv and can now boot
NT straight into Linux in an amusing twist on the CoLinux theme ..... but
I doubt it ;)
</p></quote>

<p>Ge van Geldorp pointed out just how outrageous the claims
sounded:</p>
<quote who="Ge van Geldorp"><p>
they say on the website:
"David offer the following advantages: Does not require a copy of
Microsoft Windows to run Windows Applications."
</p><p>
So, according to their website:
<ul>
<li> They didn't license Windows technology from Microsoft</li>
<li> They are not using native Windows components</li>
<li> They will build this David thing in 6 - 8 weeks</li></ul></p><p>
I'd say good luck.... If anyone wants to invest in this I also have a
nice piece of Moon for sale, with a good view of the Earth.
</p></quote>

<p>The website mentioned a beta version was being given to
the press on Thursday, April 22nd.  Geoff Thorpe pointed out
that if any part of Wine was being used by the project they
needed to comply with licensing terms,
<quote who="Geoff Thorpe">
The very second their "demo" hits the wires, the redistribution 
clauses of the (L)GPL apply ...</quote></p>

</section>
<section 
	title="Combining Patches With Arch" 
	subject="arch tip #2"
	archive="http://www.winehq.org/hypermail/wine-devel/2004/04/0402.html" 
	posts="1"
	startdate="04/18/2004"
>
<topic>Patches</topic>

<p>Anyone using the 
<a href="http://www.winehq.com/wwn/217#CVS%20to%20Arch%20Gateway">arch repository</a>?
Mike Hearn announced changes to a tool help create and manage patches:</p>

<quote who="Mike Hearn"><p>

I just checked in a new update to the genpatch script. It can now send
an email to wine-patches automatically given a set of local changesets.
</p><p>
Use it like this:

./genpatch -m 5 6 7
</p><p>
if you did three commits, patch-5, patch-6 and patch-7 and want to send
them all to wine-patches as one email. The log message and summary of the
first patch will be used, and all three patches will be combined into one.
You get to edit the email before it's sent and will be asked for
confirmation, so you can read it over one last time.
</p><p>
By default it will send mail to localhost - if you don't want to setup
sendmail you can have "export GENPATCH_RELAY=smtp.myisp.com" in your shell
init scripts to make it use a different mail relay.
</p><p>
So in summary, development on a series of related improvements to wine
goes like this:
</p><p>
(setup arch and checkout the cvs gateway tree)
<ul><code>
./branch some-branch<br />
cd ..<br />
cd some-branch<br />
tla make-log</code></ul>
</p><p>
(make some changes, noting what they are in the arch-created log file as
you go)

<ul><code>
tla commit</code></ul>

</p><p>
* committed whoever_at_where-ever.org--2004/wine--some-branch--0.9--patch-2

<ul><code>
tla make-log<br /></code>
(more changes)<code><br />
tla commit</code></ul>
</p><p>
* committed whoever_at_where-ever.org--2004/wine--some-branch--0.9--patch-3

<ul><code>
./merge   </code></ul>
</p><p>
(this brings your tree up to date with winehq, only bother if you think
there has been enough drift to make it worthwhile)

<ul><code>
./genpatch -m 2 3</code></ul>
</p><p>
(read generated email, to confirm delete the first line + save + quit)
</p></quote>

</section></kc>
