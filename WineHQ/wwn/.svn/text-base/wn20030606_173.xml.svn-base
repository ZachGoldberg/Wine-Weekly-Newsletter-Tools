<?xml version="1.0" ?>
<kc>

<title>Wine Traffic</title>

<author contact="http://www.theshell.com/~vinn">Brian Vincent</author>

<issue num="173" date="6/6/2003" />

<intro>
<p>This is the 173rd release of the Wine's kernel cousin publication. 
  Its main goal is to be as short and concise as possible so I can
  enjoy my vacation.
  It also serves inform you of what's going on around Wine (the Un*x 
  Windows emulator).</p>
</intro>








<stats posts="182" size="631" contrib="68" multiples="35" lastweek="27">

<person posts="17" size="53" who="Mike Hearn" />
<person posts="11" size="26" who="Dimitrie O. Paun" />
<person posts="10" size="24" who="Eric Pouech" />
<person posts="9" size="22" who="Shachar Shemesh" />
<person posts="8" size="22" who="Jason Edmeades" />
<person posts="8" size="19" who="Sylvain Petreolle" />
<person posts="7" size="20" who="Todd Vierling" />
<person posts="7" size="16" who="Lionel Ulmer" />
<person posts="6" size="13" who="puoti" />
<person posts="5" size="14" who="Vincent Beron" />
<person posts="5" size="13" who="Carlos Lozano" />
<person posts="4" size="30" who="Oleg Prokhorov" />
<person posts="6" size="96" who="Raphael Junqueira" />
<person posts="4" size="10" who="Gregory M. Turner" />
<person posts="4" size="9" who="Tom" />
<person posts="3" size="11" who="Rein Klazes" />
<person posts="3" size="8" who="Vilppa Salt" />
<person posts="3" size="8" who="Jeff Smith" />
<person posts="3" size="8" who="Marcus Meissner" />
<person posts="3" size="5" who="hatky" />
<person posts="2" size="8" who="Patrick Griffin" />
<person posts="2" size="8" who="(fenix)" />
<person posts="2" size="5" who="PETREOLLE Sylvain" />
<person posts="2" size="5" who="Mike McCormack" />
<person posts="2" size="5" who="Dmitry Timoshkov" />
<person posts="2" size="5" who="Andreas Mohr" />
<person posts="2" size="4" who="Steven Edwards" />
<person posts="2" size="4" who="Evangelos Arkalis" />
<person posts="2" size="4" who="Vitaliy Margolen" />
<person posts="2" size="3" who="Steven Edwards" />
<person posts="2" size="3" who="Gerald Pfeifer" />
<person posts="1" size="16" who="Moreno" />
<person posts="1" size="14" who="Shachar Shemesh" />
<person posts="1" size="5" who="Michael Stefaniuc" />
<person posts="1" size="5" who="Christian Costa" />
<person posts="1" size="4" who="Paul McNett" />
<person posts="1" size="3" who="David Hammerton" />
<person posts="1" size="3" who="Arman Aksoy" />
<person posts="1" size="3" who="Vitaliy Margolen" />
<person posts="1" size="3" who="Ferenc Wagner" />
<person posts="1" size="3" who="Maxime Bellenge" />
<person posts="1" size="3" who="(MichaelGuennewig)" />
<person posts="1" size="3" who="danielcampos" />
<person posts="1" size="3" who="Stefan Leichter" />
<person posts="1" size="2" who="Igor Sysoev" />
<person posts="1" size="2" who="(mike)" />
<person posts="1" size="2" who="Jason Edmeades" />
<person posts="1" size="2" who="Hal Mikimoto" />
<person posts="1" size="2" who="Rok Mandeljc" />
<person posts="1" size="2" who="(wine)" />
<person posts="1" size="2" who="David Laight" />
<person posts="1" size="2" who="Saulius Krasuckas" />
<person posts="1" size="2" who="Philipp Wollermann" />
<person posts="1" size="2" who="Keith Matthews" />
<person posts="1" size="2" who="Jeremy White" />
<person posts="1" size="2" who="Robert Shearman" />
<person posts="1" size="1" who="(arkalis)" />
<person posts="1" size="1" who="Johan Gill" />
<person posts="1" size="1" who="Hans Martin Speiser" />
<person posts="1" size="1" who="Hetz Ben Hamo" />
<person posts="1" size="1" who="biggun from the sun" />
<person posts="1" size="1" who="BiGgUn" />

</stats>




<section 
	title="RedHat 9 RPM's Available" 
	subject="Red Hat 9 RPMs"
	archive="http://www.winehq.org/hypermail/wine-devel/2003/06/0004.html" 
	posts="3"
	startdate="06/01/2003"
>
<topic>Project Management</topic>
<p>Mike Hearn wanted to know the status of RedHat 9 RPM's,
<quote who="Mike Hearn">
 Can somebody please remind me what the plan for these are? In IRC we
 seem to say "go to newrpms.sunsite.dk" all day, every day. It's really
 poor IMHO that after all these months, the site STILL does not mention
 this.</quote></p>

<p>Vincent Beron, the RedHat RPM maintainer, wrote back:</p>
<quote who="Vincent Beron"><p>
I've built some and put them on sf (without announcing them, me bad). If
our download page doesn't mention them, it probably doesn't mention
Mandrake either, which is available as well (can't recall if it's for a
specific version of Mandrake).
</p><p>
The differences between the newrpms and sf ones' should be minimal, as I
studied both spec files before deciding some features for RH9.
</p></quote>

<p>If you're interested in grabbing them, check out the
<a href="http://sourceforge.net/project/showfiles.php?group_id=6241">SourceForge repository</a>.</p>

</section><section 
	title="ReactOS Regedit Merge" 
	subject="Merge of Reactos's regedit"
	archive="http://www.winehq.org/hypermail/wine-patches/2003/06/0040.html" 
	posts="2"
	startdate="06/05/2003"
	enddate="06/05/2003"
>
<topic>Utilities</topic>
<p>Mike McCormack posted a large patch and announced,
<quote who="Mike McCormack">
 <a href="http://www.winehq.org/hypermail/wine-patches/2003/06/att-0040/01-reactos-regedit-merge.tar.gz">This</a>
 is a merge of the reactos regedit GUI implementation.  I've only 
 provide a tarball, as there's lots of new files, however I've tried to 
 keep the diff on existing files as small as possible.</quote></p>

<p>Steven Edwards provided some more details about the code:</p>
<quote who="Steven Edwards"><p>
 A few notes on this merge. ATM the GUI functions are read-only except 
 importing and exporting a file. You cannot modify the registry from the 
 GUI. All of the command-line options still work thanks to Mikes fixes 
 and there are still a few other minor things like the resource files 
 need to be cleaned a little bit. If you see fit to go ahead and 
 test/merge then I will cleanup the resource files when I get back in 
 town next week. If not let us know any other things that need to be 
 fixed before we can merge.</p></quote>

<p>Alexandre hasn't merged the patch into the tree yet.</p>

</section><section 
	title="WinINet Work" 
	subject="Re: Merge of WineX's (LGPL licensed) wininet.dll code"
	archive="http://www.winehq.org/hypermail/wine-devel/2003/06/0021.html" 
	posts="4"
	startdate="06/02/2003"
>
<topic>Patches</topic>
<p>TransGaming did some work on the
<a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/wininet/wininet/wininet_functions.asp">WinINet</a> library
and made the code available under LGPL.  Mike McCormack posted a
large patch porting functions to WineHQ's tree.  
Mike Hearn reported a problem:</p>
<quote who="Mike Hearn"><p>
Well, I'm spending my fun afternoon trying to get IE to install in Wine
(it breaks in a new and interesting way every time I try this).
</p><p>
Before the patch, it didn't work, couldn't contact download sites. After
the patch, it still doesn't work, and I get this fixme:
<ul><code>
fixme:wininet:InternetReadFile This shouldn't be here! We don't support
this kind of connection anymore. Must use NETCON functions, especially
if using SSL</code></ul>
</p><p>
Which seems a bit of a bummer, if IE6 setup needs that type of
connection I think we should still support it really......
</p></quote> 

<p>David Hammerton, the original author of the code, explained a little
bit about it and what might have caused the problem:</p>
<quote who="David Hammerton">
 <p>
 This would be related to the open-ssl thing I did...
 </p><p>
 Basically rather than rewriting a bunch of wininet code, I wrote a layer 
 around the winsock stuff so that it can easily switch between ssl and non-ssl 
 sockets..
 </p><p>
Mike McCormack - is it possible this file (internet.c) didn't get merged 
properly?</p><p>
Mike Hearn - check out the function 'InternetReadFile' at this URL and compare 
against your post-patched winehq version.
<a href="http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/winex/wine/dlls/wininet/internet.c?rev=1.3&amp;content-type=text/vnd.viewcvs-markup">
http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/winex/wine/dlls/wininet/internet.c?rev=1.3&amp;content-type=text/vnd.viewcvs-markup</a>
 </p><p>
 ok, so I checked out winehq cvs and applied the patch..
 Mike McCormack - it looks like you merged the contents of InternetWriteFile 
 into both InternetWriteFile and InternetReadFile.. I may be wrong (I just 
 woke up)..
 </p><p>
 The FIXME in InternetWriteFile has no bad effect, things will still work (so 
 long as you're not using HTTPS) - but in InternetReadFile, I have my doubts.
</p></quote>

<p>Robert Shearman then jumped in to mention he was doing some WinINet work
too,
<quote who="Robert Shearman">
 Just thought I'd let people know (while we're on the WinInet topic) that I'm
 working on the UrlCache functions there, leading to implementing the UrlMon
 functions properly.</quote></p>


</section><section 
	title="Adding a Root Drive Mapping" 
	subject="Re: Add root drive mapping to default config file"
	archive="http://www.winehq.org/" 
	posts="21"
	startdate="06/03/2003"
	enddate="06/04/2003"
>
<topic>Filesystems</topic>
<topic>Configuration</topic>
<p>Mike Hearn submitted a patch that added a drive mapping for the
root directory.  Mike's reasoning was,
<quote who="Mike Hearn">
The theory being that it'll reduce instances of people on IRC saying "It
says it can't find the program, but it's right there!"</quote></p>

<p>Sylvain Petreolle objected first:</p>
<quote who="Sylvain Petreolle"><p>
 please don't add / to the default config.
 Some reasons no to do that:
<ul>
<li> its insecure, since you can write everywhere you want
and some filesystem corruption still exist today.</li>

<li> it will cause recursion/drive change problems &gt;
example : what will be the current drive/directory
if you access the fake C:\windows
 via Z:\home\user\fake_c\windows ?
</li></ul></p>

<p>
On my RH box I have a drive called W: that contains wine sources and P:
contains programs/.
If I am in W: (wcmd) and I do 'cd programs', wcmd now says P:\</p></quote>

<p>Mike hadn't run into any problems with the second point
and guessed the algorithm was able to deal with that.  He also
didn't think it would be much of a security concern to map root.
Marcus Meissner was cautious, but also thought it would be okay,
<quote who="Marcus Meissner">
I don't really see a problem, except a virus might go and scan
the whole UNIX system including NFS trees. But the risk is low, and benefits
are greater.</quote>
Dimi Paun also voiced his opinion of it,
<quote who="Dimitrie Paun">
Even though I know about the problem, I find it incredibly annoying and
stupid when Wine complains about that. I think we absolutely need the
Z drive for the 0.9 release, we might as well add it now.</quote>
Then the idea was proposed to just give Wine read-only access.</p>

<p>Lionel Ulmer pointed out another flaw with mapping root,
<quote who="Lionel Ulmer">
 if they users get this error, it means that they did not configure
 Wine properly... So that we are only hiding the problem anyway.
</quote></p>

<p>Thus far there doesn't seem to be a consensus on a solution and will
probably rely on Alexandre to make the decision.</p>

</section><section 
	title="CVS Commits" 
	subject="Submits galore"
	archive="http://www.winehq.org/hypermail/wine-devel/2003/05/0120.html" 
	posts="2"
	startdate="06/05/2003"
>
<topic>Project Management</topic>
<p>Alexandre has been on vacation for the past week and several
passed between CVS commits.  Then on Wednesday he resurfaced and
made 55 CVS commits affecting 170 files.  Johan Gill noticed and
commented, <quote who="Johan Gill">
 It seems Alexandre is back or just got tired of the patch storm :) D3D-lovers 
 should update from CVS I'd say.</quote></p>

<p>Raphael Junqueira commented on it too:</p>
<quote who="Raphael Junqueira"><p>
yes, I have seen this "d3d commit fury" in realtime :)
</p><p>
Alexandre, you have done a very impressive job :)
</p><p>
But you returned too early as we haven't sent all our patches (i was too bored 
to do the cleaning stuff last week).
</p><p>
But we'll thanks all D3D-lovers that can report games ok, or with graphics problems.
</p></quote>

<p>It's nice to see activity with Direct3D again.  Years ago Wine was
really useful for running games and lot of development focused on getting
things like HalfLife and StarCraft to run.  It brought a lot of new users
to the Wine community and gave developers new and exciting ways to waste
time.  When TransGaming started commercial development of DirectX very
little work was done with the WineHQ tree.  Eventually developers got
tired of waiting for the work to be submitted back to WineHQ and work
began on duplicating TransGaming's efforts.  An impressive amount of work
has been done over the last few months and it's really beginning to pay
off.  Sylvain Petreolle reported a new success story:</p>
<quote who="Sylvain Petreolle"><p>
Thanks to the D3D/ddraw workers,
the last storm of patches makes Tomb Raider 3 able to start.
</p><p>
You must set ZBuffer to on to get all graphics, and we run into gray
levels at the moment. Great Work guys.
</p><p>
PS : I submitted the app to AppDB.
</p></quote>


</section></kc>

