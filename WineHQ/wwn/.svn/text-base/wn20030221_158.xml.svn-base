<?xml version="1.0" ?>
<kc>

<title>Kernel Cousin Wine</title>

<author email="vinn@theshell.com">Brian Vincent</author>

<issue num="158" date="02/21/2003" />

<intro>
<p>This is the 158th release of the Wine's kernel cousin publication. 
Its main goal is to steal your lunch money and donate it to the Wine
developers.
It also serves to inform you of what's going on around Wine (the Un*x 
Windows emulator).</p>
</intro>


<stats posts="211" size="632" contrib="59" multiples="31" lastweek="33">

<person posts="22" size="58" who="J. Grant" />
<person posts="17" size="54" who="Tony Lambregts" />
<person posts="15" size="43" who="Dan Kegel" />
<person posts="15" size="35" who="Eric Pouech" />
<person posts="10" size="23" who="Duane Clark" />
<person posts="11" size="26" who="Dimitrie O. Paun" />
<person posts="8" size="21" who="Uwe Bonnes" />
<person posts="7" size="19" who="Dmitry Timoshkov" />
<person posts="7" size="17" who="Rein Klazes" />
<person posts="7" size="16" who="Alexandre Julliard" />
<person posts="6" size="15" who="Mike Hearn" />
<person posts="6" size="14" who="Sylvain Petreolle" />
<person posts="5" size="19" who="Ori Pessach" />
<person posts="5" size="12" who="Eric Noack" />
<person posts="5" size="12" who="Gerhard W. Gruber" />
<person posts="4" size="20" who="Robert Reif" />
<person posts="4" size="14" who="David D. Hagood" />
<person posts="4" size="9" who="Shachar Shemesh" />
<person posts="3" size="11" who="Dave Miller" />
<person posts="3" size="9" who="Pierre d'Herbemont" />
<person posts="3" size="6" who="Fabian Cenedese" />
<person posts="2" size="7" who="Andrew Johnson" />
<person posts="2" size="6" who="Vincent Beron" />
<person posts="2" size="5" who="Matthieu Foillard" />
<person posts="4" size="9" who="Marcus Meissner" />
<person posts="2" size="4" who="Steven Edwards" />
<person posts="2" size="4" who="Lionel Ulmer" />
<person posts="2" size="4" who="Francois Gouget" />
<person posts="1" size="59" who="Peter Hunnisett" />
<person posts="1" size="3" who="Chris Morgan" />
<person posts="1" size="3" who="Gregory M. Turner" />
<person posts="1" size="3" who="Huw D M Davies" />
<person posts="1" size="3" who="Rolf Kalbermatter" />
<person posts="1" size="3" who="Dave Pickles" />
<person posts="1" size="2" who="David Fraser" />
<person posts="1" size="2" who="John K. Hohm" />
<person posts="1" size="2" who="Matthew Stump" />
<person posts="1" size="2" who="J. Grant" />
<person posts="1" size="2" who="Ove Kaaven" />
<person posts="1" size="2" who="Brad Campbell" />
<person posts="1" size="2" who="Mike McCormack" />
<person posts="1" size="2" who=" (x man man x)" />
<person posts="1" size="2" who="Matthew Toseland" />
<person posts="1" size="2" who="Felipe W Damasio" />
<person posts="1" size="2" who="Paul Millar" />
<person posts="1" size="2" who="Brian Vincent (C)" />
<person posts="1" size="2" who="Andreas Mohr" />
<person posts="1" size="2" who="(whitnl73)" />
<person posts="1" size="2" who="Johan Dahlin" />
<person posts="1" size="1" who="Gerald Pfeifer" />
<person posts="1" size="1" who="liu spider" />
<person posts="1" size="1" who="Oleg Lyamtsev" />
<person posts="1" size="1" who="Bodo Wenzel" />
<person posts="1" size="1" who="J.Brown (Ender/Amigo)" />
<person posts="1" size="1" who="Chris Thielen" />

</stats>
<section 
	title="News: Wine-20030219, TransGaming Update, WineX Game Manager" 
	subject="News"
	archive="http://www.transgaming.com/showthread.php?news=58" 
	posts="3"
	startdate="02/15/2003"
	enddate="02/21/2003"
>
<topic>News</topic>

<p>Ah yes.. that time of the month - time to uncork a new vintage:</p>
<quote who="Alexandre Julliard"><p>
WHAT'S NEW with Wine-20030219: (see 
<a href="http://cvs.winehq.org/cvsweb/wine/ChangeLog?rev=1.68&amp;content-type=text/x-cvsweb-markup">ChangeLog</a> 
for details)
        <li> Better dead keys support.</li>
        <li> Many debugger fixes.</li>
        <li> More Direct3D work.</li>
        <li> Lots of bug fixes.</li>
</p></quote>

<p>TransGaming announced 
<a href="http://www.transgaming.com/showthread.php?news=57">an update</a> 
for the Kohan series with the following notes:</p>
<quote who="TransGaming"><p>
<ul>
<li>Support for glibc 2.3, which is now the default glibc version for Debian Unstable</li> 
<li>Fixes for some startup issues that could cause problems for some users</li>
</ul>
</p></quote>

<p>TransGaming also issued their 
<a href="http://www.transgaming.com/showthread.php?news=58">February
Development Status</a>.  They're in the midst of a big push for WineX 3.0.
Development continued on both improved DCOM support (for InstallShield
installers) and Direct3D.  The results from January's poll of subscribers 
requested support for these games:</p>
<quote who="TransGaming">
<p><ul>
<li>Battlefield 1942 </li>
<li>Morrowind </li>
<li>Civilization 3 - Play The World Expansion Pack </li>
<li>Medal of Honor: Allied Assault </li>
<li>Dungeon Siege </li></ul></p></quote>

<p>Also related is a new 
<a href="http://www.franksworld.net/wgm/">WineX Game Manager</a> that you
can find over at Frank's Corner:</p>
<quote who="Franks Corner"><p>
Installling a Windows game using WineX must always be done from the command 
line. Often playing the game must also be done from the command line. WineX 
Game Manager makes this all a little easier, beacause it's  got a graphical 
interface for installing and playing Windows games. 
</p><p>
If you use the .transgaming directory for games it can happen that the registry 
gets messed up and you have to reinstall everything all over again. In WineX Game 
Manager each game gets its own registry and own configuration file and will be 
installed in a subdirectory of /usr/local/games. 
</p></quote>

<p>DesktopLinux.com 
<a href="http://www.desktoplinux.com/articles/AT5066239531.html">interviewed Jim Curtain</a>, 
CEO of the company that makes Win4Lin.  He discusses migrating desktops to Linux and
the problems associated with it.  He briefly mentions Wine.</p>


</section>




<section 
	title="TaxCut 2002" 
	subject="TaxCut and C++ exception handling"
	archive="http://www.winehq.org/hypermail/wine-devel/2003/02/0.html" 
	posts="8"
	startdate="02/15/2003"
	enddate="02/16/2003"
>
<topic>Fixes</topic>
<p>Taxes.. I don't care where you live, they suck.  For those of us
living in the United States we have until April 15th to pay our 2002
taxes.  And of course the tax code is so obscure that unless you're
single, poor, and don't own anything chances are you're going to get
screwed.  That's where tax software comes into play.  With a little 
luck you can complete the tax forms with a matter of a few months.
</p><p>In the past I've always used Intuit's TurboTax product.  This
year with the advent of 
<a href="http://www2.turbotaxsupport.com/servicesupport/default.asp?platform=0&amp;formName=&amp;pd=&amp;fs=&amp;ver=&amp;sku=&amp;category1=&amp;categoryid=119&amp;DocID=132">
their new licensing scheme</a>, not to mention the 
<a href="http://www.extremetech.com/article2/0,3973,881243,00.asp">recent revelations</a>
of low-level disk manipulation, I decided to try something different.
(Chances are I could have easily used the new "Save as PDF" option, but
that's besides the point.)  I went out and bought H &amp; R Block's 
TaxCut.  Supposedly it imports from last year's TurboTax just fine.
The little piece of software is sitting in the trunk of my car waiting
to be opened.  That's why I was excited to see Ori Pessach's post:</p>
<quote who="Ori Pessach"><p>
TaxCut seems to work almost perfectly with a native msvcrt.dll, and a 
copy of Comic.TTF in Windows/Fonts, by the way. The update feature 
fails, but everything else I've tried so far seems to work as expected - 
I haven't completed a return yet, though.
</p></quote>
<p>Looking over <a href="http://www.taxcut.com/updates/02fedwinup.html">the
update page</a> it has a link to a self-extracting archive that can be 
downloaded separately for the updates.
Anyone else have any success with tax software?  If you write a
review of the software you used, any configuration options you had
to try, etc I'll post it here.  Also of interest would be
stuff that doesn't work.</p>


</section>





<section 
	title="Why Develop MSVCRT.DLL?" 
	subject="TaxCut and C++ exception handling"
	archive="http://www.winehq.org/hypermail/wine-devel/2003/02/0525.html" 
	posts="16"
	startdate="02/15/2003"
	enddate="02/17/2003"
>
<p>In the discussion of running TaxCut, Ori asked:
<quote who="Ori Pessach"><p>
Am I correct in assuming that a [<i>ed. builtin</i>] msvcrt.dll is useful mostly to 
people porting Windows applications to architectures other than x86?
</p><p>
Since the native msvcrt.dll works with Wine, and is a redistributable, 
I'm not sure how useful a Wine implementation of it is going to be. Am I 
missing something?
</p></quote>

<p>MSVCRT is the Microsoft Visual C++ Run Time library that's needed
by most applications.  Several people jumped in to give reasons of 
why it's important for Wine to have its own version.  Dmitry Timoshkov
pointed out that the entire goal of Wine is to implement the features
necessary to ensure running on a system free of Microsoft code and
for native Winelib applications. 
John Hohm explained recent changes with this DLL:</p>
<quote who="John Hohm"><p>
It does come with recent Windows.  However, many programs install an updated 
version of msvcrt.dll, since it is a redistributable for Microsoft Visual 
Studio 5 and 6.  Visual Studio 7 has switched to msvcr70.dll et. al.
</p><p>
As of Windows XP, msvcrt.dll is part of the operating system.  It is now under 
system file protection, so it cannot be replaced by a normal application.  
Apparently as a tribute to this, they changed the description from "Microsoft 
(R) C Runtime Library" to "Windows NT CRT DLL".
</p><p>
Some programs that don't depend on having fixes in a certain version of 
msvcrt.dll will depend on the version from Windows; this includes most programs 
developed with VC6 specifically for Windows XP, and all programs developed with 
recent versions of the MinGW Win32 port of GCC.
</p><p>
Therefore, we really do need a complete msvcrt.dll in Wine.
</p></quote>

And Eric Pouech mentioned, 
<quote who="Eric Pouech">
 latest EULA states that redistribution must occur on Windows 
 based OSes, so it might not be legal on Wine/*nix combo</quote></p>

</section>







<section 
	title="Problems with OpenGL" 
	subject="Problem with recent builds under RH8.0"
	archive="http://www.winehq.org/hypermail/wine-devel/2003/02/0569.html" 
	posts="12"
	startdate="02/17/2003"
	enddate="02/18/2003"
>
<topic>Graphics</topic>
<p>
David Hagood reported a problem with Direct3D:
</p><quote who="David Hagood"><p>
Ever since upgrading to RH8.0, I've been getting the following errors 
when building Wine - even with a fresh CVS pull:
<ul><code>
device.o: In function `DrawPrimitiveI':
/usr/src/wine/dlls/d3d8/device.c:392: undefined reference to 
`glMultiTexCoord2f'/</code></ul></p><p>

If I disable the build of the D3D system, Wine builds and runs.
</p></quote>

<p>Uwe Bonnes suggested a simple solution, 
<quote who="Uwe Bonnes">
Often for such problems a "<tt>make distclean</tt>", <tt>.configure</tt> , 
<tt>make depend</tt> and <tt>make</tt> sequence helps.</quote></p>

<p>David said he tried that, but it didn't help.</p>

<p>Johan Dahlin recognized the problem, but wasn't exactly sure
what caused it:</p>
<quote who="Johan Dahlin"><p>
I've seen the same here on my Red Hat 8.0 box.
</p><p>
A workaround is to disable opengl by passing <tt>--without-opengl</tt> to
configure.</p></quote>

<p>Lionel Ulmer asked for some version information on the OpenGL
packages David was using.  David mentioned he had not used RPM packages,
but got his GL headers from CVS.  After looking at it he diagnosed them
as the real problem:</p>
<quote who="Lionel Ulmer"><p>
Well, I think the problem comes from one of your OpenGL headers... Can you
do a 'grep GL_VERSION_1_3' in your GL headers (mostly GL.h I think).
</p><p>
>From what I suspect, you will get something like this :
<ul><code>
#define GL_VERSION_1_3                    1</code></ul></p><p>

The problem is that your OpenGL library is NOT implementing GL 1.3 (as shown
in your glxinfo output). This means that you have a mismatch between your
system headers and your library.
</p><p>
This could be considered as a bug to report to the DRI people (if they
really provide a gl.h which defines GL_VERSION_1_3, they should also provide
a library with all OpenGL 1.3 entry points).
</p><p>
We *could* fix this in Wine by adding yet another configure check (or going
the full 'GetProcAddress' way which would be needed if we wanted a nice
OpenGL packaged Wine) but well, sometimes enough is enough and stuff should
be fixed outside of Wine and respecting the rules instead of adding yet
another work-around.
</p></quote>

<p>Marcus Meissner reported he had the same issue and explained
his setup, 
<quote who="Marcus Meissner">
I have the same problem, Mesasoft headers are used during compile, but
the xf86glx libraries are installed. The former are 1.3, the latter not
which leads to that problem.</quote></p>

</section>





<section 
	title="Testing Petzold's Example Programs" 
	subject="145 Gnu Makefiles for all Petzold Programs"
	archive="http://www.winehq.org/hypermail/wine-devel/2003/02/0284.html" 
	posts="3"
	startdate="02/07/2003"
	enddate="02/17/2003"
>
<topic>Testing</topic>
<p>A few weeks ago John Kopplin announced some work
he had done:</p>
<quote who="John Kopplin"><p>

I have just completed 145 Gnu makefiles that allow the free
MinGW (Gnu) Compiler to compile and execute all of the
example programs which Charles Petzold describes in his
"Programming Windows Fifth Edition" book, which is the
standard reference book on Microsoft's WIN32 API.
</p><p>
I freely distribute these 145 makefiles in a .ZIP file,
along with an installation program that will copy them into
Petzold's directory structure, from my web page at:
<ul><a href="http://www.computersciencelab.com/Petzold.htm">
  http://www.computersciencelab.com/Petzold.htm</a></ul></p><p>

Only 5 of the 145 programs require user intervention to
compile with the Gnu compiler, which is not bad for porting
that many programs to a new compiler, especially given
Microsoft's lax adherence to standards.
</p><p>
I would be very pleased if these makefiles would help
with the development of the Wine emulator.
</p></quote>

<p>At the time I didn't put it in the news, mostly because
no one had commented on it.  This week Dimi wanted to know 
if anyone tried it and what the results were:</p>
<quote who="Dimitrie Paun"><p>
As you probably remember, John Kopplin was kind enough to
modify his MinGW-inifcation scripts:
<ul><a href="http://www.computersciencelab.com/Petzold.htm">
    http://www.computersciencelab.com/Petzold.htm</a></ul>
</p><p>
to support Winelib out of the box.
</p><p>
This is great news, only problem is that now someone 
should try to see how they work. :)
</p><p>
I would give it a try, but I don't own Petzold's book.
I should probably buy it, but this is another matter.
</p><p>
BTW, is it worth buying the book?
</p></quote>

</section>





<section 
	title="Patch Manager" 
	subject="Patch Manager"
	archive="http://www.winehq.org/hypermail/wine-devel/2003/02/0489.html" 
	posts="4"
	startdate="02/14/2003"
>
<topic>Project Management</topic>
<p>Fabian Cenedese wondered if a patch management system
was necessary, 
<quote who="Fabian Cenedese">
I read all the mails about how to
submit patches. I saw on the wxWindows page that they have a Patch-
Manager. Mainly just a form to enter all necessary data. Maybe something
like that could be useful here too.
<a href="http://sourceforge.net/tracker/?group_id=9863&amp;atid=309863&amp;func=add">
http://sourceforge.net/tracker/?group_id=9863&amp;atid=309863&amp;func=add</a></quote></p>

<p>A few people wrote in to disagree, mainly because no one had
a problem with the current system (i.e. sending patches to the 
wine-patches list).  As Dimi put it,
<quote who="Dimitrie Paun">
 I personally don't like it much. wine-patches is just as good, and easier
 to use with standard tools (email). As long as Alexandre responds to
 rejects (and he usually does), I see no reason to change the status quo.
</quote></p>
<p>Dan Kegel also pointed out a another project with a similar goal:
</p><quote who="Dan Kegel">
<p>
See also Rusty's Trivial Patch Monkey,
<a href="http://www.kernel.org/pub/linux/kernel/people/rusty/trivial/">
http://www.kernel.org/pub/linux/kernel/people/rusty/trivial/</a></p></quote>
 




</section>
</kc>

