<?xml version="1.0" ?>
<kc>

<title>Wine Traffic</title>

<author contact="http://www.theshell.com/~vinn">Brian Vincent</author>
<issue num="197" date="11/21/2003" />
<intro> <p>This is the 197th issue of the Wine Weekly News publication.
Its main goal is to ski more. It also serves to inform you of what's going on around Wine. Wine is an open source implementation of the Windows API on top of X and Unix.  Think of it as a Windows compatibility layer.  Wine does not require Microsoft Windows, as it is a completely alternative implementation consisting of 100% Microsoft-free code, but it can optionally use native system DLLs if they are available.   You can find more info at <a href="http://www.winehq.org">www.winehq.org</a></p> </intro>
<stats posts="133" size="379" contrib="45" multiples="25" lastweek="25">

<person posts="14" size="35" who="Alexandre Julliard" />
<person posts="12" size="27" who="Dimitrie O. Paun" />
<person posts="8" size="20" who="Mike Hearn" />
<person posts="6" size="30" who="Hans Leidekker" />
<person posts="6" size="17" who="Tom" />
<person posts="6" size="14" who="Gerhard W. Gruber" />
<person posts="6" size="14" who="Lionel Ulmer" />
<person posts="5" size="15" who="Rein Klazes" />
<person posts="4" size="12" who="Huw D M Davies" />
<person posts="4" size="11" who="Daniel Skorka" />
<person posts="4" size="11" who="Shachar Shemesh" />
<person posts="4" size="10" who="Dmitry Timoshkov" />
<person posts="3" size="11" who="Jeremy Shaw" />
<person posts="3" size="9" who="Jerome Bouat" />
<person posts="3" size="8" who="Marcus Meissner" />
<person posts="3" size="8" who="Francois Gouget" />
<person posts="3" size="7" who="Vincent B&#233;ron" />
<person posts="3" size="7" who="Kevin Cousins" />
<person posts="3" size="7" who="Sylvain Petreolle" />
<person posts="3" size="6" who="Ralf Juengling" />
<person posts="2" size="8" who="Pierre d'Herbemont" />
<person posts="2" size="5" who="Paul Millar" />
<person posts="2" size="5" who="Marcelo Duarte" />
<person posts="2" size="4" who="flyker" />
<person posts="2" size="4" who="Steven Edwards" />
<person posts="1" size="14" who="Olaf Leidinger" />
<person posts="1" size="6" who="Nathan Hack" />
<person posts="1" size="3" who="Gregory M. Turner" />
<person posts="1" size="3" who="Jeremy Shaw" />
<person posts="1" size="3" who="Kevin DeKorte" />
<person posts="1" size="3" who="Robert Shearman" />
<person posts="1" size="3" who="Maxime Bellenge" />
<person posts="1" size="3" who="Erik Enge" />
<person posts="1" size="2" who="Gerald Pfeifer" />
<person posts="1" size="2" who="Raphael Junqueira" />
<person posts="1" size="2" who="Gavriel State" />
<person posts="1" size="2" who="Jonathan Wilson" />
<person posts="1" size="2" who="Bill Medland" />
<person posts="1" size="2" who="Uwe Bonnes" />
<person posts="1" size="2" who="Eric Pouech" />
<person posts="1" size="2" who="Marcus R. Brown" />
<person posts="1" size="1" who="David Martinez Prado" />
<person posts="1" size="1" who="David D. Hagood" />
<person posts="1" size="1" who="olivier evalet" />

</stats>
<section 
	title="News: Wine-20031118, WineX 3.2, TG Updates" 
	subject="News"
	archive="http://www.transgaming.org" 
	posts="3"
	startdate="11/15/2003"
	enddate="11/21/2003"
>
<topic>News</topic>
<p>Wine-20031118 spawned from CVS.  Alexandre noted the following
changes:</p>
<quote who="Alexandre Julliard"><p>
WHAT'S NEW with Wine-20031118: (see 
 <a href="http://cvs.winehq.org/cvsweb/wine/ChangeLog?rev=1.77&amp;content-type=text/x-cvsweb-markup">ChangeLog</a>
 for details)
<ul>
        <li> Many printing improvements.</li>
        <li> Run-time detection of NPTL threading.</li>
        <li> Lots of code merges from CrossOver Office 2.1.</li>
        <li> Some reorganization of the source tree.</li>
         <li> Lots of bug fixes.</li></ul></p></quote>

<p>It seems like a lot of the patches from CodeWeavers appeared on 
wine-patches this time.  In the past it seemed like a lot of them
were culled from the CodeWeavers codebase and committed by Alexandre.
Over the past month there's been patches from the CodeWeavers' staff
submitted to wine-patches first.  Enough rambling.. 
<a href="http://sourceforge.net/project/showfiles.php?group_id=6241">go 
download.</a>
<p>TransGaming unleashed WineX 3.2 this week.  From the press release:</p>
<quote who="TransGaming"><p>
TransGaming Technologies. release of its flagship Linux technology, WineX 3.2, 
brings the hottest Windows titles to devoted Linux gamers and includes 
support for blockbuster hits like Max Payne [R] 2: The Fall of Max Payne, 
Warcraft [R] III: The Frozen Throne [TM] and Homeworld 2, to name a few. </p><p>

"TransGaming's unique ability to enable Max Payne 2 to run on Linux without any access to the source code is quite impressive," comments Markus Maki, Development Director of Remedy Entertainment. "We're extremely pleased that TransGaming is broadening our reach to new audiences and that the Linux community continues to enjoy our products thanks to TransGaming's outstanding work." </p></quote>


</p><p>
TransGaming put up their November 
<a href="http://www.transgaming.com/showthread.php?news=92">Development 
Status and Voting</a> Report.  Not too much news on that front.  More
significant, they announced the creation of 
<a href="http://www.transgaming.org">transgaming.org</a>.  WineX mailing
lists and the CVS repository have been moved over to the new site.  
</p>

<p>LinuxQuestion.org is conducting 
<a href="http://www.linuxquestions.org/questions/forumdisplay.php?forumid=37">several polls</a> including
<a href="http://www.linuxquestions.org/questions/showthread.php?s=&amp;threadid=116387">Best Windows on Linux App of the Year</a>.  Wine is
currently leading the pack with WineX and CrossOver Office in the running.</p>

</section>
<section 
	title="LGPL'ed Bits of WineX" 
	subject="WineX relation to Wine"
	archive="http://www.winehq.org/hypermail/wine-devel/2003/11/0412.html" 
	posts="12"
	startdate="11/19/2003"
	enddate="11/20/2003"
>
<topic>TransGaming</topic>
<topic>Licensing</topic>
<p>For those of you new to this little soap opera we call Wine, Gerhard
Gruber asked some questions you may have wondered:</p>
<quote who="Gerhard Gruber"><p>
I was wondering what is the relation of Wine to WineX? There is a CVS access
to WineX, at least part of it, which is covered under the GPL. What I was
wondering about is, whether this code is the same as Wine or is it more
advanced? Or is this code only the sutff which is also contained in Wine and
all the other stuff is (more or less) closed, so that you cannot use it for
Wine.</p>
</quote>


<p>Lionel Ulmer replied first:</p>
<quote who="Lionel Ulmer"><p>
From what I know, on some 'non-core business' DLLs, TransGaming took the
WineHQ tree after the license change and imported them into their own tree.
So these DLLs (and only those) are covered under the LGPL. 
</p><p>
This means also that if these DLLs are more advanced than the one in WineHQ,
you can submit patches to merge them back into WineHQ's mainline.

</p></quote>


<p>Dmitry Timoshkov found a description of how the licenses interrelate:</p>
<quote who="Dmitry Timoshkov"><p>
Anyway, here is a snippet of the LICENSE file at the root of the WineX
tree:
</p><p>
"Source code and other software components explicitly identified as 
Copyright TransGaming Technologies Inc. is covered by the Aladdin 
Free Public License, (AFPL) the terms of which are listed below.  In
particular, redistribution of the following components in source or
object code form is allowed only under the terms specified by the AFPL:
<ul>
 <li>dlls/ddraw</li>
 <li>dlls/dsound</li>
 <li>dlls/dinput</li>
 <li>dlls/d3dgl</li>
 <li>dlls/d3d8</li>
 <li>dlls/dinput8</li></ul></p><p>

This is not an exhaustive list.  Other components that include 
TransGaming Technologies Copyright notices are also covered by 
the AFPL, with the exception of components covered under the 
GNU Lesser General Public License."
</p></quote>


<p>The AFPL is <a href="http://www.gnu.org/licenses/license-list.html#NonFreeSoftwareLicense">not considered</a>
a free software license by the Free Software Foundation.  TransGaming chose
distribute their WineX software under that license because of the restrictions
it imposes.  When the original Wine sources were under the X11 license this 
was no problem.  The X11 license, a BSD derivative, basically says you can
take the software and do whatever you want with it.  That includes adding
components (such as a Direct3D implementation) and re-licensing it however
you wish.  Since then some of TransGaming's components have been updated 
and have adopted the new LGPL license.  Gav State dropped a note to clarify
which parts are LGPL'ed:</p>
<quote who="Gavriel State"><p>
All of this info can be found here:
  <ul><a href="http://www.transgaming.com/license.php?source=1">
  http://www.transgaming.com/license.php?source=1</a></ul></p><p>

The LGPLed components in the WineX tree are:
 <ul>
     <li> dlls/avicap32/ (libavicap32.so)</li>
     <li> dlls/msdmo/ (libmsdmo.so)</li>
     <li> dlls/quartz/ (libquartz.so)</li>
     <li> dlls/msacm/winemp3 (libwinemp3.so)</li>
     <li> dlls/wininet (libwininet.so)</li>
     <li> dlls/urlmon (liburlmon.so)</li>
     <li> programs/regsvr32 (libregsvr32.so)</li></ul></p></quote>

<p>That prompted Tom Wickline to ask for a clarification of what, if any, 
components were covered by the X11 license.  As of press time there was
no answer on that.  All parts of the ReWind tree (the successor of the
forked Wine code) are still covered under the X11 license.</p>

</section>
<section 
	title="Using Standard Fonts" 
	subject="Can I turn off freetype at runtime"
	archive="http://www.winehq.org/hypermail/wine-devel/2003/11/0363.html" 
	posts="3"
	startdate="11/17/2003"
>
<topic>Configuration</topic>
<p>
Bill Medland needed some help finding a configuration option:</p>
<quote who="Bill Medland"><p>
Is it possible to turn off the freetype use at runtime, e.g. by changing 
something in the config file?
</p><p>
Basically under SuSE several dialogs are drawing with 5 pixel text whereas 
under Windows they are about 9 pixel high (which I don't understand because I 
think that they should not exceed 8).  Under RedHat they are 7 pixel which 
are at least readable.
</p><p>
I hope that if I can turn off the freetype then on SuSE it will get the same 
font as on RedHat
</p><p>
I tried setting an Alias but it didn't make any difference; it still used the 
same font instead of the alias</p></quote>

<p>Lionel Ulmer spotted some lines in the sample configuration that
appeared to fit:</p>
<quote who="Lionel Ulmer"><p>
<ul><code>
; Use the Render extension to render client side fonts (default "Y")<br />
;;"ClientSideWithRender" = "Y"<br />
; Fallback on X core requests to render client side fonts (default "Y")<br />
;;"ClientSideWithCore" = "Y"<br />
; Set both of the previous two to "N" in order to force X11 server side fonts<br />
;<br />
; Anti-alias fonts if using the Render extension (default "Y")<br />
;;"ClientSideAntiAliasWithRender" = "Y"<br />
; Anti-alias fonts if using core requests fallback (default "Y")<br />
;;"ClientSideAntiAliasWithCore" = "Y"</code></ul></p><p>

I never tested it and do not know if it still works... But it certainly
sounds like it should do what you require :-)
</p></quote>
<p>Huw Davies agreed that should work.</p>

</section>
<section 
	title="Integrating With NetMeeting" 
	subject="Netmeeting under wine"
	archive="http://www.winehq.org/hypermail/wine-devel/2003/11/0349.html" 
	posts="3"
	startdate="11/17/2003"
><p>David Martinez Prado wanted to know if Microsoft NetMeeting worked
with Wine.  Apparently he couldn't even get it to install.  No one
else appeared to know about it either.  Jerome Bouat gave a pointer
to another application,
<quote who="Jerome Bouat">
 use GnomeMeeting: <a href="http://www.gnomemeeting.org/">
 http://www.gnomemeeting.org/</a></quote></p>

<p>According to the GnomeMeeting FAQ it's compatible with NetMeeting.
</p>

<p>At that point Tom Wickline decided to stir things up and flamed
Jerome for not promoting a Wine solution.  Other pointed out that
NetMeeting doesn't currently work with Wine and it will be quite a
challenge to fix it.  Most Wine developers seem to always support
native programs first, but the trade-off may be a learning curve or
lost $$$ when switching to a new app.  Shachar Shemesh explained his
position,
<quote who="Shachar Shemesh">
Well, I guess making a new app work on Wine is a non-trivial task, and 
so people prefer to focus their efforts where the app is truly needed - 
i.e., where no native free software alternative is available. This does 
not mean that David can't hack wine to make NetMeeting work himself, or 
that Alexandre won't commit it. It just means that I, for one, have 
little incentive to jump in at the moment. Once Jerome pointed (me) to 
GnomeMeeting (how did they skip the chance to call it Gnomeeting??), 
it's not my itch any more.</quote></p>



</section>
<section 
	title="Using Wine's Builtin C Runtime" 
	subject="include files"
	archive="http://www.winehq.org/hypermail/wine-devel/2003/11/0428.html" 
	posts="6"
	startdate="11/19/2003"
	enddate="11/20/2003"
>
<topic>Winelib</topic>
<p>Ralf Juengling had a question about using some of Wine's builtin
functions for compilation:</p>
<quote who="Ralf Juengling"><p>
A Makefile created by winemaker &amp; configure adds <tt>
/wherever/include/wine/windows</tt> to the include paths.
</p><p>
Why doesn't it also add
<tt>/wherever/include/wine/msvcrt </tt>?
</p><p>What is the status of the include files in msvcrt?</p></quote>


<p>With regard to the first question, Alexandre replied,
<quote who="Alexandre Julliard">
Because not everybody wants to use msvcrt. Unless you need some
specific features of the Windows C run time, in a Winelib app you are
better off using the standard Unix C library.
</quote> As to the status, Alexandre felt they were fine,
<quote who="Alexandre Julliard">
They should work just fine. Make sure you also import msvcrt if you
use the headers.
</quote></p>

<p>Ralf didn't think they would work though:</p>
<quote who="Ralf Juengling"><p>

... but I also need things defined in &lt;math.h&gt;. The file 
mscvrt/math.h coming with wine, however, is empty. So have
to include things from the Windows C runtime library 
and the Unix C library. For some reason, the cpp picks
wine's version of 'math.h' first even if '-I/usr/include'
precedes '-I/local/include/wine/msvcrt' on the command line.
</p><p>
So my solution to make it compile was to remove wine's 
'math.h'. That's why I would say the include files are 
incomplete. How do other people deal with a case like the 
one I described?
</p></quote>


<p>Ralf overlooked Alexandre's obvious answer,
<quote who="Alexandre Julliard">
By submitting a patch to add the missing definitions &lt;g&gt;
</quote></p>



</section></kc>
