From damjan.jov at gmail.com  Fri May  1 03:05:30 2009
From: damjan.jov at gmail.com (Damjan Jovanovic)
Date: Fri, 1 May 2009 10:05:30 +0200
Subject: tools/wine.desktop: reduce MIME types to
	application/x-ms-dos-executable and application/x-msi
In-Reply-To: <49FA26B0.8020304@open-vote.org>
References: <49FA26B0.8020304@open-vote.org>
Message-ID: <9e89675b0905010105r47c89080w74d16593e6811ce4@mail.gmail.com>

On Fri, May 1, 2009 at 12:31 AM, Scott Ritchie <scott at open-vote.org> wrote:
> tools/wine.desktop: reduce MIME types to application/x-ms-dos-executable and
> application/x-msi
>
>
>
>

If you're not going to motivate this in the email, you could at least
refer people to bug 18307.

Also, do distributions outside Ubuntu come up with the same MIME types?

Damjan


From thunderbird2k at gmail.com  Fri May  1 03:13:23 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Fri, 1 May 2009 10:13:23 +0200
Subject: Wine + Mono + application = library not found?
In-Reply-To: <6fc03d800904301636l130337daw6503a178e4e7c9ca@mail.gmail.com>
References: <6fc03d800904301636l130337daw6503a178e4e7c9ca@mail.gmail.com>
Message-ID: <c8485d470905010113s74269673n23daaa5bd48a3bb5@mail.gmail.com>

On Fri, May 1, 2009 at 1:36 AM, Seth Shelnutt <shelnutt2 at gmail.com> wrote:
> Hello all,
>
> I'm trying to see if I can get a folding monitor,
> http://code.google.com/p/hfm-net/ working in Wine. I've installed the latest
> wine, 1.1.20, and the latest mono for windows 2.4. It seems however that
> either mono or Wine, I think wine, is not seeing the library file from gtk.
> However it is in my lib folder. Does anyone have any idea where wine is
> looking for the lib to be at? This is on a Debian "testing" (Squeeze I
> guess, but I keep my repos under the "testing" and no name, I use the wine
> "sid" repo) install.
>
>
> shelnutt at K-Server:~/Downloads/HFM Release 0.1.1.10$ wine HFM.exe
>
> Unhandled Exception: System.TypeInitializationException: An exception was
> thrown by the type initializer for System.Windows.Forms.MimeIconEngine --->
> System.DllNotFoundException: libgdk-x11-2.0.so.0
> ? at (wrapper managed-to-native)
> System.Windows.Forms.GnomeUtil:gdk_init_check (intptr,intptr)
> ? at System.Windows.Forms.GnomeUtil.Init () [0x00000]
> ? at System.Windows.Forms.GnomeUtil.GetIcon (System.String icon, Int32 size)
> [0x00000]
> ? at System.Windows.Forms.GnomeHandler.AddGnomeIcon (System.String
> internal_mime_type, System.String name) [0x00000]
> ? at System.Windows.Forms.GnomeHandler.CreateUIIcons () [0x00000]
> ? at System.Windows.Forms.GnomeHandler.Start () [0x00000]
> ? at System.Windows.Forms.MimeIconEngine..cctor () [0x00000]
> ? --- End of inner exception stack trace ---
> ? at System.Windows.Forms.WinFileSystem..ctor () [0x00000]
> ? at System.Windows.Forms.MWFVFS..ctor () [0x00000]
> ? at System.Windows.Forms.FileDialog..ctor () [0x00000]
> ? at System.Windows.Forms.OpenFileDialog..ctor () [0x00000]
> ? at (wrapper remoting-invoke-with-check)
> System.Windows.Forms.OpenFileDialog:.ctor ()
> ? at HFM.Forms.frmMain.InitializeComponent () [0x00000]
> ? at HFM.Forms.frmMain..ctor () [0x00000]
> ? at (wrapper remoting-invoke-with-check) HFM.Forms.frmMain:.ctor ()
> ? at HFM.Program.Main (System.String[] argv) [0x00000]
>
> shelnutt at K-Server:~/Downloads/HFM Release 0.1.1.10$ locate
> libgdk-x11-2.0.so.0
> /home/shelnutt/opt/gps/lib/libgdk-x11-2.0.so.0
> /usr/lib/libgdk-x11-2.0.so.0
> /usr/lib/libgdk-x11-2.0.so.0.1600.1
>
>
> Thanks,
>
> Seth Shelnutt
>
>
>
>
>

When using win32 mono it should be using win32 gtk / gdk. I believe
those dlls have about the same names as the linux ones. Make sure that
win32 moni is really used. Second win32 mono only works for a limited
number of apps for most things you need ms .net. I would suggest to
try it using native mono first. Since the source is also around it
would also be easy to locate mono bugs (hopefully the app doesn't make
any win32 calls).

Roderick


From austinenglish at gmail.com  Fri May  1 03:14:24 2009
From: austinenglish at gmail.com (Austin English)
Date: Fri, 1 May 2009 03:14:24 -0500
Subject: tools/wine.desktop: reduce MIME types to
	application/x-ms-dos-executable and application/x-msi
In-Reply-To: <9e89675b0905010105r47c89080w74d16593e6811ce4@mail.gmail.com>
References: <49FA26B0.8020304@open-vote.org>
	<9e89675b0905010105r47c89080w74d16593e6811ce4@mail.gmail.com>
Message-ID: <b6bb06270905010114k658d7e0ej2566840cd9c801ec@mail.gmail.com>

On Fri, May 1, 2009 at 3:05 AM, Damjan Jovanovic <damjan.jov at gmail.com> wrote:
> On Fri, May 1, 2009 at 12:31 AM, Scott Ritchie <scott at open-vote.org> wrote:
>> tools/wine.desktop: reduce MIME types to application/x-ms-dos-executable and
>> application/x-msi
>>
>>
>>
>>
>
> If you're not going to motivate this in the email, you could at least
> refer people to bug 18307.
>
> Also, do distributions outside Ubuntu come up with the same MIME types?
>
> Damjan
>
>
>

What about .bat files, etc.?

-- 
-Austin


From scott at open-vote.org  Fri May  1 03:16:47 2009
From: scott at open-vote.org (Scott Ritchie)
Date: Fri, 01 May 2009 01:16:47 -0700
Subject: tools/wine.desktop: reduce MIME types
	to	application/x-ms-dos-executable and application/x-msi
In-Reply-To: <9e89675b0905010105r47c89080w74d16593e6811ce4@mail.gmail.com>
References: <49FA26B0.8020304@open-vote.org>
	<9e89675b0905010105r47c89080w74d16593e6811ce4@mail.gmail.com>
Message-ID: <49FAAFEF.5090408@open-vote.org>

Damjan Jovanovic wrote:
> On Fri, May 1, 2009 at 12:31 AM, Scott Ritchie <scott at open-vote.org> wrote:
>> tools/wine.desktop: reduce MIME types to application/x-ms-dos-executable and
>> application/x-msi
>>
>>
>>
>>
> 
> If you're not going to motivate this in the email, you could at least
> refer people to bug 18307.
> 
> Also, do distributions outside Ubuntu come up with the same MIME types?
> 
> Damjan
> 
> 

Fedora already patches out x-executable.

Thanks,
Scott Ritchie


From scott at open-vote.org  Fri May  1 03:17:57 2009
From: scott at open-vote.org (Scott Ritchie)
Date: Fri, 01 May 2009 01:17:57 -0700
Subject: tools/wine.desktop: reduce MIME types
	to	application/x-ms-dos-executable and application/x-msi
In-Reply-To: <b6bb06270905010114k658d7e0ej2566840cd9c801ec@mail.gmail.com>
References: <49FA26B0.8020304@open-vote.org>	<9e89675b0905010105r47c89080w74d16593e6811ce4@mail.gmail.com>
	<b6bb06270905010114k658d7e0ej2566840cd9c801ec@mail.gmail.com>
Message-ID: <49FAB035.2060903@open-vote.org>

Austin English wrote:
> On Fri, May 1, 2009 at 3:05 AM, Damjan Jovanovic <damjan.jov at gmail.com> wrote:
>> On Fri, May 1, 2009 at 12:31 AM, Scott Ritchie <scott at open-vote.org> wrote:
>>> tools/wine.desktop: reduce MIME types to application/x-ms-dos-executable and
>>> application/x-msi
>>>
>>>
>>>
>>>
>> If you're not going to motivate this in the email, you could at least
>> refer people to bug 18307.
>>
>> Also, do distributions outside Ubuntu come up with the same MIME types?
>>
>> Damjan
>>
>>
>>
> 
> What about .bat files, etc.?
> 

Those already don't work as far as I know.  An patch to shared-mime-info 
is needed for them.

Thanks,
Scott Ritchie


From julliard at winehq.org  Fri May  1 06:13:05 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Fri, 01 May 2009 13:13:05 +0200
Subject: user32: combine horizontal and vertical window scroll bar info in
	a single structure.
In-Reply-To: <1241154198-7770-1-git-send-email-wijn@online.nl> (Rein Klazes's
	message of "Fri, 1 May 2009 07:03:18 +0200")
References: <1241154198-7770-1-git-send-email-wijn@online.nl>
Message-ID: <87tz45f54u.fsf@wine.dyndns.org>

Rein Klazes <wijn at online.nl> writes:

> -    if (!infoPtr && alloc)
> +    if (!infoPtr && ( alloc || (wndPtr->dwStyle & (WS_VSCROLL | WS_HSCROLL))))
>      {

This bit doesn't look right, and defeats the purpose of the alloc
flag. It would need some more test cases.

-- 
Alexandre Julliard
julliard at winehq.org


From julliard at winehq.org  Fri May  1 06:25:33 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Fri, 01 May 2009 13:25:33 +0200
Subject: [2/2] winex11.drv: export copied images as image/bmp
In-Reply-To: <33F6268AA99B6C448F07F03B2B6497D321FB44@taz.CodeWeavers.local>
	(Vincent Povirk's message of "Thu, 30 Apr 2009 14:47:31 -0500")
References: <33F6268AA99B6C448F07F03B2B6497D321FB44@taz.CodeWeavers.local>
Message-ID: <87iqklf4k2.fsf@wine.dyndns.org>

"Vincent Povirk" <vincent at codeweavers.com> writes:

> +    if (dibinfo->biBitCount < 16)
> +        numcolors = dibinfo->biClrUsed || 1<<dibinfo->biBitCount;

You have been doing too much Perl ;-)

-- 
Alexandre Julliard
julliard at winehq.org


From julliard at winehq.org  Fri May  1 06:17:31 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Fri, 01 May 2009 13:17:31 +0200
Subject: winemenubuilder: add Wine's MIME types to freedesktop (try2)
In-Reply-To: <9e89675b0904291130t370c84fdl496c89dc242fbfeb@mail.gmail.com>
	(Damjan Jovanovic's message of "Wed, 29 Apr 2009 20:30:07 +0200")
References: <9e89675b0904291130t370c84fdl496c89dc242fbfeb@mail.gmail.com>
Message-ID: <87my9xf4xg.fsf@wine.dyndns.org>

Damjan Jovanovic <damjan.jov at gmail.com> writes:

> +static void strlwrA(char *str)
> +{
> +    while ((*str = tolower(*str))) str++;
> +}

That won't work on utf-8. You should do it on the Unicode string before
conversion.

-- 
Alexandre Julliard
julliard at winehq.org


From dank at kegel.com  Fri May  1 06:38:31 2009
From: dank at kegel.com (Dan Kegel)
Date: Fri, 1 May 2009 04:38:31 -0700
Subject: Trying buildbot on wine; foiled by distutils expecting mscoree to be 
	resident?
Message-ID: <a71bd89a0905010438o4f3a1806oe631a9b1c5b21aa8@mail.gmail.com>

I decided to try running buildbot on Wine today.
The installation procedure is roughly
  wine msiexec /i python-2.6.2.msi /qb
  wine Twisted_NoDocs-8.2.0.win32-py2.6.exe

The last bit complains
Traceback (most recent call last):
  File "C:\Python26\scripts\twisted_postinstall.py", line 11, in <module>
    from twisted.scripts import tkunzip
  File "C:\Python26\lib\site-packages\twisted\scripts\tkunzip.py",
line 26, in <module>
    from twisted.internet import reactor, defer
  File "C:\Python26\lib\site-packages\twisted\internet\reactor.py",
line 37, in <module>
    from twisted.internet import selectreactor
  File "C:\Python26\lib\site-packages\twisted\internet\selectreactor.py",
line 21, in <module>
    from twisted.internet import posixbase
  File "C:\Python26\lib\site-packages\twisted\internet\posixbase.py",
line 25, in <module>
    from twisted.internet import tcp, udp
  File "C:\Python26\lib\site-packages\twisted\internet\tcp.py", line
78, in <module>
    from twisted.internet import defer, base, address
  File "C:\Python26\lib\site-packages\twisted\internet\defer.py", line
17, in <module>
    from twisted.python import log, failure, lockfile
  File "C:\Python26\lib\site-packages\twisted\python\lockfile.py",
line 28, in <module>
    from win32api import OpenProcess
ImportError: No module named win32api
and hangs, possibly because of
http://twistedmatrix.com/trac/ticket/3707
so I tried doing
  wine pywin32-212.win32-py2.6.exe
first.  This fails immediately as described in
http://bugs.winehq.org/show_bug.cgi?id=13844
It seems to terminate because it tries to get
a handle to the loaded copy of mscoree.dll
and fails (because there isn't one).

The installer seems to have been created by python's distutils.

Mark Hammond seems to be well aware of low level
issues that affect the installer, see e.g.
http://bugs.python.org/issue5075
so perhaps he could explain why the installer expects
mscoree.dll to be resident...


From scott at open-vote.org  Fri May  1 06:17:28 2009
From: scott at open-vote.org (Scott Ritchie)
Date: Fri, 01 May 2009 04:17:28 -0700
Subject: Dib Engine: some update
In-Reply-To: <gsvfnk$dd7$1@ger.gmane.org>
References: <gsvfnk$dd7$1@ger.gmane.org>
Message-ID: <49FADA48.1080502@open-vote.org>

Massimo Del Fedele wrote:
> I put on bug's 421 page an update of my dib engine.
> It implements AlphaBlend, StretchBlt and has many color fixes.
> If you want to try it, just follow instructions on above page.
> 
> Ciao
> 
> Max
> 

Keep at it, it's very exciting :)

Thanks,
Scott Ritchie


From huw at codeweavers.com  Fri May  1 06:40:38 2009
From: huw at codeweavers.com (Huw Davies)
Date: Fri, 1 May 2009 12:40:38 +0100
Subject: [2/2] winex11.drv: export copied images as image/bmp
In-Reply-To: <87iqklf4k2.fsf@wine.dyndns.org>
References: <33F6268AA99B6C448F07F03B2B6497D321FB44@taz.CodeWeavers.local>
	<87iqklf4k2.fsf@wine.dyndns.org>
Message-ID: <20090501114038.GC26762@merlot.physics.ox.ac.uk>

On Fri, May 01, 2009 at 01:25:33PM +0200, Alexandre Julliard wrote:
> "Vincent Povirk" <vincent at codeweavers.com> writes:
> 
> > +    if (dibinfo->biBitCount < 16)
> > +        numcolors = dibinfo->biClrUsed || 1<<dibinfo->biBitCount;
> 
> You have been doing too much Perl ;-)

Hi Vincent,

You may find bitmap_info_size() useful here.

Huw.


From kazade at gmail.com  Fri May  1 06:50:47 2009
From: kazade at gmail.com (Luke Benstead)
Date: Fri, 1 May 2009 12:50:47 +0100
Subject: Dib Engine: some update
In-Reply-To: <49FADA48.1080502@open-vote.org>
References: <gsvfnk$dd7$1@ger.gmane.org> <49FADA48.1080502@open-vote.org>
Message-ID: <d04858af0905010450k635ec44ej37ff67f17cde7d24@mail.gmail.com>

2009/5/1 Scott Ritchie <scott at open-vote.org>:
> Massimo Del Fedele wrote:
>>
>> I put on bug's 421 page an update of my dib engine.
>> It implements AlphaBlend, StretchBlt and has many color fixes.
>> If you want to try it, just follow instructions on above page.
>>
>> Ciao
>>
>> Max
>>
>
> Keep at it, it's very exciting :)
>
> Thanks,
> Scott Ritchie
>
>
>

Yeah, nice work Max! You are doing an amazing job, I just wish that we
knew how to get it into vanilla Wine! My bro really needs this to move
his (and several work) machines to Ubuntu, but unfortunately I'm 100
miles away and he wouldn't have a clue how to compile and patch Wine.
I might have a stab at packaging a custom version :)

Luke.


From max at veneto.com  Fri May  1 06:58:39 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Fri, 01 May 2009 13:58:39 +0200
Subject: Dib Engine: some update
In-Reply-To: <d04858af0905010450k635ec44ej37ff67f17cde7d24@mail.gmail.com>
References: <gsvfnk$dd7$1@ger.gmane.org> <49FADA48.1080502@open-vote.org>
	<d04858af0905010450k635ec44ej37ff67f17cde7d24@mail.gmail.com>
Message-ID: <gteo5h$qhd$1@ger.gmane.org>

Luke Benstead ha scritto:
> 2009/5/1 Scott Ritchie <scott at open-vote.org>:
>> Massimo Del Fedele wrote:
>>> I put on bug's 421 page an update of my dib engine.
>>> It implements AlphaBlend, StretchBlt and has many color fixes.
>>> If you want to try it, just follow instructions on above page.
>>>
>>> Ciao
>>>
>>> Max
>>>
>> Keep at it, it's very exciting :)
>>
>> Thanks,
>> Scott Ritchie
>>
>>
>>
> 
> Yeah, nice work Max! You are doing an amazing job, I just wish that we
> knew how to get it into vanilla Wine! My bro really needs this to move
> his (and several work) machines to Ubuntu, but unfortunately I'm 100
> miles away and he wouldn't have a clue how to compile and patch Wine.
> I might have a stab at packaging a custom version :)
> 
> Luke.
> 
> 
Thank you all for your messages, I'm glad it's useful for somebody :-)
I was thinking too on packaging a custom version with the patches on
my tree.... btw, I have a couple more which weren't applied because
"ugly", one allows printing on formats different than printer's
default one (a need for most autocad users...).
I'm not too good on debian packaging, but if you have some script
that can do it we could find a place to host them.

Ciao

Max




From xerox_xerox2000 at yahoo.co.uk  Fri May  1 07:04:01 2009
From: xerox_xerox2000 at yahoo.co.uk (Louis Lenders)
Date: Fri, 1 May 2009 12:04:01 +0000 (UTC)
Subject: Trying buildbot on wine;
	foiled by distutils expecting mscoree to be
	=?utf-8?b?CXJlc2lkZW50Pw==?=
References: <a71bd89a0905010438o4f3a1806oe631a9b1c5b21aa8@mail.gmail.com>
Message-ID: <loom.20090501T120204-523@post.gmane.org>


> so I tried doing
>   wine pywin32-212.win32-py2.6.exe
> first.  This fails immediately as described in
> http://bugs.winehq.org/show_bug.cgi?id=13844
> It seems to terminate because it tries to get
> a handle to the loaded copy of mscoree.dll
> and fails (because there isn't one).
> 
> The installer seems to have been created by python's distutils.
> 
> Mark Hammond seems to be well aware of low level
> issues that affect the installer, see e.g.
> http://bugs.python.org/issue5075
> so perhaps he could explain why the installer expects
> mscoree.dll to be resident...
> 
> 

This is explained here: http://bugs.winehq.org/show_bug.cgi?id=6880#c7 (I guess
it's the same issue)

Copy and paste:

--- snip ---
I've seen quite some applications that fail in the end like this one:
0009:Call kernel32.GetModuleHandleA(011bf1d4 "mscoree.dll") ret=00c5936f
0009:Ret  kernel32.GetModuleHandleA() retval=00000000 ret=00c5936f
Then ExitProcess.
--- snip ---

This has nothing to do with this bug.
The application uses dynamic msvc 7.1 runtime, which implicitly pulls
mscoree.dll in.

Normally mscrt __crtExitProcess() calls just ExitProcess() but on newer versions
 a call to __crtCorExitProcess() is made to ensure proper shutdown of managed
parts (even if you don't use managed = .NET code).

CorExitProcess() basically does this:

--- snip ---
hModule = GetModuleHandle("mscoree.dll");
if (hModule != NULL)
   pfn = (PFN_EXIT_PROCESS) GetProcAddress( hModule, "CorExitProcess");
   if (pfn != NULL) 
     pfn(status);
--- snip ---

If mscoree module or the export is not found it causes no harm.
It works as designed.

The reason for this additional (implicit) shutdown code is you have no control
whether a part of operation system or application dll (3rd party/injected) might
pull in managed stuff thats why this code exists.

Regards






From kazade at gmail.com  Fri May  1 07:07:16 2009
From: kazade at gmail.com (Luke Benstead)
Date: Fri, 1 May 2009 13:07:16 +0100
Subject: Dib Engine: some update
In-Reply-To: <gteo5h$qhd$1@ger.gmane.org>
References: <gsvfnk$dd7$1@ger.gmane.org> <49FADA48.1080502@open-vote.org>
	<d04858af0905010450k635ec44ej37ff67f17cde7d24@mail.gmail.com>
	<gteo5h$qhd$1@ger.gmane.org>
Message-ID: <d04858af0905010507y39214bf0o991c952e249ce968@mail.gmail.com>

2009/5/1 Massimo Del Fedele <max at veneto.com>:
> Luke Benstead ha scritto:
>>
>> 2009/5/1 Scott Ritchie <scott at open-vote.org>:
>>>
>>> Massimo Del Fedele wrote:
>>>>
>>>> I put on bug's 421 page an update of my dib engine.
>>>> It implements AlphaBlend, StretchBlt and has many color fixes.
>>>> If you want to try it, just follow instructions on above page.
>>>>
>>>> Ciao
>>>>
>>>> Max
>>>>
>>> Keep at it, it's very exciting :)
>>>
>>> Thanks,
>>> Scott Ritchie
>>>
>>>
>>>
>>
>> Yeah, nice work Max! You are doing an amazing job, I just wish that we
>> knew how to get it into vanilla Wine! My bro really needs this to move
>> his (and several work) machines to Ubuntu, but unfortunately I'm 100
>> miles away and he wouldn't have a clue how to compile and patch Wine.
>> I might have a stab at packaging a custom version :)
>>
>> Luke.
>>
>>
> Thank you all for your messages, I'm glad it's useful for somebody :-)
> I was thinking too on packaging a custom version with the patches on
> my tree.... btw, I have a couple more which weren't applied because
> "ugly", one allows printing on formats different than printer's
> default one (a need for most autocad users...).
> I'm not too good on debian packaging, but if you have some script
> that can do it we could find a place to host them.
>
> Ciao
>
> Max
>
>
>
>
>

I have a place we could host the packages, but it would take me some
time to learn how to package Wine... I've only ever done small
libraries.

Scott, are you the Ubuntu maintainer? If so, do you have some script
for building the packages?

Luke.


From rhillewa at como.vub.ac.be  Fri May  1 02:18:46 2009
From: rhillewa at como.vub.ac.be (Ruben Hillewaere)
Date: Fri, 1 May 2009 09:18:46 +0200
Subject: error report
Message-ID: <F9FE94D8-75D1-4F37-9A97-28BAAC92B8CA@como.vub.ac.be>

Hello,


I wanted to install (Dar)wine on my Intel Mac, first I've tried with  
the binaries found on http://wiki.winehq.org/MacOSX/Installing  The  
installation goes fine, but running any of the apps fails.

So, instead, I've tried to build Wine from Scratch, this is what I get:


ruben at CakeSlicer:~/distrib$ ./create_darwine_distrib.sh $VERSION ~/ 
Desktop/wine-$VERSION
# Packaging Darwine for version 1.1.20 using Wine sources in /Users/ 
ruben/Desktop/wine-1.1.20...
# Building Wine in /Users/ruben/Desktop/wine-1.1.20 (warning: takes a  
long time)...
configure: WARNING: mach-o/dyld_images.h: present but cannot be compiled
configure: WARNING: mach-o/dyld_images.h:     check for missing  
prerequisite headers?
configure: WARNING: mach-o/dyld_images.h: see the Autoconf documentation
configure: WARNING: mach-o/dyld_images.h:     section "Present But  
Cannot Be Compiled"
configure: WARNING: mach-o/dyld_images.h: proceeding with the  
preprocessor's result
configure: WARNING: mach-o/dyld_images.h: in the future, the compiler  
will take precedence
configure: WARNING:     ## ------------------------------------ ##
configure: WARNING:     ## Report this to wine-devel at winehq.org ##
configure: WARNING:     ## ------------------------------------ ##
configure: error: FreeType development files not found. Fonts will not  
be built.
Use the --without-freetype option if you really want this.
***** Error: Can't build wine


thanks for keeping me informed about this error,



Ruben Hillewaere
PhD student, COMO
Vrije Universiteit Brussel

Department of Computer Science
Pleinlaan 2
B-1050 Brussels
Belgium


From susancragin at earthlink.net  Fri May  1 07:44:16 2009
From: susancragin at earthlink.net (Susan Cragin)
Date: Fri, 1 May 2009 08:44:16 -0400 (EDT)
Subject: Sound problems with latest kernel -- formerly a pulseaudio
	thread but not any more
Message-ID: <11422706.1241181856410.JavaMail.root@mswamui-valley.atl.sa.earthlink.net>

>I filed ubuntu bug 369762. 

Ubuntu didn't think much of my bug. They sent me the following recipe to cure it, and marked the bug invalid. 

1) Edit /etc/pulse/client.conf, and change "autospawn = yes" to "autospawn = no"
2) `touch $HOME/.pulse_a11y_nostart'
3) `asoundconf list'
4) choose the desired card from the previous command's output, and use `asoundconf set-default-card CARD', replacing CARD as appropriate
5) `killall pulseaudio'

https://bugs.launchpad.net/ubuntu/+source/pulseaudio/+bug/348353
mentions a recent kernel patch that routes all audio through pulse. I wonder if this patch is the culprit?




From julliard at winehq.org  Fri May  1 07:53:33 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Fri, 01 May 2009 14:53:33 +0200
Subject: ws2_32/tests: add initial tests for WSAStartup
In-Reply-To: <b6bb06270904281337x6fd62ce9m27ce24b61f65e6f2@mail.gmail.com>
	(Austin English's message of "Tue, 28 Apr 2009 15:37:38 -0500")
References: <b6bb06270904281337x6fd62ce9m27ce24b61f65e6f2@mail.gmail.com>
Message-ID: <87bpqdf0he.fsf@wine.dyndns.org>

Austin English <austinenglish at gmail.com> writes:

>  CTESTS = \
>  	protocol.c \
> -	sock.c
> +	sock.c \
> +	startup.c

There's no need to create a new file for such a small test.

-- 
Alexandre Julliard
julliard at winehq.org


From jnewman at codeweavers.com  Fri May  1 09:12:01 2009
From: jnewman at codeweavers.com (Jeremy Newman)
Date: Fri, 01 May 2009 09:12:01 -0500
Subject: Added Polish translation
In-Reply-To: <1241108865-9151-1-git-send-email-lukasz.wojnilowicz@gmail.com>
References: <1> <1241108865-9151-1-git-send-email-lukasz.wojnilowicz@gmail.com>
Message-ID: <49FB0331.80009@codeweavers.com>

Issues with your website translation files:

* please strip the html,head,meta, and body HTML tags from the 
templates. The are not needed as they are generated by the website.
* your editor is munging the template vars like {$root} to %7B$root%7D
* your editor is adding LANG="pl-PL" to many tags, it is not needed as 
the files are UTF-8, and the website engine, sets the correct headers.

It would be better if you used a plain text editor rather than open 
office to edit the files.

-Newman

?ukasz Wojni?owicz wrote:
> From: ?ukasz Wojni?owicz <Wojnilowicz at nslw.hstl.put.poznan.pl>
> 
> ---
>  include/data.php                   |    4 +
>  templates/pl/.cvsignore            |    2 +
>  templates/pl/announce.template     |   19 +++
>  templates/pl/download.template     |  280 ++++++++++++++++++++++++++++++++++++
>  templates/pl/download/deb.template |  127 ++++++++++++++++
>  templates/pl/home.template         |   70 +++++++++
>  templates/pl/interview.template    |   18 +++
>  templates/pl/irc.template          |   27 ++++
>  templates/pl/lang.template         |   36 +++++
>  templates/pl/news.template         |   21 +++
>  templates/pl/search.template       |   40 +++++
>  11 files changed, 644 insertions(+), 0 deletions(-)
>  create mode 100644 templates/pl/.cvsignore
>  create mode 100644 templates/pl/announce.template
>  create mode 100644 templates/pl/download.template
>  create mode 100644 templates/pl/download/deb.template
>  create mode 100644 templates/pl/home.template
>  create mode 100644 templates/pl/interview.template
>  create mode 100644 templates/pl/irc.template
>  create mode 100644 templates/pl/lang.template
>  create mode 100644 templates/pl/news.template
>  create mode 100644 templates/pl/search.template
> 
> diff --git a/include/data.php b/include/data.php
> index a0e2f5f..c9a656b 100644
> --- a/include/data.php
> +++ b/include/data.php
> @@ -61,6 +61,10 @@ class data
>                                                 'name'   => 'Fran?ais',
>                                                 'change' => 'Changez la langue'
>                                                ),
> +                                 'pl' => array(
> +                                               'name'   => 'Polski',
> +                                               'change' => 'Zmie? j?zyk'
> +                                              ),
>                                   'pt' => array(
>                                                 'name'   => 'Portugu?s',
>                                                 'change' => 'Mudar a l?ngua'
> diff --git a/templates/pl/.cvsignore b/templates/pl/.cvsignore
> new file mode 100644
> index 0000000..0ba44f6
> --- /dev/null
> +++ b/templates/pl/.cvsignore
> @@ -0,0 +1,2 @@
> +docs
> +winapi_stats.template
> diff --git a/templates/pl/announce.template b/templates/pl/announce.template
> new file mode 100644
> index 0000000..2181953
> --- /dev/null
> +++ b/templates/pl/announce.template
> @@ -0,0 +1,19 @@
> +<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
> +<HTML>
> +<HEAD>
> +	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
> +	<TITLE></TITLE>
> +	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.0  (Linux)">
> +	<META NAME="CREATED" CONTENT="0;0">
> +	<META NAME="CHANGEDBY" CONTENT="?ukasz Wojni?owicz">
> +	<META NAME="CHANGED" CONTENT="20090429;16395900">
> +	<META NAME="CHANGEDBY" CONTENT="?ukasz Wojni?owicz">
> +	<!--TITLE:[Wine Announcement]-->
> +	<!--BLURB:[Alexandre Julliard says...]-->
> +</HEAD>
> +<BODY LANG="en-US" DIR="LTR">
> +<H1 LANG="pl-PL">Og?oszenie nowego Wine</H1>
> +<P><!--EXEC:[announce]--><BR><BR>
> +</P>
> +</BODY>
> +</HTML>
> \ No newline at end of file
> diff --git a/templates/pl/download.template b/templates/pl/download.template
> new file mode 100644
> index 0000000..be85e37
> --- /dev/null
> +++ b/templates/pl/download.template
> @@ -0,0 +1,280 @@
> +<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
> +<HTML>
> +<HEAD>
> +	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
> +	<TITLE></TITLE>
> +	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.0  (Linux)">
> +	<META NAME="CREATED" CONTENT="0;0">
> +	<META NAME="CHANGEDBY" CONTENT="?ukasz Wojni?owicz">
> +	<META NAME="CHANGED" CONTENT="20090429;17143300">
> +	<META NAME="Info 1" CONTENT="">
> +	<META NAME="Info 2" CONTENT="">
> +	<META NAME="Info 3" CONTENT="">
> +	<META NAME="Info 4" CONTENT="">
> +	<!--TITLE:[Wine Binary Downloads]-->
> +	<!--BLURB:[Download Wine for your favorite OS here.]-->
> +</HEAD>
> +<BODY LANG="en-US" DIR="LTR">
> +<H1 LANG="pl-PL">Pobieralnia Wine</H1>
> +<H2 LANG="pl-PL" STYLE="margin-top: 0cm; margin-bottom: 0.26cm">Wine
> +ze wsparciem technicznym</H2>
> +<TABLE BORDER=0 CELLPADDING=5 CELLSPACING=1 BGCOLOR="#efefef">
> +	<TR>
> +		<TD BGCOLOR="#000000">
> +			<P LANG="pl-PL" ALIGN=CENTER><FONT COLOR="#ffffff"><B>Produkt</B></FONT></P>
> +		</TD>
> +		<TD BGCOLOR="#000000">
> +			<P LANG="pl-PL" ALIGN=CENTER><FONT COLOR="#ffffff"><B>Opis</B></FONT></P>
> +		</TD>
> +	</TR>
> +	<TR>
> +		<TD BGCOLOR="#ffffff">
> +			<P ALIGN=CENTER><A HREF="http://www.codeweavers.com/products/download_trial/"><IMG SRC="%7B$root%7D/images/distro/crossover.png" NAME="graphics1" ALT="CrossOver Linux or Mac" ALIGN=BOTTOM WIDTH=50 HEIGHT=50 BORDER=0></A><A HREF="http://www.codeweavers.com/products/download_trial/">
> +			</A>
> +			</P>
> +		</TD>
> +		<TD BGCOLOR="#ffffff">
> +			<P ALIGN=LEFT><A HREF="http://www.codeweavers.com/products/"><SPAN LANG="pl-PL"><B>CrossOver</B></SPAN></A><SPAN LANG="pl-PL">
> +			jest dobrze wyko?czon? wersj? dostarczan? przez </SPAN><A HREF="http://www.codeweavers.com/"><SPAN LANG="pl-PL"><B>CodeWeavers</B></SPAN></A><SPAN LANG="pl-PL">.
> +			CrossOver usprawnia u?ywanie Wine, a CodeWeavers zapewnia
> +			wspania?e wsparcie techniczne swoim u?ytkownikom. Wszystkie
> +			fundusze ze sprzeda?y CrossOvera s? przekazywane bezpo?rednio
> +			jako wsparcie dla programist?w pracuj?cych nad Wine. Tak wi?c
> +			CrossOver jest jest wspania?? drog? uzyskania wsparcia jak
> +			r?wnie? wspierania Projektu Wine. CodeWeavers dostarcza w pe?ni
> +			funkcjonaln? </SPAN><A HREF="http://www.codeweavers.com/products/download_trial/"><SPAN LANG="pl-PL"><B>wersj?
> +			trialow? CrossOver</B></SPAN></A><SPAN LANG="pl-PL">. </SPAN>
> +			</P>
> +		</TD>
> +	</TR>
> +</TABLE>
> +<P LANG="pl-PL" ALIGN=CENTER>To poparcie jest g??wnym dowodem
> +uznania wymaganym przez CodeWeavers w zamian za hostowanie strony
> +Wine.</P>
> +<H2 LANG="pl-PL" STYLE="margin-top: 0cm; margin-bottom: 0.13cm"><A NAME="binary"></A>
> +Pobieralnia binari?w Wine</H2>
> +<TABLE WIDTH=100% CELLPADDING=2 CELLSPACING=2>
> +	<TR>
> +		<TD WIDTH=200>
> +			<P LANG="pl-PL">Najnowsze stabilne wydanie:</P>
> +		</TD>
> +		<TD>
> +			<P LANG="pl-PL">Wine&nbsp;{$config_stable_release}</P>
> +		</TD>
> +		<TD ROWSPAN=2 VALIGN=TOP>
> +			<P ALIGN=CENTER STYLE="border: none; padding: 0cm"><SPAN LANG="pl-PL"><B>Zajrzyj
> +			do <A HREF="http://wiki.winehq.org/HowTo">samouczka konfiguracji i
> +			instalacji</A>, aby zaznajomi? si? z czynno?ciami
> +			po-instalacyjnymi.</B></SPAN></P>
> +		</TD>
> +	</TR>
> +	<TR>
> +		<TD>
> +			<P LANG="pl-PL">Najnowsze rozwojowe wydanie:</P>
> +		</TD>
> +		<TD>
> +			<P LANG="pl-PL">Wine&nbsp;{$config_master_release}</P>
> +		</TD>
> +	</TR>
> +</TABLE>
> +<TABLE BORDER=0 CELLPADDING=5 CELLSPACING=1 BGCOLOR="#efefef">
> +	<TR>
> +		<TD BGCOLOR="#000000">
> +			<P LANG="pl-PL" ALIGN=CENTER><FONT COLOR="#ffffff"><B>System</B></FONT></P>
> +		</TD>
> +		<TD BGCOLOR="#000000">
> +			<P LANG="pl-PL" ALIGN=CENTER><FONT COLOR="#ffffff"><B>Notki</B></FONT></P>
> +		</TD>
> +		<TD BGCOLOR="#000000">
> +			<P LANG="pl-PL" ALIGN=CENTER><FONT COLOR="#ffffff"><B>Opiekun</B></FONT></P>
> +		</TD>
> +	</TR>
> +	<TR BGCOLOR="#ffffff">
> +		<TD>
> +			<P LANG="pl-PL" ALIGN=CENTER><A HREF="%7B$root%7D/download/deb"><IMG SRC="%7B$root%7D/images/distro/ubuntu.png" NAME="graphics2" ALT="Ubuntu linux" ALIGN=BOTTOM WIDTH=50 HEIGHT=50 BORDER=0></A>
> +						</P>
> +		</TD>
> +		<TD>
> +			<P><A HREF="%7B$root%7D/download/deb"><SPAN LANG="pl-PL"><B>Ubuntu</B></SPAN></A><SPAN LANG="pl-PL">
> +			binare i ?r?d?owe paczki .deb dla Ubuntu Hardy (8.04), Intrepid
> +			(8.10), i Jaunty (9.04) </SPAN>
> +			</P>
> +		</TD>
> +		<TD>
> +			<P><A HREF="mailto:scott at open-vote.org"><SPAN LANG="pl-PL">Scott
> +			Ritchie</SPAN></A></P>
> +		</TD>
> +	</TR>
> +	<TR BGCOLOR="#ffffff">
> +		<TD>
> +			<P LANG="pl-PL" ALIGN=CENTER><A HREF="%7B$root%7D/download/deblenny"><IMG SRC="%7B$root%7D/images/distro/debian.png" NAME="graphics3" ALT="Debian Linux" ALIGN=BOTTOM WIDTH=50 HEIGHT=50 BORDER=0></A>
> +						</P>
> +		</TD>
> +		<TD>
> +			<P><A HREF="%7B$root%7D/download/deblenny"><SPAN LANG="pl-PL"><B>Debian</B></SPAN></A><SPAN LANG="pl-PL">
> +			binarne paczki .deb dla Debian Lenny, Squeeze i Sid</SPAN></P>
> +		</TD>
> +		<TD>
> +			<P><SPAN LANG="pl-PL"><A HREF="mailto:repository at lamaresh.net">Maurilio
> +			Genovese</A><BR><A HREF="mailto:ben.klein at lamaresh.net">Ben Klein</A></SPAN></P>
> +		</TD>
> +	</TR>
> +	<TR BGCOLOR="#ffffff">
> +		<TD>
> +			<P LANG="pl-PL" ALIGN=CENTER><A HREF="http://fedoraproject.org/wiki/AndreasBierfert/Wine"><IMG SRC="%7B$root%7D/images/distro/redhat.png" NAME="graphics4" ALT="RedHat Linux" ALIGN=BOTTOM WIDTH=50 HEIGHT=50 BORDER=0></A>
> +						</P>
> +		</TD>
> +		<TD>
> +			<P><A HREF="http://fedoraproject.org/wiki/AndreasBierfert/Wine"><SPAN LANG="pl-PL"><B>Red
> +			Hat / CentOS / Fedora</B></SPAN></A><SPAN LANG="pl-PL"> binarne i
> +			?r?d?owe .rpmy dla Red Hat Enterprise Linux 4, 5; CentOS 4, 5;
> +			Fedora Core 5, 6; Fedora Linux 7 i kompatybilnych dystrybucji. The
> +			wine meta package is available via </SPAN><TT><SPAN LANG="pl-PL">yum</SPAN></TT><SPAN LANG="pl-PL">
> +			through the EPEL / Fedora Extras / Fedora repository by running </SPAN><TT><SPAN LANG="pl-PL">$
> +			yum install wine </SPAN></TT><SPAN LANG="pl-PL">&quot; </SPAN>
> +			</P>
> +		</TD>
> +		<TD>
> +			<P><A HREF="mailto:andreas.bierfert_at_lowlatency.de"><SPAN LANG="pl-PL">Andreas
> +			Bierfert</SPAN></A></P>
> +		</TD>
> +	</TR>
> +	<TR BGCOLOR="#ffffff">
> +		<TD>
> +			<P LANG="pl-PL" ALIGN=CENTER><A HREF="http://en.opensuse.org/Wine#Repositories"><IMG SRC="%7B$root%7D/images/distro/suse.png" NAME="graphics5" ALT="SUSE Linux" ALIGN=BOTTOM WIDTH=50 HEIGHT=50 BORDER=0></A>
> +						</P>
> +		</TD>
> +		<TD>
> +			<P><A HREF="http://en.opensuse.org/Wine#Repositories"><SPAN LANG="pl-PL"><B>SUSE</B></SPAN></A><SPAN LANG="pl-PL">
> +			binarne i ?r?d?owe .rpmy i dzienne zrzuty RPM dla openSUSE
> +			10.3, 11.0, 11.1 i SLES 9 i SLE 10. Starsze wersje paczek dost?pne
> +			na <A HREF="http://sourceforge.net/project/showfiles.php?group_id=6241&amp;package_id=79444">SourceForge</A>
> +			</SPAN>
> +			</P>
> +		</TD>
> +		<TD>
> +			<P><A HREF="mailto:meissner at suse.de"><SPAN LANG="pl-PL">Marcus
> +			Meissner</SPAN></A></P>
> +		</TD>
> +	</TR>
> +	<TR BGCOLOR="#ffffff">
> +		<TD>
> +			<P LANG="pl-PL" ALIGN=CENTER><A HREF="http://sourceforge.net/project/showfiles.php?group_id=6241&amp;package_id=80066"><IMG SRC="%7B$root%7D/images/distro/mandriva.png" NAME="graphics6" ALT="Mandriva Linux" ALIGN=BOTTOM WIDTH=50 HEIGHT=50 BORDER=0></A>
> +						</P>
> +		</TD>
> +		<TD>
> +			<P><A HREF="http://sourceforge.net/project/showfiles.php?group_id=6241&amp;package_id=80066"><SPAN LANG="pl-PL"><B>Mandriva</B></SPAN></A><SPAN LANG="pl-PL">
> +			binarne .rpmy dla Mandriva Linux 2006, 2007, i 2008. Pobierz
> +			paczk? 2008.1 je?eli twoja Mandriva to wydanie 2008.1 , np. 2008
> +			Spring. Pobierz paczk? 2008.0 je?eli twoja Mandriva jest
> +			pierwszym wydaniem z 2008 roku.</SPAN></P>
> +		</TD>
> +		<TD>
> +			<P><A HREF="mailto:marco at mandrivaclub.nl"><SPAN LANG="pl-PL">Marco
> +			Meijer</SPAN></A></P>
> +		</TD>
> +	</TR>
> +	<TR BGCOLOR="#ffffff">
> +		<TD>
> +			<P LANG="pl-PL" ALIGN=CENTER><A HREF="http://sourceforge.net/project/showfiles.php?group_id=6241&amp;package_id=6301"><IMG SRC="%7B$root%7D/images/distro/slackware.png" NAME="graphics7" ALT="Slackware linux" ALIGN=BOTTOM WIDTH=50 HEIGHT=50 BORDER=0></A>
> +						</P>
> +		</TD>
> +		<TD>
> +			<P><A HREF="http://sourceforge.net/project/showfiles.php?group_id=6241&amp;package_id=6301"><SPAN LANG="pl-PL"><B>Slackware</B></SPAN></A><SPAN LANG="pl-PL">
> +			binarne .tgz dla Slackware 10.2</SPAN></P>
> +		</TD>
> +		<TD>
> +			<P><A HREF="mailto:sadam at clemson.edu"><SPAN LANG="pl-PL">Adam
> +			Schreiber</SPAN></A></P>
> +		</TD>
> +	</TR>
> +	<TR BGCOLOR="#ffffff">
> +		<TD>
> +			<P LANG="pl-PL" ALIGN=CENTER><A HREF="http://www.freshports.org/emulators/wine/"><IMG SRC="%7B$root%7D/images/distro/freebsd.png" NAME="graphics8" ALT="FreeBSD" ALIGN=BOTTOM WIDTH=50 HEIGHT=54 BORDER=0></A>
> +						</P>
> +		</TD>
> +		<TD>
> +			<P><A HREF="http://www.freshports.org/emulators/wine/"><SPAN LANG="pl-PL"><B>FreeBSD</B></SPAN></A><SPAN LANG="pl-PL">
> +			?r?d?a dla FreeBSD 5.3 i p??niejszych</SPAN></P>
> +		</TD>
> +		<TD>
> +			<P><A HREF="mailto:gerald at pfeifer.com"><SPAN LANG="pl-PL">Gerald
> +			Pfeifer</SPAN></A></P>
> +		</TD>
> +	</TR>
> +	<TR BGCOLOR="#ffffff">
> +		<TD>
> +			<P LANG="pl-PL" ALIGN=CENTER><A HREF="http://www.pbidir.com/bt/search/?str=wine&amp;search=Search"><IMG SRC="%7B$root%7D/images/distro/pcbsd.png" NAME="graphics9" ALT="FreeBSD" ALIGN=BOTTOM WIDTH=50 HEIGHT=50 BORDER=0></A>
> +						</P>
> +		</TD>
> +		<TD>
> +			<P><A HREF="http://www.pbidir.com/bt/search/?str=wine&amp;search=Search"><SPAN LANG="pl-PL"><B>PC-BSD</B></SPAN></A><SPAN LANG="pl-PL">
> +			binarne paczki .pbi dla PC-BSD (system bazuj?cy na FreeBSD)</SPAN></P>
> +		</TD>
> +		<TD>
> +			<P><A HREF="mailto:kris at pcbsd.com"><SPAN LANG="pl-PL">Kris Moore</SPAN></A></P>
> +		</TD>
> +	</TR>
> +</TABLE>
> +<H2 LANG="pl-PL" STYLE="margin-top: 0cm; margin-bottom: 0.26cm">Aplikacje
> +os?b trzecich</H2>
> +<P><SPAN LANG="pl-PL">Czasami pewne modyfikacje Wine mog? sprawi?,
> +?e aplikacja b?dzie dzia?a?, ale z pewnych powod?w zmiany te nie
> +mog? by? wcielone do Wine. Stworzono r??ne aplikacje (tzw.
> +aplikacje os?b trzecich), aby pom?c przezwyci??y? niedobory w
> +Wine. Aplikacje te s? ca?kowicie niewspierane przez programist?w
> +Wine, jednak?e mog? ci si? przyda?. Aby dowiedzie? si? wi?cej,
> +odwied? <A HREF="http://wiki.winehq.org/ThirdPartyApplications">nasz?
> +stron? wiki</A> w poszukiwaniu aplikacji os?b trzecich.</SPAN></P>
> +<H2 LANG="pl-PL">Pobieralnia ?r?de? Wine</H2>
> +<TABLE BORDER=0 CELLPADDING=5 CELLSPACING=1 BGCOLOR="#efefef">
> +	<TR>
> +		<TD BGCOLOR="#000000">
> +			<P LANG="pl-PL" ALIGN=CENTER><FONT COLOR="#ffffff"><B>Po?o?enie</B></FONT></P>
> +		</TD>
> +		<TD BGCOLOR="#000000">
> +			<P LANG="pl-PL" ALIGN=CENTER><FONT COLOR="#ffffff"><B>Opis</B></FONT></P>
> +		</TD>
> +	</TR>
> +	<TR BGCOLOR="#ffffff">
> +		<TD>
> +			<P><A HREF="http://sourceforge.net/project/showfiles.php?group_id=6241&amp;package_id=77449" TARGET="_blank"><SPAN LANG="pl-PL">sourceforge.net</SPAN></A></P>
> +		</TD>
> +		<TD>
> +			<P LANG="pl-PL">Nasza oficjalna strona ?r?de?. 
> +			</P>
> +		</TD>
> +	</TR>
> +	<TR BGCOLOR="#ffffff">
> +		<TD>
> +			<P><SPAN LANG="pl-PL"><A HREF="http://wiki.winehq.org/GitWine">source.winehq.org/git</A>
> +			</SPAN>
> +			</P>
> +		</TD>
> +		<TD>
> +			<P LANG="pl-PL">Do najnowszych wyda? rozwojowych. 
> +			</P>
> +		</TD>
> +	</TR>
> +	<TR BGCOLOR="#ffffff">
> +		<TD>
> +			<P><A HREF="http://ibiblio.org/pub/linux/system/emulators/wine/"><SPAN LANG="pl-PL">ibiblio.org</SPAN></A></P>
> +		</TD>
> +		<TD>
> +			<P LANG="pl-PL">Alternatywna strona z oficjalnymi ?r?d?ami i
> +			dokumentacj?. 
> +			</P>
> +		</TD>
> +	</TR>
> +</TABLE>
> +<P STYLE="margin-left: 0.26cm; margin-right: 0.26cm; margin-top: 0.26cm; margin-bottom: 0.26cm; border: 1px solid #c0c0c0; padding: 0.13cm">
> +<SPAN LANG="pl-PL"><B><SPAN STYLE="background: #f0f0f0">Notka:</SPAN></B></SPAN><SPAN LANG="pl-PL"><SPAN STYLE="background: #f0f0f0">
> +Zobacz <A HREF="http://wiki.winehq.org/Recommended_Packages">zalecane
> +paczki</A> aby uzyska? pomoc przy konfiguracji i kompilacji Wine.</SPAN></SPAN></P>
> +<H2 LANG="pl-PL"><A NAME="link2us"></A>Link do nas</H2>
> +<P LANG="pl-PL"><A HREF="http://www.winehq.org/download" TARGET="_blank"><FONT COLOR="#000080"><IMG SRC="%7B$root%7D/images/download_wine.png" NAME="graphics10" ALT="Download Wine" ALIGN=LEFT HSPACE=5 WIDTH=88 HEIGHT=31 BORDER=1></FONT></A>U?yj
> +tego obrazka je?eli chcesz utworzy? dowi?zanie do naszej
> +pobieralni. 
> +</P>
> +</BODY>
> +</HTML>
> \ No newline at end of file
> diff --git a/templates/pl/download/deb.template b/templates/pl/download/deb.template
> new file mode 100644
> index 0000000..fc532fe
> --- /dev/null
> +++ b/templates/pl/download/deb.template
> @@ -0,0 +1,127 @@
> +<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
> +<HTML>
> +<HEAD>
> +	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
> +	<TITLE></TITLE>
> +	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.0  (Linux)">
> +	<META NAME="CREATED" CONTENT="0;0">
> +	<META NAME="CHANGEDBY" CONTENT="?ukasz Wojni?owicz">
> +	<META NAME="CHANGED" CONTENT="20090429;15595600">
> +	<META NAME="Info 1" CONTENT="">
> +	<META NAME="Info 2" CONTENT="">
> +	<META NAME="Info 3" CONTENT="">
> +	<META NAME="Info 4" CONTENT="">
> +	<META NAME="CHANGEDBY" CONTENT="?ukasz Wojni?owicz">
> +	<META NAME="CHANGEDBY" CONTENT="?ukasz Wojni?owicz">
> +	<META NAME="CHANGEDBY" CONTENT="?ukasz Wojni?owicz">
> +	<META NAME="CHANGEDBY" CONTENT="?ukasz Wojni?owicz">
> +	<!--TITLE:[Wine for Debian based distributions]-->
> +	<!--BLURB:[Wine for Debian based distributions]-->
> +</HEAD>
> +<BODY LANG="en-US" DIR="LTR">
> +<H1><A HREF="http://www.ubuntu.com/" TARGET="_new"><IMG SRC="%7B$root%7D/images/distro/ubuntu.png" NAME="graphics1" ALT="Ubuntu Logo" ALIGN=BOTTOM WIDTH=50 HEIGHT=50 BORDER=0></A>
> +<SPAN LANG="pl-PL">Wine dla Ubuntu i pochodnych Ubuntu 
> +<A HREF="http://www.debian.org/" TARGET="_new"><IMG SRC="%7B$root%7D/images/distro/ubuntu.png" NAME="graphics2" ALT="Ubuntu Logo" ALIGN=BOTTOM WIDTH=50 HEIGHT=50 BORDER=0></A></SPAN></H1>
> +<P LANG="pl-PL">Ubuntu i inne dystrybucje bazuj?ce na Debianie
> +u?ywaj? specjalnego narz?dzia zwanego APT do zarz?dzania
> +paczkami. APT jest zdolne automagicznie zainstalowa? wszystkie
> +potrzebne zale?no?ci dla paczki z programem, jak r?wnie?
> +utrzymywa? zawsze najnowsz? wersj? paczki, poprzez przeszukiwanie
> +czego?, co jest znane pod nazw? repozytoria APT. Ubuntu ma swoje
> +w?asne repozytorium program?w, kt?re zawiera w sobie Wine,
> +jednak?e my utrzymujemy nasze w?asne repozytorium najnowszych
> +dost?pnych paczek beta, kt?re mo?na tutaj pobra?.</P>
> +<H2 LANG="pl-PL">Uwaga: To s? paczki beta</H2>
> +<P><SPAN LANG="pl-PL"><I>Te paczki s? paczkami beta. Oznacza to, ?e
> +okresowo mog? cierpie? z powodu <A HREF="http://wiki.winehq.org/Regression">regresji</A>,
> +a aktualizacja do nich mo?e popsu? funkcjonalno?? Wine. Je?eli w
> +twoim przypadku ostatnie stabilne wydanie Wine (aktualnie Wine 1.0.1)
> +dzia?a, to nie musisz u?ywa? paczek beta.</I></SPAN></P>
> +<H2 LANG="pl-PL">Dodawanie repozytorium APT WineHQ:</H2>
> +<P LANG="pl-PL">Otw?rz ?r?d?a oprogramowania z menu
> +<B>System-&gt;Administracja-&gt;?r?d?a oprogramowania</B>.
> +Nast?pnie przejd? na zak?adk? <B>Oprogramowanie os?b trzecich</B>
> +i kliknij <B>Dodaj...</B></P>
> +<P><IMG SRC="%7B$root%7D/images/distro/ubuntu-softwaresources1.png" NAME="graphics3" ALT="System-&gt;Administration-&gt;Software Sources-&gt;Third Party Software" ALIGN=BOTTOM WIDTH=531 HEIGHT=509 BORDER=0>
> +</P>
> +<P LANG="pl-PL">Nast?pnie, <B>wklej jedn? z poni?szych linijek</B>
> +zale?nie od wersji twojego systemu.</P>
> +<P LANG="pl-PL"><B>Dla Ubuntu Jaunty (9.04):</B><BR><I>deb
> +http://wine.budgetdedicated.com/apt jaunty main #WineHQ - Ubuntu 9.04
> +&quot;Jaunty Jackalope&quot;</I></P>
> +<P LANG="pl-PL"><B>Dla Ubuntu Intrepid (8.10):</B><BR><I>deb
> +http://wine.budgetdedicated.com/apt intrepid main #WineHQ - Ubuntu
> +8.10 &quot;Intrepid Ibex&quot;</I></P>
> +<P LANG="pl-PL"><B>Dla Ubuntu Hardy (8.04):</B><BR><I>deb
> +http://wine.budgetdedicated.com/apt hardy main #WineHQ - Ubuntu 8.04
> +&quot;Hardy Heron&quot;</I></P>
> +<H2 LANG="pl-PL">Przyznanie zaufania repozytorium APT WineHQ i
> +instalowanie Wine:</H2>
> +<P LANG="pl-PL">Po dodaniu repozytorium, potrzebujesz r?wnie? doda?
> +klucz do tego repozytorium do twojej systemowej listy zaufanych
> +kluczy.</P>
> +<P><A HREF="http://wine.budgetdedicated.com/apt/Scott%20Ritchie.gpg"><SPAN LANG="pl-PL"><B>Pobierz
> +i zapisz klucz Scotta Ritchiego</B></SPAN></A> <SPAN LANG="pl-PL">(prawy
> +przycisk myszy -&gt; zapisz jako) na pulpicie. Nast?pnie przejd? na
> +zak?adk? </SPAN><SPAN LANG="pl-PL"><B>Uwierzytelnianie</B></SPAN><SPAN LANG="pl-PL">,
> +kliknij </SPAN><SPAN LANG="pl-PL"><B>Zaimportuj plik klucza... </B></SPAN><SPAN LANG="pl-PL">,
> +i wybierz plik klucza, kt?rego w?a?nie zapisa?e? (</SPAN><SPAN LANG="pl-PL"><I>Scott
> +Ritchie.gpg</I></SPAN><SPAN LANG="pl-PL">). Mo?esz usun?? ten plik
> +po wykonaniu tego kroku.</SPAN></P>
> +<P><IMG SRC="%7B$root%7D/images/distro/ubuntu-softwaresources2.png" NAME="graphics4" ALT="System-&gt;Administration-&gt;Software Sources-&gt;Authentication" ALIGN=BOTTOM WIDTH=531 HEIGHT=509 BORDER=0>
> +</P>
> +<P><SPAN LANG="pl-PL">Kliknij zamknij, aby zako?czy?, a potem
> +</SPAN><SPAN LANG="pl-PL"><B>uaktualnij dane o paczkach</B></SPAN> <SPAN LANG="pl-PL">w
> +momencie pytania. Je?eli masz zainstalowane Wine to systemowy
> +menad?er aktualizacji poinformuje ci? o najnowszym wydaniu Wine
> +beta i zapyta ci? o aktualizacj?. Je?eli nie instalowa?e?
> +jeszcze Wine, to przejd? do </SPAN><SPAN LANG="pl-PL"><B>Aplikacje-&gt;Dodaj/usu?
> +a</B></SPAN><SPAN LANG="pl-PL"><B>plikacje</B></SPAN><SPAN LANG="pl-PL">
> +i poszukaj Wine lub po prostu <A HREF="apt://wine">kliknij na tego
> +linka</A>.</SPAN></P>
> +<H2 LANG="pl-PL">Aktualizacja do nowej wersji Ubuntu</H2>
> +<P LANG="pl-PL">Je?eli aktualizujesz ca?y system np. przechodzisz z
> +Ubuntu 8.10 na 9.04, to b?dzie konieczny powr?t do tej strony i
> +dodanie repozytorium do nowej wersji systemu. Wbudowany menad?er
> +aktualizacji nie zmieni automatycznie repozytorium Wine.</P>
> +<H2 LANG="pl-PL">Starsze paczki .deb</H2>
> +<P><SPAN LANG="pl-PL">Jako ?e repozytorium APT mo?e przechowywa?
> +jedynie najnowsze paczki, tak wi?c starsze wersje paczek s?
> +dost?pne w <A HREF="http://wine.budgetdedicated.com/archive/index.html">archiwum
> +WineHQ paczek .deb</A>.</SPAN></P>
> +<P LANG="pl-PL">Mo?esz zainstalowa? pobrane paczki klikaj?c na nie
> +dwukrotnie.</P>
> +<H2 LANG="pl-PL">Alternatywne komendy wiersza polece? do
> +zainstalowania Wine:</H2>
> +<P LANG="pl-PL">Mo?liwe jest tak?e dodanie repozytori?w Wine i
> +zainstalowanie go z wiersza polece?. Jest to u?yteczne w przypadku
> +Kubuntu, Xubuntu, i innych pochodnych Ubuntu.</P>
> +<P LANG="pl-PL">Najpierw otw?rz okno terminalu
> +(<B>Aplikacje-&gt;Akcesoria-&gt;Terminal</B>). Nast?pnie dodaj klucz
> +repozytorium do systemowej listy zaufanych kluczy APT przez wklejenie
> +nast?puj?cej linijki do twojego terminalu:</P>
> +<P LANG="pl-PL"><I>wget -q
> +http://wine.budgetdedicated.com/apt/387EE263.gpg -O- | sudo apt-key
> +add -</I></P>
> +<P LANG="pl-PL">Nast?pnie, dodaj repozytorium do systemowej listy
> +?r?de? APT:</P>
> +<P LANG="pl-PL"><B>Dla Ubuntu Jaunty (9.04):</B><BR><I>sudo wget
> +http://wine.budgetdedicated.com/apt/sources.list.d/jaunty.list -O
> +/etc/apt/sources.list.d/winehq.list</I></P>
> +<P LANG="pl-PL"><B>Dla Ubuntu Intrepid (8.10):</B><BR><I>sudo wget
> +http://wine.budgetdedicated.com/apt/sources.list.d/intrepid.list -O
> +/etc/apt/sources.list.d/winehq.list</I></P>
> +<P LANG="pl-PL"><B>Dla Ubuntu Hardy (8.04):</B><BR><I>sudo wget
> +http://wine.budgetdedicated.com/apt/sources.list.d/hardy.list -O
> +/etc/apt/sources.list.d/winehq.list</I></P>
> +<P LANG="pl-PL">Nast?pnie zaktualizuj informacje o paczkach APT
> +wpisuj?c '<B>sudo apt-get update</B>'. Teraz mo?esz zainstalowa?
> +Wine zwyczajnie lub wpisuj?c '<B>sudo apt-get install wine</B>' w
> +terminalu.</P>
> +<P><BR><BR>
> +</P>
> +<P><SPAN LANG="pl-PL"><I>Bardzo szybki i niezawodny webhosting dla
> +repozytori?w APT jest ?askawie dostarczany przez
> +<A HREF="http://www.budgetdedicated.com/">budgetdedicated.com</A>.</I></SPAN></P>
> +</BODY>
> +</HTML>
> \ No newline at end of file
> diff --git a/templates/pl/home.template b/templates/pl/home.template
> new file mode 100644
> index 0000000..bd88eba
> --- /dev/null
> +++ b/templates/pl/home.template
> @@ -0,0 +1,70 @@
> +<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
> +<HTML>
> +<HEAD>
> +	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
> +	<TITLE></TITLE>
> +	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.0  (Linux)">
> +	<META NAME="CREATED" CONTENT="0;0">
> +	<META NAME="CHANGEDBY" CONTENT="?ukasz Wojni?owicz">
> +	<META NAME="CHANGED" CONTENT="20090429;15261400">
> +	<!--TITLE:[Run Windows applications on Linux, BSD and Mac OS X]-->
> +	<!--BLURB:[Run Windows applications on Linux, BSD and Mac OS X.]-->
> +	<!--STYLE:[content_nobox]-->
> +</HEAD>
> +<BODY LANG="en-US" DIR="LTR">
> +<FORM NAME="donateForm" ACTION="https://www.paypal.com/cgi-bin/webscr" METHOD="POST">
> +	<INPUT TYPE=HIDDEN NAME="cmd" VALUE="_xclick">
> +	<INPUT TYPE=HIDDEN NAME="business" VALUE="donate at winehq.org">
> +	<INPUT TYPE=HIDDEN NAME="item_name" VALUE="Wine donation">
> +</FORM>
> +<DIV ID="main_left" DIR="LTR">
> +	<UL>
> +		<LI><P STYLE="margin-bottom: 0cm; border: none; padding: 0cm"><SPAN LANG="pl-PL"><A HREF="%7B$root%7D/about/">Informacje</A></SPAN></P>
> +		<P LANG="pl-PL" STYLE="margin-bottom: 0cm; border: none; padding: 0cm">
> +		Przegl?d funkcji Wine.</P>
> +		<LI><P STYLE="margin-bottom: 0cm; border: none; padding: 0cm"><A HREF="%7B$root%7D/download/"><SPAN LANG="pl-PL">Pobieralnia</SPAN></A></P>
> +		<P LANG="pl-PL" STYLE="margin-bottom: 0cm; border: none; padding: 0cm">
> +		?ci?gnij Wine teraz!</P>
> +		<LI><P STYLE="margin-bottom: 0cm; border: none; padding: 0cm"><A HREF="%7B$root%7D/help/"><SPAN LANG="pl-PL">Pomoc!</SPAN></A></P>
> +		<P LANG="pl-PL" STYLE="margin-bottom: 0cm; border: none; padding: 0cm">
> +		Dokumentacja, Wsparcie, i Wiki.</P>
> +		<LI><P STYLE="margin-bottom: 0cm; border: none; padding: 0cm"><A HREF="%7B$root%7D/devel/"><SPAN LANG="pl-PL">Rozw?j</SPAN></A></P>
> +		<P LANG="pl-PL" STYLE="margin-bottom: 0cm; border: none; padding: 0cm">
> +		?r?d?a Wine, Szukanie Robak?w, itp.</P>
> +		<LI><P STYLE="border: none; padding: 0cm"><A HREF="javascript:document.donateForm.submit();"><SPAN LANG="pl-PL">Darowizny</SPAN></A></P>
> +		<P LANG="pl-PL" STYLE="border: none; padding: 0cm">Ofiary dla Wine.</P>
> +	</UL>
> +</DIV>
> +<DIV ID="main_right" DIR="LTR">
> +	<H3 LANG="pl-PL" STYLE="border: none; padding: 0cm">Najnowsze
> +	wydania</H3>
> +	<TABLE CELLPADDING=2 CELLSPACING=2>
> +		<TR>
> +			<TD>
> +				<P LANG="pl-PL">Stabilne:</P>
> +			</TD>
> +			<TD>
> +				<P STYLE="border: none; padding: 0cm"><A HREF="%7B$root%7D/announce/%7B$config_stable_release%7D"><SPAN LANG="pl-PL"><B>Wine&nbsp;{$config_stable_release}</B></SPAN></A><SPAN LANG="pl-PL">
> +				(<A HREF="http://source.winehq.org/git/wine.git?a=shortlog;h=refs/tags/wine-%7B$config_stable_release%7D">zmiany</A>)
> +				</SPAN>
> +				</P>
> +			</TD>
> +		</TR>
> +		<TR>
> +			<TD>
> +				<P LANG="pl-PL">Rozwojowe:</P>
> +			</TD>
> +			<TD>
> +				<P STYLE="border: none; padding: 0cm"><A HREF="%7B$root%7D/announce/%7B$config_master_release%7D"><SPAN LANG="pl-PL"><B>Wine&nbsp;{$config_master_release}</B></SPAN></A><SPAN LANG="pl-PL">
> +				(<A HREF="http://source.winehq.org/git/wine.git?a=shortlog;h=refs/tags/wine-%7B$config_master_release%7D">zmiany</A>)
> +				</SPAN>
> +				</P>
> +			</TD>
> +		</TR>
> +	</TABLE>
> +	<H3 STYLE="margin-top: 0.4cm; border: none; padding: 0cm"><A HREF="%7B$root%7D/news/"><SPAN LANG="pl-PL">Aktualno?ci</SPAN></A></H3>
> +	<P STYLE="margin-top: 0.4cm; border: none; padding: 0cm"><!--EXEC:[news?n=10]--><SPAN LANG="pl-PL"><A HREF="%7B$root%7D/news/">wi?cej
> +	aktualno?ci...</A></SPAN></P>
> +</DIV>
> +</BODY>
> +</HTML>
> \ No newline at end of file
> diff --git a/templates/pl/interview.template b/templates/pl/interview.template
> new file mode 100644
> index 0000000..c0d6329
> --- /dev/null
> +++ b/templates/pl/interview.template
> @@ -0,0 +1,18 @@
> +<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
> +<HTML>
> +<HEAD>
> +	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
> +	<TITLE></TITLE>
> +	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.0  (Linux)">
> +	<META NAME="CREATED" CONTENT="0;0">
> +	<META NAME="CHANGEDBY" CONTENT="?ukasz Wojni?owicz">
> +	<META NAME="CHANGED" CONTENT="20090429;16091900">
> +	<!--TITLE:[Interviews]-->
> +	<!--BLURB:[We have chats with members of the Wine community.]-->
> +</HEAD>
> +<BODY LANG="en-US" DIR="LTR">
> +<H1 LANG="pl-PL">Wywiady</H1>
> +<P LANG="pl-PL"><!--EXEC:[wwn?mode=interviews]--><BR><BR>
> +</P>
> +</BODY>
> +</HTML>
> \ No newline at end of file
> diff --git a/templates/pl/irc.template b/templates/pl/irc.template
> new file mode 100644
> index 0000000..53bbdd7
> --- /dev/null
> +++ b/templates/pl/irc.template
> @@ -0,0 +1,27 @@
> +<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
> +<HTML>
> +<HEAD>
> +	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
> +	<TITLE></TITLE>
> +	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.0  (Linux)">
> +	<META NAME="CREATED" CONTENT="0;0">
> +	<META NAME="CHANGEDBY" CONTENT="?ukasz Wojni?owicz">
> +	<META NAME="CHANGED" CONTENT="20090429;16122300">
> +	<!--TITLE:[Live Support Chat]-->
> +	<!--BLURB:[Live Support Chat]-->
> +</HEAD>
> +<BODY LANG="en-US" DIR="LTR">
> +<H1 LANG="pl-PL">Wsparcie na ?ywo</H1>
> +<P><SPAN LANG="pl-PL"><A HREF="http://www.freenode.net/">Freenode.net</A>
> +hostuje kana? IRC dla Wine. Mo?esz wej?? do pokoju rozm?w
> +u?ywaj?c programu IRC takiego jak np. <A HREF="http://www.xchat.org/">X-Chat</A>.
> +U?yj ustawie? wymienionych poni?ej.</SPAN></P>
> +<BLOCKQUOTE LANG="pl-PL"><B>Serwer:</B> irc.freenode.net<BR><B>Port:</B>
> +6667<BR><B>Kana?:</B> #winehq</BLOCKQUOTE>
> +<P><SPAN LANG="pl-PL">Je?eli u?ywasz Mozilli lub innej przegl?darki
> +kt?ra wspiera </SPAN><SPAN LANG="pl-PL"><B>u</B></SPAN><SPAN LANG="pl-PL">e</SPAN><SPAN LANG="pl-PL"><B>r</B></SPAN><SPAN LANG="pl-PL">e</SPAN><SPAN LANG="pl-PL"><B>l</B></SPAN><SPAN LANG="pl-PL">e
> +IRC, to mo?esz do??czy? do rozmowy klikaj?c na
> +<A HREF="irc://irc.freenode.net/#winehq">irc://irc.freenode.net/#winehq</A>.</SPAN></P>
> +<P LANG="pl-PL">&nbsp;</P>
> +</BODY>
> +</HTML>
> \ No newline at end of file
> diff --git a/templates/pl/lang.template b/templates/pl/lang.template
> new file mode 100644
> index 0000000..547a879
> --- /dev/null
> +++ b/templates/pl/lang.template
> @@ -0,0 +1,36 @@
> +<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
> +<HTML>
> +<HEAD>
> +	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
> +	<TITLE></TITLE>
> +	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.0  (Linux)">
> +	<META NAME="CREATED" CONTENT="0;0">
> +	<META NAME="CHANGEDBY" CONTENT="?ukasz Wojni?owicz">
> +	<META NAME="CHANGED" CONTENT="20090429;16313700">
> +	<META NAME="CHANGEDBY" CONTENT="?ukasz Wojni?owicz">
> +	<META NAME="CHANGEDBY" CONTENT="?ukasz Wojni?owicz">
> +	<!--TITLE:[WineHQ - Pick your Language]-->
> +	<!--BLURB:[WineHQ is a multi-lingual website]-->
> +</HEAD>
> +<BODY LANG="en-US" DIR="LTR">
> +<H1 LANG="pl-PL">{$langChange}</H1>
> +<P LANG="pl-PL"><!--EXEC:[language]--><B>Aktualny j?zyk: </B>{$langCur}</P>
> +<UL>
> +	<LI><P STYLE="margin-bottom: 0cm; border: none; padding: 0cm"><SPAN LANG="pl-PL"><A HREF="%7B$root%7D/lang/en">English</A>
> +	</SPAN><FONT SIZE=2><SPAN LANG="pl-PL">(Angielski)</SPAN></FONT></P>
> +	<LI><P STYLE="margin-bottom: 0cm; border: none; padding: 0cm"><SPAN LANG="pl-PL"><A HREF="%7B$root%7D/lang/de">Deutsch</A>
> +	</SPAN><FONT SIZE=2><SPAN LANG="pl-PL">(Niemiecki)</SPAN></FONT> 
> +	</P>
> +	<LI><P STYLE="margin-bottom: 0cm; border: none; padding: 0cm"><SPAN LANG="pl-PL"><A HREF="%7B$root%7D/lang/es">Espa??ol</A>
> +	</SPAN><FONT SIZE=2><SPAN LANG="pl-PL">(Hiszpa?ski)</SPAN></FONT> 
> +	</P>
> +	<LI><P STYLE="margin-bottom: 0cm; border: none; padding: 0cm"><SPAN LANG="pl-PL"><A HREF="%7B$root%7D/lang/fr">Fran??ais</A>
> +	</SPAN><FONT SIZE=2><SPAN LANG="pl-PL">(Francuski)</SPAN></FONT> 
> +	</P>
> +	<LI><P STYLE="margin-bottom: 0cm; border: none; padding: 0cm"><A HREF="%7B$root%7D/lang/pl"><SPAN LANG="pl-PL">Polski</SPAN></A></P>
> +	<LI><P STYLE="border: none; padding: 0cm"><SPAN LANG="pl-PL"><A HREF="%7B$root%7D/lang/pt">Portugu??s</A>
> +	</SPAN><FONT SIZE=2><SPAN LANG="pl-PL">(Portugalski)</SPAN></FONT> 
> +	</P>
> +</UL>
> +</BODY>
> +</HTML>
> \ No newline at end of file
> diff --git a/templates/pl/news.template b/templates/pl/news.template
> new file mode 100644
> index 0000000..4fc7ea0
> --- /dev/null
> +++ b/templates/pl/news.template
> @@ -0,0 +1,21 @@
> +<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
> +<HTML>
> +<HEAD>
> +	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
> +	<TITLE></TITLE>
> +	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.0  (Linux)">
> +	<META NAME="CREATED" CONTENT="0;0">
> +	<META NAME="CHANGEDBY" CONTENT="?ukasz Wojni?owicz">
> +	<META NAME="CHANGED" CONTENT="20090429;16320300">
> +	<!--TITLE:[News]-->
> +	<!--BLURB:[All the latest news from the Wine community.]-->
> +</HEAD>
> +<BODY LANG="en-US" DIR="LTR">
> +<H1>Aktualno?ci</H1>
> +<UL>
> +	<LI><P><!--EXEC:[news]--><A HREF="%7B$root%7D/news/rss/">WineHQ News
> +	RSS Feed</A> 
> +	</P>
> +</UL>
> +</BODY>
> +</HTML>
> \ No newline at end of file
> diff --git a/templates/pl/search.template b/templates/pl/search.template
> new file mode 100644
> index 0000000..1c4a52a
> --- /dev/null
> +++ b/templates/pl/search.template
> @@ -0,0 +1,40 @@
> +<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
> +<HTML>
> +<HEAD>
> +	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
> +	<TITLE></TITLE>
> +	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.0  (Linux)">
> +	<META NAME="CREATED" CONTENT="0;0">
> +	<META NAME="CHANGEDBY" CONTENT="?ukasz Wojni?owicz">
> +	<META NAME="CHANGED" CONTENT="20090429;16330800">
> +	<!--TITLE:[Search Results]-->
> +	<!--BLURB:[Searching all the sites of winehq.org...]-->
> +</HEAD>
> +<BODY LANG="en-US" DIR="LTR">
> +<H1 LANG="pl-PL" STYLE="margin-top: 0cm; margin-bottom: 0.26cm">Wyniki
> +wyszukiwania</H1>
> +<DIV ID="cse-search-results" DIR="LTR">
> +	<P LANG="pl-PL"><BR><BR>
> +	</P>
> +</DIV>
> +<P LANG="pl-PL"><SCRIPT>
> +  $.gglclientCoords = function() {
> +     var dimensions = {width: 0, height: 0};
> +     if (document.documentElement) {
> +         dimensions.width = document.documentElement.offsetWidth;
> +         dimensions.height = document.documentElement.offsetHeight;
> +     } else if (window.innerWidth && window.innerHeight) {
> +         dimensions.width = window.innerWidth;
> +         dimensions.height = window.innerHeight;
> +     }
> +     return dimensions;
> +  }
> +  var googleSearchIframeName = "cse-search-results";
> +  var googleSearchFormName = "cse-search-box";
> +  var googleSearchFrameWidth = ($.gglclientCoords().width - 250);
> +  var googleSearchDomain = "www.google.com";
> +  var googleSearchPath = "/cse";
> +</SCRIPT><SCRIPT SRC="http://www.google.com/afsonline/show_afs_search.js"></SCRIPT><BR><BR>
> +</P>
> +</BODY>
> +</HTML>
> \ No newline at end of file


From max at veneto.com  Fri May  1 09:20:31 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Fri, 01 May 2009 16:20:31 +0200
Subject: Dib Engine: some update
In-Reply-To: <d04858af0905010507y39214bf0o991c952e249ce968@mail.gmail.com>
References: <gsvfnk$dd7$1@ger.gmane.org>
	<49FADA48.1080502@open-vote.org>	<d04858af0905010450k635ec44ej37ff67f17cde7d24@mail.gmail.com>	<gteo5h$qhd$1@ger.gmane.org>
	<d04858af0905010507y39214bf0o991c952e249ce968@mail.gmail.com>
Message-ID: <gtf0ff$hu1$1@ger.gmane.org>

Luke Benstead ha scritto:
> 2009/5/1 Massimo Del Fedele <max at veneto.com>:
>> Luke Benstead ha scritto:
>>> 2009/5/1 Scott Ritchie <scott at open-vote.org>:
>>>> Massimo Del Fedele wrote:
>>>>> I put on bug's 421 page an update of my dib engine.
>>>>> It implements AlphaBlend, StretchBlt and has many color fixes.
>>>>> If you want to try it, just follow instructions on above page.
>>>>>
>>>>> Ciao
>>>>>
>>>>> Max
>>>>>
>>>> Keep at it, it's very exciting :)
>>>>
>>>> Thanks,
>>>> Scott Ritchie
>>>>
>>>>
>>>>
>>> Yeah, nice work Max! You are doing an amazing job, I just wish that we
>>> knew how to get it into vanilla Wine! My bro really needs this to move
>>> his (and several work) machines to Ubuntu, but unfortunately I'm 100
>>> miles away and he wouldn't have a clue how to compile and patch Wine.
>>> I might have a stab at packaging a custom version :)
>>>
>>> Luke.
>>>
>>>
>> Thank you all for your messages, I'm glad it's useful for somebody :-)
>> I was thinking too on packaging a custom version with the patches on
>> my tree.... btw, I have a couple more which weren't applied because
>> "ugly", one allows printing on formats different than printer's
>> default one (a need for most autocad users...).
>> I'm not too good on debian packaging, but if you have some script
>> that can do it we could find a place to host them.
>>
>> Ciao
>>
>> Max
>>
>>
>>
>>
>>
> 
> I have a place we could host the packages, but it would take me some
> time to learn how to package Wine... I've only ever done small
> libraries.
> 
> Scott, are you the Ubuntu maintainer? If so, do you have some script
> for building the packages?
> 
> Luke.
> 
> 
> 

Well, I do have some script to package an app (Ultimate++), I could adapt
them to package wine. Next days maybe.....

Max



From shacklein at gmail.com  Fri May  1 10:01:37 2009
From: shacklein at gmail.com (Ben Klein)
Date: Sat, 2 May 2009 01:01:37 +1000
Subject: Sound problems with latest kernel -- formerly a pulseaudio thread
	but not any more
In-Reply-To: <11422706.1241181856410.JavaMail.root@mswamui-valley.atl.sa.earthlink.net>
References: <11422706.1241181856410.JavaMail.root@mswamui-valley.atl.sa.earthlink.net>
Message-ID: <d7e40be30905010801l7a4906ecu3db73a4e4af8fc85@mail.gmail.com>

2009/5/1 Susan Cragin <susancragin at earthlink.net>:
>>I filed ubuntu bug 369762.
>
> Ubuntu didn't think much of my bug. They sent me the following recipe to cure it, and marked the bug invalid.
>
> 1) Edit /etc/pulse/client.conf, and change "autospawn = yes" to "autospawn = no"
> 2) `touch $HOME/.pulse_a11y_nostart'
> 3) `asoundconf list'
> 4) choose the desired card from the previous command's output, and use `asoundconf set-default-card CARD', replacing CARD as appropriate
> 5) `killall pulseaudio'
>
> https://bugs.launchpad.net/ubuntu/+source/pulseaudio/+bug/348353
> mentions a recent kernel patch that routes all audio through pulse. I wonder if this patch is the culprit?

It mentions a patch, not a kernel patch. I'd be *very* surprised if
there was anything kernel-side specifically routing audio through
pulse. More plausibly, it could be a libasound2 patch or even just a
hack to asound.conf/.asoundrc.


From juan.lang at gmail.com  Fri May  1 10:48:30 2009
From: juan.lang at gmail.com (Juan Lang)
Date: Fri, 1 May 2009 08:48:30 -0700
Subject: [resend] shell32: for FO_COPY, if the destination is an empty 
	string, SHFileOperation should use the current directory.
Message-ID: <3a768c550905010848h4f97a447u62e8cc982032dd00@mail.gmail.com>

Hi Lionel, one minor comment on your patch:

+    /* If the destination is empty, SHFileOperation should use the
current directory.
+       See bug #13394. */

There's no need to quote the bug to explain why your code is doing
what it's doing.  The test case is sufficient.
--Juan


From dank at kegel.com  Fri May  1 11:30:58 2009
From: dank at kegel.com (Dan Kegel)
Date: Fri, 1 May 2009 09:30:58 -0700
Subject: Trying buildbot on wine; foiled by distutils expecting mscoree to 
	be resident?
In-Reply-To: <a71bd89a0905010438o4f3a1806oe631a9b1c5b21aa8@mail.gmail.com>
References: <a71bd89a0905010438o4f3a1806oe631a9b1c5b21aa8@mail.gmail.com>
Message-ID: <a71bd89a0905010930u484fcbd6j86a276a0cf3e0e19@mail.gmail.com>

Thanks for the tip about the mscoree access being unimportant.
It turns out the pywin32 installer works fine with win2K set,
but that doesn't help Twisted_NoDocs-8.2.0.win32-py2.6.exe,
which still fails to find win32api.  However, if I install
ActiveState's python instead of the one from python.org,
twisted installs successfully.

Now on with the buildbot experiment :-)


From austinenglish at gmail.com  Fri May  1 11:39:12 2009
From: austinenglish at gmail.com (Austin English)
Date: Fri, 1 May 2009 11:39:12 -0500
Subject: Wine fundraising idea
Message-ID: <b6bb06270905010939m32a820b7t19a9a011350ee864@mail.gmail.com>

Howdy,

I was reading through a GSoC thread on how people are spending their
coding money. Someone posted that they thought people should donate to
miro, the internet HDTV player. They've got a pretty neat donation
scheme, where people can 'adopt' a line of code, and get updates on
it, etc. Pretty neat:
https://www.getmiro.com/adopt/

Just food for thought, for those of y'all wanting to add $ to the
WineHQ coffers, for WineConf, or what not (*cough* test/compile farm
*cough*).

-- 
-Austin


From jjmckenzie51 at earthlink.net  Fri May  1 11:46:35 2009
From: jjmckenzie51 at earthlink.net (James Mckenzie)
Date: Fri, 1 May 2009 12:46:35 -0400 (EDT)
Subject: Wine fundraising idea
Message-ID: <7090389.1241196395291.JavaMail.root@elwamui-mouette.atl.sa.earthlink.net>

Austin English <austinenglish at gmail.com>
>Sent: May 1, 2009 12:39 PM
>To: Wine Devel <wine-devel at winehq.org>
>Subject: Wine fundraising idea
>
>Howdy,
>
+1

James McKenzie


From mstefani at redhat.com  Fri May  1 12:03:41 2009
From: mstefani at redhat.com (Michael Stefaniuc)
Date: Fri, 01 May 2009 13:03:41 -0400
Subject: Sound problems with latest kernel -- formerly a pulseaudio thread
	but not any more
In-Reply-To: <d7e40be30905010801l7a4906ecu3db73a4e4af8fc85@mail.gmail.com>
References: <11422706.1241181856410.JavaMail.root@mswamui-valley.atl.sa.earthlink.net>
	<d7e40be30905010801l7a4906ecu3db73a4e4af8fc85@mail.gmail.com>
Message-ID: <49FB2B6D.4070107@redhat.com>

Ben Klein wrote:
> 2009/5/1 Susan Cragin <susancragin at earthlink.net>:
>>> I filed ubuntu bug 369762.
>> Ubuntu didn't think much of my bug. They sent me the following recipe to cure it, and marked the bug invalid.
>>
>> 1) Edit /etc/pulse/client.conf, and change "autospawn = yes" to "autospawn = no"
>> 2) `touch $HOME/.pulse_a11y_nostart'
>> 3) `asoundconf list'
>> 4) choose the desired card from the previous command's output, and use `asoundconf set-default-card CARD', replacing CARD as appropriate
>> 5) `killall pulseaudio'
>>
>> https://bugs.launchpad.net/ubuntu/+source/pulseaudio/+bug/348353
>> mentions a recent kernel patch that routes all audio through pulse. I wonder if this patch is the culprit?
> 
> It mentions a patch, not a kernel patch. I'd be *very* surprised if
> there was anything kernel-side specifically routing audio through
There is a kernel patch to reroute character devices to user space;
afair that patch is already in. The usage example I have seen given for
that patch is to reroute /dev/dsp to pulseaudio.

> pulse. More plausibly, it could be a libasound2 patch or even just a
> hack to asound.conf/.asoundrc.

bye
	michael


From wijn at online.nl  Fri May  1 13:08:50 2009
From: wijn at online.nl (Rein Klazes)
Date: Fri, 01 May 2009 20:08:50 +0200
Subject: user32: combine horizontal and vertical window scroll bar info in
	a single structure.
In-Reply-To: <87tz45f54u.fsf@wine.dyndns.org>
References: <1241154198-7770-1-git-send-email-wijn@online.nl>
	<87tz45f54u.fsf@wine.dyndns.org>
Message-ID: <79emv4133k8f1klbdc6ggkp6g14mhcp4p2@4ax.com>

On Fri, 01 May 2009 13:13:05 +0200, you wrote:

>Rein Klazes <wijn at online.nl> writes:
>
>> -    if (!infoPtr && alloc)
>> +    if (!infoPtr && ( alloc || (wndPtr->dwStyle & (WS_VSCROLL | WS_HSCROLL))))
>>      {
>
>This bit doesn't look right, and defeats the purpose of the alloc
>flag. It would need some more test cases.

The alloc flag is not only set by SCROLL_DrawScrollBar, which may be
what you are thinking of here.

What is already in the tests:

1) You need the alloc flag for instance when SetScrollInfo or
SetScrollRange is called on a window without the WS_[HV]SCROLL styles. I
can add a test that shows that the window styles remain unchanged when
eg. SetScrollInfo creates the scrollinfo.

2) You need the style test when testing GetScrollInfo and GetScrollRange
on windows with WS_[HV]SCROLL styles.

Now the alloc flag may not be specified correctly in the other cases
Additional tests to see whether the alloc flag is correctly passed for
[GS}etScrollBarInfo and EnableScrollBar can be added.

Would such tests address your concerns?

Rein.


From nerv at dawncrow.de  Fri May  1 14:25:09 2009
From: nerv at dawncrow.de (=?ISO-8859-15?Q?Andr=E9_Hentschel?=)
Date: Fri, 01 May 2009 21:25:09 +0200
Subject: FYI: 64-Bit Winelib-compilation
Message-ID: <49FB4C95.9070000@dawncrow.de>

Hi,
these days i got my gcc 4.4 working and first compiled wine64. Next 
thing i did was to modify winemaker to generate Makefiles for 64-Bit 
compilation.
I first tried something simple and it worked great, so i took my 
modified Putty-sourcecode and gave it a try. And wow it worked great! 
Just compiled fine.
To my suprise it didnt run.
Since todays git, the modified winemaker got in and i hope it might be 
usefull!

Best regards Andr? Hentschel


From austinenglish at gmail.com  Fri May  1 14:29:59 2009
From: austinenglish at gmail.com (Austin English)
Date: Fri, 1 May 2009 14:29:59 -0500
Subject: FYI: 64-Bit Winelib-compilation
In-Reply-To: <49FB4C95.9070000@dawncrow.de>
References: <49FB4C95.9070000@dawncrow.de>
Message-ID: <b6bb06270905011229i5d47f2d5pca7763d4d0905d97@mail.gmail.com>

2009/5/1 Andr? Hentschel <nerv at dawncrow.de>:
> To my suprise it didnt run.

Interesting...does it run as a 32-bit winelib app? Have you tried
compiling it with 64-bit mingw and seeing if it works there?

-- 
-Austin


From nerv at dawncrow.de  Fri May  1 15:11:23 2009
From: nerv at dawncrow.de (=?UTF-8?B?QW5kcsOpIEhlbnRzY2hlbA==?=)
Date: Fri, 01 May 2009 22:11:23 +0200
Subject: FYI: 64-Bit Winelib-compilation
In-Reply-To: <b6bb06270905011229i5d47f2d5pca7763d4d0905d97@mail.gmail.com>
References: <49FB4C95.9070000@dawncrow.de>
	<b6bb06270905011229i5d47f2d5pca7763d4d0905d97@mail.gmail.com>
Message-ID: <49FB576B.5050404@dawncrow.de>

Austin English schrieb:
> 2009/5/1 Andr? Hentschel <nerv at dawncrow.de>:
>   
>> To my suprise it didnt run.
>>     
>
> Interesting...does it run as a 32-bit winelib app? Have you tried
> compiling it with 64-bit mingw and seeing if it works there?
>
>   
Putty runs as 32-bit winelib app. The test with mingw64 i will try next 
days.


From julliard at winehq.org  Fri May  1 15:15:16 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Fri, 01 May 2009 22:15:16 +0200
Subject: user32: combine horizontal and vertical window scroll bar info in
	a single structure.
In-Reply-To: <79emv4133k8f1klbdc6ggkp6g14mhcp4p2@4ax.com> (Rein Klazes's
	message of "Fri, 01 May 2009 20:08:50 +0200")
References: <1241154198-7770-1-git-send-email-wijn@online.nl>
	<87tz45f54u.fsf@wine.dyndns.org>
	<79emv4133k8f1klbdc6ggkp6g14mhcp4p2@4ax.com>
Message-ID: <873abofuln.fsf@wine.dyndns.org>

Rein Klazes <wijn at online.nl> writes:

> What is already in the tests:
>
> 1) You need the alloc flag for instance when SetScrollInfo or
> SetScrollRange is called on a window without the WS_[HV]SCROLL styles. I
> can add a test that shows that the window styles remain unchanged when
> eg. SetScrollInfo creates the scrollinfo.
>
> 2) You need the style test when testing GetScrollInfo and GetScrollRange
> on windows with WS_[HV]SCROLL styles.
>
> Now the alloc flag may not be specified correctly in the other cases
> Additional tests to see whether the alloc flag is correctly passed for
> [GS}etScrollBarInfo and EnableScrollBar can be added.
>
> Would such tests address your concerns?

No, what you'd need is a test that shows that calling a function that
doesn't create a scrollbar (alloc=FALSE) suddenly starts to create one
if WS_[HV]SCROLL is set. To test this meaningfully you'd need to set the
style by hand, not at window creation.

-- 
Alexandre Julliard
julliard at winehq.org


From juan.lang at gmail.com  Fri May  1 18:40:36 2009
From: juan.lang at gmail.com (Juan Lang)
Date: Fri, 1 May 2009 16:40:36 -0700
Subject: msi/tests: Fix MsiApplyMultiplePatches tests on Windows.
Message-ID: <3a768c550905011640i528c159eq4835161e9c91eaea@mail.gmail.com>

Hi Nicolas,

-    ok(DeleteFileA("lithium.txt"), "Expected lithium.txt to exist\n");
+    ok(DeleteFileA("lithium.txt"), "Expected lithium.txt to exist\n");
Please don't include whitespace-only changes in your patch.

-
+
Same here.

Thanks,
--Juan


From scott at open-vote.org  Fri May  1 19:55:50 2009
From: scott at open-vote.org (Scott Ritchie)
Date: Fri, 01 May 2009 17:55:50 -0700
Subject: Wine fundraising idea
In-Reply-To: <b6bb06270905010939m32a820b7t19a9a011350ee864@mail.gmail.com>
References: <b6bb06270905010939m32a820b7t19a9a011350ee864@mail.gmail.com>
Message-ID: <49FB9A16.9050004@open-vote.org>

Austin English wrote:
> Howdy,
> 
> I was reading through a GSoC thread on how people are spending their
> coding money. Someone posted that they thought people should donate to
> miro, the internet HDTV player. They've got a pretty neat donation
> scheme, where people can 'adopt' a line of code, and get updates on
> it, etc. Pretty neat:
> https://www.getmiro.com/adopt/
> 
> Just food for thought, for those of y'all wanting to add $ to the
> WineHQ coffers, for WineConf, or what not (*cough* test/compile farm
> *cough*).
> 

This is functionally similar to asking for people to become members of 
some sort of foundation (eg monthly or annual contribution).  It's a 
funding model that works, which is why they do it for public radio.

I think there's real potential here.

Thanks,
Scott Ritchie


From Nicklas.Borjesson at ws.se  Fri May  1 13:20:44 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Fri, 1 May 2009 20:20:44 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>

Hi all!

First, I couldn't find any list more suitable than this one to comment the severity levels in the bug reporting so I post it here.  If this was a really bad thing to do, please tell me were to do so.
Secondly, don't take this wrong, I am not here to preach, I actually think this is a serious problem. I am not drunk either. Currently. :-)

So, with regards to severity levels:

Current severity levels are perfect for server applications where everything is simply about functionality working or not working.
However, the overwhelming majority of windows applications in general, and those being ported through wine in particular are GUI-based, end-user applications.
When it comes to these kinds of applications, in front of which actual people sit for hours on end doing actual work, other factors come into play.

So I would like to introduce a bold new weight into the severity assessment: The user experience. Or at least the bugs' negative impact on it.
The user experience(UE from here on) is really quite impossible to quantify exactly, luckily that is not usually necessary.

There are several reasons to incorporate this into the severity classification, but I'll stop at two:

1. The ones reporting the bugs will come across with how severe they think the bug is to them.
Currently, there is far too much of "you've got a almost black screen or black square instead of icons running Photoshop?..hmm that's really trivial...an 'UI glitch', but OK then, I'll mark it minor to be nice to ya."
To a user, even an advanced one, this must feel like talking to a condescending Martian. Frustrating, if not infuriating.
Likely, they will never again take the time to make a bug report. It is even quite likely that they will give up their move away from windows.

2. Currently, fixing a "trivial" UE-bug can make way more users happy than fixing a "normal" functionality-bug.
This means that bug fixing is prioritized on a basis other than catering to the users needs. And to me, that's something that really shows.
Can one defend this without invalidating the wine project?
It is a serious question, I might have missed something fundamental.

Anyway, I have some ideas on how to make the severity classifications better(and more intuitive for the mere user), but I won't go in to that now.
I just want to know if any of you agree with me. Do I make a valid point?

//Nicklas

PS.
I repost this since I didn't get any post from the server the first time.
Also I expect this post to piss some off, which makes it even stranger not to get any replies at all.
BTW, I also just read in a comment in a bug report that the severity flag doesn't mean much at all when it comes to how a bug is prioritized.
So the only input the users have on how important a bug is to them is practically ignored? Why have that checkbox then? 
And why make such a big thing of it not being correctly set?
DS.



From adys.wh at gmail.com  Sat May  2 04:21:01 2009
From: adys.wh at gmail.com (Jerome Leclanche)
Date: Sat, 2 May 2009 12:21:01 +0300
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
Message-ID: <41eceb530905020221j6c958f97j415744e2cdf0450c@mail.gmail.com>

Outside Major/Critical/Enhancement, I don't think severity useful, to
be honest. Problem is, more often than not, a minor implementation
glitch can result into an application breaking all around if it relies
on it a lot. Which is pretty much the case with photoshop at the
moment.
Maybe it should be renamed to "impact", or something that would
present itself differently to a first-time user. Or add a second
severity field. I don't know, not my call.

2009/5/1 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
> Hi all!
>
> First, I couldn't find any list more suitable than this one to comment the severity levels in the bug reporting so I post it here. ?If this was a really bad thing to do, please tell me were to do so.
> Secondly, don't take this wrong, I am not here to preach, I actually think this is a serious problem. I am not drunk either. Currently. :-)
>
> So, with regards to severity levels:
>
> Current severity levels are perfect for server applications where everything is simply about functionality working or not working.
> However, the overwhelming majority of windows applications in general, and those being ported through wine in particular are GUI-based, end-user applications.
> When it comes to these kinds of applications, in front of which actual people sit for hours on end doing actual work, other factors come into play.
>
> So I would like to introduce a bold new weight into the severity assessment: The user experience. Or at least the bugs' negative impact on it.
> The user experience(UE from here on) is really quite impossible to quantify exactly, luckily that is not usually necessary.
>
> There are several reasons to incorporate this into the severity classification, but I'll stop at two:
>
> 1. The ones reporting the bugs will come across with how severe they think the bug is to them.
> Currently, there is far too much of "you've got a almost black screen or black square instead of icons running Photoshop?..hmm that's really trivial...an 'UI glitch', but OK then, I'll mark it minor to be nice to ya."
> To a user, even an advanced one, this must feel like talking to a condescending Martian. Frustrating, if not infuriating.
> Likely, they will never again take the time to make a bug report. It is even quite likely that they will give up their move away from windows.
>
> 2. Currently, fixing a "trivial" UE-bug can make way more users happy than fixing a "normal" functionality-bug.
> This means that bug fixing is prioritized on a basis other than catering to the users needs. And to me, that's something that really shows.
> Can one defend this without invalidating the wine project?
> It is a serious question, I might have missed something fundamental.
>
> Anyway, I have some ideas on how to make the severity classifications better(and more intuitive for the mere user), but I won't go in to that now.
> I just want to know if any of you agree with me. Do I make a valid point?
>
> //Nicklas
>
> PS.
> I repost this since I didn't get any post from the server the first time.
> Also I expect this post to piss some off, which makes it even stranger not to get any replies at all.
> BTW, I also just read in a comment in a bug report that the severity flag doesn't mean much at all when it comes to how a bug is prioritized.
> So the only input the users have on how important a bug is to them is practically ignored? Why have that checkbox then?
> And why make such a big thing of it not being correctly set?
> DS.
>
>
>
>



-- 
Adys


From dmitry at codeweavers.com  Sat May  2 05:54:14 2009
From: dmitry at codeweavers.com (Dmitry Timoshkov)
Date: Sat, 2 May 2009 19:54:14 +0900
Subject: [shell32] stub for ExtractVersionResource16W
References: <200905020951.53242.Stefan.Leichter@camline.com>
Message-ID: <3D96B440786C499F912FF337CCA37B87@DMITRY>

"Stefan Leichter" <Stefan.Leichter at camline.com> wrote:

> +/***********************************************************************
> + *              ExtractVersionResource16W (SHELL32.@)
> + */
> +BOOL WINAPI ExtractVersionResource16W(LPWSTR s, DWORD d) {
> +    FIXME("(%s %x) stub!\n", debugstr_w(s), d);
> +    return FALSE;
> +}

Please follow the braces placement style of the file.

Also you might be interested that according to
http://www.geoffchappell.com/viewer.htm?doc=studies/windows/shell/shell32/history/names351.htm
ExtractVersionResource16W is discontinued starting from Windows Vista.

-- 
Dmitry.


From joel at airwebreathe.org.uk  Sat May  2 07:58:42 2009
From: joel at airwebreathe.org.uk (Joel Holdsworth)
Date: Sat, 02 May 2009 13:58:42 +0100
Subject: Question about my user32 tests patch
Message-ID: <1241269122.3942.82.camel@joel-desktop>

Hi All,

I just submitted my first ever patch to wine-patches (attached) - good
news. In retrospect I may have been a little premature. The patch adds
tests for user32:DrawIcon and user32:DrawIconEx including tests for icon
alpha blending which wine does not currently support.

It occured to me that my alpha tests will fail in versions of Windows
that don't support alpha blending - but the problem is I'm not sure at
what point alpha began to be supported. I only have a VM for XP - and I
think, but I don't know for sure, that alpha icons began to be supported
in 2000.

How do you deal with this problem, because presumably not every test
contributor has VMs ready to confirm the behaviour of 95, 98, ME, 2000,
XP and Vista. Do I submit the patch as-is, in the knowlege that it will
cause failures in old windows? Presumably not - so what do you suggest I
do?

I now have code to make DrawIcon pass the alpha tests, and I'm hoping to
have DrawIconEx ready in a few hours. With these done it should be
possible to in-cooperate my Tango patches, which should improve the
appearance of wine quite substantially.

Thanks
Joel

From joel at airwebreathe.org.uk  Sat May  2 04:13:45 2009
From: joel at airwebreathe.org.uk (Joel Holdsworth)
Date: Sat, 2 May 2009 10:13:45 +0100
Subject: [PATCH] Added tests for DrawIcon and DrawIconEx
Message-ID: <mailman.416.1241269185.3319.wine-devel@winehq.org>

---
 dlls/user32/tests/cursoricon.c |  209 ++++++++++++++++++++++++++++++++++++++++
 1 files changed, 209 insertions(+), 0 deletions(-)

diff --git a/dlls/user32/tests/cursoricon.c b/dlls/user32/tests/cursoricon.c
index 9475534..de3c582 100644
--- a/dlls/user32/tests/cursoricon.c
+++ b/dlls/user32/tests/cursoricon.c
@@ -58,12 +58,54 @@ typedef struct
 
 static char **test_argv;
 static int test_argc;
+
+static HINSTANCE hinst;
+
 static HWND child = 0;
 static HWND parent = 0;
 static HANDLE child_process;
 
 #define PROC_INIT (WM_USER+1)
 
+static HWND create_a_window(void)
+{
+    char className[] = "icownd";
+    char winName[]   = "Test DrawIcon";
+    HWND hWnd;
+    static int registered = 0;
+
+    if (!registered)
+    {
+        WNDCLASSA cls;
+
+        cls.style         = CS_HREDRAW | CS_VREDRAW | CS_GLOBALCLASS;
+        cls.lpfnWndProc   = DefWindowProcA;
+        cls.cbClsExtra    = 0;
+        cls.cbWndExtra    = 0;
+        cls.hInstance     = 0;
+        cls.hIcon         = LoadIconA (0, IDI_APPLICATION);
+        cls.hCursor       = LoadCursorA (0, IDC_ARROW);
+        cls.hbrBackground = GetStockObject (WHITE_BRUSH);
+        cls.lpszMenuName  = 0;
+        cls.lpszClassName = className;
+
+        RegisterClassA (&cls);
+        registered = 1;
+    }
+
+    /* Setup window */
+    hWnd = CreateWindowA (className, winName,
+       WS_OVERLAPPEDWINDOW ,
+       CW_USEDEFAULT, CW_USEDEFAULT, 100, 100, 0,
+       0, hinst, 0);
+
+    ShowWindow (hWnd, SW_SHOW);
+
+    Sleep(200);
+
+    return hWnd;
+}
+
 static LRESULT CALLBACK callback_child(HWND hwnd, UINT msg, WPARAM wParam, LPARAM lParam)
 {
     BOOL ret;
@@ -956,6 +998,169 @@ static void test_CreateIconFromResource(void)
     HeapFree(GetProcessHeap(), 0, hotspot);
 }
 
+static void check_icon_draw(HWND hwnd, BOOL drawiconex, BOOL maskvalue,
+                            UINT32 color, int bpp, COLORREF background,
+                            COLORREF expected)
+{
+    COLORREF result;
+    HDC hdc = NULL;
+    HICON hicon;
+    RECT rect = {0, 0, 1, 1};
+    HBRUSH backgroundBrush;
+    UINT32 mask;
+
+    if (!hwnd) return;
+
+    mask = maskvalue ? 0xFFFFFFFF : 0x00000000;
+    hicon = CreateIcon(hinst, 1, 1, 1, bpp, &mask, &color);
+
+    if (!hicon) return;
+
+    hdc = GetDC(hwnd);
+
+    backgroundBrush = CreateSolidBrush(background);
+    FillRect(hdc, &rect, backgroundBrush);
+    DeleteObject(backgroundBrush);
+
+    if(drawiconex)
+        DrawIconEx(hdc, 0, 0, hicon, 1, 1, 0, NULL, DI_NORMAL);
+    else
+        DrawIcon(hdc, 0, 0, hicon);
+
+    result = GetPixel(hdc, 0, 0);
+
+    ReleaseDC(hwnd, hdc);
+
+    ok (result == expected,
+        "Overlaying Mask %d on Color %08X. Expected %08X with %s. Got %08X\n",
+        maskvalue, (unsigned int)color, (unsigned int)expected,
+        drawiconex ? "DrawIconEx" : "DrawIcon", (unsigned int)result);
+}
+
+static void check_alpha_draw(HWND hwnd, BOOL drawiconex, BOOL alpha, int bpp)
+{
+    COLORREF result;
+    HDC hdc = NULL;
+    HICON hicon;
+    RECT rect = {0, 0, 1, 1};
+    HBRUSH backgroundBrush;
+    UINT32 mask;
+    UINT32 color[2];
+    COLORREF expected;
+
+    if (!hwnd) return;
+
+    mask = 0x00000000;
+    color[0] = 0x00A0B0C0;
+    color[1] = alpha ? 0xFF000000 : 0x00000000;
+    expected = alpha ? 0x00FFFFFF : 0x00C0B0A0;
+
+    hicon = CreateIcon(hinst, 2, 1, 1, bpp, &mask, &color);
+
+    if (!hicon) return;
+
+    hdc = GetDC(hwnd);
+
+    backgroundBrush = CreateSolidBrush(0x00FFFFFF);
+    FillRect(hdc, &rect, backgroundBrush);
+    DeleteObject(backgroundBrush);
+
+    if(drawiconex)
+        DrawIconEx(hdc, 0, 0, hicon, 2, 1, 0, NULL, DI_NORMAL);
+    else
+        DrawIcon(hdc, 0, 0, hicon);
+
+    result = GetPixel(hdc, 0, 0);
+
+    ReleaseDC(hwnd, hdc);
+
+    ok (result == expected,
+        "%s. Expected %08X with %s. Got %08X\n",
+        alpha ? "Alpha blending" : "Not alpha blending",
+        (unsigned int)expected, drawiconex ? "DrawIconEx" : "DrawIcon",
+        (unsigned int)result);
+}
+
+static void test_DrawIcon(BOOL drawiconex)
+{
+    HWND hwnd = create_a_window();
+
+    UINT display_bpp;
+    HDC hdc;
+
+    hdc = GetDC(0);
+    display_bpp = GetDeviceCaps(hdc, BITSPIXEL);
+    ReleaseDC(0, hdc);
+
+    if(display_bpp == 16)
+    {
+        check_icon_draw(hwnd, drawiconex, FALSE, 0x00A0B0C0, 16, 0x00FFFFFF, 0x000018B5);
+        check_icon_draw(hwnd, drawiconex, TRUE, 0x00A0B0C0, 16, 0x00FFFFFF, 0x00FFE74A);
+
+        check_icon_draw(hwnd, drawiconex, FALSE, 0xFFA0B0C0, 16, 0x00FFFFFF, 0x000018B5);
+        check_icon_draw(hwnd, drawiconex, TRUE, 0xFFA0B0C0, 16, 0x00FFFFFF, 0x00FFE74A);
+        check_icon_draw(hwnd, drawiconex, FALSE, 0x80A0B0C0, 16, 0x00FFFFFF, 0x000018B5);
+        check_icon_draw(hwnd, drawiconex, TRUE, 0x80A0B0C0, 16, 0x00FFFFFF, 0x00FFE74A);
+    }
+
+    if(display_bpp == 24)
+    {
+        check_icon_draw(hwnd, drawiconex, FALSE, 0x00A0B0C0, 24, 0x00FFFFFF, 0x00C0B0A0);
+        check_icon_draw(hwnd, drawiconex, TRUE, 0x00A0B0C0, 24, 0x00FFFFFF, 0x003F4F5F);
+
+        check_icon_draw(hwnd, drawiconex, FALSE, 0xFFA0B0C0, 24, 0x00FFFFFF, 0x00C0B0A0);
+        check_icon_draw(hwnd, drawiconex, TRUE, 0xFFA0B0C0, 24, 0x00FFFFFF, 0x003F4F5F);
+        check_icon_draw(hwnd, drawiconex, FALSE, 0x80A0B0C0, 24, 0x00FFFFFF, 0x00C0B0A0);
+        check_icon_draw(hwnd, drawiconex, TRUE, 0x80A0B0C0, 24, 0x00FFFFFF, 0x003F4F5F);
+    }
+
+    if(display_bpp == 32)
+    {
+        /* Mask is only heeded if alpha channel is 0x00 */
+        check_icon_draw(hwnd, drawiconex, FALSE, 0x00A0B0C0, 32, 0x00FFFFFF, 0x00C0B0A0);
+
+        if(drawiconex)
+        {
+            todo_wine
+            {
+                check_icon_draw(hwnd, TRUE, TRUE, 0x00A0B0C0, 32, 0x00FFFFFF, 0x003F4F5F);
+            }
+        }
+        else
+            check_icon_draw(hwnd, FALSE, TRUE, 0x00A0B0C0, 32, 0x00FFFFFF, 0x003F4F5F);
+
+        check_icon_draw(hwnd, drawiconex, FALSE, 0xFFA0B0C0, 32, 0x00FFFFFF, 0x00C0B0A0);
+
+        todo_wine
+        {
+            check_icon_draw(hwnd, drawiconex, TRUE, 0xFFA0B0C0, 32, 0x00FFFFFF, 0x00C0B0A0);
+
+            check_icon_draw(hwnd, drawiconex, FALSE, 0x80A0B0C0, 32, 0x00000000, 0x00605850);
+            check_icon_draw(hwnd, drawiconex, TRUE, 0x80A0B0C0, 32, 0x00000000, 0x00605850);
+            check_icon_draw(hwnd, drawiconex, FALSE, 0x80A0B0C0, 32, 0x00FFFFFF, 0x00DFD7CF);
+            check_icon_draw(hwnd, drawiconex, TRUE, 0x80A0B0C0, 32, 0x00FFFFFF, 0x00DFD7CF);
+
+            check_icon_draw(hwnd, drawiconex, FALSE, 0x01FFFFFF, 32, 0x00000000, 0x00010101);
+            check_icon_draw(hwnd, drawiconex, TRUE, 0x01FFFFFF, 32, 0x00000000, 0x00010101);
+            check_icon_draw(hwnd, drawiconex, FALSE, 0xFEFFFFFF, 32, 0x00000000, 0x00FEFEFE);
+            check_icon_draw(hwnd, drawiconex, TRUE, 0xFEFFFFFF, 32, 0x00000000, 0x00FEFEFE);
+        }
+
+        /* Test detecting of alpha channel */
+        /* If a single pixels alpha channel is non-zero, the icon
+           will be alpha blended, otherwise it will be draw with
+           and + xor blts. */
+        check_alpha_draw(hwnd, drawiconex, FALSE, 32);
+
+        todo_wine
+        {
+            check_alpha_draw(hwnd, drawiconex, TRUE, 32);
+        }
+    }
+
+    DestroyWindow(hwnd);
+}
+
 static void test_DestroyCursor(void)
 {
     static const BYTE bmp_bits[4096];
@@ -1038,6 +1243,8 @@ static void test_DestroyCursor(void)
 
 START_TEST(cursoricon)
 {
+    hinst = GetModuleHandleA(NULL);
+
     test_argc = winetest_get_mainargs(&test_argv);
 
     if (test_argc >= 3)
@@ -1063,6 +1270,8 @@ START_TEST(cursoricon)
     test_CreateIcon();
     test_LoadImage();
     test_CreateIconFromResource();
+    test_DrawIcon(FALSE);
+    test_DrawIcon(TRUE);
     test_DestroyCursor();
     do_parent();
     test_child_process();
-- 
1.6.0.4


--=-6RIEHhNfLmPN5U+7NUEW--




From kennybobs at o2.co.uk  Sat May  2 08:33:03 2009
From: kennybobs at o2.co.uk (Ken Sharp)
Date: Sat, 02 May 2009 14:33:03 +0100
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
Message-ID: <49FC4B8F.8090200@o2.co.uk>

The severity levels are there for guidance.  I would hope that common 
sense would prevail, but clearly it doesn't.

If a UI glitch makes a program unusable, then it's normal.  I can not 
believe you need this pointing out to you.

http://bugs.winehq.org/show_bug.cgi?id=1347
"Screen is wiped/blanked on usage of DirectDraw (black screen/desktop)" 
= UI glitch = Sev. Normal

Common sense people, that's all that is asked.


From Stefan.Leichter at camline.com  Sat May  2 09:48:35 2009
From: Stefan.Leichter at camline.com (Stefan Leichter)
Date: Sat, 2 May 2009 16:48:35 +0200
Subject: [shell32] stub for ExtractVersionResource16W
In-Reply-To: <3D96B440786C499F912FF337CCA37B87@DMITRY>
References: <200905020951.53242.Stefan.Leichter@camline.com>
	<3D96B440786C499F912FF337CCA37B87@DMITRY>
Message-ID: <200905021648.35989.Stefan.Leichter@camline.com>

Am Saturday 02 May 2009 12:54:14 schrieb Dmitry Timoshkov:
> "Stefan Leichter" <Stefan.Leichter at camline.com> wrote:
> > +/***********************************************************************
> > + *              ExtractVersionResource16W (SHELL32.@)
> > + */
> > +BOOL WINAPI ExtractVersionResource16W(LPWSTR s, DWORD d) {
> > +    FIXME("(%s %x) stub!\n", debugstr_w(s), d);
> > +    return FALSE;
> > +}
>
> Please follow the braces placement style of the file.
>
> Also you might be interested that according to
> http://www.geoffchappell.com/viewer.htm?doc=studies/windows/shell/shell32/h
>istory/names351.htm ExtractVersionResource16W is discontinued starting from
> Windows Vista.

What does the second point means for wine?

-- 
Stefan


From nerv at dawncrow.de  Sat May  2 09:51:09 2009
From: nerv at dawncrow.de (=?UTF-8?B?QW5kcsOpIEhlbnRzY2hlbA==?=)
Date: Sat, 02 May 2009 16:51:09 +0200
Subject: FYI: 64-Bit Winelib-compilation
In-Reply-To: <b6bb06270905011229i5d47f2d5pca7763d4d0905d97@mail.gmail.com>
References: <49FB4C95.9070000@dawncrow.de>
	<b6bb06270905011229i5d47f2d5pca7763d4d0905d97@mail.gmail.com>
Message-ID: <49FC5DDD.1060204@dawncrow.de>

Austin English schrieb:
> 2009/5/1 Andr? Hentschel <nerv at dawncrow.de>:
>   
>> To my suprise it didnt run.
>>     
>
> Interesting...does it run as a 32-bit winelib app? Have you tried
> compiling it with 64-bit mingw and seeing if it works there?
>
>   
i have problems compiling it with mingw64, because i am not familiar 
with it.
would someone else try it?


From kennybobs at o2.co.uk  Sat May  2 10:19:39 2009
From: kennybobs at o2.co.uk (Ken Sharp)
Date: Sat, 02 May 2009 16:19:39 +0100
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<49FC4B8F.8090200@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
Message-ID: <49FC648B.70705@o2.co.uk>



Nicklas B?rjesson wrote:
> I am not sure that common sense is the issue. I think it is a question of who you are and what you know. 
> Among the ones submitting bugs now is a quickly rising percentage of normal-to-advanced end users, and that percentage is likely to rise even further, as Linux adoption rates increase. 10 million desktops is the last number I've heard..and people are learning how to report problems. Hell, my mom(77 years old) reported a bug a while ago.
> 
> My point is, why not adapt the severity levels to the competence level of the submitters instead of having to correct them all the time, creating badwill?
> 
> Can't the three highest severity levels just be removed? Are they relevant? 
> 
> 1. Blocker  	"Blocks development and/or testing work"
> 
> - Is this even possible?

Yes.
http://bugs.winehq.org/buglist.cgi?query_format=advanced&short_desc_type=allwordssubstr&short_desc=&product=Wine&long_desc_type=substring&long_desc=&bug_file_loc_type=allwordssubstr&bug_file_loc=&status_whiteboard_type=allwordssubstr&status_whiteboard=&keywords_type=allwords&keywords=&bug_status=UNCONFIRMED&bug_status=NEW&bug_status=ASSIGNED&bug_status=REOPENED&bug_status=RESOLVED&bug_status=VERIFIED&bug_status=CLOSED&resolution=FIXED&resolution=MOVED&bug_severity=blocker&emailassigned_to1=1&emailtype1=substring&email1=&emailassigned_to2=1&emailreporter2=1&emailcc2=1&emailtype2=substring&email2=&bugidtype=include&bug_id=&votes=&chfieldfrom=&chfieldto=Now&chfieldvalue=&cmdtype=doit&order=Reuse+same+sort+as+last+time&field0-0-0=%255BBug%2Bcreation%255D&type0-0-0=noop&value0-0-0=

> 
> 2. Critical 	"Critical problem that prevents all applications from working"
> 
> - Possible, if everyone stopped testing code completely, and also unlikely to be reported by a user. 

No, critical bugs are usually opened by non-Linux users.

> 
> 3. Major 	"Major loss of functionality for a wide range of applications
> 
> - Isn't this just all bugs that has more than $arbitrary_number of applications linked to them? An aggregate, rather than a level?

No, it's actually what it say, a WIDE RANGE of applications.


> 
> 
> Then, the severity(or "impact") levels could be:
> 
> Critical
> High
> Medium
> Low
> 
> This is way easier to understand for normal people.  
> Also, the definition of each level should not be all that clear(except maybe critical) either, the levels will be discussed anyway, so it is easier to motivate for the developers to grade down a bug without too much discussion. Because the more people start using wine to actually make a living, the more important it will be to them.
> One would think that vague levels would create more discussion, but according to my experience, and with end-users, it seems to work the other way. 
> 
> And yes, I know that the bug reporting system is used by the developers internally as well, but do you really use the first two levels so often that you need them(I hope not)?

As above.  Searching for critical bugs would have answered that question.
http://bugs.winehq.org/buglist.cgi?query_format=advanced&short_desc_type=allwordssubstr&short_desc=&product=Wine&long_desc_type=substring&long_desc=&bug_file_loc_type=allwordssubstr&bug_file_loc=&status_whiteboard_type=allwordssubstr&status_whiteboard=&keywords_type=allwords&keywords=&bug_status=UNCONFIRMED&bug_status=NEW&bug_status=ASSIGNED&bug_status=REOPENED&bug_status=RESOLVED&bug_status=VERIFIED&bug_status=CLOSED&resolution=FIXED&resolution=MOVED&bug_severity=critical&emailassigned_to1=1&emailtype1=substring&email1=&emailassigned_to2=1&emailreporter2=1&emailcc2=1&emailtype2=substring&email2=&bugidtype=include&bug_id=&votes=&chfieldfrom=&chfieldto=Now&chfieldvalue=&cmdtype=doit&order=Reuse+same+sort+as+last+time&field0-0-0=%255BBug%2Bcreation%255D&type0-0-0=noop&value0-0-0=

Bugzilla is to track bugs, it's not a user support forum, and the bugs 
should be classified as the dev's want them to be classified.

That's what this is for:
http://bugs.winehq.org/page.cgi?id=fields.html#bug_severity
Normal: For an application crash or loss of functionality
UI glitch or not, if you can't use an app, you can't use it.  This is 
common sense.

> 
> //Nicklas
> 
> 

Your line length needs fixing.
"Produced By Microsoft Exchange V6.5"
This is why.



From juan.lang at gmail.com  Sat May  2 10:58:42 2009
From: juan.lang at gmail.com (Juan Lang)
Date: Sat, 2 May 2009 08:58:42 -0700
Subject: Question about my user32 tests patch
In-Reply-To: <1241269122.3942.82.camel@joel-desktop>
References: <1241269122.3942.82.camel@joel-desktop>
Message-ID: <3a768c550905020858x271e05a8vd4ca21f2f44543e4@mail.gmail.com>

Hi Joel,

> How do you deal with this problem, because presumably not every test
> contributor has VMs ready to confirm the behaviour of 95, 98, ME, 2000,
> XP and Vista. Do I submit the patch as-is, in the knowlege that it will
> cause failures in old windows? Presumably not - so what do you suggest I
> do?

That's what we generally end up doing.  Watching test.winehq.org for
test results once a patch gets committed, or waiting for an email from
someone who watches the results, is a way to get feedback on test
failures on other platforms.

The alternative is to ask someone to test your tests on other
platforms, by asking on wine-devel as you've done.

Cheers,
--Juan


From joel at airwebreathe.org.uk  Sat May  2 11:37:31 2009
From: joel at airwebreathe.org.uk (Joel Holdsworth)
Date: Sat, 02 May 2009 17:37:31 +0100
Subject: Question about my user32 tests patch
In-Reply-To: <3a768c550905020858x271e05a8vd4ca21f2f44543e4@mail.gmail.com>
References: <1241269122.3942.82.camel@joel-desktop>
	<3a768c550905020858x271e05a8vd4ca21f2f44543e4@mail.gmail.com>
Message-ID: <1241282251.3942.83.camel@joel-desktop>

On Sat, 2009-05-02 at 08:58 -0700, Juan Lang wrote:
> Hi Joel,
> 
> > How do you deal with this problem, because presumably not every test
> > contributor has VMs ready to confirm the behaviour of 95, 98, ME, 2000,
> > XP and Vista. Do I submit the patch as-is, in the knowlege that it will
> > cause failures in old windows? Presumably not - so what do you suggest I
> > do?
> 
> That's what we generally end up doing.  Watching test.winehq.org for
> test results once a patch gets committed, or waiting for an email from
> someone who watches the results, is a way to get feedback on test
> failures on other platforms.
> 
> The alternative is to ask someone to test your tests on other
> platforms, by asking on wine-devel as you've done.
> 
> Cheers,
> --Juan

Ahh ok that's good news!




From joel at airwebreathe.org.uk  Sat May  2 11:55:17 2009
From: joel at airwebreathe.org.uk (Joel Holdsworth)
Date: Sat, 02 May 2009 17:55:17 +0100
Subject: Giving up for now
Message-ID: <1241283317.3942.93.camel@joel-desktop>

Hi All,

I've hit a bit of a wall with alpha blended icons. CreateIcon is working
fine for icon creation, but ExtractIcon and LoadIconFromResource etc.
are all proving more of a problem. All of these use various GDI DIB
functions to coerce the icon bitmap to the correct colour depth and
size. The problem is that preserving the alpha channel through these DIB
functions seems to be impossible because they go via X11, so until the
dib engine is merged (after hell freezes over) I'm not sure I can go
much further.

Joel




From dimesio at earthlink.net  Sat May  2 12:09:18 2009
From: dimesio at earthlink.net (Rosanne DiMesio)
Date: Sat, 2 May 2009 12:09:18 -0500
Subject: Severity levels
In-Reply-To: <49FC648B.70705@o2.co.uk>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<49FC4B8F.8090200@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
	<49FC648B.70705@o2.co.uk>
Message-ID: <20090502120918.5fcdeca3.dimesio@earthlink.net>

> > This is way easier to understand for normal people.  
 

Speaking as a non-technical user who does file bug reports now and then, I have always found the definitions of the severity levels to be perfectly clear, even when I was new to Wine, and from what I've seen, when a reporter sets the wrong severity level, it's usually because they didn't bother to read the definitions in the first place. 

-- 
Rosanne DiMesio <dimesio at earthlink.net>


From nerv at dawncrow.de  Sat May  2 12:23:28 2009
From: nerv at dawncrow.de (=?ISO-8859-15?Q?Andr=E9_Hentschel?=)
Date: Sat, 02 May 2009 19:23:28 +0200
Subject: FYI: First running winelib64-port!!!
Message-ID: <49FC8190.3030403@dawncrow.de>

Hi,
afer playing around with about 20 source-codes of open-source-project it 
got one compiled as winelib64-app(and also as 32-Bit winelib-app).
It is WinVi 2.99 (http://www.winvi.de). The only difference i found 
between the original build and my two winelib builds are some 
GUI-specific things.
Tomorrow i will have a look where to write something down about that in 
the wiki.
As i already wrote, PuTTY compiles as winelib64-app, too, but it doesn't 
run. That's the reason why i called WinVi the first winelib64-app.

Best regards Andr? Hentschel


From madewokherd+8cd9 at gmail.com  Sat May  2 12:59:51 2009
From: madewokherd+8cd9 at gmail.com (Vincent Povirk)
Date: Sat, 2 May 2009 12:59:51 -0500
Subject: Implement gdiplus.dll.GdipSetPathGradientPresetBlend
In-Reply-To: <49FC8698.7010109@yahoo.com>
References: <49FC8698.7010109@yahoo.com>
Message-ID: <ced95fe0905021059m5d061fdscf7f6cfd72b43460@mail.gmail.com>

> +GpStatus WINGDIPAPI GdipSetPathGradientPresetBlend(GpPathGradient *brush, GDIPCONST REAL *blend,
> + ? ?GDIPCONST REAL *pos, INT count)

The types here don't match MSDN:
http://msdn.microsoft.com/en-us/library/ms534047(VS.85).aspx


From austinenglish at gmail.com  Sat May  2 13:13:52 2009
From: austinenglish at gmail.com (Austin English)
Date: Sat, 2 May 2009 13:13:52 -0500
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
Message-ID: <b6bb06270905021113h3d27ca59va42a1c1f2f337c59@mail.gmail.com>

2009/5/1 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
> Current severity levels are perfect for server applications where everything is simply about functionality working or not working.
> However, the overwhelming majority of windows applications in general, and those being ported through wine in particular are GUI-based, end-user applications.
> When it comes to these kinds of applications, in front of which actual people sit for hours on end doing actual work, other factors come into play.


Wine is meant to support _ALL_ windows applications. It doesn't give
priority to 'server' or 'desktop' applications (there is no
difference, really), but instead tries to make all of them work.

I have a feeling that by 'server' applications, you meant to say 'old
crappy business applications', or something similar, which makes a bit
of sense. Those applications are simple, and don't depend on a large
portion of the Win32 API, which makes them easy to get running.

While getting Photoshop to run perfectly would be great (and _a lot_
of work has been done for this, by Dan K filing a ton of bugs, and
Google funding a lot of bug fixing
(http://google-opensource.blogspot.com/2008/02/google-sponsors-wine-improvements.html).
A lot of that helped CS 3/4, as well, but Adobe also added more
complexity, so they don't work quite as well.

Remember, Wine is open source, and most developers aren't paid. If
you've got a bug that drives you crazy, study the source
(http://source.winehq.org/git/wine.git/), and submit a patch
(http://wiki.winehq.org/SubmittingPatches).

-- 
-Austin


From thunderbird2k at gmail.com  Sat May  2 13:38:32 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Sat, 2 May 2009 20:38:32 +0200
Subject: Giving up for now
In-Reply-To: <1241283317.3942.93.camel@joel-desktop>
References: <1241283317.3942.93.camel@joel-desktop>
Message-ID: <c8485d470905021138s75e1241g29b07a2914ada028@mail.gmail.com>

On Sat, May 2, 2009 at 6:55 PM, Joel Holdsworth
<joel at airwebreathe.org.uk> wrote:
> Hi All,
>
> I've hit a bit of a wall with alpha blended icons. CreateIcon is working
> fine for icon creation, but ExtractIcon and LoadIconFromResource etc.
> are all proving more of a problem. All of these use various GDI DIB
> functions to coerce the icon bitmap to the correct colour depth and
> size. The problem is that preserving the alpha channel through these DIB
> functions seems to be impossible because they go via X11, so until the
> dib engine is merged (after hell freezes over) I'm not sure I can go
> much further.
>
> Joel
>
>
>
>
>

If you say X11 might be problematic note that more and more display
drivers are offering visuals with alpha, so 32-bit ones instead of
24-bit. You could force the selection of such a visual in winex11.drv
for testing.

Roderick


From austinenglish at gmail.com  Sat May  2 13:56:52 2009
From: austinenglish at gmail.com (Austin English)
Date: Sat, 2 May 2009 13:56:52 -0500
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E9@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<b6bb06270905021113h3d27ca59va42a1c1f2f337c59@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E9@wsmail01.ws.se>
Message-ID: <b6bb06270905021156m22802260v934b2862b0e76787@mail.gmail.com>

2009/5/2 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
>>Wine is meant to support _ALL_ windows applications. It doesn't give
>>priority to 'server' or 'desktop' applications (there is no
>>difference, really), but instead tries to make all of them work.
>
> Yes, but I wasn't talking about server applikations per se, but that the severity levels would be perfect for a server application, hence skewing the priorities away from GUI and other, more "soft", user experience issues.

I'm curious what non-gui applications you're talking about in regards to wine.

-- 
-Austin


From joel at airwebreathe.org.uk  Sat May  2 13:57:05 2009
From: joel at airwebreathe.org.uk (Joel Holdsworth)
Date: Sat, 02 May 2009 19:57:05 +0100
Subject: Giving up for now
In-Reply-To: <c8485d470905021138s75e1241g29b07a2914ada028@mail.gmail.com>
References: <1241283317.3942.93.camel@joel-desktop>
	<c8485d470905021138s75e1241g29b07a2914ada028@mail.gmail.com>
Message-ID: <1241290625.3942.95.camel@joel-desktop>

On Sat, 2009-05-02 at 20:38 +0200, Roderick Colenbrander wrote:
> On Sat, May 2, 2009 at 6:55 PM, Joel Holdsworth
> <joel at airwebreathe.org.uk> wrote:
> > Hi All,
> >
> > I've hit a bit of a wall with alpha blended icons. CreateIcon is working
> > fine for icon creation, but ExtractIcon and LoadIconFromResource etc.
> > are all proving more of a problem. All of these use various GDI DIB
> > functions to coerce the icon bitmap to the correct colour depth and
> > size. The problem is that preserving the alpha channel through these DIB
> > functions seems to be impossible because they go via X11, so until the
> > dib engine is merged (after hell freezes over) I'm not sure I can go
> > much further.
> >
> > Joel
> >
> >
> >
> >
> >
> 
> If you say X11 might be problematic note that more and more display
> drivers are offering visuals with alpha, so 32-bit ones instead of
> 24-bit. You could force the selection of such a visual in winex11.drv
> for testing.
> 
> Roderick

Is that right? I simply assumed it would screw it up. If the problem can
be solved with fixes to user32 or gdi32, then I can probably find the
solution. If it involves work on winex11, then I'm not really the right
guy for the job.




From ge at gse.nl  Sat May  2 14:07:34 2009
From: ge at gse.nl (Ge van Geldorp)
Date: Sat, 2 May 2009 21:07:34 +0200
Subject: Question about my user32 tests patch
In-Reply-To: <mailman.7660.1241282316.3322.wine-devel@winehq.org>
References: <mailman.7660.1241282316.3322.wine-devel@winehq.org>
Message-ID: <022f01c9cb59$45e0fb70$d1a2f250$@nl>

Hi Joel,

> From: Joel Holdsworth <joel at airwebreathe.org.uk>
>
> How do you deal with this problem, because presumably not every test
> contributor has VMs ready to confirm the behaviour of 95, 98, ME, 2000,
> XP and Vista. Do I submit the patch as-is, in the knowlege that it will
> cause failures in old windows? Presumably not - so what do you suggest I
> do?

I have a whole bunch of VMs set up specifically for Wine testing, so feel
free to send me patches you think might behave differently on different
Windows versions. One caveat: I personally stopped caring about 9x when
Win2000 came out, so I'm not testing on those versions.

The good (but unsurprising) news is that your new tests pass on all my XP (4
different configurations) and Win2k3 (also 4 different configurations)
machines. I don't see failures on NT4, but perhaps the test was skipped
there?
The bad news is they failed on W2k, Vista and Win2k8. I've attached the test
reports for all failures.

Ge.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: WVISTAADM.rpt
Type: application/octet-stream
Size: 3319 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090502/dda349c2/attachment-0007.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: WNT4WSSP6.rpt
Type: application/octet-stream
Size: 74 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090502/dda349c2/attachment-0008.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: WNT4SRVSP6.rpt
Type: application/octet-stream
Size: 74 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090502/dda349c2/attachment-0009.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: W2KSRVSP4.rpt
Type: application/octet-stream
Size: 2425 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090502/dda349c2/attachment-0010.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: W2KPROSP4.rpt
Type: application/octet-stream
Size: 3319 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090502/dda349c2/attachment-0011.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: W2KASSP4.rpt
Type: application/octet-stream
Size: 2425 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090502/dda349c2/attachment-0012.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: W2K8SE.rpt
Type: application/octet-stream
Size: 3319 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090502/dda349c2/attachment-0013.obj>

From austinenglish at gmail.com  Sat May  2 14:35:13 2009
From: austinenglish at gmail.com (Austin English)
Date: Sat, 2 May 2009 14:35:13 -0500
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A3EB@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<b6bb06270905021113h3d27ca59va42a1c1f2f337c59@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E9@wsmail01.ws.se>
	<b6bb06270905021156m22802260v934b2862b0e76787@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3EB@wsmail01.ws.se>
Message-ID: <b6bb06270905021235g3223a156v6a90123f6d0ea059@mail.gmail.com>

2009/5/2 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
> Not applications, issues.
> My point is that user experience issues gets a lower severity than they should.
> Let's take photoshop CS 4 with two old but relevant actual issues as an example.
> 1. There is a problem with the text tool functionality, it did not work. Everything else works, though.
> 2. There are serious graphics problems, huge artifacts, the entire application is almost unworkable under Gnome.
>
> With the current severity levels(without common sense), example 1 gets higher priority, which I think is wrong.
>
> //Nicklas
>
> PS.
> Yes I know the actual issue turned out to be a configuration thing. But that's not the point.
> DS.

The problem is, however, that many of those problems only break an
application or two. What is a blocker for Photoshop isn't a blocker
for World of Warcraft or Microsoft Office, for example.

Please bottom post on wine mailing lists.

-- 
-Austin


From dimesio at earthlink.net  Sat May  2 15:04:02 2009
From: dimesio at earthlink.net (Rosanne DiMesio)
Date: Sat, 2 May 2009 15:04:02 -0500
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A3EA@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<49FC4B8F.8090200@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
	<49FC648B.70705@o2.co.uk>
	<20090502120918.5fcdeca3.dimesio@earthlink.net>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3EA@wsmail01.ws.se>
Message-ID: <20090502150402.8c5eaa1f.dimesio@earthlink.net>

On Sat, 2 May 2009 21:08:23 +0200
Nicklas B?rjesson <Nicklas.Borjesson at ws.se> wrote:

> 
> Non-technical? Posting on and following the wine-devel list? Severity levels perfectly clear? 
> I must say, you've got some serious credibility issues.. :-)
> 
>

I think "middle-aged college English teacher who couldn't code if her life depended on it" counts as non-technical. :-) The only thing that sets me apart from most users is the fact that I actually do RTFM, but that's just because I'm one of those eccentric academics who thinks reading is a really good way to learn. 

-- 
Rosanne DiMesio <dimesio at earthlink.net>


From thunderbird2k at gmail.com  Sat May  2 15:56:23 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Sat, 2 May 2009 22:56:23 +0200
Subject: Giving up for now
In-Reply-To: <1241290625.3942.95.camel@joel-desktop>
References: <1241283317.3942.93.camel@joel-desktop>
	<c8485d470905021138s75e1241g29b07a2914ada028@mail.gmail.com>
	<1241290625.3942.95.camel@joel-desktop>
Message-ID: <c8485d470905021356u599820a5t1ba268ba4af1a49d@mail.gmail.com>

On Sat, May 2, 2009 at 8:57 PM, Joel Holdsworth
<joel at airwebreathe.org.uk> wrote:
> On Sat, 2009-05-02 at 20:38 +0200, Roderick Colenbrander wrote:
>> On Sat, May 2, 2009 at 6:55 PM, Joel Holdsworth
>> <joel at airwebreathe.org.uk> wrote:
>> > Hi All,
>> >
>> > I've hit a bit of a wall with alpha blended icons. CreateIcon is working
>> > fine for icon creation, but ExtractIcon and LoadIconFromResource etc.
>> > are all proving more of a problem. All of these use various GDI DIB
>> > functions to coerce the icon bitmap to the correct colour depth and
>> > size. The problem is that preserving the alpha channel through these DIB
>> > functions seems to be impossible because they go via X11, so until the
>> > dib engine is merged (after hell freezes over) I'm not sure I can go
>> > much further.
>> >
>> > Joel
>> >
>> >
>> >
>> >
>> >
>>
>> If you say X11 might be problematic note that more and more display
>> drivers are offering visuals with alpha, so 32-bit ones instead of
>> 24-bit. You could force the selection of such a visual in winex11.drv
>> for testing.
>>
>> Roderick
>
> Is that right? I simply assumed it would screw it up. If the problem can
> be solved with fixes to user32 or gdi32, then I can probably find the
> solution. If it involves work on winex11, then I'm not really the right
> guy for the job.
>
>
>

Why again did you need this specific alphablend method? The icon can't
be converted to use some basic color keying for transparency or so?


From joel at airwebreathe.org.uk  Sat May  2 16:18:14 2009
From: joel at airwebreathe.org.uk (Joel Holdsworth)
Date: Sat, 02 May 2009 22:18:14 +0100
Subject: Giving up for now
In-Reply-To: <c8485d470905021356u599820a5t1ba268ba4af1a49d@mail.gmail.com>
References: <1241283317.3942.93.camel@joel-desktop>
	<c8485d470905021138s75e1241g29b07a2914ada028@mail.gmail.com>
	<1241290625.3942.95.camel@joel-desktop>
	<c8485d470905021356u599820a5t1ba268ba4af1a49d@mail.gmail.com>
Message-ID: <1241299094.3942.104.camel@joel-desktop>

On Sat, 2009-05-02 at 22:56 +0200, Roderick Colenbrander wrote:
> On Sat, May 2, 2009 at 8:57 PM, Joel Holdsworth
> <joel at airwebreathe.org.uk> wrote:
> > On Sat, 2009-05-02 at 20:38 +0200, Roderick Colenbrander wrote:
> >> On Sat, May 2, 2009 at 6:55 PM, Joel Holdsworth
> >> <joel at airwebreathe.org.uk> wrote:
> >> > Hi All,
> >> >
> >> > I've hit a bit of a wall with alpha blended icons. CreateIcon is working
> >> > fine for icon creation, but ExtractIcon and LoadIconFromResource etc.
> >> > are all proving more of a problem. All of these use various GDI DIB
> >> > functions to coerce the icon bitmap to the correct colour depth and
> >> > size. The problem is that preserving the alpha channel through these DIB
> >> > functions seems to be impossible because they go via X11, so until the
> >> > dib engine is merged (after hell freezes over) I'm not sure I can go
> >> > much further.
> >> >
> >> > Joel
> >> >
> >> >
> >> >
> >> >
> >> >
> >>
> >> If you say X11 might be problematic note that more and more display
> >> drivers are offering visuals with alpha, so 32-bit ones instead of
> >> 24-bit. You could force the selection of such a visual in winex11.drv
> >> for testing.
> >>
> >> Roderick
> >
> > Is that right? I simply assumed it would screw it up. If the problem can
> > be solved with fixes to user32 or gdi32, then I can probably find the
> > solution. If it involves work on winex11, then I'm not really the right
> > guy for the job.
> >
> >
> >
> 
> Why again did you need this specific alphablend method? The icon can't
> be converted to use some basic color keying for transparency or so?

The reason is that the outlines will look aliased, and there will be no
drop-shadows - without alpha the Tango icons won't look better than the
current set. Also, I figured that icon rendering should be fixed for the
sake of wine as a whole - which I think it should. It seems like a good
little task for a wine beginner, and indeed I've made a lot of progress
- I'm just a bit stuck.

The culprit is a transfer through StretchDIBits in user32 which strips
the alpha channel. I can't see a way round it - using StretchBlt doesn't
help, and neither does GdiTransparentBlt.

Another insentive: I suspect fixing this would also fix bug #201 which
is now over 8 years old!




From shacklein at gmail.com  Sat May  2 19:44:11 2009
From: shacklein at gmail.com (Ben Klein)
Date: Sun, 3 May 2009 10:44:11 +1000
Subject: Giving up for now
In-Reply-To: <1241299094.3942.104.camel@joel-desktop>
References: <1241283317.3942.93.camel@joel-desktop>
	<c8485d470905021138s75e1241g29b07a2914ada028@mail.gmail.com> 
	<1241290625.3942.95.camel@joel-desktop>
	<c8485d470905021356u599820a5t1ba268ba4af1a49d@mail.gmail.com> 
	<1241299094.3942.104.camel@joel-desktop>
Message-ID: <d7e40be30905021744u5001b421of26d4df01c47a853@mail.gmail.com>

2009/5/3 Joel Holdsworth <joel at airwebreathe.org.uk>:
> On Sat, 2009-05-02 at 22:56 +0200, Roderick Colenbrander wrote:
>> Why again did you need this specific alphablend method? The icon can't
>> be converted to use some basic color keying for transparency or so?
>
> The reason is that the outlines will look aliased, and there will be no
> drop-shadows - without alpha the Tango icons won't look better than the
> current set. Also, I figured that icon rendering should be fixed for the
> sake of wine as a whole - which I think it should. It seems like a good
> little task for a wine beginner, and indeed I've made a lot of progress
> - I'm just a bit stuck.
>
> The culprit is a transfer through StretchDIBits in user32 which strips
> the alpha channel. I can't see a way round it - using StretchBlt doesn't
> help, and neither does GdiTransparentBlt.
>
> Another insentive: I suspect fixing this would also fix bug #201 which
> is now over 8 years old!

What format are your Tango icons in? Are you converting them to .ICO
files as you go, or leaving them in PNG/some other known alpha channel
supporting format?


From shacklein at gmail.com  Sat May  2 20:08:05 2009
From: shacklein at gmail.com (Ben Klein)
Date: Sun, 3 May 2009 11:08:05 +1000
Subject: Severity levels
In-Reply-To: <b6bb06270905021113h3d27ca59va42a1c1f2f337c59@mail.gmail.com>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<b6bb06270905021113h3d27ca59va42a1c1f2f337c59@mail.gmail.com>
Message-ID: <d7e40be30905021808p6bece72r605821452565b6fa@mail.gmail.com>

I really didn't think this one deserved even my comment, but here goes.

2009/5/3 Austin English <austinenglish at gmail.com>:
> 2009/5/1 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
>> Current severity levels are perfect for server applications where everything is simply about functionality working or not working.
>> However, the overwhelming majority of windows applications in general, and those being ported through wine in particular are GUI-based, end-user applications.
>> When it comes to these kinds of applications, in front of which actual people sit for hours on end doing actual work, other factors come into play.
>
> Wine is meant to support _ALL_ windows applications. It doesn't give
> priority to 'server' or 'desktop' applications (there is no
> difference, really), but instead tries to make all of them work.
>
> I have a feeling that by 'server' applications, you meant to say 'old
> crappy business applications', or something similar, which makes a bit
> of sense. Those applications are simple, and don't depend on a large
> portion of the Win32 API, which makes them easy to get running.

I have a feeling that by "server" applications, he meant stuff that's
not Wine. For me, games and regular applications running in Wine is
still "simply about functionality working or not working". It's still
a matter of determining how much a bug affects the functionality,
whether that's gameplay, graphics, HID responsiveness ...

2009/5/3 Austin English <austinenglish at gmail.com>:
> 2009/5/2 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
>> Not applications, issues.
>> My point is that user experience issues gets a lower severity than they should.
>> Let's take photoshop CS 4 with two old but relevant actual issues as an example.
>> 1. There is a problem with the text tool functionality, it did not work. Everything else works, though.

"Text tool" is one tool out of many. "Minor" loss of functionality.
"Normal" at worst.

>> 2. There are serious graphics problems, huge artifacts, the entire application is almost unworkable under Gnome.

If it's restricted to a small number of applications, "Normal". If
it's a reasonably large number, "Major". Regardless of what you might
think, it's not JUST a "UI glitch" if it seriously impairs
functionality. Even the use of the word "serious" in your description
implies it's more than a "Minor" bug.

>> With the current severity levels(without common sense), example 1 gets higher priority, which I think is wrong.

Without common sense, all bug reports would be "Enhancement" requests,
or "Critical", depending on how arrogant the reporter is. Common sense
must *always* be applied.

> The problem is, however, that many of those problems only break an
> application or two. What is a blocker for Photoshop isn't a blocker
> for World of Warcraft or Microsoft Office, for example.

Hence the bug is "Normal" and not "Major".

> Please bottom post on wine mailing lists.

Oh, and use "Reply to all" so you stop just hitting Austin with responses!

2009/5/3 Rosanne DiMesio <dimesio at earthlink.net>:
> On Sat, 2 May 2009 21:08:23 +0200
> Nicklas B?rjesson <Nicklas.Borjesson at ws.se> wrote:
>> Non-technical? Posting on and following the wine-devel list? Severity levels perfectly clear?
>> I must say, you've got some serious credibility issues.. :-)

Rosanne is an AppDB admin. What contribution have you made to Wine?
Out of you and her, I don't think her credibility can be called in to
question. And before you ask, I'm also an AppDB admin, I package the
Debian packages for WineHQ, and have had a patch committed to Wine.
I'll even send you the git revision code if you can't find it! :D

Note that like Rosanne, even when I was a newbie submitting bug
reports, I understood the severity levels because I read the
descriptions. The descriptions are fine as is, with the possible
exception of "Blocker" (people submit "Blocker" bugs for "Normal"
issues because it blocks the thing that they're doing).


From shacklein at gmail.com  Sat May  2 20:10:39 2009
From: shacklein at gmail.com (Ben Klein)
Date: Sun, 3 May 2009 11:10:39 +1000
Subject: IE and MSN Messenger 7.0
In-Reply-To: <36a11a3a0904301732m31907d1brbba99f9f8d6cc80c@mail.gmail.com>
References: <000001c9c6ba$9141e000$e8ae0ad5@oemcomputer>
	<d7e40be30904282032l37925e64k6f9b3a38ea79bf56@mail.gmail.com> 
	<000201c9c9e2$f365d9a0$e8ae0ad5@oemcomputer>
	<d7e40be30904301618p1cc11b05s84955c09e43b4ba1@mail.gmail.com> 
	<36a11a3a0904301732m31907d1brbba99f9f8d6cc80c@mail.gmail.com>
Message-ID: <d7e40be30905021810g4d823512w37f7011016f0d721@mail.gmail.com>

2009/5/1 Remco <remco47 at gmail.com>:
> On Fri, May 1, 2009 at 1:18 AM, Ben Klein <shacklein at gmail.com> wrote:
>> 2009/5/1 Cissyvonwinckelmann <cissyvonwinckelmann at planet.nl>:
>>> hartelijk dank Benm ja ik moet snel een andere pc hebben, want dit is een
>>> hele ouwe dan krijg je de moeilijkheden,
>>> groetjes cissy
>>>
>>
>> I have to use Google Language Tools to translate your text, so I
>> apologise if I misunderstand you.
>
> You did indeed misunderstand him. I'll translate his messages:
>
> -----
> Hi,
> Is there a possibility to still download Messenger 7.0?
> You see, I am still running Windows ME.
> Waiting for your answer,
> Cheers, cissy
> -----
>
> And his next email:
>
> -----
> Thank you very much, Ben. Yeah, I must get another PC soon, because
> this is an old one and that causes problems.
> Cheers, cissy.
> -----
>
> So I'm pretty sure he's on the wrong mailing list.

I'll leave it to you to tell him to go to AppDB and discover MSN
Messenger doesn't work well then ;) Or at least go to wine-users and
bug them with Google Translate :P


From jjmckenzie51 at earthlink.net  Sat May  2 20:16:12 2009
From: jjmckenzie51 at earthlink.net (James McKenzie)
Date: Sat, 02 May 2009 18:16:12 -0700
Subject: error report
In-Reply-To: <F9FE94D8-75D1-4F37-9A97-28BAAC92B8CA@como.vub.ac.be>
References: <F9FE94D8-75D1-4F37-9A97-28BAAC92B8CA@como.vub.ac.be>
Message-ID: <49FCF05C.1020305@earthlink.net>

Ruben Hillewaere wrote:
> Hello,
>
>
> I wanted to install (Dar)wine on my Intel Mac, first I've tried with
> the binaries found on http://wiki.winehq.org/MacOSX/Installing  The
> installation goes fine, but running any of the apps fails.
>
> So, instead, I've tried to build Wine from Scratch, this is what I get:
>
>
> ruben at CakeSlicer:~/distrib$ ./create_darwine_distrib.sh $VERSION
> ~/Desktop/wine-$VERSION
> # Packaging Darwine for version 1.1.20 using Wine sources in
> /Users/ruben/Desktop/wine-1.1.20...
> # Building Wine in /Users/ruben/Desktop/wine-1.1.20 (warning: takes a
> long time)...
> configure: WARNING: mach-o/dyld_images.h: present but cannot be compiled
> configure: WARNING: mach-o/dyld_images.h:     check for missing
> prerequisite headers?
> configure: WARNING: mach-o/dyld_images.h: see the Autoconf documentation
> configure: WARNING: mach-o/dyld_images.h:     section "Present But
> Cannot Be Compiled"
> configure: WARNING: mach-o/dyld_images.h: proceeding with the
> preprocessor's result
> configure: WARNING: mach-o/dyld_images.h: in the future, the compiler
> will take precedence
> configure: WARNING:     ## ------------------------------------ ##
> configure: WARNING:     ## Report this to wine-devel at winehq.org ##
> configure: WARNING:     ## ------------------------------------ ##
> configure: error: FreeType development files not found. Fonts will not
> be built.
> Use the --without-freetype option if you really want this.
> ***** Error: Can't build wine
>
Did you install XCode, the X11SDK from your Leopard disk, and get the
required packages from either Fink or MacPorts?

You might want to try either:

1.  The build environment from Mike Kronenberg's site (it is on the same
line as the unstable version), or
2.  Install either Fink or MacPorts and use their build system.

Either should give you a working Wine for MacOSX.

If you have further comments/questions, we are here to help.

James McKenzie




From celticht32 at yahoo.com  Sat May  2 20:56:47 2009
From: celticht32 at yahoo.com (chris ahrendt)
Date: Sat, 2 May 2009 18:56:47 -0700 (PDT)
Subject: RFC on Base Wine Config
Message-ID: <563077.18409.qm@web32405.mail.mud.yahoo.com>


I have noticed something with reporting bugs and problems that are 
encountered...

If the user is allowed to delete the Z: share to /  once this is done 
things start acting strange or not working.
Many people have done this for various reasons.

My suggestion is to do the following:

1. If we have a base configuration that should not change for settings 
IE the Z: mapping then do not allow this to be changed or deleted in 
winecfg. If someone is dumb enough to go into the ini file and delete it 
then they should know better.

2. If it is critical that the Z: or drive mapping be there for  / then 
if its missing should wine then handle this condition?


Chris






      


From shacklein at gmail.com  Sat May  2 21:11:44 2009
From: shacklein at gmail.com (Ben Klein)
Date: Sun, 3 May 2009 12:11:44 +1000
Subject: RFC on Base Wine Config
In-Reply-To: <563077.18409.qm@web32405.mail.mud.yahoo.com>
References: <563077.18409.qm@web32405.mail.mud.yahoo.com>
Message-ID: <d7e40be30905021911n4e751a01y2951eaa7114c8520@mail.gmail.com>

2009/5/3 chris ahrendt <celticht32 at yahoo.com>:
>
> I have noticed something with reporting bugs and problems that are
> encountered...
>
> If the user is allowed to delete the Z: share to / ?once this is done
> things start acting strange or not working.

In general, you can't run apps outside of what's linked to in
dosdevices. You certainly can't launch them from inside Wine. The link
to / is mostly there for convenience so you don't have to keep dumping
downloads (e.g. patches or small installers) in ~/.wine/drive_c every
time you want to install them, and partly to allow Wine to launch
applications in /usr/bin et al (e.g. winebrowser).

> Many people have done this for various reasons.

Yes, and it's valid to do so.

> My suggestion is to do the following:
>
> 1. If we have a base configuration that should not change for settings
> IE the Z: mapping then do not allow this to be changed or deleted in
> winecfg. If someone is dumb enough to go into the ini file and delete it
> then they should know better.

This would make a lot of people unhappy (like the creation of the
Universe) for "various reasons".

> 2. If it is critical that the Z: or drive mapping be there for ?/ then
> if its missing should wine then handle this condition?

1) It's not critical.
2) Wine already handles this condition. It's no different from any
other drive link in this way. It doesn't even have to be Z; you can
manually change it to be D if you really want. The only critical drive
is C: and that IS handled differently (especially in winecfg).


From celticht32 at yahoo.com  Sat May  2 21:20:25 2009
From: celticht32 at yahoo.com (chris ahrendt)
Date: Sat, 2 May 2009 19:20:25 -0700 (PDT)
Subject: RFC on Base Wine Config
Message-ID: <5093.12199.qm@web32404.mail.mud.yahoo.com>


Ben Klein wrote:
> 2009/5/3 chris ahrendt <celticht32 at yahoo.com>:
>   
>> I have noticed something with reporting bugs and problems that are
>> encountered...
>>
>> If the user is allowed to delete the Z: share to /  once this is done
>> things start acting strange or not working.
>>     
>
> In general, you can't run apps outside of what's linked to in
> dosdevices. You certainly can't launch them from inside Wine. The link
> to / is mostly there for convenience so you don't have to keep dumping
> downloads (e.g. patches or small installers) in ~/.wine/drive_c every
> time you want to install them, and partly to allow Wine to launch
> applications in /usr/bin et al (e.g. winebrowser).
>
>   
>> Many people have done this for various reasons.
>>     
>
> Yes, and it's valid to do so.
>
>   
>> My suggestion is to do the following:
>>
>> 1. If we have a base configuration that should not change for settings
>> IE the Z: mapping then do not allow this to be changed or deleted in
>> winecfg. If someone is dumb enough to go into the ini file and delete it
>> then they should know better.
>>     
>
> This would make a lot of people unhappy (like the creation of the
> Universe) for "various reasons".
>
>   
>> 2. If it is critical that the Z: or drive mapping be there for  / then
>> if its missing should wine then handle this condition?
>>     
>
> 1) It's not critical.
> 2) Wine already handles this condition. It's no different from any
> other drive link in this way. It doesn't even have to be Z; you can
> manually change it to be D if you really want. The only critical drive
> is C: and that IS handled differently (especially in winecfg).
>
>
>   
ok then I am very confused then...
I deleted the / mapping all together and then ran the dotest script and 
the make test scripts
dotest fails if the / mapping is not there along with the inetmib1 
test.  I opened a bug
concerning the inetmib test failing and was told that my configuration 
with the / mapping deleted
was an invalid wine configuration that the / is absolutely needed by wine.

So I am confused... is it required or not? and if it is then we get back 
to my original RFC here =D

Chris






      


From juan.lang at gmail.com  Sat May  2 22:47:54 2009
From: juan.lang at gmail.com (Juan Lang)
Date: Sat, 2 May 2009 20:47:54 -0700
Subject: RFC on Base Wine Config
In-Reply-To: <5093.12199.qm@web32404.mail.mud.yahoo.com>
References: <5093.12199.qm@web32404.mail.mud.yahoo.com>
Message-ID: <3a768c550905022047i1d25f343o54670e454928c1e0@mail.gmail.com>

> ok then I am very confused then...
> I deleted the / mapping all together and then ran the dotest script and
> the make test scripts
> dotest fails if the / mapping is not there along with the inetmib1
> test. ?I opened a bug
> concerning the inetmib test failing and was told that my configuration
> with the / mapping deleted
> was an invalid wine configuration that the / is absolutely needed by wine.
>
> So I am confused... is it required or not?

It is not required.  What _is_ required is that the path to the
current executable is mapped, somewhere.  I suggested you remap Z: to
/ as it's the default, and it was the most concise way to ensure that
your configuration met the requirement.  As Ben said, you could map
any drive.  Heck, you could have mapped Q: to the dlls/inetmib1/tests
directory and the inetmib1 test would have worked, while having no
mapping would not work.
--Juan


From celticht32 at yahoo.com  Sat May  2 22:56:24 2009
From: celticht32 at yahoo.com (chris ahrendt)
Date: Sat, 2 May 2009 20:56:24 -0700 (PDT)
Subject: RFC on Base Wine Config
Message-ID: <912455.99355.qm@web32404.mail.mud.yahoo.com>


Juan Lang wrote:
>> ok then I am very confused then...
>> I deleted the / mapping all together and then ran the dotest script and
>> the make test scripts
>> dotest fails if the / mapping is not there along with the inetmib1
>> test.  I opened a bug
>> concerning the inetmib test failing and was told that my configuration
>> with the / mapping deleted
>> was an invalid wine configuration that the / is absolutely needed by wine.
>>
>> So I am confused... is it required or not?
>>     
>
> It is not required.  What _is_ required is that the path to the
> current executable is mapped, somewhere.  I suggested you remap Z: to
> / as it's the default, and it was the most concise way to ensure that
> your configuration met the requirement.  As Ben said, you could map
> any drive.  Heck, you could have mapped Q: to the dlls/inetmib1/tests
> directory and the inetmib1 test would have worked, while having no
> mapping would not work.
> --Juan
>
>
>   
I realise this juan...
I guess I am not being completely clear somewhat....
If I am in windows and go into explorer... go to a network drive. I do 
not nescisarily have to map that drive in order to run an application 
(so long as the DLLS it needs, if any, are not just on that drive). I 
can click the application
and it runs. I realise this may be a fundamental difference between unix 
and windows but still they should theoretically run the same.  Also from 
a command line I can do (I think if I am remembering correctly (been 
doing to much z work lately) ) //server/directory/app.exe and it will 
retrieve and run the app... (I think)


Chris






      


From shacklein at gmail.com  Sun May  3 00:07:35 2009
From: shacklein at gmail.com (Ben Klein)
Date: Sun, 3 May 2009 15:07:35 +1000
Subject: RFC on Base Wine Config
In-Reply-To: <912455.99355.qm@web32404.mail.mud.yahoo.com>
References: <912455.99355.qm@web32404.mail.mud.yahoo.com>
Message-ID: <d7e40be30905022207h35c46191j14a4d22dc7e6e4ad@mail.gmail.com>

2009/5/3 chris ahrendt <celticht32 at yahoo.com>:
>
> Juan Lang wrote:
>>> ok then I am very confused then...
>>> I deleted the / mapping all together and then ran the dotest script and
>>> the make test scripts
>>> dotest fails if the / mapping is not there along with the inetmib1
>>> test. ?I opened a bug
>>> concerning the inetmib test failing and was told that my configuration
>>> with the / mapping deleted
>>> was an invalid wine configuration that the / is absolutely needed by wine.
>>>
>>> So I am confused... is it required or not?
>>>
>>
>> It is not required. ?What _is_ required is that the path to the
>> current executable is mapped, somewhere. ?I suggested you remap Z: to
>> / as it's the default, and it was the most concise way to ensure that
>> your configuration met the requirement. ?As Ben said, you could map
>> any drive. ?Heck, you could have mapped Q: to the dlls/inetmib1/tests
>> directory and the inetmib1 test would have worked, while having no
>> mapping would not work.
>> --Juan
>>
>>
>>
> I realise this juan...
> I guess I am not being completely clear somewhat....
> If I am in windows and go into explorer...

We've been through this before. Wine is not Windows. In Wine, the
drive has to be mapped in dosdevices.

> go to a network drive. I do
> not nescisarily have to map that drive in order to run an application
> (so long as the DLLS it needs, if any, are not just on that drive). I
> can click the application
> and it runs. I realise this may be a fundamental difference between unix
> and windows but still they should theoretically run the same.

But you're NOT running the test from a network drive, are you? And
even if you were, you'd need some way to inform Wine that it's there,
which would be to map it to a drive. Does Wine even support
Windows-style shares?

>?Also from
> a command line I can do (I think if I am remembering correctly (been
> doing to much z work lately) ) //server/directory/app.exe and it will
> retrieve and run the app... (I think)

You should probably verify this.

2009/5/3 chris ahrendt <celticht32 at yahoo.com>:
> And you are looking at the wrong bug... 1
> The bug in question is actually :  18283 (now closed as the issue was
> resolved by the mapping)  not 17996.

18283 didn't come up in my search. It would have been much easier if
you mentioned the bug number when you first mentioned that you
reported a bug for this.

> The only way to fix it was mapping the  / drive or mapping the ~/wine-git directory to a physical drive for wine to use...

Yes. This is how it works. This is how it always has worked.

> In Windows you don't nescissarily need to map a drive to run an application from that networked drive.

It's NOT a networked drive, is it? Drive mappings are the only way to
tell Wine and apps running in Wine where your files are in your
host-system (Unix-style) filesystem.

Note that it would be a breach of security to allow some method to
access / without a direct mapping in dosdevices.

> Also no its not a PEBKAC it is a valid question and a request for comment not a request for insult and slam.

This message appears in your bug report:
> Warning: could not find DOS drive for current working directory
> '/home/cahrendt/wine-git/dlls/inetmib1/tests', starting in the Windows
> directory.

PEBKAC QED.

> Grow up..

How about you *THINK* about what you're doing and how it works before
reporting obviously invalid bugs?


From kai.blin at gmail.com  Sun May  3 02:04:13 2009
From: kai.blin at gmail.com (Kai Blin)
Date: Sun, 3 May 2009 09:04:13 +0200
Subject: RFC on Base Wine Config
In-Reply-To: <d7e40be30905022207h35c46191j14a4d22dc7e6e4ad@mail.gmail.com>
References: <912455.99355.qm@web32404.mail.mud.yahoo.com>
	<d7e40be30905022207h35c46191j14a4d22dc7e6e4ad@mail.gmail.com>
Message-ID: <200905030904.33621.kai.blin@gmail.com>

On Sunday 03 May 2009 07:07:35 Ben Klein wrote:
> 2009/5/3 chris ahrendt <celticht32 at yahoo.com>:

Replying to Ben's email as I didn't get Chris' email Ben replied to.
I would also like to note that I don't appreciate the tone both of these 
emails are taking in the end. Please try to be civil.

That being said, let me get to the technical part.

> > I guess I am not being completely clear somewhat....
> > If I am in windows and go into explorer...
>
> We've been through this before. Wine is not Windows. In Wine, the
> drive has to be mapped in dosdevices.
> > go to a network drive. I do
> > not nescisarily have to map that drive in order to run an application
> > (so long as the DLLS it needs, if any, are not just on that drive). I
> > can click the application
> > and it runs. I realise this may be a fundamental difference between unix
> > and windows but still they should theoretically run the same.

The important part here is that your local drives are local drives. Don't 
confuse the Wine drive mappings with network drive mappings in Windows. Think 
about a Wine drive mapping like plugging a new hdd into your box.

>
> But you're NOT running the test from a network drive, are you? And
> even if you were, you'd need some way to inform Wine that it's there,
> which would be to map it to a drive. Does Wine even support
> Windows-style shares?

Nope. We could, but then you'd have to create a Samba share to allow us to use 
the directory. I'm pretty sure a wine drive mapping is easier and faster.

> >?Also from
> > a command line I can do (I think if I am remembering correctly (been
> > doing to much z work lately) ) //server/directory/app.exe and it will
> > retrieve and run the app... (I think)

That's a bit besides the point, as this is still a valid UNC path. Now imagine 
I've got a USB hdd with my app on it, and that's usually connected at U:, 
with my app being at U:\test\app.exe. Now the logic in Windows mapping my USB 
drive to U: is just what the wine dosdevice mapping is like. If I now tell 
windows to remove the USB device, my desktop link to U:\test\app.exe is not 
going to work anymore. 

> This message appears in your bug report:
> > Warning: could not find DOS drive for current working directory
> > '/home/cahrendt/wine-git/dlls/inetmib1/tests', starting in the Windows
> > directory.

Here my analogy would be a bit stretched, as in that you'd still manage to be 
on the USB drive while it's already been disconnected. But basically you're 
trying to run a program that's on a drive not connected to your wine "box".

Cheers,
Kai

-- 
Kai Blin
WorldForge developer  http://www.worldforge.org/
Wine developer        http://wiki.winehq.org/KaiBlin
Samba team member     http://www.samba.org/samba/team/
--
Will code for cotton.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part.
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090503/2c17319d/attachment-0001.pgp>

From Nicklas.Borjesson at ws.se  Sat May  2 09:52:06 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Sat, 2 May 2009 16:52:06 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<49FC4B8F.8090200@o2.co.uk>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>

I am not sure that common sense is the issue. I think it is a question of who you are and what you know. 
Among the ones submitting bugs now is a quickly rising percentage of normal-to-advanced end users, and that percentage is likely to rise even further, as Linux adoption rates increase. 10 million desktops is the last number I've heard..and people are learning how to report problems. Hell, my mom(77 years old) reported a bug a while ago.

My point is, why not adapt the severity levels to the competence level of the submitters instead of having to correct them all the time, creating badwill?

Can't the three highest severity levels just be removed? Are they relevant? 

1. Blocker  	"Blocks development and/or testing work"

- Is this even possible?

2. Critical 	"Critical problem that prevents all applications from working"

- Possible, if everyone stopped testing code completely, and also unlikely to be reported by a user. 

3. Major 	"Major loss of functionality for a wide range of applications

- Isn't this just all bugs that has more than $arbitrary_number of applications linked to them? An aggregate, rather than a level?


Then, the severity(or "impact") levels could be:

Critical
High
Medium
Low

This is way easier to understand for normal people.  
Also, the definition of each level should not be all that clear(except maybe critical) either, the levels will be discussed anyway, so it is easier to motivate for the developers to grade down a bug without too much discussion. Because the more people start using wine to actually make a living, the more important it will be to them.
One would think that vague levels would create more discussion, but according to my experience, and with end-users, it seems to work the other way. 

And yes, I know that the bug reporting system is used by the developers internally as well, but do you really use the first two levels so often that you need them(I hope not)? 

//Nicklas



From Nicklas.Borjesson at ws.se  Sat May  2 13:07:31 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Sat, 2 May 2009 20:07:31 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<49FC4B8F.8090200@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
	<49FC648B.70705@o2.co.uk>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>

Ok, I have made better posts.

>> 1. Blocker  	"Blocks development and/or testing work"
>> 
>> - Is this even possible?

>Yes.

I am sorry. Of course it is possible to have these problems. I thought it meant that it blocks ALL 
development and/or testing work(since it is above critical). 
In the list, there are mostly platform-specific issues. My mistake. 

>> 2. Critical 	"Critical problem that prevents all applications from working"
>> 
>> - Possible, if everyone stopped testing code completely, and also unlikely to be reported by a user. 

>No, critical bugs are usually opened by non-Linux users.

Here I did search, and actually, most bugs have "linux" as an operating system so I couldn't come to that conclusion.
Anyway, I get your point.  Still don't really see why this is a separate severity level, though. 
Wouldn't this be a "wineloader" component or something?

>> 3. Major 	"Major loss of functionality for a wide range of applications
>> 
>> - Isn't this just all bugs that has more than $arbitrary_number of applications linked to them? An aggregate, 
>> rather than a level?

>No, it's actually what it say, a WIDE RANGE of applications.

Ok..I just thought that "wide range" could be translated into a number or percentage instead of an expression. 
I thought the opposite way...but couldn't possibly all bugs in wine affect a wide range of appliacations?

> Bugzilla is to track bugs, it's not a user support forum, and the bugs 
> should be classified as the dev's want them to be classified.

No, I know it is not a support forum(Is users using is as such a big problem?).
But it is nevertheless an interface towards the users of wine. A place they go to when all else has failed(hopefully). 
And as such it is utterly confusing(for them) and already leads to pointless misunderstandings and frustrations 
regarding, for example, the severity flag.

Anyway. I can't help but feel that we are on completely different pages in many ways. 
I think that the users should have quite a say with regards to how important a bug is, because for every user 
putting in the (considerable for a user) effort of reporting a bug, there are dozens that don't say anything at all. 
In wine's case, because of it's size, this might actually be hundreds. It's badwill.

So currently, there is no way at all for users to influence these priorities. To me, user priorities would be a 
considerable factor, obviously not the only one, but considerable. 
I know that wine, to a large extent, Is maintained by unpaid individuals(like myself) that want to prioritize themselves. 
I don't want to take that right away from them, I just feel that it's bad practice to disregard the users' priorities.

//Nicklas

PS.
>Your line length needs fixing.
I have to admit I sent this using my employers horrible web mail (no idea why it says 6.5 though, think it is 2005). 
We will pretty soon "exchange" it, though. :-)
DS.



From Nicklas.Borjesson at ws.se  Sat May  2 13:54:40 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Sat, 2 May 2009 20:54:40 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se><B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<b6bb06270905021113h3d27ca59va42a1c1f2f337c59@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E9@wsmail01.ws.se>

>Wine is meant to support _ALL_ windows applications. It doesn't give
>priority to 'server' or 'desktop' applications (there is no
>difference, really), but instead tries to make all of them work.

Yes, but I wasn't talking about server applikations per se, but that the severity levels would be perfect for a server application, hence skewing the priorities away from GUI and other, more "soft", user experience issues.

I am not specifically talking about Photoshop, either. I am talking about all GUI-centered applications.

Yes, I read about that, huge kudos to Google for still being benevolent(and Dan of course).

But. Listen. I am not here to try and get Photoshop CS 4 fixed, that's already done, it works great for me. It's just that I have some ideas on what I would think would be simple but effective changes of the bug reporting and don't give up easily. :-)

//Nicklas



From Nicklas.Borjesson at ws.se  Sat May  2 14:08:23 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Sat, 2 May 2009 21:08:23 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se><B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se><49FC4B8F.8090200@o2.co.uk><B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se><49FC648B.70705@o2.co.uk>
	<20090502120918.5fcdeca3.dimesio@earthlink.net>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A3EA@wsmail01.ws.se>

The normal user doesn't even understand that the definitions should be read, most people think they know what "trivial", "minor","normal","major" means anyway. I actually discussed this with some friends recently. I just think that it could be more user-oriented.

Non-technical? Posting on and following the wine-devel list? Severity levels perfectly clear? 
I must say, you've got some serious credibility issues.. :-)

//Nicklas


-----Original Message-----
From: Rosanne DiMesio [mailto:dimesio at earthlink.net]
Sent: Sat 2009-05-02 19:09
To: Ken Sharp
Cc: Nicklas B?rjesson; wine-devel at winehq.org
Subject: Re: Severity levels
 
> > This is way easier to understand for normal people.  
 

Speaking as a non-technical user who does file bug reports now and then, I have always found the definitions of the severity levels to be perfectly clear, even when I was new to Wine, and from what I've seen, when a reporter sets the wrong severity level, it's usually because they didn't bother to read the definitions in the first place. 

-- 
Rosanne DiMesio <dimesio at earthlink.net>




From Nicklas.Borjesson at ws.se  Sat May  2 14:31:49 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Sat, 2 May 2009 21:31:49 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se><B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se><b6bb06270905021113h3d27ca59va42a1c1f2f337c59@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A3E9@wsmail01.ws.se>
	<b6bb06270905021156m22802260v934b2862b0e76787@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A3EB@wsmail01.ws.se>

Not applications, issues.
My point is that user experience issues gets a lower severity than they should.
Let's take photoshop CS 4 with two old but relevant actual issues as an example. 
1. There is a problem with the text tool functionality, it did not work. Everything else works, though.
2. There are serious graphics problems, huge artifacts, the entire application is almost unworkable under Gnome.

With the current severity levels(without common sense), example 1 gets higher priority, which I think is wrong.

//Nicklas

PS.
Yes I know the actual issue turned out to be a configuration thing. But that's not the point.
DS.

-----Original Message-----
From: Austin English [mailto:austinenglish at gmail.com]
Sent: Sat 2009-05-02 20:56
To: Nicklas B?rjesson
Cc: wine-devel at winehq.org
Subject: Re: Severity levels
 
2009/5/2 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
>>Wine is meant to support _ALL_ windows applications. It doesn't give
>>priority to 'server' or 'desktop' applications (there is no
>>difference, really), but instead tries to make all of them work.
>
> Yes, but I wasn't talking about server applikations per se, but that the severity levels would be perfect for a server application, hence skewing the priorities away from GUI and other, more "soft", user experience issues.

I'm curious what non-gui applications you're talking about in regards to wine.

-- 
-Austin





From Nicklas.Borjesson at ws.se  Sat May  2 14:52:56 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Sat, 2 May 2009 21:52:56 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se><B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se><b6bb06270905021113h3d27ca59va42a1c1f2f337c59@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A3E9@wsmail01.ws.se><b6bb06270905021156m22802260v934b2862b0e76787@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A3EB@wsmail01.ws.se>
	<b6bb06270905021235g3223a156v6a90123f6d0ea059@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A3EC@wsmail01.ws.se>


>The problem is, however, that many of those problems only break an
>application or two. What is a blocker for Photoshop isn't a blocker
>for World of Warcraft or Microsoft Office, for example.

You mean because Photoshop often use the more obscure parts of the APIs?
Otherwise bugs in GUI shouldn't be less contagious than other kinds.
Unless one regards UE issues as less severe, that is... :-)
Anyway, I fail to see how this connects to the severity level discussion?

>Please bottom post on wine mailing lists.

Yep. But I was top posted earlier so I got confused. 
Also I am in a crappy exchange web mail client..
I hope you managed to read this post better.

//Nicklas




From Nicklas.Borjesson at ws.se  Sat May  2 15:32:33 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Sat, 2 May 2009 22:32:33 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se><B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se><49FC4B8F.8090200@o2.co.uk><B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se><49FC648B.70705@o2.co.uk><20090502120918.5fcdeca3.dimesio@earthlink.net><B73E4E48704A3A43B786A9078FF1BC6DD3A3EA@wsmail01.ws.se>
	<20090502150402.8c5eaa1f.dimesio@earthlink.net>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A3EE@wsmail01.ws.se>


>I think "middle-aged college English teacher who couldn't code if her life depended on it" counts as non-technical. :-) The only thing that sets me >apart from most users is the fact that I actually do RTFM, but that's just because I'm one of those eccentric academics who thinks reading is a >really good way to learn. 

Reading? But you are going to end up all cross-eyed, dear?
Everything I know about programming I have learned from stories my parents told me as a kid.
And they heard them from their parents and now I am passing it on to my 3-year old daughter.
She is very much into the older Windows API:s right now and just wants to hear that story 
about oleacc.dll again and again and again.





From Nicklas.Borjesson at ws.se  Sun May  3 02:09:11 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Sun, 3 May 2009 09:09:11 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<b6bb06270905021113h3d27ca59va42a1c1f2f337c59@mail.gmail.com>
	<d7e40be30905021808p6bece72r605821452565b6fa@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A3F1@wsmail01.ws.se>

Ok..you seem to have misunderstood the tone in my mail.

>Without common sense, all bug reports would be "Enhancement" requests,
>or "Critical", depending on how arrogant the reporter is. Common sense
>must *always* be applied.

I should be needed to be applied only to the least possible amount. One should never have to think for no reason.
The more "common sense" that have to be applied to make something work, the less something works by itself.
Of course, you can't completely do away with common sense. I said "without common sense" to point out the problems.
And, well, some have less common sense. Or a different kind. Or are just tired, stressed out or something else. 
So, the less common sense needed, the better, IMO. My other point is that reporters are like to become less technical.

> Oh, and use "Reply to all" so you stop just hitting Austin with responses!

Huh? The mailing list is cc:d, Isn't that enough? I mean, it looks on you mail you mailed me and cc:d?
Doesn't the mailing list propagate messages if it is only cc:d?
Have I misunderstood something? In that case I am sorry.

>Rosanne is an AppDB admin. What contribution have you made to Wine?
>Out of you and her, I don't think her credibility can be called in to
>question. And before you ask, I'm also an AppDB admin, I package the
>Debian packages for WineHQ, and have had a patch committed to Wine.
>I'll even send you the git revision code if you can't find it! :D

>Note that like Rosanne, even when I was a newbie submitting bug
>reports, I understood the severity levels because I read the
>descriptions. The descriptions are fine as is, with the possible
>exception of "Blocker" (people submit "Blocker" bugs for "Normal"
>issues because it blocks the thing that they're doing).

It's seems you missed the ":-)". I put in the end of the sentence on credibility. 
It was a joke and she seems to have took it that way, since she joked back.
With regards to the severity levels, to me, none of them means what one would think they do intuitively.

//Nicklas

PS.
I am sorry if I have broken the rules of this list, but I thought I followed them. 
I hope you don't let this detract from my arguments.
DS.



From austinenglish at gmail.com  Sun May  3 03:51:11 2009
From: austinenglish at gmail.com (Austin English)
Date: Sun, 3 May 2009 03:51:11 -0500
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<49FC4B8F.8090200@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
	<49FC648B.70705@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
Message-ID: <b6bb06270905030151qaa306b6p4cabe2d3f073780f@mail.gmail.com>

2009/5/2 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
>>> 2. Critical ?"Critical problem that prevents all applications from working"
>>>
>>> - Possible, if everyone stopped testing code completely, and also unlikely to be reported by a user.
>
>>No, critical bugs are usually opened by non-Linux users.
>
> Here I did search, and actually, most bugs have "linux" as an operating system so I couldn't come to that conclusion.
> Anyway, I get your point. ?Still don't really see why this is a separate severity level, though.
> Wouldn't this be a "wineloader" component or something?

Not all critical bugs are caused by the loader. It's possible for
d3d/ole/etc. to have a similar effect.

>>> 3. Major ? ? "Major loss of functionality for a wide range of applications
>>>
>>> - Isn't this just all bugs that has more than $arbitrary_number of applications linked to them? An aggregate,
>>> rather than a level?
>
>>No, it's actually what it say, a WIDE RANGE of applications.
>
> Ok..I just thought that "wide range" could be translated into a number or percentage instead of an expression.
> I thought the opposite way...but couldn't possibly all bugs in wine affect a wide range of appliacations?

Sure, it's just not as common as you'd think.

>> Bugzilla is to track bugs, it's not a user support forum, and the bugs
>> should be classified as the dev's want them to be classified.
>
> No, I know it is not a support forum(Is users using is as such a big problem?).

You'd be surprised...

> But it is nevertheless an interface towards the users of wine. A place they go to when all else has failed(hopefully).
> And as such it is utterly confusing(for them) and already leads to pointless misunderstandings and frustrations
> regarding, for example, the severity flag.
>
> Anyway. I can't help but feel that we are on completely different pages in many ways.
> I think that the users should have quite a say with regards to how important a bug is, because for every user
> putting in the (considerable for a user) effort of reporting a bug, there are dozens that don't say anything at all.
> In wine's case, because of it's size, this might actually be hundreds. It's badwill.
>
> So currently, there is no way at all for users to influence these priorities. To me, user priorities would be a
> considerable factor, obviously not the only one, but considerable.
> I know that wine, to a large extent, Is maintained by unpaid individuals(like myself) that want to prioritize themselves.
> I don't want to take that right away from them, I just feel that it's bad practice to disregard the users' priorities.

Keep in mind, most developers are unpaid as well. They're the ones
fixing the bugs, not users. While users are important, no work gets
done without the developers. Developers have no way to prioritize one
user over another. The best way to prioritize *your* bug is to make a
*good* bug report. Make sure all needed information is included. Get a
testcase if possible. Provide the needed traces, etc. Even better, is
to write a patch yourself. The source is there, and there is nothing
stopping you from writing a patch.

As a developer that spends more time testing than coding/etc., I see
both sides of the coin. But keep in mind, that there are thousands of
users, and just as many applications. Prioritizing one
user/application over the other is almost always impossible, for
obvious reasons. Picking your bug instead of Bob's bug just pisses Bob
off, and vice versa. So how is most bug fixing done? Developers big
bugs that interest them, that affect them personally, or that have
good bug reports, which makes it fixing it much easier on them.

-- 
-Austin


From petrimetri at gmail.com  Sun May  3 04:51:07 2009
From: petrimetri at gmail.com (Dimitriu Petru)
Date: Sun, 3 May 2009 12:51:07 +0300
Subject: Romanian translation (again)
Message-ID: <a8050cee0905030251o223f7394g711d683f997da148@mail.gmail.com>

I'm here again for the Romanian translation of Wine.
I only want somebody to change in the translation "Propriet??i pentru"
with "Propriet??i pentru" because it shows ugly in ReactOS.

Thanks in advance,
Petru


From Paul.Hampson at Pobox.com  Sun May  3 04:52:07 2009
From: Paul.Hampson at Pobox.com (Paul TBBle Hampson)
Date: Sun, 3 May 2009 19:52:07 +1000
Subject: RFC on Base Wine Config
In-Reply-To: <d7e40be30905022207h35c46191j14a4d22dc7e6e4ad@mail.gmail.com>
References: <912455.99355.qm@web32404.mail.mud.yahoo.com>
	<d7e40be30905022207h35c46191j14a4d22dc7e6e4ad@mail.gmail.com>
Message-ID: <20090503095207.GA5442@keitarou.watson.bubblesworth.net>

On Sun, May 03, 2009 at 03:07:35PM +1000, Ben Klein wrote:
> It's NOT a networked drive, is it? Drive mappings are the only way to
> tell Wine and apps running in Wine where your files are in your
> host-system (Unix-style) filesystem.

The discussion on wine-devel in April related to bug 15883 suggested the
implementation of \\?\unix\ which would in turn allow programs access to
things that aren't mapped in the DosDevices list, unless specifically
disallowed (which wasn't discussed at the time)

A quick look at [1] suggests that \\?\unix\etc/hostname would seem to be
a reasonable thing to expect to work under Wine.

> Note that it would be a breach of security to allow some method to
> access / without a direct mapping in dosdevices.

How so? I'm fairly sure this suggestion was dismissed in the
above-mentioned email discussions as well.

[1] http://msdn.microsoft.com/en-us/library/aa365247(VS.85).aspx

-- 
-----------------------------------------------------------
Paul "TBBle" Hampson, B.Sc, LPI, MCSE
Very-later-year Asian Studies student, ANU
The Boss, Bubblesworth Pty Ltd (ABN: 51 095 284 361)
Paul.Hampson at Pobox.com

Of course Pacman didn't influence us as kids. If it did,
we'd be running around in darkened rooms, popping pills and
listening to repetitive music.
 -- Marcus Brigstocke
http://www.marcusbrigstocke.com/pacman.asp

License: http://creativecommons.org/licenses/by/2.5/au/
-----------------------------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090503/8a97280e/attachment.pgp>

From nerv at dawncrow.de  Sun May  3 05:12:13 2009
From: nerv at dawncrow.de (=?ISO-8859-2?Q?Andr=E9_Hentschel?=)
Date: Sun, 03 May 2009 12:12:13 +0200
Subject: Romanian translation (again)
In-Reply-To: <a8050cee0905030251o223f7394g711d683f997da148@mail.gmail.com>
References: <a8050cee0905030251o223f7394g711d683f997da148@mail.gmail.com>
Message-ID: <49FD6DFD.5020706@dawncrow.de>

Dimitriu Petru schrieb:
> I'm here again for the Romanian translation of Wine.
> I only want somebody to change in the translation "Propriet??i pentru"
> with "Propriet??i pentru" because it shows ugly in ReactOS.
>
> Thanks in advance,
> Petru
>
>
>   
Patch sent: 
http://www.winehq.org/pipermail/wine-patches/2009-May/072559.html


From dmitry at codeweavers.com  Sun May  3 05:25:49 2009
From: dmitry at codeweavers.com (Dmitry Timoshkov)
Date: Sun, 3 May 2009 19:25:49 +0900
Subject: [shell32] stub for ExtractVersionResource16W
References: <200905020951.53242.Stefan.Leichter@camline.com>
	<3D96B440786C499F912FF337CCA37B87@DMITRY>
	<200905021648.35989.Stefan.Leichter@camline.com>
Message-ID: <E93920E18D2F428B9D6382FFBEA14D3F@DMITRY>

"Stefan Leichter" <Stefan.Leichter at camline.com> wrote:

>> Also you might be interested that according to
>> http://www.geoffchappell.com/viewer.htm?doc=studies/windows/shell/shell32/h
>>istory/names351.htm ExtractVersionResource16W is discontinued starting from
>> Windows Vista.
> 
> What does the second point means for wine?

That means that if Microsoft has dropped that API from Vista,
all apps that use it no more will function on Vista and newer
Windows generation. Therefore Wine is free to drop it as well.

-- 
Dmitry.


From ricardojdfilipe at gmail.com  Sun May  3 05:27:07 2009
From: ricardojdfilipe at gmail.com (Ricardo Filipe)
Date: Sun, 3 May 2009 11:27:07 +0100
Subject: Romanian translation (again)
In-Reply-To: <a8050cee0905030251o223f7394g711d683f997da148@mail.gmail.com>
References: <a8050cee0905030251o223f7394g711d683f997da148@mail.gmail.com>
Message-ID: <bc8cede80905030327o22bbc8a5veee3743ac4e0641c@mail.gmail.com>

2009/5/3 Dimitriu Petru <petrimetri at gmail.com>

> I'm here again for the Romanian translation of Wine.
> I only want somebody to change in the translation "Propriet??i pentru"
> with "Propriet??i pentru" because it shows ugly in ReactOS.
>
> Thanks in advance,
> Petru
>
>
> you can send translations patches to wine (you don't need to be worried to
work for reactOS for this kind of patches, if that's your problem), no need
to ask other people to make the patches :P
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090503/49bcf41b/attachment.htm>

From petrimetri at gmail.com  Sun May  3 05:44:53 2009
From: petrimetri at gmail.com (Dimitriu Petru)
Date: Sun, 3 May 2009 13:44:53 +0300
Subject: Romanian translation (again)
In-Reply-To: <49FD6DFD.5020706@dawncrow.de>
References: <a8050cee0905030251o223f7394g711d683f997da148@mail.gmail.com>
	<49FD6DFD.5020706@dawncrow.de>
Message-ID: <a8050cee0905030344r54ede783n564545b4d6855114@mail.gmail.com>

2009/5/3 Andr? Hentschel <nerv at dawncrow.de>:
> Dimitriu Petru schrieb:
>>
>> I'm here again for the Romanian translation of Wine.
>> I only want somebody to change in the translation "Propriet??i pentru"
>> with "Propriet??i pentru" because it shows ugly in ReactOS.
>>
>> Thanks in advance,
>> Petru
>>
>>
>>
>
> Patch sent:
> http://www.winehq.org/pipermail/wine-patches/2009-May/072559.html
>

Thank you, Andr? Hentschel.


From shacklein at gmail.com  Sun May  3 05:54:32 2009
From: shacklein at gmail.com (Ben Klein)
Date: Sun, 3 May 2009 20:54:32 +1000
Subject: RFC on Base Wine Config
In-Reply-To: <20090503095207.GA5442@keitarou.watson.bubblesworth.net>
References: <912455.99355.qm@web32404.mail.mud.yahoo.com>
	<d7e40be30905022207h35c46191j14a4d22dc7e6e4ad@mail.gmail.com> 
	<20090503095207.GA5442@keitarou.watson.bubblesworth.net>
Message-ID: <d7e40be30905030354g498500eere549bd2097f40f8d@mail.gmail.com>

2009/5/3 Paul TBBle Hampson <Paul.Hampson at pobox.com>:
> On Sun, May 03, 2009 at 03:07:35PM +1000, Ben Klein wrote:
>> It's NOT a networked drive, is it? Drive mappings are the only way to
>> tell Wine and apps running in Wine where your files are in your
>> host-system (Unix-style) filesystem.
>
> The discussion on wine-devel in April related to bug 15883 suggested the
> implementation of \\?\unix\ which would in turn allow programs access to
> things that aren't mapped in the DosDevices list, unless specifically
> disallowed (which wasn't discussed at the time)
>
> A quick look at [1] suggests that \\?\unix\etc/hostname would seem to be
> a reasonable thing to expect to work under Wine.

But that requires either
1) the app to be aware of \\?\unix, or
2) Wine to map \\?\unix/foo/bar when no drive mapping to /foo/bar exists.

#2 would also require some way to be configured to allow the
equivalent of removing the default Z: drive mapping for people who
want it. However, it would not provide any additional functionality
and could easily be considered a waste of time. Of course, that's not
up to me ;)

>> Note that it would be a breach of security to allow some method to
>> access / without a direct mapping in dosdevices.
>
> How so? I'm fairly sure this suggestion was dismissed in the
> above-mentioned email discussions as well.

AFAIK, the main reason people remove the Z: mapping is a security
concern. It's not an issue for me, but some people like to restrict
the files that win32 apps can access to a subdirectory in $HOME. If
there's some workaround to access files outside the drive mapping
(assuming pure win32 of course :D ), then unless it can be disabled by
the user, it's a security breach.


From shacklein at gmail.com  Sun May  3 06:08:46 2009
From: shacklein at gmail.com (Ben Klein)
Date: Sun, 3 May 2009 21:08:46 +1000
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A3F1@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<b6bb06270905021113h3d27ca59va42a1c1f2f337c59@mail.gmail.com> 
	<d7e40be30905021808p6bece72r605821452565b6fa@mail.gmail.com> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F1@wsmail01.ws.se>
Message-ID: <d7e40be30905030408x5efbeaaet35221788490b1f0a@mail.gmail.com>

2009/5/3 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
> Ok..you seem to have misunderstood the tone in my mail.
>
>>Without common sense, all bug reports would be "Enhancement" requests,
>>or "Critical", depending on how arrogant the reporter is. Common sense
>>must *always* be applied.
>
> I should be needed to be applied only to the least possible amount. One should never have to think for no reason.
> The more "common sense" that have to be applied to make something work, the less something works by itself.
> Of course, you can't completely do away with common sense. I said "without common sense" to point out the problems.
> And, well, some have less common sense. Or a different kind. Or are just tired, stressed out or something else.
> So, the less common sense needed, the better, IMO. My other point is that reporters are like to become less technical.
>
>> Oh, and use "Reply to all" so you stop just hitting Austin with responses!
>
> Huh? The mailing list is cc:d, Isn't that enough? I mean, it looks on you mail you mailed me and cc:d?
> Doesn't the mailing list propagate messages if it is only cc:d?
> Have I misunderstood something? In that case I am sorry.

My apologies. I received Austin's responses before receiving your
original emails.

>>Rosanne is an AppDB admin. What contribution have you made to Wine?
>>Out of you and her, I don't think her credibility can be called in to
>>question. And before you ask, I'm also an AppDB admin, I package the
>>Debian packages for WineHQ, and have had a patch committed to Wine.
>>I'll even send you the git revision code if you can't find it! :D
>
>>Note that like Rosanne, even when I was a newbie submitting bug
>>reports, I understood the severity levels because I read the
>>descriptions. The descriptions are fine as is, with the possible
>>exception of "Blocker" (people submit "Blocker" bugs for "Normal"
>>issues because it blocks the thing that they're doing).
>
> It's seems you missed the ":-)". I put in the end of the sentence on credibility.
> It was a joke and she seems to have took it that way, since she joked back.
> With regards to the severity levels, to me, none of them means what one would think they do intuitively.

I disagree. When first introduced to them, I found the severity levels
to be suitably vague to make me read the definitions. Once I read
them, it was clear to me what each level means.

Either way, severity levels can be changed, and often are due to user
responses on the bugs. But bear in mind the severity levels are there
to help the developers categorise the bugs, and they are not there to
provide feedback to the average non-coding user.


From Paul.Hampson at Pobox.com  Sun May  3 06:42:24 2009
From: Paul.Hampson at Pobox.com (Paul TBBle Hampson)
Date: Sun, 3 May 2009 21:42:24 +1000
Subject: RFC on Base Wine Config
In-Reply-To: <d7e40be30905030354g498500eere549bd2097f40f8d@mail.gmail.com>
References: <912455.99355.qm@web32404.mail.mud.yahoo.com>
	<d7e40be30905022207h35c46191j14a4d22dc7e6e4ad@mail.gmail.com>
	<20090503095207.GA5442@keitarou.watson.bubblesworth.net>
	<d7e40be30905030354g498500eere549bd2097f40f8d@mail.gmail.com>
Message-ID: <20090503114224.GA6785@keitarou.watson.bubblesworth.net>

On Sun, May 03, 2009 at 08:54:32PM +1000, Ben Klein wrote:
> 2009/5/3 Paul TBBle Hampson <Paul.Hampson at pobox.com>:
>> On Sun, May 03, 2009 at 03:07:35PM +1000, Ben Klein wrote:
>>> It's NOT a networked drive, is it? Drive mappings are the only way to
>>> tell Wine and apps running in Wine where your files are in your
>>> host-system (Unix-style) filesystem.

>> The discussion on wine-devel in April related to bug 15883 suggested the
>> implementation of \\?\unix\ which would in turn allow programs access to
>> things that aren't mapped in the DosDevices list, unless specifically
>> disallowed (which wasn't discussed at the time)

>> A quick look at [1] suggests that \\?\unix\etc/hostname would seem to be
>> a reasonable thing to expect to work under Wine.

> But that requires either
> 1) the app to be aware of \\?\unix, or

This would be rather badly broken. The point of \\?\ is that apps (and
in fact the Win32 API) doesn't parse such paths, but passes them on to
the filesystem.

> 2) Wine to map \\?\unix/foo/bar when no drive mapping to /foo/bar exists.

The _point_ is that if Wine sees a \\?\unix/foo/bar path, it operates
upon the file at /foo/bar, irrespective of the drive mappings.

> #2 would also require some way to be configured to allow the
> equivalent of removing the default Z: drive mapping for people who
> want it. However, it would not provide any additional functionality
> and could easily be considered a waste of time. Of course, that's not
> up to me ;)

The point of \\?\unix is not to add functionality, it's to allow
removal of current functionality, specifically the magic recognition of
"/x/y" as a unix path instead of "X:/x/y" with X as the drive of the
current working directory, in order to fix bug 15883.

>>> Note that it would be a breach of security to allow some method to
>>> access / without a direct mapping in dosdevices.

>> How so? I'm fairly sure this suggestion was dismissed in the
>> above-mentioned email discussions as well.

> AFAIK, the main reason people remove the Z: mapping is a security
> concern. It's not an issue for me, but some people like to restrict
> the files that win32 apps can access to a subdirectory in $HOME. If
> there's some workaround to access files outside the drive mapping
> (assuming pure win32 of course :D ), then unless it can be disabled by
> the user, it's a security breach.

The point made as I recall it in the earlier thread is that this is a
false sense of security, and that apps can already get outside the drive
mappings for filesystem access.

I don't know how, but that was the point that was made.

Off the top of my head, there's Win32 APIs that let you enumerate and
map physical disk devices to DOS drive letters. So you could just readd
Z:\ in your app if you wanted.

Frankly I would like to break that illusion of security by providing
\\?\unix, if I find the time. (The hard part is identifying all the
parts of Wine that use the '/' recognition to function)

-- 
-----------------------------------------------------------
Paul "TBBle" Hampson, B.Sc, LPI, MCSE
Very-later-year Asian Studies student, ANU
The Boss, Bubblesworth Pty Ltd (ABN: 51 095 284 361)
Paul.Hampson at Pobox.com

Of course Pacman didn't influence us as kids. If it did,
we'd be running around in darkened rooms, popping pills and
listening to repetitive music.
 -- Marcus Brigstocke
http://www.marcusbrigstocke.com/pacman.asp

License: http://creativecommons.org/licenses/by/2.5/au/
-----------------------------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090503/3f7b2ba1/attachment.pgp>

From stefandoesinger at gmx.at  Sun May  3 07:19:42 2009
From: stefandoesinger at gmx.at (Stefan =?iso-8859-1?q?D=F6singer?=)
Date: Sun, 3 May 2009 14:19:42 +0200
Subject: RFC on Base Wine Config
In-Reply-To: <20090503114224.GA6785@keitarou.watson.bubblesworth.net>
References: <912455.99355.qm@web32404.mail.mud.yahoo.com>
	<d7e40be30905030354g498500eere549bd2097f40f8d@mail.gmail.com>
	<20090503114224.GA6785@keitarou.watson.bubblesworth.net>
Message-ID: <200905031419.42636.stefandoesinger@gmx.at>

Am Sonntag, 3. Mai 2009 13:42:24 schrieb Paul TBBle Hampson:
> The point made as I recall it in the earlier thread is that this is a
> false sense of security, and that apps can already get outside the drive
> mappings for filesystem access.
>
> I don't know how, but that was the point that was made.
Linux syscalls. A Windows app can happily call int 0x80 to do whatever a Linux 
app running with the same permissions can do. It requires the app to be aware 
of Wine though.


From msclrhd at googlemail.com  Sun May  3 07:35:57 2009
From: msclrhd at googlemail.com (Reece Dunn)
Date: Sun, 3 May 2009 13:35:57 +0100
Subject: [shell32] stub for ExtractVersionResource16W
In-Reply-To: <E93920E18D2F428B9D6382FFBEA14D3F@DMITRY>
References: <200905020951.53242.Stefan.Leichter@camline.com>
	<3D96B440786C499F912FF337CCA37B87@DMITRY>
	<200905021648.35989.Stefan.Leichter@camline.com>
	<E93920E18D2F428B9D6382FFBEA14D3F@DMITRY>
Message-ID: <3f4fd2640905030535k5c7ed479m901e77388f753ff4@mail.gmail.com>

2009/5/3 Dmitry Timoshkov <dmitry at codeweavers.com>:
> "Stefan Leichter" <Stefan.Leichter at camline.com> wrote:
>
>>> Also you might be interested that according to
>>>
>>> http://www.geoffchappell.com/viewer.htm?doc=studies/windows/shell/shell32/h
>>> istory/names351.htm ExtractVersionResource16W is discontinued starting
>>> from
>>> Windows Vista.
>>
>> What does the second point means for wine?
>
> That means that if Microsoft has dropped that API from Vista,
> all apps that use it no more will function on Vista and newer
> Windows generation. Therefore Wine is free to drop it as well.

Not really. Wine is designed to run Windows programs on Linux, Mac,
BSD and OpenSolaris platforms. That means that if an application is
using this API, then Wine should support it.

If this is Wine making the call internally (and no applications
explicitly depend on it), then the API can be dropped from Wine as
well.

- Reece


From thunderbird2k at gmail.com  Sun May  3 09:05:42 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Sun, 3 May 2009 16:05:42 +0200
Subject: Giving up for now
In-Reply-To: <d7e40be30905021744u5001b421of26d4df01c47a853@mail.gmail.com>
References: <1241283317.3942.93.camel@joel-desktop>
	<c8485d470905021138s75e1241g29b07a2914ada028@mail.gmail.com>
	<1241290625.3942.95.camel@joel-desktop>
	<c8485d470905021356u599820a5t1ba268ba4af1a49d@mail.gmail.com>
	<1241299094.3942.104.camel@joel-desktop>
	<d7e40be30905021744u5001b421of26d4df01c47a853@mail.gmail.com>
Message-ID: <c8485d470905030705k2ab9b0d6w2a996835b119f35e@mail.gmail.com>

On Sun, May 3, 2009 at 2:44 AM, Ben Klein <shacklein at gmail.com> wrote:
> 2009/5/3 Joel Holdsworth <joel at airwebreathe.org.uk>:
>> On Sat, 2009-05-02 at 22:56 +0200, Roderick Colenbrander wrote:
>>> Why again did you need this specific alphablend method? The icon can't
>>> be converted to use some basic color keying for transparency or so?
>>
>> The reason is that the outlines will look aliased, and there will be no
>> drop-shadows - without alpha the Tango icons won't look better than the
>> current set. Also, I figured that icon rendering should be fixed for the
>> sake of wine as a whole - which I think it should. It seems like a good
>> little task for a wine beginner, and indeed I've made a lot of progress
>> - I'm just a bit stuck.
>>
>> The culprit is a transfer through StretchDIBits in user32 which strips
>> the alpha channel. I can't see a way round it - using StretchBlt doesn't
>> help, and neither does GdiTransparentBlt.
>>
>> Another insentive: I suspect fixing this would also fix bug #201 which
>> is now over 8 years old!
>
> What format are your Tango icons in? Are you converting them to .ICO
> files as you go, or leaving them in PNG/some other known alpha channel
> supporting format?
>
>
>

We do support some alpha support using XRender, can't you use this
too? I think that's the general method for using alpha at the moment
on X.

Roderick


From shacklein at gmail.com  Sun May  3 09:15:56 2009
From: shacklein at gmail.com (Ben Klein)
Date: Mon, 4 May 2009 00:15:56 +1000
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A3F3@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<b6bb06270905021113h3d27ca59va42a1c1f2f337c59@mail.gmail.com> 
	<d7e40be30905021808p6bece72r605821452565b6fa@mail.gmail.com> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F1@wsmail01.ws.se>
	<d7e40be30905030408x5efbeaaet35221788490b1f0a@mail.gmail.com> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F3@wsmail01.ws.se>
Message-ID: <d7e40be30905030715y3ee328eape7baab5652787387@mail.gmail.com>

2009/5/3 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
>
>>I disagree. When first introduced to them, I found the severity levels
>>to be suitably vague to make me read the definitions. Once I read
>>them, it was clear to me what each level means.
>
> Suitably? Do you mean that the severity levels are the way they are to make people read their definitions? ?:-)
>
> Jokes aside, that's exactly what I don't want.
> I want them to be even more vague(Low, Medium, High and Critical) and without any definitions except for the highest level.
> This way, one will elicit more how the user perceives the overall impact of the bug, without having to shoehorn them into some level that only partly matches their impression. Done with the help of the users indisputable "common sense", of course.

So you suggest making the severity ratings meaningless to anyone but
... well, you don't actually mention anyone knowing what they *really*
mean, but I assume an exclusive clique of developers or bugzilla
admins? Users have different opinions on what level of bug they
encounter depending on what *task* they're trying to perform, which is
not particularly useful to developers who need strict reproducability.

> Also, the priority flag should not be visible to the user by default, it should be a strangely named setting somewhere in the user preferences.

It already is a strangely named setting, but the user preferences is
far from the right place for it. It still has to be on a per-bug
level, and although it may not be the most useful option on bugs it is
still used by developers in-the-know, so maybe an additional message
that says "Don't change the priority setting unless you know exactly
what you're doing"? It's academic anyway, as the priority can be
appropriately adjusted later.

>>But bear in mind the severity levels are there
>>to help the developers categorise the bugs, and they are not there to
>>provide feedback to the average non-coding user.
> For categorisation, there could be a separate category flag if the "component" categorisation + priority wouldn't suffice.

There already is a separate category flag. It's called "severity" and
it indicates roughly the amount of *functionality* lost due to the
bug. "Priority" does not indicate the severity of a bug; a bug may
have low priority due to limitations outside of Wine (such as some
blocker bugs for copy-protection systems which can't be supported in
Wine).

> Whatever. There are many ways to do it. But currently, the users' impression of the problem get lost and/or skewed.

You're not going to like this, but users don't matter quite *that*
much on bugzilla. The bug tracker is a developer's tool, and although
users are essential to the process (submitting bugs and new
information on request), it should be designed as a developer's tool.
A user's impression of their problem is irrelevant to the hard data
they can provide about lost or missing functionality.


From max at veneto.com  Sun May  3 09:40:56 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Sun, 03 May 2009 16:40:56 +0200
Subject: Limit of todo_wine ?
Message-ID: <gtkado$bc4$1@ger.gmane.org>

Today writing a testcase I found a "problem" on todo_wine construct.
In short :

void first_test_part()
{
   ok(test1(), "failed\n");
}

void second_test_part()
{
   ok(test2(), "failed\n");
}

todo_wine
{
    first_test_part();
    second_test_part();
}

this "fails" (i.e. is marked as passing inside todo_wine block)
if first_test_part() passes, which is not what wished;
in this case the test should be considered passing if BOTH
first and second part passes, and failed otherwise.
The problem arose on bitmap creation test (gdiplus) on which
the testcase should check for creation success AND bitmap
internal consiscency.
My example is short, but in my case there's a single function used
to test many kind of bitmaps; that's impossible to do with
todo_wine actual construct.
It could be obviously separated into many functions, each enclosed
on its own todo_wine, but this would vanify the "single test function
for many bitmaps types" way.

Max



From madewokherd+8cd9 at gmail.com  Sun May  3 10:07:31 2009
From: madewokherd+8cd9 at gmail.com (Vincent Povirk)
Date: Sun, 3 May 2009 10:07:31 -0500
Subject: Limit of todo_wine ?
In-Reply-To: <gtkado$bc4$1@ger.gmane.org>
References: <gtkado$bc4$1@ger.gmane.org>
Message-ID: <ced95fe0905030807t1735e0d5s979fdba34eb1be3b@mail.gmail.com>

This is by design. Each call to ok() is an individual test,
independent of the others, and todo_wine marks them all as todo.

If you have the same code running multiple tests, you can mark some of
them as todo by putting a todo flag in your data.

If you really want multiple checks to be dependent, you'll need to
reduce them to one ok() call.

Vincent Povirk


From max at veneto.com  Sun May  3 10:11:12 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Sun, 03 May 2009 17:11:12 +0200
Subject: Limit of todo_wine ?
In-Reply-To: <ced95fe0905030807t1735e0d5s979fdba34eb1be3b@mail.gmail.com>
References: <gtkado$bc4$1@ger.gmane.org>
	<ced95fe0905030807t1735e0d5s979fdba34eb1be3b@mail.gmail.com>
Message-ID: <gtkc6g$fm4$1@ger.gmane.org>

Vincent Povirk ha scritto:
> This is by design. Each call to ok() is an individual test,
> independent of the others, and todo_wine marks them all as todo.
> 
> If you have the same code running multiple tests, you can mark some of
> them as todo by putting a todo flag in your data.
> 
> If you really want multiple checks to be dependent, you'll need to
> reduce them to one ok() call.
> 
> Vincent Povirk
> 
> 
> 

Yep, that what I'm doing now.... but the code is quite less clean than before.

Thank you for answer

Max



From kennybobs at o2.co.uk  Sun May  3 11:00:46 2009
From: kennybobs at o2.co.uk (Ken Sharp)
Date: Sun, 03 May 2009 17:00:46 +0100
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<49FC4B8F.8090200@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
	<49FC648B.70705@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
Message-ID: <49FDBFAE.20206@o2.co.uk>



Nicklas B?rjesson wrote:

> I think that the users should have quite a say with regards to how important a bug is, because for every user 
> putting in the (considerable for a user) effort of reporting a bug, there are dozens that don't say anything at all. 

To every Wine user, their application not working is critical.  This is 
clear by all the bugs that are logged incorrectly every day, because 
nobody bothered reading the FAQ.



From thunderbird2k at gmail.com  Sun May  3 11:28:40 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Sun, 3 May 2009 18:28:40 +0200
Subject: Giving up for now
In-Reply-To: <1241299094.3942.104.camel@joel-desktop>
References: <1241283317.3942.93.camel@joel-desktop>
	<c8485d470905021138s75e1241g29b07a2914ada028@mail.gmail.com>
	<1241290625.3942.95.camel@joel-desktop>
	<c8485d470905021356u599820a5t1ba268ba4af1a49d@mail.gmail.com>
	<1241299094.3942.104.camel@joel-desktop>
Message-ID: <c8485d470905030928n48fb6c28v8631ccf34971a1c6@mail.gmail.com>

On Sat, May 2, 2009 at 11:18 PM, Joel Holdsworth
<joel at airwebreathe.org.uk> wrote:
> On Sat, 2009-05-02 at 22:56 +0200, Roderick Colenbrander wrote:
>> On Sat, May 2, 2009 at 8:57 PM, Joel Holdsworth
>> <joel at airwebreathe.org.uk> wrote:
>> > On Sat, 2009-05-02 at 20:38 +0200, Roderick Colenbrander wrote:
>> >> On Sat, May 2, 2009 at 6:55 PM, Joel Holdsworth
>> >> <joel at airwebreathe.org.uk> wrote:
>> >> > Hi All,
>> >> >
>> >> > I've hit a bit of a wall with alpha blended icons. CreateIcon is working
>> >> > fine for icon creation, but ExtractIcon and LoadIconFromResource etc.
>> >> > are all proving more of a problem. All of these use various GDI DIB
>> >> > functions to coerce the icon bitmap to the correct colour depth and
>> >> > size. The problem is that preserving the alpha channel through these DIB
>> >> > functions seems to be impossible because they go via X11, so until the
>> >> > dib engine is merged (after hell freezes over) I'm not sure I can go
>> >> > much further.
>> >> >
>> >> > Joel
>> >> >
>> >> >
>> >> >
>> >> >
>> >> >
>> >>
>> >> If you say X11 might be problematic note that more and more display
>> >> drivers are offering visuals with alpha, so 32-bit ones instead of
>> >> 24-bit. You could force the selection of such a visual in winex11.drv
>> >> for testing.
>> >>
>> >> Roderick
>> >
>> > Is that right? I simply assumed it would screw it up. If the problem can
>> > be solved with fixes to user32 or gdi32, then I can probably find the
>> > solution. If it involves work on winex11, then I'm not really the right
>> > guy for the job.
>> >
>> >
>> >
>>
>> Why again did you need this specific alphablend method? The icon can't
>> be converted to use some basic color keying for transparency or so?
>
> The reason is that the outlines will look aliased, and there will be no
> drop-shadows - without alpha the Tango icons won't look better than the
> current set. Also, I figured that icon rendering should be fixed for the
> sake of wine as a whole - which I think it should. It seems like a good
> little task for a wine beginner, and indeed I've made a lot of progress
> - I'm just a bit stuck.
>
> The culprit is a transfer through StretchDIBits in user32 which strips
> the alpha channel. I can't see a way round it - using StretchBlt doesn't
> help, and neither does GdiTransparentBlt.
>
> Another insentive: I suspect fixing this would also fix bug #201 which
> is now over 8 years old!
>
>
>

I just looked a little more into it. As you mentioned StretchDIBits in
user32 removes the alpha channel. According to this post at MSDN
(http://msdn.microsoft.com/en-us/library/dd145023(VS.85).aspx) the
function got extended in Vista to include PNG support because PNG is
used for most icons in Vista. It might be useful to check that out.
The page mentions it was meant for printers but most likely they also
use this for icon rendering. I think it can be used in cooperation
with XRender (there are various xrender examples for dealing with
alpha).

Roderick


From celticht32 at yahoo.com  Sun May  3 11:36:19 2009
From: celticht32 at yahoo.com (chris ahrendt)
Date: Sun, 3 May 2009 09:36:19 -0700 (PDT)
Subject: wine-devel Digest, Vol 46, Issue 10
Message-ID: <368243.74967.qm@web32404.mail.mud.yahoo.com>


wine-devel-request at winehq.org wrote:
> _______________________________________________
> wine-devel mailing list  -  wine-devel at winehq.org
> http://www.winehq.org/mailman/listinfo/wine-devel
>   
>
> ------------------------------------------------------------------------
>
> Subject:
> Re: RFC on Base Wine Config
> From:
> Kai Blin <kai.blin at gmail.com>
> Date:
> Sun, 3 May 2009 09:04:13 +0200
> To:
> wine-devel at winehq.org
>
> To:
> wine-devel at winehq.org
>
>
> On Sunday 03 May 2009 07:07:35 Ben Klein wrote:
>   
>> 2009/5/3 chris ahrendt <celticht32 at yahoo.com>:
>>     
>
> Replying to Ben's email as I didn't get Chris' email Ben replied to.
> I would also like to note that I don't appreciate the tone both of these 
> emails are taking in the end. Please try to be civil.
>
> That being said, let me get to the technical part.
>
>   
>>> I guess I am not being completely clear somewhat....
>>> If I am in windows and go into explorer...
>>>       
>> We've been through this before. Wine is not Windows. In Wine, the
>> drive has to be mapped in dosdevices.
>>     
>>> go to a network drive. I do
>>> not nescisarily have to map that drive in order to run an application
>>> (so long as the DLLS it needs, if any, are not just on that drive). I
>>> can click the application
>>> and it runs. I realise this may be a fundamental difference between unix
>>> and windows but still they should theoretically run the same.
>>>       
>
> The important part here is that your local drives are local drives. Don't 
> confuse the Wine drive mappings with network drive mappings in Windows. Think 
> about a Wine drive mapping like plugging a new hdd into your box.
>
>   
>> But you're NOT running the test from a network drive, are you? And
>> even if you were, you'd need some way to inform Wine that it's there,
>> which would be to map it to a drive. Does Wine even support
>> Windows-style shares?
>>     
>
> Nope. We could, but then you'd have to create a Samba share to allow us to use 
> the directory. I'm pretty sure a wine drive mapping is easier and faster.
>
>   
>>>  Also from
>>> a command line I can do (I think if I am remembering correctly (been
>>> doing to much z work lately) ) //server/directory/app.exe and it will
>>> retrieve and run the app... (I think)
>>>       
>
> That's a bit besides the point, as this is still a valid UNC path. Now imagine 
> I've got a USB hdd with my app on it, and that's usually connected at U:, 
> with my app being at U:\test\app.exe. Now the logic in Windows mapping my USB 
> drive to U: is just what the wine dosdevice mapping is like. If I now tell 
> windows to remove the USB device, my desktop link to U:\test\app.exe is not 
> going to work anymore. 
>
>   
>> This message appears in your bug report:
>>     
>>> Warning: could not find DOS drive for current working directory
>>> '/home/cahrendt/wine-git/dlls/inetmib1/tests', starting in the Windows
>>> directory.
>>>       
>
> Here my analogy would be a bit stretched, as in that you'd still manage to be 
> on the USB drive while it's already been disconnected. But basically you're 
> trying to run a program that's on a drive not connected to your wine "box".
>
> Cheers,
> Kai
>
>   
>   

Thanks Kai,
This is the kind of dialog I was looking for in the RFC.  This makes 
sense.  In a way with you are in a seperate 'region' and do not have 
access to that regions resources unless you
map it. Even though wine is not a emulator it is essentially a VM 
running in userspace on the box that you need to allocate some resources 
to. (not so much like solaris 10 or zVM's where
you can set up resources for everything). Ok clear now.

Chris







      


From wineappdb at googlemail.com  Sun May  3 05:22:51 2009
From: wineappdb at googlemail.com (IneedAname)
Date: Sun, 3 May 2009 11:22:51 +0100
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<49FC4B8F.8090200@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
Message-ID: <20090503112251.12d4533e@test-main>

On Sat, 2 May 2009 16:52:06 +0200
Nicklas B?rjesson <Nicklas.Borjesson at ws.se> wrote:

> 3. Major 	"Major loss of functionality for a wide range of applications
> 
> - Isn't this just all bugs that has more than $arbitrary_number of applications linked to them? An aggregate, rather than a level?

In that case #16281 would be major not minor, That is if all the applications that has that bug link to it.

I think you can not find out how many applications link a bug. As that has not be coded.
To find out that information you would have to scan the application data base or change the way the data base holds this data.
I think you want to read bug #16284.


From Nicklas.Borjesson at ws.se  Sun May  3 06:04:18 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Sun, 3 May 2009 13:04:18 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se><B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se><49FC4B8F.8090200@o2.co.uk><B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se><49FC648B.70705@o2.co.uk><B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
	<b6bb06270905030151qaa306b6p4cabe2d3f073780f@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A3F2@wsmail01.ws.se>

> You'd be surprised...
We'll I've looked around at "invalids", but to me it seems that people in general(with a few exceptions of course), tries quite hard until they file a bug report.
At least way harder than they do in other FOSS projects I have been involved in, so I can't really say that I would think you've got a problem.
At least not yet. Despite the support forum only have one list. More stuff on the wiki would help too.

>Not all critical bugs are caused by the loader. It's possible for
>d3d/ole/etc. to have a similar effect.

Yes, it is possible, but not likely enough to warrant an extra severity level. Yes, I have looked.

>Keep in mind, most developers are unpaid as well. They're the ones
>fixing the bugs, not users. While users are important, no work gets
>done without the developers. 

I know that most developers are also unpaid. 
With "maintained" I didn't only mean maintainers of versions and so forth.

>Developers have no way to prioritize one
>user over another. The best way to prioritize *your* bug is to make a
>*good* bug report. Make sure all needed information is included. Get a
>testcase if possible. Provide the needed traces, etc. Even better, is
>to write a patch yourself. The source is there, and there is nothing
>stopping you from writing a patch.

Again. This is not what I am talking about. 
I am not relevant because I am also an experienced developer, so I have no problems with these things. 
I can patch like there is no tomorrow, given time. 

What I am talking about the fact that the ordinary users priorities are very important. 
Currently they are either:
1.Completely disregarded or
2. If they follow the instruction(where "commons sense" is not mentioned), they're forced to adhere to severity levels that distort or hide their opinion of the problem. And for each user reporting there are dozens that are not. Bad will. 

It just feels like the entire project should become a bit more user-centric. 
Now I am not just talking about shinier graphics but about attitude. 
Maybe soften up a bit ask oneself, "WHY did this person ask this stupid question?", "WHY did he do this EVEN though it says do this?" or "How would I feel if someone said this to me?".

//Nicklas





From Nicklas.Borjesson at ws.se  Sun May  3 08:20:19 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Sun, 3 May 2009 15:20:19 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<b6bb06270905021113h3d27ca59va42a1c1f2f337c59@mail.gmail.com>
	<d7e40be30905021808p6bece72r605821452565b6fa@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F1@wsmail01.ws.se>
	<d7e40be30905030408x5efbeaaet35221788490b1f0a@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A3F3@wsmail01.ws.se>


>I disagree. When first introduced to them, I found the severity levels
>to be suitably vague to make me read the definitions. Once I read
>them, it was clear to me what each level means.

Suitably? Do you mean that the severity levels are the way they are to make people read their definitions?  :-)

Jokes aside, that's exactly what I don't want. 
I want them to be even more vague(Low, Medium, High and Critical) and without any definitions except for the highest level.
This way, one will elicit more how the user perceives the overall impact of the bug, without having to shoehorn them into some level that only partly matches their impression. Done with the help of the users indisputable "common sense", of course.

Also, the priority flag should not be visible to the user by default, it should be a strangely named setting somewhere in the user preferences.

>But bear in mind the severity levels are there
>to help the developers categorise the bugs, and they are not there to
>provide feedback to the average non-coding user.
For categorisation, there could be a separate category flag if the "component" categorisation + priority wouldn't suffice. 

Whatever. There are many ways to do it. But currently, the users' impression of the problem get lost and/or skewed.

//Nicklas


From kennybobs at o2.co.uk  Sun May  3 12:10:03 2009
From: kennybobs at o2.co.uk (Ken Sharp)
Date: Sun, 03 May 2009 18:10:03 +0100
Subject: Severity levels
In-Reply-To: <20090503112251.12d4533e@test-main>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>	<49FC4B8F.8090200@o2.co.uk>	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
	<20090503112251.12d4533e@test-main>
Message-ID: <49FDCFEB.2010100@o2.co.uk>



IneedAname wrote:
> On Sat, 2 May 2009 16:52:06 +0200
> Nicklas B?rjesson <Nicklas.Borjesson at ws.se> wrote:
> 
>> 3. Major 	"Major loss of functionality for a wide range of applications
>>
>> - Isn't this just all bugs that has more than $arbitrary_number of applications linked to them? An aggregate, rather than a level?
> 
> In that case #16281 would be major not minor, That is if all the applications that has that bug link to it.
> 
> I think you can not find out how many applications link a bug. As that has not be coded.
> To find out that information you would have to scan the application data base or change the way the data base holds this data.
> I think you want to read bug #16284.
> 
> 

That would be the "Show Apps affected by this bug" link then.
http://appdb.winehq.org/viewbugs.php?bug_id=16281



From wijn at online.nl  Sun May  3 12:13:36 2009
From: wijn at online.nl (Rein Klazes)
Date: Sun, 03 May 2009 19:13:36 +0200
Subject: user32: combine horizontal and vertical window scroll bar info in
	a single structure.
In-Reply-To: <873abofuln.fsf@wine.dyndns.org>
References: <1241154198-7770-1-git-send-email-wijn@online.nl>
	<87tz45f54u.fsf@wine.dyndns.org>
	<79emv4133k8f1klbdc6ggkp6g14mhcp4p2@4ax.com>
	<873abofuln.fsf@wine.dyndns.org>
Message-ID: <2bjrv4lopa0hhstiuo26us1cl93cjgpmg7@4ax.com>

On Fri, 01 May 2009 22:15:16 +0200, you wrote:

>Rein Klazes <wijn at online.nl> writes:
>
>> What is already in the tests:
>>
>> 1) You need the alloc flag for instance when SetScrollInfo or
>> SetScrollRange is called on a window without the WS_[HV]SCROLL styles. I
>> can add a test that shows that the window styles remain unchanged when
>> eg. SetScrollInfo creates the scrollinfo.
>>
>> 2) You need the style test when testing GetScrollInfo and GetScrollRange
>> on windows with WS_[HV]SCROLL styles.
>>
>> Now the alloc flag may not be specified correctly in the other cases
>> Additional tests to see whether the alloc flag is correctly passed for
>> [GS}etScrollBarInfo and EnableScrollBar can be added.
>>
>> Would such tests address your concerns?
>
>No, what you'd need is a test that shows that calling a function that
>doesn't create a scrollbar (alloc=FALSE) suddenly starts to create one
>if WS_[HV]SCROLL is set. To test this meaningfully you'd need to set the
>style by hand, not at window creation.

Indeed you were right. Setting the WS_[HV]SCROLL with a SetWindowLong
does not create the scrollbar info, which proves unambiguously that my
idea was false.

I guess to fix the windows style test failures some SetScrollSomething
will have to be done in the CreateWindow functions. I'll postpone that
for another patch and send now the patch which only fixes the separate
scollinfo structures, which is enough for the bugzilla bug.

Rein.


From kennybobs at o2.co.uk  Sun May  3 12:16:54 2009
From: kennybobs at o2.co.uk (Ken Sharp)
Date: Sun, 03 May 2009 18:16:54 +0100
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A3F4@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<49FC4B8F.8090200@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
	<49FC648B.70705@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
	<49FDBFAE.20206@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F4@wsmail01.ws.se>
Message-ID: <49FDD186.2040906@o2.co.uk>



Nicklas B?rjesson wrote:
>> To every Wine user, their application not working is critical.  This is 
>> clear by all the bugs that are logged incorrectly every day, because 
>> nobody bothered reading the FAQ.
> 
> Yep, but that's more an indication on how much work remains to be done on wine than it is an incorrect severity level.

No it isn't.  It's an indication on how many people think they're more 
important than anyone else filing a bug.

> If Photoshop(the eternal example) should stop working on windows due to a regression, I am sure the users would consider it critical when they report it to Microsoft.

It doesn't matter what the users think, we've been over this, it would 
be up to MS coders.
They would put a high priority on it because Adobe it a major player, 
and I'm sure MS makes a lot of money out of them one way or another. 
This is a FOSS project and has no bearing on severity levels.
If a set of devs decide to work on getting a particular app working 
that's up to them, and we've already been over this too.

> 
> But as the wine project progresses, severity levels will hopefully drop so that there will be more nuances. 

As Wine progress, the higher severities will be less and less.  Higher 
sev levels will stand out a lot more.  That's what they're for.

> 
> I just think there is something severely when registering a bug that results in unworkable applications is considered a "normal" or even "minor" bug. 
> To me, that's sending the wrong signals about the ambition of the project. 

Nobody else seems to have this problem.

> Unless the "not yet suitable for general use" from the faq is everywhere with blinking warning signs.

Bares no relevance whatsoever to severity levels in Bugzilla.

> 
> //Nicklas
> 
> 
> 


Note to self:  Reply to ALL.



From austinenglish at gmail.com  Sun May  3 12:59:27 2009
From: austinenglish at gmail.com (Austin English)
Date: Sun, 3 May 2009 12:59:27 -0500
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A3F2@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<49FC4B8F.8090200@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
	<49FC648B.70705@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
	<b6bb06270905030151qaa306b6p4cabe2d3f073780f@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F2@wsmail01.ws.se>
Message-ID: <b6bb06270905031059h62efb482xbbd5deb38b125c7a@mail.gmail.com>

2009/5/3 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
>> You'd be surprised...
> We'll I've looked around at "invalids", but to me it seems that people in general(with a few exceptions of course), tries quite hard until they file a bug report.
> At least way harder than they do in other FOSS projects I have been involved in, so I can't really say that I would think you've got a problem.
> At least not yet. Despite the support forum only have one list. More stuff on the wiki would help too.

Why should there be multiple support forums? The wiki has _a lot_ of
info, most of the time when bugs are closed invalid, wiki links are
given to fix the problem. Again, wine _is_ an open source project. If
the wiki isn't good enough, add something.


> What I am talking about the fact that the ordinary users priorities are very important.
> Currently they are either:
> 1.Completely disregarded or
> 2. If they follow the instruction(where "commons sense" is not mentioned), they're forced to adhere to severity levels that distort or hide their opinion of the problem. And for each user reporting there are dozens that are not. Bad will.

How do you mean their priorities are important? It's an uncomfortable
truth, but users priorities aren't important, like has been said
dozens of times. Sure, we care about user's bugs, and want to fix
them. But every user also thinks *their* app is the most important
application to fix. I regularly change around 3-5 bugs _a day_ that
are marked critical, because their favorite app XYZ doesn't run. A
good portion of that time, the bug is invalid, because they forgot a
runtime, e.g., the application didn't bundle msvcrt80 or the like.

Wine can't stop development on _everything_ just to get one user's
application running. Making user's arbitrary priorities the most
important would be doing this.

> It just feels like the entire project should become a bit more user-centric.
> Now I am not just talking about shinier graphics but about attitude.
> Maybe soften up a bit ask oneself, "WHY did this person ask this stupid question?", "WHY did he do this EVEN though it says do this?" or "How would I feel if someone said this to me?".

No disagreement there. Most developers do have a friendly attitude
towards users. If they don't, e-mail them in private, with a copy of
what they said and ask them to be more civil.

I'd encourage you to subscribe to wine-bugs for a while. Look how much
mail/bugs we go through, and you'll quickly see why time to hold every
users hand and fix _their_ most important bug is impossible.

-- 
-Austin


From kennybobs at o2.co.uk  Sun May  3 14:58:53 2009
From: kennybobs at o2.co.uk (Ken Sharp)
Date: Sun, 03 May 2009 20:58:53 +0100
Subject: Severity levels
In-Reply-To: <20090503201909.037587dd@test-main>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>	<49FC4B8F.8090200@o2.co.uk>	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>	<20090503112251.12d4533e@test-main>	<49FDCFEB.2010100@o2.co.uk>
	<20090503201909.037587dd@test-main>
Message-ID: <49FDF77D.8030405@o2.co.uk>



IneedAname wrote:
> On Sun, 03 May 2009 18:10:03 +0100
> Ken Sharp <kennybobs at o2.co.uk> wrote:
> 
>> That would be the "Show Apps affected by this bug" link then.
>> http://appdb.winehq.org/viewbugs.php?bug_id=16281
> 
> Thanks I missed that so how but my first point still stands.
> 


Not really.  16281 certainly isn't a major loss of functionality, no 
matter how many bugs are attached to it.


From mike.kaplinskiy at gmail.com  Sun May  3 15:52:00 2009
From: mike.kaplinskiy at gmail.com (Mike Kaplinskiy)
Date: Sun, 3 May 2009 16:52:00 -0400
Subject: Office 2007 MSI Crash - Null dereference @ MsiViewExecute
In-Reply-To: <22821af30904301008y5f5f76fcs8c9126360a6a4ecf@mail.gmail.com>
References: <gt8duv$rf2$1@ger.gmane.org>
	<b6bb06270904300403y522b3dafsc1ca5d856986863e@mail.gmail.com> 
	<22821af30904301008y5f5f76fcs8c9126360a6a4ecf@mail.gmail.com>
Message-ID: <4d8b5aa80905031352v35ee2c6l88577b21def7567@mail.gmail.com>

On Thu, Apr 30, 2009 at 1:08 PM, James Hawkins <truiken at gmail.com> wrote:
> On Thu, Apr 30, 2009 at 4:03 AM, Austin English <austinenglish at gmail.com> wrote:
>> On Tue, Apr 28, 2009 at 9:27 PM, Mike Kaplinskiy
>> <mike.kaplinskiy at gmail.com> wrote:
>>> I was looking at the trace of the crash from bug 17600, and it looks like
>>> a custom action is calling MsiViewExecute with a null hRec.
>>>
>>> I (sadly) don't know much about the wine MSI architecture, but the
>>> msiobj_lock on line 484 should fail since rec will never be fetched
>>> (null). I think the intention was to make it query->hdr (as it is
>>> released later).
>>
>> A testcase for it would show if you're right or wrong ;-).
>>
>
> Not really. ?If you grep through the msi tests, you'll see that we
> call MsiViewExecute with NULL hRec all over the place. ?That doesn't
> mean there isn't a bug, just saying.
>
> --
> James Hawkins
>

So I got a little time to look into this, and was completely blown
away. Apparently doing

TRACE("dereferencing 0?=%p\n", (void *) &(((MSIRECORD *) NULL)->hdr));

works, since nothing ever gets dereferenced. I will post a patch for
this small nit.

On a slightly different note, I have traced the problem in office 2007
to the patch by James, and in particular to INSERT_execute. The row
index gets set to 0 if the primary key is null (which is what office
install is doing), but if the insert is temporary TABLE_insert assumes
that row >= tv->table->row_count, and subtracts from the row index,
putting us in the negatives (or high positives due to uint).

I have a patch for this, but I don't know how to make a testcase (all
I know is office installs), so would anyone mind pointing me to
somewhere that explains msi temporary inserts?

And should I post the patch up on wine-patches to get it critiqued?
(sorry, first time)

Mike.


From thunderbird2k at gmail.com  Sun May  3 16:05:37 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Sun, 3 May 2009 23:05:37 +0200
Subject: Giving up for now
In-Reply-To: <c8485d470905030928n48fb6c28v8631ccf34971a1c6@mail.gmail.com>
References: <1241283317.3942.93.camel@joel-desktop>
	<c8485d470905021138s75e1241g29b07a2914ada028@mail.gmail.com>
	<1241290625.3942.95.camel@joel-desktop>
	<c8485d470905021356u599820a5t1ba268ba4af1a49d@mail.gmail.com>
	<1241299094.3942.104.camel@joel-desktop>
	<c8485d470905030928n48fb6c28v8631ccf34971a1c6@mail.gmail.com>
Message-ID: <c8485d470905031405y76de0a0dy3af60ff94a2e5c49@mail.gmail.com>

On Sun, May 3, 2009 at 6:28 PM, Roderick Colenbrander
<thunderbird2k at gmail.com> wrote:
> On Sat, May 2, 2009 at 11:18 PM, Joel Holdsworth
> <joel at airwebreathe.org.uk> wrote:
>> On Sat, 2009-05-02 at 22:56 +0200, Roderick Colenbrander wrote:
>>> On Sat, May 2, 2009 at 8:57 PM, Joel Holdsworth
>>> <joel at airwebreathe.org.uk> wrote:
>>> > On Sat, 2009-05-02 at 20:38 +0200, Roderick Colenbrander wrote:
>>> >> On Sat, May 2, 2009 at 6:55 PM, Joel Holdsworth
>>> >> <joel at airwebreathe.org.uk> wrote:
>>> >> > Hi All,
>>> >> >
>>> >> > I've hit a bit of a wall with alpha blended icons. CreateIcon is working
>>> >> > fine for icon creation, but ExtractIcon and LoadIconFromResource etc.
>>> >> > are all proving more of a problem. All of these use various GDI DIB
>>> >> > functions to coerce the icon bitmap to the correct colour depth and
>>> >> > size. The problem is that preserving the alpha channel through these DIB
>>> >> > functions seems to be impossible because they go via X11, so until the
>>> >> > dib engine is merged (after hell freezes over) I'm not sure I can go
>>> >> > much further.
>>> >> >
>>> >> > Joel
>>> >> >
>>> >> >
>>> >> >
>>> >> >
>>> >> >
>>> >>
>>> >> If you say X11 might be problematic note that more and more display
>>> >> drivers are offering visuals with alpha, so 32-bit ones instead of
>>> >> 24-bit. You could force the selection of such a visual in winex11.drv
>>> >> for testing.
>>> >>
>>> >> Roderick
>>> >
>>> > Is that right? I simply assumed it would screw it up. If the problem can
>>> > be solved with fixes to user32 or gdi32, then I can probably find the
>>> > solution. If it involves work on winex11, then I'm not really the right
>>> > guy for the job.
>>> >
>>> >
>>> >
>>>
>>> Why again did you need this specific alphablend method? The icon can't
>>> be converted to use some basic color keying for transparency or so?
>>
>> The reason is that the outlines will look aliased, and there will be no
>> drop-shadows - without alpha the Tango icons won't look better than the
>> current set. Also, I figured that icon rendering should be fixed for the
>> sake of wine as a whole - which I think it should. It seems like a good
>> little task for a wine beginner, and indeed I've made a lot of progress
>> - I'm just a bit stuck.
>>
>> The culprit is a transfer through StretchDIBits in user32 which strips
>> the alpha channel. I can't see a way round it - using StretchBlt doesn't
>> help, and neither does GdiTransparentBlt.
>>
>> Another insentive: I suspect fixing this would also fix bug #201 which
>> is now over 8 years old!
>>
>>
>>
>
> I just looked a little more into it. As you mentioned StretchDIBits in
> user32 removes the alpha channel. According to this post at MSDN
> (http://msdn.microsoft.com/en-us/library/dd145023(VS.85).aspx) the
> function got extended in Vista to include PNG support because PNG is
> used for most icons in Vista. It might be useful to check that out.
> The page mentions it was meant for printers but most likely they also
> use this for icon rendering. I think it can be used in cooperation
> with XRender (there are various xrender examples for dealing with
> alpha).
>
> Roderick
>

Have you also tried to use the GDI AlphaBlend function? This is the
one which should be used I think and we back it by XRender ..

Roderick


From max at veneto.com  Sun May  3 16:50:51 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Sun, 03 May 2009 23:50:51 +0200
Subject: Giving up for now
In-Reply-To: <c8485d470905031405y76de0a0dy3af60ff94a2e5c49@mail.gmail.com>
References: <1241283317.3942.93.camel@joel-desktop>	<c8485d470905021138s75e1241g29b07a2914ada028@mail.gmail.com>	<1241290625.3942.95.camel@joel-desktop>	<c8485d470905021356u599820a5t1ba268ba4af1a49d@mail.gmail.com>	<1241299094.3942.104.camel@joel-desktop>	<c8485d470905030928n48fb6c28v8631ccf34971a1c6@mail.gmail.com>
	<c8485d470905031405y76de0a0dy3af60ff94a2e5c49@mail.gmail.com>
Message-ID: <gtl3js$e4k$1@ger.gmane.org>

Roderick Colenbrander ha scritto:
>>
> 
> Have you also tried to use the GDI AlphaBlend function? This is the
> one which should be used I think and we back it by XRender ..
> 
> Roderick
> 
> 

Sorry for the OT :
apropos AlphaBlend and RGBA bitmaps... what happens with BitBlt on
a destination DIB which has alpha channel ? it gets overwritten or
the dest alpha channel is simply ignored ?
I mean
BitBlt(dstBmp......., SRC_COPY)  what happens to dstBmp alpha ?
and
BitBlt(dstBmp......., SRC_AND)   ???

Max



From kennybobs at o2.co.uk  Sun May  3 17:00:49 2009
From: kennybobs at o2.co.uk (Ken Sharp)
Date: Sun, 03 May 2009 23:00:49 +0100
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A3FA@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<49FC4B8F.8090200@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
	<49FC648B.70705@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
	<49FDBFAE.20206@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F4@wsmail01.ws.se>
	<49FDD186.2040906@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F7@wsmail01.ws.se>
	<49FE0296.9080905@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F9@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FA@wsmail01.ws.se>
Message-ID: <49FE1411.1080805@o2.co.uk>



Nicklas B?rjesson wrote:
>> How many times does this have to be repeated?  Severity levels are NOT 
>> determined by how much a user wants the app to work.  They're just not, 
>> deal with it.
> 
> I have never said it is, either. 
> I said it think it should be determined by how severe the user thinks 
> it is(if devs then cares about it is another matter).

And you've already been told it shouldn't, and this has been explained 
to you.

<snip waffle>

Junk.



From austinenglish at gmail.com  Sun May  3 17:56:13 2009
From: austinenglish at gmail.com (Austin English)
Date: Sun, 3 May 2009 17:56:13 -0500
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A3FC@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<49FC4B8F.8090200@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
	<49FC648B.70705@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
	<b6bb06270905030151qaa306b6p4cabe2d3f073780f@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F2@wsmail01.ws.se>
	<b6bb06270905031059h62efb482xbbd5deb38b125c7a@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FC@wsmail01.ws.se>
Message-ID: <b6bb06270905031556w3c573a37n9333380e48a8096c@mail.gmail.com>

2009/5/3 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
>>Why should there be multiple support forums?
>
> Well, not forums, but as I said different lists for different kinds
> of applications(games/business/graphics), since they should(?) have related problems.
> I would think so, anyway.

The forums seem to serve this well as is.

>>The wiki has _a lot_ of info, most of the time when bugs are closed invalid,
>>wiki links are given to fix the problem. Again, wine _is_ an open source project.
>> If the wiki isn't good enough, add something.
>
> I am talking about avoiding a bug being submitted at all.
> Maybe to organize how-to-run information.
> Sure I could do a bit of that. It's like the idea you had about getting funding,
> did they tell you to go do it all by yourself?

http://appdb.winehq.org ?

>>How do you mean their priorities are important? It's an uncomfortable
>>truth, but users priorities aren't important, like has been said
>>dozens of times. Sure, we care about user's bugs, and want to fix
>>them.
> ...
> Users priorities probably affect what severity level they choose.
> But as I said to Ken, I can't believe that all users are morons.
> Anyway, regardless of their motives, I still think that they have to be included.

It doesn't affect anything, so there is no point. We can give every
user a gold star and say "yes, it's our highest priority", but it
doesn't do anything, so _there is no_ point.

> If not, the project will slowly drift away and turn into a toy nobody have any use for.

I highly doubt Wine is going to become irrelevant because users have
their bugs reassigned from critical to normal...

>>But every user also thinks *their* app is the most important
>>application to fix.
>
> Actually, I can't believe they all are that way.

Again, you may not think it, but I've been triaging bugs for 3 years,
so I know what does happen.

>>Wine can't stop development on _everything_ just to get one user's
>>application running. Making user's arbitrary priorities the most
>>important would be doing this.
>
> Good thing I didn't propose that then. :-)
> I said it should be a part of the priority and a considerable one. Not the largest one.
> And I am not talking about users arbitrary priorities, just including
> more intuitive severity levels(good or bad) when making bug fixing priorities.

I think this argument is circular...Wine has no shortage of bugs being
reported, we have plenty of new users reporting bugs, and new
developers contributing often. You're proposing adding an extra
severity rating that no developer will look at, and will only add to
confusion (users now have to decide *two* levels rather than one). It
won't add any benefit, other than possibly giving users a warm fuzzy
feeling that their bug is 'important' to them (which they can already
do with voting), but adds confusion, wasted time, and wasted effort.

-- 
-Austin


From shacklein at gmail.com  Sun May  3 19:19:23 2009
From: shacklein at gmail.com (Ben Klein)
Date: Mon, 4 May 2009 10:19:23 +1000
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A3F2@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<49FC4B8F.8090200@o2.co.uk> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
	<49FC648B.70705@o2.co.uk> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
	<b6bb06270905030151qaa306b6p4cabe2d3f073780f@mail.gmail.com> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F2@wsmail01.ws.se>
Message-ID: <d7e40be30905031719g30841be8r58e2cc8b27d47165@mail.gmail.com>

2009/5/3 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
> It just feels like the entire project should become a bit more user-centric.
> Now I am not just talking about shinier graphics but about attitude.

Bugzilla not user tool. Bugzilla developers' tool. Bugzilla need work
like developers want.

2009/5/4 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
>>So you suggest making the severity ratings meaningless to anyone but
>>... well, you don't actually mention anyone knowing what they *really*
>>mean, but I assume an exclusive clique of developers or bugzilla
>>admins? Users have different opinions on what level of bug they
>>encounter depending on what *task* they're trying to perform, which is
>>not particularly useful to developers who need strict reproducability.
>
> No, I mean that the actual meaning of the words "low", "medium", "high" and "Critical" will suffice.



No they won't. In order for the severity levels to be meaningful, they
need to be strictly defined. Take the example of contracts or
legislation, where otherwise unambiguous words are defined in context
just to make it 100% perfectly clear what's being talked about. Wine
is a *big* project, and we really don't need massive confusion over
what the severity levels mean.

> I think most people have a fair understanding what "medium" and "critical" means.

Apparently not. Most people don't see the bigger picture, they only
see what they're doing right now (e.g. Critical bugs filed because
they have an assignment due the next day when it is in fact only a
Minor or Normal bug).

> This is not meaningless at all, to trying to clarify these levels is quite pointless though.

OK, so give examples of what would be "low", "medium", "high" and
"critical" bugs.

> Yes, some people tend to exaggerate their issues, but that's just the way it is.

And removing the definitions can in no way help this.

> And to my experience, they are few. Most actually don't exaggerate as much.

So you're suggesting to completely overhaul the system for only a FEW
users to be more productive in submitting bugs?

> To them, the situation IS critical, bordering on panic.
> Rather, thinking that their users are exaggerating is a way for developers to not let reality come to close.
> Hell, I do it myself right now. :-)

Yes, but that's not what the "severity" indicates. As it has already
been said, focusing on a particular user's problem just because THEY
think it's critical is completely unproductive for a large (massive?)
project like Wine. Wine devs need to look at the big picture, as in
"What is the overall impact of this bug? Who and what is affected?
Roughly how many applications does it affect/break?" and THAT's what
the "severity" setting is for.

Another way to look at severity is a rough indication of how much code
change is expected to be required to fix the bug. In theory (but by no
means in all cases in practice), a Minor bug should have very little
code changed compared to a Major bug. Again, severity is there for the
*developers* to use and understand, not for the users.

> I don't see how the reproducibility connects to the severity level?

It doesn't. It connects to the interaction between user and developer.
You're talking about user impressions - "THIS NEEDS TO BE FIXED NOW OR
I WILL DIE" - I'm talking about REAL bug report information - "When
you click on this button then hit this menu option, the application
draws squiggly lines all over the screen. Graphics card has nVidia
180.29 drivers."

> Regarding the priority flag..i was referring to it's visibility, not its state.

Bugzilla doesn't (and can't) know the difference between an average
non-tech-savvy user and a hard-core developer. If the priority flag is
hidden from average users because they shouldn't change it, then it
will also be hidden from people who know how to use it properly, and
more importantly the people who NEED to change it (to make their
report complete).

>>There already is a separate category flag. It's called "severity" and
>>it indicates roughly the amount of *functionality* lost due to the
>>bug. "Priority" does not indicate the severity of a bug; a bug may
>>have low priority due to limitations outside of Wine (such as some
>>blocker bugs for copy-protection systems which can't be supported in
>>Wine).
>
> My point is that there should be no need for that flag.
> Let the users have it as input, and let the developers use component+priority.

Component + priority gives absolutely no indication on the overall
impact of a bug, as I have mentioned before. Priority and severity
(developer-side severity) do not have a 1-to-1 relationship.

>>You're not going to like this, but users don't matter quite *that*
>>much on bugzilla. The bug tracker is a developer's tool, and although
>>users are essential to the process (submitting bugs and new
>>information on request), it should be designed as a developer's tool.
>>A user's impression of their problem is irrelevant to the hard data
>>they can provide about lost or missing functionality.
>
> You are right. I don't like it.

Called it!

> Especially because the bug tracker is the entire projects tool, not only the developers.

Who runs the project? Developers. Who fixes bugs with committed code?
Developers. Who uses bugzilla the most? Developers (most bugs come
from users, but developers are the ones who respond to them). What
type of project is the Wine project? Software *development*. We're not
in customer service, and even if we were, the bug tracker would be
pretty much the same.

> I this matter can only compare with my own professional(commercial) experience and there,
> the ones submitting bugs has a *lot* to say, since they won't submit bugs unless they are
> critical if we don't present them with a smooth interface.

I don't see this happening now. Do you?


From shacklein at gmail.com  Sun May  3 19:35:27 2009
From: shacklein at gmail.com (Ben Klein)
Date: Mon, 4 May 2009 10:35:27 +1000
Subject: Severity levels
In-Reply-To: <b6bb06270905031556w3c573a37n9333380e48a8096c@mail.gmail.com>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se> 
	<49FC4B8F.8090200@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se> 
	<49FC648B.70705@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se> 
	<b6bb06270905030151qaa306b6p4cabe2d3f073780f@mail.gmail.com> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F2@wsmail01.ws.se>
	<b6bb06270905031059h62efb482xbbd5deb38b125c7a@mail.gmail.com> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FC@wsmail01.ws.se>
	<b6bb06270905031556w3c573a37n9333380e48a8096c@mail.gmail.com>
Message-ID: <d7e40be30905031735v12d1832cnd242699b5502df04@mail.gmail.com>

2009/5/4 Austin English <austinenglish at gmail.com>:
> 2009/5/3 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
>>>Why should there be multiple support forums?
>>
>> Well, not forums, but as I said different lists for different kinds
>> of applications(games/business/graphics), since they should(?) have related problems.
>> I would think so, anyway.

That would be the case if *everyone* who *ever* produced software
banded together and established a one-way-to-do-one-thing API set.
Doesn't happen that way. Firefox and IE have drastically different
success/failure/issues when running in Wine, as do MS Word and
WordPerfect (I bet you thought I was going to say OOWriter!)

> The forums seem to serve this well as is.

Also AppDB has a browse feature, and lists bugs that apply to each
application (when moderated correctly).

>>>The wiki has _a lot_ of info, most of the time when bugs are closed invalid,
>>>wiki links are given to fix the problem. Again, wine _is_ an open source project.
>>> If the wiki isn't good enough, add something.
>>
>> I am talking about avoiding a bug being submitted at all.

By making the bug reporting system more confusing?

>> Maybe to organize how-to-run information.
>> Sure I could do a bit of that. It's like the idea you had about getting funding,
>> did they tell you to go do it all by yourself?
>
> http://appdb.winehq.org ?
>
>>>How do you mean their priorities are important? It's an uncomfortable
>>>truth, but users priorities aren't important, like has been said
>>>dozens of times. Sure, we care about user's bugs, and want to fix
>>>them.
>> ...
>> Users priorities probably affect what severity level they choose.
>> But as I said to Ken, I can't believe that all users are morons.
>> Anyway, regardless of their motives, I still think that they have to be included.

User priorities do not affect which bug should be examined first. All
bugs are created equal (and some bugs are more equal than others).

Not really the case there, but all bugs of each severity (this is
developer-side severity) are created equal and should be treated as
such.

> It doesn't affect anything, so there is no point. We can give every
> user a gold star and say "yes, it's our highest priority", but it
> doesn't do anything, so _there is no_ point.
>
>> If not, the project will slowly drift away and turn into a toy nobody have any use for.
>
> I highly doubt Wine is going to become irrelevant because users have
> their bugs reassigned from critical to normal...

You'd be surprised! Releases will stop, AJ will quit citing user
unfriendliness, the Earth will spin off its axis and throw everyone
save John Smith from Liverpool out in to space, and so forth, all
because MY BUG WAS REDUCED FROM CRITICAL TO NORMAL! It's critical to
me, so why is it not critical to the developers?

</sarcasm>

>>>But every user also thinks *their* app is the most important
>>>application to fix.
>>
>> Actually, I can't believe they all are that way.
>
> Again, you may not think it, but I've been triaging bugs for 3 years,
> so I know what does happen.

Maybe you should have said "the average user" instead of "every user",
but it's true. If we leave the severity level up to the user, we'll
get a whole lot of Critical bugs being submitted that aren't critical
on the developer's side.

>>>Wine can't stop development on _everything_ just to get one user's
>>>application running. Making user's arbitrary priorities the most
>>>important would be doing this.
>>
>> Good thing I didn't propose that then. :-)
>> I said it should be a part of the priority and a considerable one. Not the largest one.

So where should it sit exactly? In between "how long will this take to
code" and "how many apps does this effect"? Should it be higher than
"is there a simple, *correct* way to fix this"?

>> And I am not talking about users arbitrary priorities, just including
>> more intuitive severity levels(good or bad) when making bug fixing priorities.

So, you mean allow the users to arbitrarily select whether THEY think
their bug should have a high priority or not?

> I think this argument is circular...Wine has no shortage of bugs being
> reported, we have plenty of new users reporting bugs, and new
> developers contributing often. You're proposing adding an extra
> severity rating that no developer will look at, and will only add to
> confusion (users now have to decide *two* levels rather than one).

No, he's proposing to dump the developer-focused severity completely,
because "component + priority should be good enough", and replace it
with ill-defined, ambiguous Low, Medium, High, Critical. Blockers and
metabugs would also disappear under his proposed model, it seems.
After all, what good are metabugs to users? ;)

> It
> won't add any benefit, other than possibly giving users a warm fuzzy
> feeling that their bug is 'important' to them (which they can already
> do with voting), but adds confusion, wasted time, and wasted effort.

+1


From truiken at gmail.com  Sun May  3 21:36:33 2009
From: truiken at gmail.com (James Hawkins)
Date: Sun, 3 May 2009 19:36:33 -0700
Subject: Office 2007 MSI Crash - Null dereference @ MsiViewExecute
In-Reply-To: <4d8b5aa80905031352v35ee2c6l88577b21def7567@mail.gmail.com>
References: <gt8duv$rf2$1@ger.gmane.org>
	<b6bb06270904300403y522b3dafsc1ca5d856986863e@mail.gmail.com>
	<22821af30904301008y5f5f76fcs8c9126360a6a4ecf@mail.gmail.com>
	<4d8b5aa80905031352v35ee2c6l88577b21def7567@mail.gmail.com>
Message-ID: <22821af30905031936n2c66e2fcq8228536b09221732@mail.gmail.com>

On Sun, May 3, 2009 at 1:52 PM, Mike Kaplinskiy
<mike.kaplinskiy at gmail.com> wrote:
> On Thu, Apr 30, 2009 at 1:08 PM, James Hawkins <truiken at gmail.com> wrote:
>> On Thu, Apr 30, 2009 at 4:03 AM, Austin English <austinenglish at gmail.com> wrote:
>>> On Tue, Apr 28, 2009 at 9:27 PM, Mike Kaplinskiy
>>> <mike.kaplinskiy at gmail.com> wrote:
>>>> I was looking at the trace of the crash from bug 17600, and it looks like
>>>> a custom action is calling MsiViewExecute with a null hRec.
>>>>
>>>> I (sadly) don't know much about the wine MSI architecture, but the
>>>> msiobj_lock on line 484 should fail since rec will never be fetched
>>>> (null). I think the intention was to make it query->hdr (as it is
>>>> released later).
>>>
>>> A testcase for it would show if you're right or wrong ;-).
>>>
>>
>> Not really. ?If you grep through the msi tests, you'll see that we
>> call MsiViewExecute with NULL hRec all over the place. ?That doesn't
>> mean there isn't a bug, just saying.
>>
>> --
>> James Hawkins
>>
>
> So I got a little time to look into this, and was completely blown
> away. Apparently doing
>
> TRACE("dereferencing 0?=%p\n", (void *) &(((MSIRECORD *) NULL)->hdr));
>
> works, since nothing ever gets dereferenced. I will post a patch for
> this small nit.
>
> On a slightly different note, I have traced the problem in office 2007
> to the patch by James, and in particular to INSERT_execute. The row
> index gets set to 0 if the primary key is null (which is what office
> install is doing), but if the insert is temporary TABLE_insert assumes
> that row >= tv->table->row_count, and subtracts from the row index,
> putting us in the negatives (or high positives due to uint).
>
> I have a patch for this, but I don't know how to make a testcase (all
> I know is office installs), so would anyone mind pointing me to
> somewhere that explains msi temporary inserts?
>
> And should I post the patch up on wine-patches to get it critiqued?
> (sorry, first time)
>

I'll take a look at your patch.  No offense intended, but it's
probably not correct.  The problem is a beast and deeply rooted in the
way we store temporary rows in the DB.  I have a huge test patch for
it, and I had a fix, but my linux HD got fragged (bummer).

-- 
James Hawkins


From mike.kaplinskiy at gmail.com  Sun May  3 21:55:56 2009
From: mike.kaplinskiy at gmail.com (Mike Kaplinskiy)
Date: Sun, 3 May 2009 22:55:56 -0400
Subject: Office 2007 MSI Crash - Null dereference @ MsiViewExecute
In-Reply-To: <4d8b5aa80905031951y52f5ead4ja1372a1fe6ee0565@mail.gmail.com>
References: <gt8duv$rf2$1@ger.gmane.org>
	<b6bb06270904300403y522b3dafsc1ca5d856986863e@mail.gmail.com> 
	<22821af30904301008y5f5f76fcs8c9126360a6a4ecf@mail.gmail.com> 
	<4d8b5aa80905031352v35ee2c6l88577b21def7567@mail.gmail.com> 
	<22821af30905031936n2c66e2fcq8228536b09221732@mail.gmail.com> 
	<4d8b5aa80905031951y52f5ead4ja1372a1fe6ee0565@mail.gmail.com>
Message-ID: <4d8b5aa80905031955g3d8d6146s86cf87c907b49eda@mail.gmail.com>

On Sun, May 3, 2009 at 10:36 PM, James Hawkins <truiken at gmail.com> wrote:
> On Sun, May 3, 2009 at 1:52 PM, Mike Kaplinskiy
> <mike.kaplinskiy at gmail.com> wrote:
>> On Thu, Apr 30, 2009 at 1:08 PM, James Hawkins <truiken at gmail.com> wrote:
>>> On Thu, Apr 30, 2009 at 4:03 AM, Austin English <austinenglish at gmail.com> wrote:
>>>> On Tue, Apr 28, 2009 at 9:27 PM, Mike Kaplinskiy
>>>> <mike.kaplinskiy at gmail.com> wrote:
>>>>> I was looking at the trace of the crash from bug 17600, and it looks like
>>>>> a custom action is calling MsiViewExecute with a null hRec.
>>>>>
>>>>> I (sadly) don't know much about the wine MSI architecture, but the
>>>>> msiobj_lock on line 484 should fail since rec will never be fetched
>>>>> (null). I think the intention was to make it query->hdr (as it is
>>>>> released later).
>>>>
>>>> A testcase for it would show if you're right or wrong ;-).
>>>>
>>>
>>> Not really. ?If you grep through the msi tests, you'll see that we
>>> call MsiViewExecute with NULL hRec all over the place. ?That doesn't
>>> mean there isn't a bug, just saying.
>>>
>>> --
>>> James Hawkins
>>>
>>
>> So I got a little time to look into this, and was completely blown
>> away. Apparently doing
>>
>> TRACE("dereferencing 0?=%p\n", (void *) &(((MSIRECORD *) NULL)->hdr));
>>
>> works, since nothing ever gets dereferenced. I will post a patch for
>> this small nit.
>>
>> On a slightly different note, I have traced the problem in office 2007
>> to the patch by James, and in particular to INSERT_execute. The row
>> index gets set to 0 if the primary key is null (which is what office
>> install is doing), but if the insert is temporary TABLE_insert assumes
>> that row >= tv->table->row_count, and subtracts from the row index,
>> putting us in the negatives (or high positives due to uint).
>>
>> I have a patch for this, but I don't know how to make a testcase (all
>> I know is office installs), so would anyone mind pointing me to
>> somewhere that explains msi temporary inserts?
>>
>> And should I post the patch up on wine-patches to get it critiqued?
>> (sorry, first time)
>>
>
> I'll take a look at your patch. ?No offense intended, but it's
> probably not correct. ?The problem is a beast and deeply rooted in the
> way we store temporary rows in the DB. ?I have a huge test patch for
> it, and I had a fix, but my linux HD got fragged (bummer).
>
> --
> James Hawkins
>

(Sorry, forgot to forward to the list)

Thanks James. I'm not gonna post it on the patches list quiet yet
then. I checked that the msi tests pass with the patch as well.

Mike.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0001-msi-fix-temporary-row-handling.patch
Type: text/x-diff
Size: 12682 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090503/a38c71ee/attachment-0001.patch>

From jjmckenzie51 at earthlink.net  Sun May  3 22:25:29 2009
From: jjmckenzie51 at earthlink.net (James McKenzie)
Date: Sun, 03 May 2009 20:25:29 -0700
Subject: Severity levels
In-Reply-To: <49FDBFAE.20206@o2.co.uk>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>	<49FC4B8F.8090200@o2.co.uk>	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>	<49FC648B.70705@o2.co.uk>	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
	<49FDBFAE.20206@o2.co.uk>
Message-ID: <49FE6029.1070708@earthlink.net>

Ken Sharp wrote:
>
>
> Nicklas B?rjesson wrote:
>
>> I think that the users should have quite a say with regards to how
>> important a bug is, because for every user putting in the
>> (considerable for a user) effort of reporting a bug, there are dozens
>> that don't say anything at all. 
>
> To every Wine user, their application not working is critical.  This
> is clear by all the bugs that are logged incorrectly every day,
> because nobody bothered reading the FAQ.
You bet.  "The application that I reported, which has a perfectly good
Linux port, has to be fixed absolutely last week."  I've seen this in
the user list again and again.  It gets boorish after a while.

Let's try user education.  You only get to choose normal and we get to
up/downgrade until you can prove that you know how to do it right.  This
is how some companies do it.

James McKenzie



From mike.kaplinskiy at gmail.com  Sun May  3 22:31:45 2009
From: mike.kaplinskiy at gmail.com (Mike Kaplinskiy)
Date: Sun, 3 May 2009 23:31:45 -0400
Subject: Severity levels
In-Reply-To: <49FE6029.1070708@earthlink.net>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<49FC4B8F.8090200@o2.co.uk> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
	<49FC648B.70705@o2.co.uk> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
	<49FDBFAE.20206@o2.co.uk> <49FE6029.1070708@earthlink.net>
Message-ID: <4d8b5aa80905032031x473a8c97y6d71dfc57d010fdb@mail.gmail.com>

2009/5/3 James McKenzie <jjmckenzie51 at earthlink.net>:
> Ken Sharp wrote:
>>
>>
>> Nicklas B?rjesson wrote:
>>
>>> I think that the users should have quite a say with regards to how
>>> important a bug is, because for every user putting in the
>>> (considerable for a user) effort of reporting a bug, there are dozens
>>> that don't say anything at all.
>>
>> To every Wine user, their application not working is critical. ?This
>> is clear by all the bugs that are logged incorrectly every day,
>> because nobody bothered reading the FAQ.
> You bet. ?"The application that I reported, which has a perfectly good
> Linux port, has to be fixed absolutely last week." ?I've seen this in
> the user list again and again. ?It gets boorish after a while.
>
> Let's try user education. ?You only get to choose normal and we get to
> up/downgrade until you can prove that you know how to do it right. ?This
> is how some companies do it.
>
> James McKenzie
>
>
>
>

+1. Or just remove priorities for users altogether.


From dimesio at earthlink.net  Sun May  3 23:07:44 2009
From: dimesio at earthlink.net (Rosanne DiMesio)
Date: Sun, 3 May 2009 23:07:44 -0500
Subject: Severity levels
In-Reply-To: <4d8b5aa80905032031x473a8c97y6d71dfc57d010fdb@mail.gmail.com>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<49FC4B8F.8090200@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
	<49FC648B.70705@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
	<49FDBFAE.20206@o2.co.uk> <49FE6029.1070708@earthlink.net>
	<4d8b5aa80905032031x473a8c97y6d71dfc57d010fdb@mail.gmail.com>
Message-ID: <20090503230744.e064403e.dimesio@earthlink.net>


> >
> > Let's try user education. ?You only get to choose normal and we get to
> > up/downgrade until you can prove that you know how to do it right. ?This
> > is how some companies do it.
> >
> > James McKenzie
> >
> 
> +1. Or just remove priorities for users altogether.
> 

I think you mean severity. I agree that users should be limited in what severity level they can set, but I suspect that not allowing them to set severity at all would create too much work for the people who would have to go in and set the severity level for every bug filed. What I would suggest is making the default severity normal rather than enhancement, as that's what's appropriate in most cases anyway (and there's already a bug report, 13363, suggesting just that), and perhaps allowing users to lower the severity if they want. Judgments about raising the severity level above normal should be restricted to the people who know what they're doing. 


Rosanne DiMesio <dimesio at earthlink.net>


From austinenglish at gmail.com  Sun May  3 23:08:11 2009
From: austinenglish at gmail.com (Austin English)
Date: Sun, 3 May 2009 23:08:11 -0500
Subject: Severity levels
In-Reply-To: <20090503230744.e064403e.dimesio@earthlink.net>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<49FC4B8F.8090200@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
	<49FC648B.70705@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
	<49FDBFAE.20206@o2.co.uk> <49FE6029.1070708@earthlink.net>
	<4d8b5aa80905032031x473a8c97y6d71dfc57d010fdb@mail.gmail.com>
	<20090503230744.e064403e.dimesio@earthlink.net>
Message-ID: <b6bb06270905032108k21da4909we9b83b4b19457727@mail.gmail.com>

2009/5/3 Rosanne DiMesio <dimesio at earthlink.net>:
> What I would suggest is making the default severity normal rather than enhancement, as that's what's appropriate in most cases anyway (and there's already a bug report, 13363, suggesting just that), and perhaps allowing users to lower the severity if they want. Judgments about raising the severity level above normal should be restricted to the people who know what they're doing.

+1

-- 
-Austin


From shacklein at gmail.com  Mon May  4 00:28:56 2009
From: shacklein at gmail.com (Ben Klein)
Date: Mon, 4 May 2009 15:28:56 +1000
Subject: Severity levels
In-Reply-To: <b6bb06270905032108k21da4909we9b83b4b19457727@mail.gmail.com>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se> 
	<49FC4B8F.8090200@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se> 
	<49FC648B.70705@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se> 
	<49FDBFAE.20206@o2.co.uk> <49FE6029.1070708@earthlink.net> 
	<4d8b5aa80905032031x473a8c97y6d71dfc57d010fdb@mail.gmail.com> 
	<20090503230744.e064403e.dimesio@earthlink.net>
	<b6bb06270905032108k21da4909we9b83b4b19457727@mail.gmail.com>
Message-ID: <d7e40be30905032228k4568dam3d3cc9cf9b7c4b89@mail.gmail.com>

2009/5/4 Austin English <austinenglish at gmail.com>:
> 2009/5/3 Rosanne DiMesio <dimesio at earthlink.net>:
>> What I would suggest is making the default severity normal rather than enhancement, as that's what's appropriate in most cases anyway (and there's already a bug report, 13363, suggesting just that), and perhaps allowing users to lower the severity if they want. Judgments about raising the severity level above normal should be restricted to the people who know what they're doing.
>
> +1

+1

But how would the restriction work? Not that I'm likely to ever submit
a Major or Critical bug report, but I know what they mean ;)


From austinenglish at gmail.com  Mon May  4 00:31:09 2009
From: austinenglish at gmail.com (Austin English)
Date: Mon, 4 May 2009 00:31:09 -0500
Subject: Severity levels
In-Reply-To: <d7e40be30905032228k4568dam3d3cc9cf9b7c4b89@mail.gmail.com>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
	<49FC648B.70705@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
	<49FDBFAE.20206@o2.co.uk> <49FE6029.1070708@earthlink.net>
	<4d8b5aa80905032031x473a8c97y6d71dfc57d010fdb@mail.gmail.com>
	<20090503230744.e064403e.dimesio@earthlink.net>
	<b6bb06270905032108k21da4909we9b83b4b19457727@mail.gmail.com>
	<d7e40be30905032228k4568dam3d3cc9cf9b7c4b89@mail.gmail.com>
Message-ID: <b6bb06270905032231v5cf6f433g2f20b4e112d1b07d@mail.gmail.com>

On Mon, May 4, 2009 at 12:28 AM, Ben Klein <shacklein at gmail.com> wrote:
> 2009/5/4 Austin English <austinenglish at gmail.com>:
>> 2009/5/3 Rosanne DiMesio <dimesio at earthlink.net>:
>>> What I would suggest is making the default severity normal rather than enhancement, as that's what's appropriate in most cases anyway (and there's already a bug report, 13363, suggesting just that), and perhaps allowing users to lower the severity if they want. Judgments about raising the severity level above normal should be restricted to the people who know what they're doing.
>>
>> +1
>
> +1
>
> But how would the restriction work? Not that I'm likely to ever submit
> a Major or Critical bug report, but I know what they mean ;)
>

I don't know if bugzilla supports that or not.

But changing the default to normal is quick and easy.

-- 
-Austin


From joel at airwebreathe.org.uk  Mon May  4 03:50:09 2009
From: joel at airwebreathe.org.uk (Joel Holdsworth)
Date: Mon, 04 May 2009 09:50:09 +0100
Subject: Giving up for now
In-Reply-To: <c8485d470905030705k2ab9b0d6w2a996835b119f35e@mail.gmail.com>
References: <1241283317.3942.93.camel@joel-desktop>
	<c8485d470905021138s75e1241g29b07a2914ada028@mail.gmail.com>
	<1241290625.3942.95.camel@joel-desktop>
	<c8485d470905021356u599820a5t1ba268ba4af1a49d@mail.gmail.com>
	<1241299094.3942.104.camel@joel-desktop>
	<d7e40be30905021744u5001b421of26d4df01c47a853@mail.gmail.com>
	<c8485d470905030705k2ab9b0d6w2a996835b119f35e@mail.gmail.com>
Message-ID: <1241427009.4462.32.camel@joel-desktop>

On Sun, 2009-05-03 at 16:05 +0200, Roderick Colenbrander wrote:
> We do support some alpha support using XRender, can't you use this
> too? I think that's the general method for using alpha at the moment
> on X.

Yes and I'm using GdiAlphaBlend - for rendering, and I have fixes to use
it. It's what you need to enable DrawIcon and DrawIconEx to draw
properly.

The reason is to do with the way *loading* works. Icons get loaded in
arbitrary sizes and colour depths, but of course only compatible
HBITMAPs can be displayed e.g. a 4-bit icon has to be upsampled to
32-bit before it can be displayed on my system. As a solution to both
these problems CURSORICON_CreateIconFromBMI has an internal call to
StretchDIBits, which applies both depth and size conversions. The
problem is that this call seems to loose the alpha channel in doing so.

I guess I should write a test to find out what StretchDIBits *should* do
- whether we can use it, even theoretically.

Once we get to the stage of returning a full formed HICON to the app,
it's plain sailing. My DrawIcon patch can render alpha channel icons no
problem, and hopefully a DrawIconEx patch will soon follow. The problem
is that the only way to create one in wine right now is with CreateIcon!

Joel




From mstefani at redhat.com  Mon May  4 05:24:01 2009
From: mstefani at redhat.com (Michael Stefaniuc)
Date: Mon, 04 May 2009 12:24:01 +0200
Subject: comdlg32: fix romanian translation
In-Reply-To: <49FD6DB6.7020204@dawncrow.de>
References: <49FD6DB6.7020204@dawncrow.de>
Message-ID: <49FEC241.8060806@redhat.com>

Andr? Hentschel wrote:
> suggested by Dimitriu Petru
> ---
>  dlls/comdlg32/cdlg_Ro.rc |    4 ++--
>  1 files changed, 2 insertions(+), 2 deletions(-)
This patch is wrong. The Romanian language uses "?" aka "t with comma
below accent" and not "?" which is "t with cedilla".

bye
	michael


From mstefani at redhat.com  Mon May  4 05:32:43 2009
From: mstefani at redhat.com (Michael Stefaniuc)
Date: Mon, 04 May 2009 12:32:43 +0200
Subject: Romanian translation (again)
In-Reply-To: <a8050cee0905030251o223f7394g711d683f997da148@mail.gmail.com>
References: <a8050cee0905030251o223f7394g711d683f997da148@mail.gmail.com>
Message-ID: <49FEC44B.5080909@redhat.com>

Hello Dumitriu,

Dimitriu Petru wrote:
> I'm here again for the Romanian translation of Wine.
> I only want somebody to change in the translation "Propriet??i pentru"
> with "Propriet??i pentru" because it shows ugly in ReactOS.
That change is wrong as the correct glyph to use is "t with comma below
accent" and that is what Wine already uses. You just need better/newer
fonts in ReactOS. The Wine fonts have the needed glyphs as I have added
them.

If your fonts to have the comma below glyphs the problem could be that
you are using an ASCII codepage on ReactOS for Romanian. That won't work
and you need to use Unicode. But you will have the exact same problem on
Windows too as the Windows bestfit mappings don't handle s and t with
comma below accent. See also http://bugs.winehq.org/show_bug.cgi?id=17789

bye
	michael


From dimesio at earthlink.net  Mon May  4 06:39:46 2009
From: dimesio at earthlink.net (Rosanne DiMesio)
Date: Mon, 4 May 2009 06:39:46 -0500
Subject: Severity levels
In-Reply-To: <b6bb06270905032231v5cf6f433g2f20b4e112d1b07d@mail.gmail.com>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
	<49FC648B.70705@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
	<49FDBFAE.20206@o2.co.uk> <49FE6029.1070708@earthlink.net>
	<4d8b5aa80905032031x473a8c97y6d71dfc57d010fdb@mail.gmail.com>
	<20090503230744.e064403e.dimesio@earthlink.net>
	<b6bb06270905032108k21da4909we9b83b4b19457727@mail.gmail.com>
	<d7e40be30905032228k4568dam3d3cc9cf9b7c4b89@mail.gmail.com>
	<b6bb06270905032231v5cf6f433g2f20b4e112d1b07d@mail.gmail.com>
Message-ID: <20090504063946.cae6f4b5.dimesio@earthlink.net>

On Mon, 4 May 2009 00:31:09 -0500
Austin English <austinenglish at gmail.com> wrote:


> >
> > But how would the restriction work? Not that I'm likely to ever submit
> > a Major or Critical bug report, but I know what they mean ;)
> >
> 
> I don't know if bugzilla supports that or not.
> 
> But changing the default to normal is quick and easy.
> 
> -- 

Just changing the default to normal should solve a lot of the problem; people are less likely to change the severity level if the one they're presented with looks reasonable. 

I know what Major and Critical mean too, but I can live without being able to make that change myself if restricting it will help. There's always the comment field to state an opinion. 


-- 
Rosanne DiMesio <dimesio at earthlink.net>


From shacklein at gmail.com  Mon May  4 07:09:54 2009
From: shacklein at gmail.com (Ben Klein)
Date: Mon, 4 May 2009 22:09:54 +1000
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A405@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se> 
	<49FC648B.70705@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se> 
	<b6bb06270905030151qaa306b6p4cabe2d3f073780f@mail.gmail.com> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F2@wsmail01.ws.se>
	<b6bb06270905031059h62efb482xbbd5deb38b125c7a@mail.gmail.com> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FC@wsmail01.ws.se>
	<b6bb06270905031556w3c573a37n9333380e48a8096c@mail.gmail.com> 
	<d7e40be30905031735v12d1832cnd242699b5502df04@mail.gmail.com> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A405@wsmail01.ws.se>
Message-ID: <d7e40be30905040509u792073aeudcfca0a59bee2e47@mail.gmail.com>

2009/5/4 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
> As I wrote in my earlier post, Austin told me about the voting functionality,
> and If that is considered when priorities are made, it is likely to keep
> things pretty on track, making my proposed changes far less important.
> I still think my thoughts aren't that off anyway, but now they feel a
> bit more "optional".

You're one guy against the world. So far, no one on this thread has
responded positively to your proposal to overhaul severities. I'd
suggest you stop acting like it's an inevitability

Once again bugzilla is a developer's tool, not a collection of data
for users. We already have the Wiki, forums and AppDB satisfying the
users' needs.

>>No, he's proposing to dump the developer-focused severity completely,
>>because "component + priority should be good enough", and replace it
>>with ill-defined, ambiguous Low, Medium, High, Critical. Blockers and
>>metabugs would also disappear under his proposed model, it seems.
>>After all, what good are metabugs to users? ;)
>
> Exactly. Ben's got it. :-)

Point is that metabugs, though useless to users, are important for the
REAL target audience of bugzilla: developers.

Repeat after me:
* Bugzilla is there for the developers, not the users
* Bugzilla's target audience is the developers, not the users
* Bugzilla's target demographic is the developers, not the users
* Bugzilla will fly up Tokyo Tower for the developers, not the users
* Bugs on bugzilla are examined, responded and fixed to by developers, not users
(OK, there are cases where that last one is false, but wherever code
is required ...)

A user-centric focus on bug priorities simply would not work with a
project as large (massive?) as Wine is.

> But blockers and metabugs wouldn't disappear.
> They would only lose their special classification.

Then they disappear. There would be no way to search for metabugs, for
example, whereas at the moment you can search for Blockers. There's no
point in keeping metabugs if there's no

> They would likely have it's priorities set to 1 by the developer reviewing.
> In what other way than they are highly prioritized are they different to any other bug?
> Something that must be fixed, must be fixed, regardless.

You're now implying that all bugs should be given equal priority. Some
bugs *can't* be fixed without limitations lifted in other areas (e.g.
introduction of Xinput2). They could still be severe (mouse-related
bugs could easily attain Major severity) but be a low priority due to
forces outside of Wine.

> To me, blocker is a class of bugs, not a level of severity.

Agreed, Blocker is a class of bugs, but severity is a neat way to keep
track of it. You can't have a minor or trivial blocker; all blockers
block development in their area.

> Mixing is up like is done now makes it:
> a) more complicated for users. b) more difficult to severity in statistics.

a) is not a consideration for bugzilla. It has to be easy for the
developers that respond.
b) is nonsensical. We're talking about two very different forms of
statistics. Bugzilla is the place for developer-side severity (which
is what's in place now); forums and AppDB are the places for user-side
severity (which is what you're suggesting). By definition, there is no
way to gather statistics on one when the other is used.

>>ill-defined
> I would go further than I'll-defined. I'd say non-defined.

Please quote with context! And having no definitions of the severity
levels is just asking for trouble. Surely you realise that every user
will have a different opinion on how serious their bug is, and what
the boundaries for "Low", "Medium", "High" and "Critical" are, which
will likely vary greatly from what the developers responding to the
bugs think? Conflict between developers and users is bad, and having
real definitions of the severity levels allows the devs to say "well,
your 'Critical' bug that has a simple but tedious workaround doesn't
fit the definition of Critical, so it's being downgraded to 'Minor'."

> The other things I talked about, drifting away from usability is a
> fairly rapid process(a few years) that I actually have experienced first hand
> (well second hand, actually), and it wasn't pretty.
> You joke about it, but the worst thing about it is that because it really only
> needs such a small skew to happen, it creeps up on you.
> Because "normal" get fixed far more often than "minor" bugs.

I can't tell what you're talking about here.
1) "A few years" is rapid?
2) "Drifting away" from usability when we've always (AFAIK) had the
current severity levels (but not necessarily the definitions), and
established that the system works well to assist developers
categorising the bugs?
3) "Such a small skew", as in handing over full control over what
priority should be given to the bug to the users? And before you say
it's not "full control", if it's not something that will seriously
influence the way bugs are prioritised, it's pointless to do such a
massive overhaul of the severity ratings.
4) "Normal" getting fixed more than "minor" is a problem?

>> Firefox and IE have drastically different success/failure/issues
>> when running in Wine, as do MS Word and
>> WordPerfect
>
> Yep, but I'd rather put I it like a Microsoft application has often other problems than externally developed applications(built-in vs using dll:s for everything).

Applications still have to be treated on a per-app basis. Every app is
different, and in extreme cases different versions of the same app use
violently different API calls.

> Anyway, looking at the forums now, games and 3d applications DO usually have different issues than normal desktop applications.
> It's more about controllers, DirectX and other stuff.

Correct, games and 3D applications do tend to use DirectX, whereas
office applications don't (tend to). Well done, astute observation. It
doesn't mean that a joystick fix for GTA:San Andreas will work with
Gunmetal, or that a WineD3D patch for COD4 will improve performance in
Supreme Commander. They're all individuals! (Chorus: Yes, they're all
individuals!) They're all different! (Chorus: Yes, they're all
different!) (I'm not) (shhh)

> And there are a LOT of posts. 30 new threads the last 24 hours. Lot's to wade through I you're only into D3D issues.
> If it was different lists, people could become a little bit more specialized.

That's what searching is for.


From shacklein at gmail.com  Mon May  4 07:12:04 2009
From: shacklein at gmail.com (Ben Klein)
Date: Mon, 4 May 2009 22:12:04 +1000
Subject: Severity levels
In-Reply-To: <d7e40be30905040509u792073aeudcfca0a59bee2e47@mail.gmail.com>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
	<b6bb06270905030151qaa306b6p4cabe2d3f073780f@mail.gmail.com> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F2@wsmail01.ws.se>
	<b6bb06270905031059h62efb482xbbd5deb38b125c7a@mail.gmail.com> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FC@wsmail01.ws.se>
	<b6bb06270905031556w3c573a37n9333380e48a8096c@mail.gmail.com> 
	<d7e40be30905031735v12d1832cnd242699b5502df04@mail.gmail.com> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A405@wsmail01.ws.se>
	<d7e40be30905040509u792073aeudcfca0a59bee2e47@mail.gmail.com>
Message-ID: <d7e40be30905040512m586c1a6bub78ba391d7222999@mail.gmail.com>

2009/5/4 Ben Klein <shacklein at gmail.com>:
> Then they disappear. There would be no way to search for metabugs, for
> example, whereas at the moment you can search for Blockers. There's no
> point in keeping metabugs if there's no

SUSPENSE!

Lost a chunk of line there.

There's no point in keeping metabugs if there's no way to ...

SUSPENSE!

no way to distinguish them from regular bugs.


From Paul.Hampson at Pobox.com  Mon May  4 08:10:26 2009
From: Paul.Hampson at Pobox.com (Paul TBBle Hampson)
Date: Mon, 4 May 2009 23:10:26 +1000
Subject: Severity levels
In-Reply-To: <d7e40be30905040512m586c1a6bub78ba391d7222999@mail.gmail.com>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
	<b6bb06270905030151qaa306b6p4cabe2d3f073780f@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F2@wsmail01.ws.se>
	<b6bb06270905031059h62efb482xbbd5deb38b125c7a@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FC@wsmail01.ws.se>
	<b6bb06270905031556w3c573a37n9333380e48a8096c@mail.gmail.com>
	<d7e40be30905031735v12d1832cnd242699b5502df04@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A405@wsmail01.ws.se>
	<d7e40be30905040509u792073aeudcfca0a59bee2e47@mail.gmail.com>
	<d7e40be30905040512m586c1a6bub78ba391d7222999@mail.gmail.com>
Message-ID: <20090504131026.GB8171@keitarou.watson.bubblesworth.net>

On Mon, May 04, 2009 at 10:12:04PM +1000, Ben Klein wrote:
> 2009/5/4 Ben Klein <shacklein at gmail.com>:
>> Then they disappear. There would be no way to search for metabugs, for
>> example, whereas at the moment you can search for Blockers. There's no
>> point in keeping metabugs if there's no
> There's no point in keeping metabugs if there's no way to ...
> no way to distinguish them from regular bugs.

I was under the impression that Wine didn't want metabugs. I'm sure I've
seem comments to that effect in Bugzilla itself...

-- 
-----------------------------------------------------------
Paul "TBBle" Hampson, B.Sc, LPI, MCSE
Very-later-year Asian Studies student, ANU
The Boss, Bubblesworth Pty Ltd (ABN: 51 095 284 361)
Paul.Hampson at Pobox.com

Of course Pacman didn't influence us as kids. If it did,
we'd be running around in darkened rooms, popping pills and
listening to repetitive music.
 -- Marcus Brigstocke
http://www.marcusbrigstocke.com/pacman.asp

License: http://creativecommons.org/licenses/by/2.5/au/
-----------------------------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090504/6b5000e7/attachment.pgp>

From austinenglish at gmail.com  Mon May  4 10:07:14 2009
From: austinenglish at gmail.com (Austin English)
Date: Mon, 4 May 2009 10:07:14 -0500
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A40B@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<b6bb06270905030151qaa306b6p4cabe2d3f073780f@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F2@wsmail01.ws.se>
	<b6bb06270905031059h62efb482xbbd5deb38b125c7a@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FC@wsmail01.ws.se>
	<b6bb06270905031556w3c573a37n9333380e48a8096c@mail.gmail.com>
	<d7e40be30905031735v12d1832cnd242699b5502df04@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A405@wsmail01.ws.se>
	<d7e40be30905040509u792073aeudcfca0a59bee2e47@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A40B@wsmail01.ws.se>
Message-ID: <b6bb06270905040807u31af6282u53021276f48323fe@mail.gmail.com>

Guys, y'all are going in a circular argument. No need to cc wine-devel
on it anymore.

Let's work toward making normal the default level, and move on with our lives.

Any developer/user focus for bugzilla argument is WAY beyond beating a
dead horse.

--
-Austin


From shacklein at gmail.com  Mon May  4 10:17:43 2009
From: shacklein at gmail.com (Ben Klein)
Date: Tue, 5 May 2009 01:17:43 +1000
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A40B@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se> 
	<b6bb06270905030151qaa306b6p4cabe2d3f073780f@mail.gmail.com> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F2@wsmail01.ws.se>
	<b6bb06270905031059h62efb482xbbd5deb38b125c7a@mail.gmail.com> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FC@wsmail01.ws.se>
	<b6bb06270905031556w3c573a37n9333380e48a8096c@mail.gmail.com> 
	<d7e40be30905031735v12d1832cnd242699b5502df04@mail.gmail.com> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A405@wsmail01.ws.se>
	<d7e40be30905040509u792073aeudcfca0a59bee2e47@mail.gmail.com> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A40B@wsmail01.ws.se>
Message-ID: <d7e40be30905040817n784c6d73tdf8553ad1940c512@mail.gmail.com>

Final post from me.

2009/5/5 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
> b) I thought that priority was developer priority and severity was
> severity for the users.

Nope. Both for the benefit of developers, hence why they're both on bugzilla.


From juan.lang at gmail.com  Mon May  4 10:58:22 2009
From: juan.lang at gmail.com (Juan Lang)
Date: Mon, 4 May 2009 08:58:22 -0700
Subject: crypt32/tests: Print a better error if no Verisign root 
	certificates available.
Message-ID: <3a768c550905040858i43de2309k3d9935cb928de845@mail.gmail.com>

Hi, I just noticed commit efa555596b30134261920ea12d8c324f9bef34b4.
This change is misleading:

-         "Chain %d, element [%d,%d]: expected error %08x, got %08x\n",
+         "Chain %d, element [%d,%d]: expected error %08x, got %08x. %08x is "
+         "expected if no valid Verisign root certificate is available.\n",
          testIndex, chainIndex, elementIndex, expected->dwErrorStatus,
-         got->dwErrorStatus);
+         got->dwErrorStatus, CERT_TRUST_IS_UNTRUSTED_ROOT);

The only difference is to add CERT_TRUST_IS_UNTRUSTED_ROOT if any
chain doesn't match, whatever the reason.  On the other hand, only one
chain out of 14 or so that are tested would ever unexpectedly have
CERT_TRUST_IS_UNTRUSTED_ROOT set.  The remainder of the chains are not
rooted in any trusted CA, but are rooted in some untrusted cert.  So I
don't think this change is really all that beneficial.

Personally, I'd rather have the change reverted.  Comments?
--Juan


From juan.lang at gmail.com  Mon May  4 11:18:43 2009
From: juan.lang at gmail.com (Juan Lang)
Date: Mon, 4 May 2009 09:18:43 -0700
Subject: crypt32/tests: Print a better error if no Verisign root 
	certificates available.
In-Reply-To: <3a768c550905040858i43de2309k3d9935cb928de845@mail.gmail.com>
References: <3a768c550905040858i43de2309k3d9935cb928de845@mail.gmail.com>
Message-ID: <3a768c550905040918x3771e5f1j412e5baf344fb3bc@mail.gmail.com>

Hi Austin,

> The error is very cryptic...currently only shows up on OpenSolaris and
> FreeBSD (if /usr/ports/security/ca_root_nss isn't installed). It
> apparently also shows up on some Linux distributions that don't ship
> OpenSSL with any certificates.

While the error may be cryptic, it shows a real bug:  we don't support
the correct root certificate location on OpenSolaris.  As I said
earlier, adding a warning that isn't applicable most of the time
doesn't seem like an appropriate fix.
--Juan


From austinenglish at gmail.com  Mon May  4 11:44:48 2009
From: austinenglish at gmail.com (Austin English)
Date: Mon, 4 May 2009 11:44:48 -0500
Subject: crypt32/tests: Print a better error if no Verisign root 
	certificates available.
In-Reply-To: <3a768c550905040918x3771e5f1j412e5baf344fb3bc@mail.gmail.com>
References: <3a768c550905040858i43de2309k3d9935cb928de845@mail.gmail.com>
	<3a768c550905040918x3771e5f1j412e5baf344fb3bc@mail.gmail.com>
Message-ID: <b6bb06270905040944y7f8fde11gf1ac7ea0aa941cd5@mail.gmail.com>

On Mon, May 4, 2009 at 11:18 AM, Juan Lang <juan.lang at gmail.com> wrote:
> Hi Austin,
>
>> The error is very cryptic...currently only shows up on OpenSolaris and
>> FreeBSD (if /usr/ports/security/ca_root_nss isn't installed). It
>> apparently also shows up on some Linux distributions that don't ship
>> OpenSSL with any certificates.
>
> While the error may be cryptic, it shows a real bug: ?we don't support
> the correct root certificate location on OpenSolaris. ?As I said
> earlier, adding a warning that isn't applicable most of the time
> doesn't seem like an appropriate fix.

OpenSolaris doesn't have any Verisign root certificates installed by
default, which is the problem there.

Would changing it to:
"CERT_TRUST_IS_UNTRUSTED_ROOT is expected if no trusted root
certificate is available."
be better?

I'm working on installing Verisign root certificates on OpenSolaris,
give me a couple days...

-- 
-Austin


From juan.lang at gmail.com  Mon May  4 11:54:52 2009
From: juan.lang at gmail.com (Juan Lang)
Date: Mon, 4 May 2009 09:54:52 -0700
Subject: crypt32/tests: Print a better error if no Verisign root 
	certificates available.
In-Reply-To: <b6bb06270905040944y7f8fde11gf1ac7ea0aa941cd5@mail.gmail.com>
References: <3a768c550905040858i43de2309k3d9935cb928de845@mail.gmail.com>
	<3a768c550905040918x3771e5f1j412e5baf344fb3bc@mail.gmail.com>
	<b6bb06270905040944y7f8fde11gf1ac7ea0aa941cd5@mail.gmail.com>
Message-ID: <3a768c550905040954n172e7b12gfcddef3be0bfafc4@mail.gmail.com>

> OpenSolaris doesn't have any Verisign root certificates installed by
> default, which is the problem there.

Yep, I know.

> Would changing it to:
> "CERT_TRUST_IS_UNTRUSTED_ROOT is expected if no trusted root
> certificate is available."
> be better?

I don't think so.  I think this test is a special case, because it
depends on your system's configuration, whereas the other tests should
not.

Part of me thinks the test could be removed, as it doesn't really
exercise any code path that isn't already exercised with the existing
tests.  On the other hand, if the Verisign root CA isn't installed,
iTunes will silently fail to start.  I'm not sure which is worse, an
arguably spurious test failure, or silent application failures.

> I'm working on installing Verisign root certificates on OpenSolaris,
> give me a couple days...

Cool :)
--Juan


From austinenglish at gmail.com  Mon May  4 12:09:18 2009
From: austinenglish at gmail.com (Austin English)
Date: Mon, 4 May 2009 12:09:18 -0500
Subject: crypt32/tests: Print a better error if no Verisign root 
	certificates available.
In-Reply-To: <3a768c550905040954n172e7b12gfcddef3be0bfafc4@mail.gmail.com>
References: <3a768c550905040858i43de2309k3d9935cb928de845@mail.gmail.com>
	<3a768c550905040918x3771e5f1j412e5baf344fb3bc@mail.gmail.com>
	<b6bb06270905040944y7f8fde11gf1ac7ea0aa941cd5@mail.gmail.com>
	<3a768c550905040954n172e7b12gfcddef3be0bfafc4@mail.gmail.com>
Message-ID: <b6bb06270905041009h605e2665if05ce30bb6d0df8c@mail.gmail.com>

On Mon, May 4, 2009 at 11:54 AM, Juan Lang <juan.lang at gmail.com> wrote:
>> Would changing it to:
>> "CERT_TRUST_IS_UNTRUSTED_ROOT is expected if no trusted root
>> certificate is available."
>> be better?
>
> I don't think so. ?I think this test is a special case, because it
> depends on your system's configuration, whereas the other tests should
> not.

We have a similar warning already:
http://source.winehq.org/git/wine.git/?a=blob;f=dlls/ws2_32/tests/sock.c#l2454

Surely there's some warning we can agree on...currently, it doesn't
give the user any hint of what's wrong. As far as they can tell, it is
solely a Wine problem, not their system being misconfigured. If a user
sees "no Verisign certificate", they'd be more likely to investigate
why that is, and fix it (or, if they are installed, file a bug).

> Part of me thinks the test could be removed, as it doesn't really
> exercise any code path that isn't already exercised with the existing
> tests. ?On the other hand, if the Verisign root CA isn't installed,
> iTunes will silently fail to start. ?I'm not sure which is worse, an
> arguably spurious test failure, or silent application failures.

Silent application failures are probably worse...

-- 
-Austin


From juan.lang at gmail.com  Mon May  4 12:19:52 2009
From: juan.lang at gmail.com (Juan Lang)
Date: Mon, 4 May 2009 10:19:52 -0700
Subject: crypt32/tests: Print a better error if no Verisign root 
	certificates available.
In-Reply-To: <b6bb06270905041009h605e2665if05ce30bb6d0df8c@mail.gmail.com>
References: <3a768c550905040858i43de2309k3d9935cb928de845@mail.gmail.com>
	<3a768c550905040918x3771e5f1j412e5baf344fb3bc@mail.gmail.com>
	<b6bb06270905040944y7f8fde11gf1ac7ea0aa941cd5@mail.gmail.com>
	<3a768c550905040954n172e7b12gfcddef3be0bfafc4@mail.gmail.com>
	<b6bb06270905041009h605e2665if05ce30bb6d0df8c@mail.gmail.com>
Message-ID: <3a768c550905041019p125ddaaep64b43d2168e9f90@mail.gmail.com>

> We have a similar warning already:
> http://source.winehq.org/git/wine.git/?a=blob;f=dlls/ws2_32/tests/sock.c#l2454

That warning is appropriate, because it's testing IPv6, so the warning
applies in all cases.  The reason I'm objecting in this case is that
the warning is printed for any failure, no matter which chain is being
checked, yet this condition can only occur on one of the 15 or so
chains that are checked.  Like I said, I think it's a special case.
--Juan


From jjmckenzie51 at earthlink.net  Mon May  4 13:24:58 2009
From: jjmckenzie51 at earthlink.net (James Mckenzie)
Date: Mon, 4 May 2009 11:24:58 -0700 (GMT-07:00)
Subject: Severity levels
Message-ID: <31355905.1241461498940.JavaMail.root@elwamui-lapwing.atl.sa.earthlink.net>

Ben Klein wrote on May 4th:
>
>Final post from me.
>
>2009/5/5 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
>> b) I thought that priority was developer priority and severity was
>> severity for the users.
>
>Nope. Both for the benefit of developers, hence why they're both on bugzilla.
>
>
One question:  Does Bugzilla have a place for user's to place the Impact on their ability to use a Windows program?  This is much different than the priority and severity fields.

James McKenzie



From kennybobs at o2.co.uk  Mon May  4 13:52:10 2009
From: kennybobs at o2.co.uk (Ken Sharp)
Date: Mon, 04 May 2009 19:52:10 +0100
Subject: Severity levels
In-Reply-To: <31355905.1241461498940.JavaMail.root@elwamui-lapwing.atl.sa.earthlink.net>
References: <31355905.1241461498940.JavaMail.root@elwamui-lapwing.atl.sa.earthlink.net>
Message-ID: <49FF395A.3080900@o2.co.uk>



James Mckenzie wrote:

> One question:  Does Bugzilla have a place for user's to place the Impact on their ability to use a Windows program?  This is much different than the priority and severity fields.

Yes, here:
http://bugs.winehq.org/page.cgi?id=fields.html#bug_severity


From austinenglish at gmail.com  Mon May  4 14:39:28 2009
From: austinenglish at gmail.com (Austin English)
Date: Mon, 4 May 2009 14:39:28 -0500
Subject: Severity levels
In-Reply-To: <31355905.1241461498940.JavaMail.root@elwamui-lapwing.atl.sa.earthlink.net>
References: <31355905.1241461498940.JavaMail.root@elwamui-lapwing.atl.sa.earthlink.net>
Message-ID: <b6bb06270905041239v2909ab7eh923a8fd93a8eaee@mail.gmail.com>

2009/5/4 James Mckenzie <jjmckenzie51 at earthlink.net>:
> Ben Klein wrote on May 4th:
>>
>>Final post from me.
>>
>>2009/5/5 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
>>> b) I thought that priority was developer priority and severity was
>>> severity for the users.
>>
>>Nope. Both for the benefit of developers, hence why they're both on bugzilla.
>>
>>
> One question: ?Does Bugzilla have a place for user's to place the Impact on their ability to use a Windows program? ?This is much different than the priority and severity fields.

No, but it is not important for bugzilla. That information belongs in
the AppDB, which allows for this, with the application ratings.

-- 
-Austin


From jnewman at codeweavers.com  Mon May  4 14:43:30 2009
From: jnewman at codeweavers.com (Jeremy Newman)
Date: Mon, 04 May 2009 14:43:30 -0500
Subject: Added Polish translation
In-Reply-To: <1241194926-23263-1-git-send-email-lukasz.wojnilowicz@gmail.com>
References: <0>
	<1241194926-23263-1-git-send-email-lukasz.wojnilowicz@gmail.com>
Message-ID: <49FF4562.3070204@codeweavers.com>

I tried applying this patch, but the files are corrupt. It looks like 
the UTF-8 encoding was not preserved. You should send the patch as an 
attachment instead of inline.

-Newman

?ukasz Wojni?owicz wrote:
> ---
>  include/data.php                   |    4 +
>  templates/pl/.cvsignore            |    2 +
>  templates/pl/announce.template     |    7 ++
>  templates/pl/download.template     |  187 ++++++++++++++++++++++++++++++++++++
>  templates/pl/download/deb.template |  102 ++++++++++++++++++++
>  templates/pl/home.template         |   90 +++++++++++++++++
>  templates/pl/interview.template    |    8 ++
>  templates/pl/irc.template          |   18 ++++
>  templates/pl/lang.template         |   37 +++++++
>  templates/pl/news.template         |   11 ++
>  templates/pl/search.template       |   26 +++++
>  11 files changed, 492 insertions(+), 0 deletions(-)
>  create mode 100644 templates/pl/.cvsignore
>  create mode 100644 templates/pl/announce.template
>  create mode 100644 templates/pl/download.template
>  create mode 100644 templates/pl/download/deb.template
>  create mode 100644 templates/pl/home.template
>  create mode 100644 templates/pl/interview.template
>  create mode 100644 templates/pl/irc.template
>  create mode 100644 templates/pl/lang.template
>  create mode 100644 templates/pl/news.template
>  create mode 100644 templates/pl/search.template
> 
> diff --git a/include/data.php b/include/data.php
> index a0e2f5f..c9a656b 100644
> --- a/include/data.php
> +++ b/include/data.php
> @@ -61,6 +61,10 @@ class data
>                                                 'name'   => 'Fran??ais',
>                                                 'change' => 'Changez la langue'
>                                                ),
> +                                 'pl' => array(
> +                                               'name'   => 'Polski',
> +                                               'change' => 'Zmie?? j??zyk'
> +                                              ),
>                                   'pt' => array(
>                                                 'name'   => 'Portugu??s',
>                                                 'change' => 'Mudar a l??ngua'
> diff --git a/templates/pl/.cvsignore b/templates/pl/.cvsignore
> new file mode 100644
> index 0000000..0ba44f6
> --- /dev/null
> +++ b/templates/pl/.cvsignore
> @@ -0,0 +1,2 @@
> +docs
> +winapi_stats.template
> diff --git a/templates/pl/announce.template b/templates/pl/announce.template
> new file mode 100644
> index 0000000..e8e15c0
> --- /dev/null
> +++ b/templates/pl/announce.template
> @@ -0,0 +1,7 @@
> +<!--TITLE:[Wine Announcement]-->
> +<!--BLURB:[Alexandre Julliard says...]-->
> +
> +<h1 class="title">Og??oszenie nowego Wine</h1>
> +
> +<!--EXEC:[announce]-->
> +
> diff --git a/templates/pl/download.template b/templates/pl/download.template
> new file mode 100644
> index 0000000..185dafa
> --- /dev/null
> +++ b/templates/pl/download.template
> @@ -0,0 +1,187 @@
> +<!--TITLE:[Wine Binary Downloads]-->
> +<!--BLURB:[Download Wine for your favorite OS here.]-->
> +
> +<h1 class="title">Pobieralnia Wine</h1>
> +
> +<h2 style="margin-bottom: 10px;"><a name="crossover"></a>Wine ze wsparciem technicznym</h2>
> +
> +<table border="0" cellpadding="5" cellspacing="1" bgcolor="#EFEFEF">
> +
> +  <tr>
> +    <td align="center" bgcolor="black"><b><font color="white" class="small">Produkt</font></b></td>
> +    <td align="center" bgcolor="black"><b><font color="white" class="small">Opis</font></b></td>
> +  </tr>
> +
> +  <tr>
> +    <td align="center" bgcolor="#ffffff">
> +      <a href="http://www.codeweavers.com/products/download_trial/">
> +        <img src="{$root}/images/distro/crossover.png" 
> +         width="50" height="50" alt="CrossOver Linux or Mac" border="0">
> +      </a>
> +    </td>
> +    <td align="left" bgcolor="#ffffff">
> +      <b><a href="http://www.codeweavers.com/products/">CrossOver</a></b>
> +      jest dobrze wyko?czon? wersj? dostarczan? przez <b><a href="http://www.codeweavers.com">CodeWeavers</a></b>.
> +      CrossOver usprawnia u?ywanie Wine, a CodeWeavers zapewnia	wspania?e wsparcie techniczne swoim u?ytkownikom. Wszystkie fundusze ze sprzeda?y CrossOvera s? przekazywane bezpo?rednio jako wsparcie dla programist?w pracuj?cych nad Wine. Tak wi?c CrossOver jest jest wspania?? drog? uzyskania wsparcia jak r?wnie? wspierania Projektu Wine. CodeWeavers dostarcza w pe?ni funkcjonaln? <b><a href="http://www.codeweavers.com/products/download_trial/">wersj? trialow? CrossOver</a></b>.
> +    </td>
> +  </tr>
> +</table>
> +
> +<p class="small" align="center">To poparcie jest g??wnym dowodem uznania wymaganym przez CodeWeavers w zamian za hostowanie strony Wine.</p>
> +  
> +
> +<h2 style="margin-bottom: 5px;"><a name="binary"></a>Pobieralnia binari?w Wine</h2>
> +
> +<table style="margin: 0 0 15px 0;" width="100%">
> +<tr>
> +  <td width="200">Najnowsze stabilne wydanie:</td><td>Wine&nbsp;{$config_stable_release}</td>
> +  <td rowspan="2" valign="top" style="padding-left: 20px; text-align: center;"><b>Zajrzyj do 
> +  <a href="http://wiki.winehq.org/HowTo">samouczka konfiguracji i instalacji</a> 
> +  , aby zaznajomi? si? z czynno?ciami po-instalacyjnymi.</b></td>
> +</tr>
> +<tr>
> +  <td>Najnowsze rozwojowe wydanie:</td><td>Wine&nbsp;{$config_master_release}</td>
> +</tr>
> +</table>
> +
> +<table border="0" cellpadding="5" cellspacing="1" bgcolor="#EFEFEF">
> +
> +  <tr>
> +    <td align="center" bgcolor="black"><b><font color="white" class="small">System</font></b></td>
> +    <td align="center" bgcolor="black"><b><font color="white" class="small">Notki</font></b></td>
> +    <td align="center" bgcolor="black"><b><font color="white" class="small">Opiekun</font></b></td>
> +  </tr>
> +  
> +  <tr bgcolor="#ffffff">
> +    <td align="center"><a href="{$root}/download/deb">
> +      <img src="{$root}/images/distro/ubuntu.png" width="50" height="50" alt="Ubuntu linux" border="0"></a>
> +    </td>
> +    <td> <b><a href="{$root}/download/deb">Ubuntu</a></b> 
> +     binare i ?r?d?owe paczki .deb dla Ubuntu Hardy (8.04), Intrepid (8.10), i Jaunty (9.04)
> +    <td><a href="mailto:scott at open-vote.org">Scott Ritchie</a></td>
> +  </tr>
> +
> +   <tr bgcolor="#ffffff">
> +    <td align=center><a href="{$root}/download/deblenny">
> +      <img src="{$root}/images/distro/debian.png" width="50" height="50" alt="Debian Linux" border="0"></a>
> +    </td>
> +    <td> <b><a href="{$root}/download/deblenny">Debian</a></b> 
> +     binarne paczki .deb dla Debian Lenny, Squeeze i Sid</td>
> +    <td><a href="mailto:repository at lamaresh.net">Maurilio Genovese</a><br><a href="mailto:ben.klein at lamaresh.net">Ben Klein</a></td>
> +  </tr>
> +
> +  <tr bgcolor="#ffffff">
> +    <td align="center"><a href="http://fedoraproject.org/wiki/AndreasBierfert/Wine">
> +      <img src="{$root}/images/distro/redhat.png" width="50" height="50" alt="RedHat Linux" border="0"></a>
> +    </td>
> +    <td> <b><a href="http://fedoraproject.org/wiki/AndreasBierfert/Wine">Red Hat / CentOS / Fedora</a></b>
> +        binarne i ?r?d?owe .rpmy dla Red Hat Enterprise Linux 4, 5; CentOS 4, 5; Fedora Core 5, 6; Fedora Linux 7 i kompatybilnych dystrybucji
> +        The wine meta package is available via <tt>yum</tt> 
> +        through the EPEL / Fedora Extras / Fedora repository by running <tt>$ yum install
> +        wine </tt>"
> +         </td>
> +    <td><a href="mailto:andreas.bierfert_at_lowlatency.de">Andreas Bierfert</a></td>
> +  </tr>
> +  
> +  <tr bgcolor="#ffffff">
> +    <td align="center"><a href="http://en.opensuse.org/Wine#Repositories">
> +      <img src="{$root}/images/distro/suse.png" width="50" height="50" alt="SUSE Linux" border="0"></a>
> +    </td>
> +    <td> <b><a href="http://en.opensuse.org/Wine#Repositories">SUSE</a></b>
> +         binarne i ?r?d?owe .rpmy i dzienne zrzuty RPM dla openSUSE 10.3, 11.0, 11.1 i SLES 9 i SLE 10.<br/>
> +         Starsze wersje paczek dost?pne <a href="http://sourceforge.net/project/showfiles.php?group_id=6241&amp;package_id=79444">SourceForge</a>
> +     </td>
> +    <td><a href="mailto:meissner at suse.de">Marcus Meissner</a></td>
> +  </tr>
> +  
> +  <tr bgcolor="#ffffff">
> +    <td align="center"><a href="http://sourceforge.net/project/showfiles.php?group_id=6241&amp;package_id=80066">
> +      <img src="{$root}/images/distro/mandriva.png" width="50" height="50" alt="Mandriva Linux" border="0"></a>
> +    </td>
> +    <td> <b><a href="http://sourceforge.net/project/showfiles.php?group_id=6241&amp;package_id=80066">Mandriva</a></b> 
> +         binarne .rpmy dla Mandriva Linux 2006, 2007, i 2008. Pobierz
> +	 paczk? 2008.1 je?eli twoja Mandriva to wydanie 2008.1 , np. 2008
> +	 Spring. Pobierz paczk? 2008.0 je?eli twoja Mandriva jest
> +	 pierwszym wydaniem z 2008 roku</td>
> +    <td><a href="mailto:marco at mandrivaclub.nl">Marco Meijer</a></td>
> +  </tr>
> +  
> +  <tr bgcolor="#ffffff">
> +    <td align="center"><a href="http://sourceforge.net/project/showfiles.php?group_id=6241&amp;package_id=6301">
> +      <img src="{$root}/images/distro/slackware.png" width="50" height="50" alt="Slackware linux" border="0"></a>
> +    </td>
> +    <td> <b><a href="http://sourceforge.net/project/showfiles.php?group_id=6241&amp;package_id=6301">Slackware</a></b>
> +         binarne .tgz dla Slackware 10.2</td>
> +    <td><a href="mailto:sadam at clemson.edu">Adam Schreiber</a></td>
> +  </tr>
> +
> +  <tr bgcolor="#ffffff">
> +    <td align="center"><a href="http://www.freshports.org/emulators/wine/">
> +      <img src="{$root}/images/distro/freebsd.png" width="50" height="54" alt="FreeBSD" border="0"></a>
> +    </td>
> +    <td> <b><a href="http://www.freshports.org/emulators/wine/">FreeBSD</a></b> 
> +         ?r?d?a dla FreeBSD 5.3 i p??niejszych</td>
> +    <td><a href="mailto:gerald at pfeifer.com">Gerald Pfeifer</a></td>
> +  </tr>
> +
> +  <tr bgcolor="#ffffff">
> +    <td align="center"><a href="http://www.pbidir.com/bt/search/?str=wine&search=Search">
> +      <img src="{$root}/images/distro/pcbsd.png" width="50" height="50" alt="FreeBSD" border="0"></a>
> +    </td>
> +    <td> <b><a href="http://www.pbidir.com/bt/search/?str=wine&search=Search">PC-BSD</a></b> 
> +         binarne paczki .pbi dla PC-BSD (system bazuj?cy na FreeBSD)</td>
> +    <td><a href="mailto:kris at pcbsd.com">Kris Moore</a></td>
> +  </tr>
> +
> +</table>
> +
> +
> +<h2 style="margin-bottom: 10px;"><a name="binary"></a>Aplikacje os?b trzecich</h2>
> +
> +<p>Czasami pewne modyfikacje Wine mog? sprawi?,
> +?e aplikacja b?dzie dzia?a?, ale z pewnych powod?w zmiany te nie
> +mog? by? wcielone do Wine. Stworzono r??ne aplikacje (tzw.
> +aplikacje os?b trzecich), aby pom?c przezwyci??y? niedobory w
> +Wine. Aplikacje te s? ca?kowicie niewspierane przez programist?w
> +Wine, jednak?e mog? ci si? przyda?. Aby dowiedzie? si? wi?cej,
> +odwied? <a href="http://wiki.winehq.org/ThirdPartyApplications">nasz?
> +stron? wiki</a> w poszukiwaniu aplikacji os?b trzecich.</p>
> +
> +<h2><a name="source"></a>Pobieralnia ?r?de? Wine</h2>
> +
> +<table border="0" cellpadding="5" cellspacing="1" bgcolor="#EFEFEF">
> +
> +  <tr>
> +    <td align="center" bgcolor="black"><b><font color="white" class="small">Po?o?enie</font></b></td>
> +    <td align="center" bgcolor="black"><b><font color="white" class="small">Opis</font></b></td>
> +  </tr>
> +
> +  <tr bgcolor="#ffffff">
> +    <td> <a href="http://sourceforge.net/project/showfiles.php?group_id=6241&amp;package_id=77449" target="_blank">sourceforge.net</a></td>
> +    <td> Nasza oficjalna strona ?r?de?. </td>
> +  </tr>
> +
> +  <tr bgcolor="#ffffff">
> +    <td> <a href="http://wiki.winehq.org/GitWine">source.winehq.org/git</a> </td>
> +    <td> Do najnowszych wyda? rozwojowych. </td>
> +  </tr>
> +  
> +  <tr bgcolor="#ffffff">
> +    <td><a href="http://ibiblio.org/pub/linux/system/emulators/wine/">ibiblio.org</a></td>
> +    <td> Alternatywna strona z oficjalnymi ?r?d?ami i dokumentacj?. </td>
> +  </tr>
> +  
> +</table>
> +
> +<div style="margin: 10px; padding: 5px; border: 1px solid #C0C0C0; background-color: #F0F0F0;"><b>Notka:</b> Zobacz <a href="http://wiki.winehq.org/Recommended_Packages">zalecane paczki</a> aby uzyska? pomoc przy konfiguracji i kompilacji Wine.</div>
> +
> +
> +<h2><a name="link2us"></a>Link do nas</h2>
> +
> +<p>
> +  <a href="http://www.winehq.org/download" target="_blank"><img
> +  src="{$root}/images/download_wine.png" border="1" width="88" height="31" vspace="0" hspace="5" align="left"
> +  alt="Download Wine"></a>
> +  U?yj tego obrazka je?eli chcesz utworzy? dowi?zanie do naszej pobieralni.
> +</p>
> +
> diff --git a/templates/pl/download/deb.template b/templates/pl/download/deb.template
> new file mode 100644
> index 0000000..ae03788
> --- /dev/null
> +++ b/templates/pl/download/deb.template
> @@ -0,0 +1,102 @@
> +<!--TITLE:[Wine for Debian based distributions]-->
> +<!--BLURB:[Wine for Debian based distributions]-->
> +
> +<h1 class="title"><a href="http://www.ubuntu.com/" target="_new"><img src="{$root}/images/distro/ubuntu.png" width="50" height="50" alt="Ubuntu Logo" border="0"></a>
> +Wine dla Ubuntu i pochodnych Ubuntu
> +<a href="http://www.debian.org/" target="_new"><img src="{$root}/images/distro/ubuntu.png" width="50" height="50" alt="Ubuntu Logo" border="0"></a></h1>
> +
> +<p>Ubuntu i inne dystrybucje bazuj?ce na Debianie
> +u?ywaj? specjalnego narz?dzia zwanego APT do zarz?dzania
> +paczkami. APT jest zdolne automagicznie zainstalowa? wszystkie
> +potrzebne zale?no?ci dla paczki z programem, jak r?wnie?
> +utrzymywa? zawsze najnowsz? wersj? paczki, poprzez przeszukiwanie
> +czego?, co jest znane pod nazw? repozytoria APT. Ubuntu ma swoje
> +w?asne repozytorium program?w, kt?re zawiera w sobie Wine,
> +jednak?e my utrzymujemy nasze w?asne repozytorium najnowszych
> +dost?pnych paczek beta, kt?re mo?na tutaj pobra?.</p>
> +
> +<h2>Uwaga: To s? paczki beta</h2>
> +
> +<p><i>Te paczki s? paczkami beta. Oznacza to, ?e
> +okresowo mog? cierpie? z powodu 
> +<a href="http://wiki.winehq.org/Regression">regresji</a>, a aktualizacja do nich mo?e popsu? funkcjonalno?? Wine. Je?eli w
> +twoim przypadku ostatnie stabilne wydanie Wine (aktualnie Wine 1.0.1)
> +dzia?a, to nie musisz u?ywa? paczek beta.</i></p>
> +
> +<h2>Dodawanie repozytorium APT WineHQ:</h2>
> +
> +<p>Otw?rz ?r?d?a oprogramowania z menu 
> +<b>System->Administracja->?r?d?a oprogramowania</b>.  Nast?pnie przejd? na zak?adk? <b>Oprogramowanie os?b trzecich</b> i kliknij <b>Dodaj...</b></p>
> +
> +<img src="{$root}/images/distro/ubuntu-softwaresources1.png" width="531" height="509" alt="System->Administration->Software Sources->Third Party Software" border="0">
> +
> +<p>Nast?pnie, <b>wklej jedn? z poni?szych linijek</b> zale?nie od wersji twojego systemu.</p>
> +
> +<p><b>Dla Ubuntu Jaunty (9.04):</b><br>
> +<i>deb http://wine.budgetdedicated.com/apt jaunty main #WineHQ - Ubuntu 9.04 "Jaunty Jackalope"</i></p>
> +<p><b>Dla Ubuntu Intrepid (8.10):</b><br>
> +<i>deb http://wine.budgetdedicated.com/apt intrepid main #WineHQ - Ubuntu 8.10 "Intrepid Ibex"</i></p>
> +<p><b>Dla Ubuntu Hardy (8.04):</b><br>
> +<i>deb http://wine.budgetdedicated.com/apt hardy main #WineHQ - Ubuntu 8.04 "Hardy Heron"</i></p>
> +
> +<h2>Przyznanie zaufania repozytorium APT WineHQ i instalowanie Wine:</h2>
> +
> +<p>Po dodaniu repozytorium, potrzebujesz r?wnie? doda?
> +klucz do tego repozytorium do twojej systemowej listy zaufanych kluczy.</p>
> +
> +<p><b><a href="http://wine.budgetdedicated.com/apt/Scott%20Ritchie.gpg">Pobierz
> +i zapisz klucz Scotta Ritchiego</a></b> (prawy przycisk myszy -> zapisz jako) na pulpicie. Nast?pnie przejd? na
> +zak?adk? <b>Uwierzytelnianie</b> , kliknij <b>Zaimportuj plik klucza...</b>, i wybierz plik klucza, kt?rego w?a?nie zapisa?e? (<i>Scott Ritchie.gpg</i>). Mo?esz usun?? ten plik po wykonaniu tego kroku.</p>
> +
> +<img src="{$root}/images/distro/ubuntu-softwaresources2.png" width="531" height="509" alt="System->Administration->Software Sources->Authentication" border="0">
> +
> +<p>Kliknij zamknij, aby zako?czy?, a potem <b>uaktualnij dane o paczkach</b> w
> +momencie pytania. Je?eli masz zainstalowane Wine to systemowy
> +menad?er aktualizacji poinformuje ci? o najnowszym wydaniu Wine
> +beta i zapyta ci? o aktualizacj?. Je?eli nie instalowa?e?
> +jeszcze Wine, to przejd? do <b>Aplikacje->Dodaj/usu? aplikacje</b> i poszukaj Wine lub po prostu <a href="apt://wine">kliknij na tego
> +linka</a>.</p>
> +
> +<h2>Aktualizacja do nowej wersji Ubuntu</h2>
> +
> +<p>Je?eli aktualizujesz ca?y system np. przechodzisz z
> +Ubuntu 8.10 na 9.04, to b?dzie konieczny powr?t do tej strony i
> +dodanie repozytorium do nowej wersji systemu. Wbudowany menad?er
> +aktualizacji nie zmieni automatycznie repozytorium Wine.</p>
> +
> +<h2>Starsze paczki .deb</h2>
> +
> +<p>Jako ?e repozytorium APT mo?e przechowywa?
> +jedynie najnowsze paczki, tak wi?c starsze wersje paczek s?
> +dost?pne w 
> +<a href="http://wine.budgetdedicated.com/archive/index.html">archiwum WineHQ paczek .deb</a>.</p>
> +
> +<p>Mo?esz zainstalowa? pobrane paczki klikaj?c na nie dwukrotnie.</p>
> +
> +<h2>Alternatywne komendy wiersza polece? do zainstalowania Wine:</h2>
> +
> +<p>Mo?liwe jest tak?e dodanie repozytori?w Wine i
> +zainstalowanie go z wiersza polece?. Jest to u?yteczne w przypadku
> +Kubuntu, Xubuntu, i innych pochodnych Ubuntu.</p>
> +
> +<p>Najpierw otw?rz okno terminalu <b>Aplikacje->Akcesoria->Terminal</b> . Nast?pnie dodaj klucz
> +repozytorium do systemowej listy zaufanych kluczy APT przez wklejenie
> +nast?puj?cej linijki do twojego terminalu:</p>
> +
> +<p><i>wget -q http://wine.budgetdedicated.com/apt/387EE263.gpg -O- | sudo apt-key add -</i></p>
> +
> +<p>Nast?pnie, dodaj repozytorium do systemowej listy ?r?de? APT:</p>
> +
> +<p><b>Dla Ubuntu Jaunty (9.04):</b><br>
> +<i>sudo wget http://wine.budgetdedicated.com/apt/sources.list.d/jaunty.list -O /etc/apt/sources.list.d/winehq.list</i></p>
> +<p><b>Dla Ubuntu Intrepid (8.10):</b><br>
> +<i>sudo wget http://wine.budgetdedicated.com/apt/sources.list.d/intrepid.list -O /etc/apt/sources.list.d/winehq.list</i></p>
> +<p><b>Dla Ubuntu Hardy (8.04):</b><br>
> +<i>sudo wget http://wine.budgetdedicated.com/apt/sources.list.d/hardy.list -O /etc/apt/sources.list.d/winehq.list</i></p>
> +
> +<p>Nast?pnie zaktualizuj informacje o paczkach APT wpisuj?c '<b>sudo apt-get 
> +update</b>'. . Teraz mo?esz zainstalowa? Wine zwyczajnie lub wpisuj?c '<b>sudo apt-get 
> +install wine</b>' w terminalu.</p>
> +
> +<br>
> +<p><i>Bardzo szybki i niezawodny webhosting dla repozytori?w APT jest ?askawie dostarczany przez <a href="http://www.budgetdedicated.com/">budgetdedicated.com</a>.</i></p>
> diff --git a/templates/pl/home.template b/templates/pl/home.template
> new file mode 100644
> index 0000000..5687919
> --- /dev/null
> +++ b/templates/pl/home.template
> @@ -0,0 +1,90 @@
> +<!--TITLE:[Run Windows applications on Linux, BSD and Mac OS X]-->
> +<!--BLURB:[Run Windows applications on Linux, BSD and Mac OS X.]-->
> +<!--STYLE:[content_nobox]-->
> +
> +<div id="main_left">
> +
> +  <div class="rbox">
> +  <b class="rtop"><b class="r1"></b><b class="r2"></b><b class="r3"></b><b class="r4"></b></b>
> +    <div class="content" style="padding: 25px 10px 10px 60px; height: 445px; overflow: auto;">
> +        <ul class="winehq_menu">
> +        
> +            <li class="info" onClick="document.location='{$root}/about/';">
> +            <div class="title"><a href="{$root}/about/">Informacje</a></div>
> +            <div class="subtitle">Przegl?d funkcji Wine.</div>
> +            </li>
> +
> +            <li class="dl" onClick="document.location='{$root}/download/';">
> +            <div class="title"><a href="{$root}/download/">Pobieralnia</a></div>
> +            <div class="subtitle">?ci?gnij Wine teraz!</div>
> +            </li>
> +
> +            <li class="help" onClick="document.location='{$root}/help/';">
> +            <div class="title"><a href="{$root}/help/">Pomoc!</a></div>
> +            <div class="subtitle">Dokumentacja, Wsparcie, i Wiki.</div>
> +            </li>
> +
> +            <li class="devel" onClick="document.location='{$root}/devel/';">
> +            <div class="title"><a href="{$root}/devel/">Rozw?j</a></div>
> +            <div class="subtitle">?r?d?a Wine, Szukanie Robak?w, itp.</div>
> +            </li>
> +
> +            <li class="donate" onClick="document.donateForm.submit();">
> +            <form action="https://www.paypal.com/cgi-bin/webscr" method="post" name="donateForm" style="margin: 0; padding: 0;">
> +            <div class="title"><a href="javascript:document.donateForm.submit();">Darowizny</a></div>
> +            <input type="hidden" name="cmd" value="_xclick">
> +            <input type="hidden" name="business" value="donate at winehq.org">
> +            <input type="hidden" name="item_name" value="Wine donation">
> +            </form>
> +            <div class="subtitle">Ofiary dla Wine.</div>
> +            </li>
> +
> +        </ul>
> +    </div>
> +  <b class="rbottom"><b class="r4"></b><b class="r3"></b><b class="r2"></b><b class="r1"></b></b>
> +  </div>
> +
> +
> +</div>
> +<div id="main_right">
> +
> +  <div class="rbox">
> +  <b class="rtop"><b class="r1"></b><b class="r2"></b><b class="r3"></b><b class="r4"></b></b>
> +    <div class="content" style="padding: 5px 10px 5px 10px; height: 85px; overflow: auto;">
> +
> +        <h3 class="title" style="margin: 0;">Najnowsze wydania</h3>
> +            <table style="margin: 7px 0 0 15px; border-spacing: 0; border: 0;">
> +            <tr><td>Stabilne:</td>
> +            <td style="padding-left: 15px; padding-bottom: 2px;">
> +                <b><a href="{$root}/announce/{$config_stable_release}">Wine&nbsp;{$config_stable_release}</a></b>
> +                <span class="small">
> +                  (<a href="http://source.winehq.org/git/wine.git?a=shortlog;h=refs/tags/wine-{$config_stable_release}">zmiany</a>)
> +                </span>
> +            </td></tr>
> +            <tr><td>Rozwojowe:</td>
> +            <td style="padding-left: 15px;">
> +                <b><a href="{$root}/announce/{$config_master_release}">Wine&nbsp;{$config_master_release}</a></b>
> +                <span class="small">
> +                  (<a href="http://source.winehq.org/git/wine.git?a=shortlog;h=refs/tags/wine-{$config_master_release}">zmiany</a>)
> +                </span>
> +            </td></tr>
> +            </table>
> +    </div>
> +  <b class="rbottom"><b class="r4"></b><b class="r3"></b><b class="r2"></b><b class="r1"></b></b>
> +  </div>
> +
> +  <div class="rbox" style="margin-top: 15px;">
> +  <b class="rtop"><b class="r1"></b><b class="r2"></b><b class="r3"></b><b class="r4"></b></b>
> +    <div class="content" style="padding: 10px; height: 340px; overflow: auto;">
> +
> +        <h3 class="title"><a href="{$root}/news/">Aktualno?ci</a></h3>
> +
> +        <!--EXEC:[news?n=10]-->
> +
> +        <p><a href="{$root}/news/">wi?cej aktualno?ci...</a></p>
> +    </div>
> +  <b class="rbottom"><b class="r4"></b><b class="r3"></b><b class="r2"></b><b class="r1"></b></b>
> +  </div>
> +
> +</div>
> +
> diff --git a/templates/pl/interview.template b/templates/pl/interview.template
> new file mode 100644
> index 0000000..dc322f4
> --- /dev/null
> +++ b/templates/pl/interview.template
> @@ -0,0 +1,8 @@
> +<!--TITLE:[Interviews]-->
> +<!--BLURB:[We have chats with members of the Wine community.]-->
> +
> +<h1 class="title">Wywiady</h1>
> +
> +<!--EXEC:[wwn?mode=interviews]-->
> +
> +
> diff --git a/templates/pl/irc.template b/templates/pl/irc.template
> new file mode 100644
> index 0000000..e116f37
> --- /dev/null
> +++ b/templates/pl/irc.template
> @@ -0,0 +1,18 @@
> +<!--TITLE:[Live Support Chat]-->
> +<!--BLURB:[Live Support Chat]-->
> +
> +<h1 class="title">Wsparcie na ?ywo</h1>
> +
> +<p><a href="http://www.freenode.net">Freenode.net</a> hostuje kana? IRC dla Wine. Mo?esz wej?? do pokoju rozm?w
> +u?ywaj?c programu IRC takiego jak np.
> +<a href="http://www.xchat.org/">X-Chat</a>. U?yj ustawie? wymienionych poni?ej.</p>
> +
> +<blockquote>
> +    <b>Serwer:</b> irc.freenode.net<br>
> +    <b>Port:</b> 6667<br>
> +    <b>Kana?:</b> #winehq<br>
> +</blockquote>
> +
> +<p>Je?eli u?ywasz Mozilli lub innej przegl?darki kt?ra wspiera <b>u</b>e<b>r</b>e<b>l</b>e IRC, to mo?esz do??czy? do rozmowy klikaj?c na <a href="irc://irc.freenode.net/#winehq">irc://irc.freenode.net/#winehq</a>.</p>
> +
> +<p>&nbsp;</p>
> diff --git a/templates/pl/lang.template b/templates/pl/lang.template
> new file mode 100644
> index 0000000..2c16bb2
> --- /dev/null
> +++ b/templates/pl/lang.template
> @@ -0,0 +1,37 @@
> +<!--TITLE:[WineHQ - Pick your Language]-->
> +<!--BLURB:[WineHQ is a multi-lingual website]-->
> +
> +<h1 class="title">{$langChange}</h1>
> +
> +<!--EXEC:[language]-->
> +
> +<p><b>Aktualny jezyk: </b> {$langCur}</p>
> +
> +<ul style="list-style: none; margin-left: 20px; padding: 0;">
> +    
> +    <li style="background-image: url('{$root}/images/lang/en.png'); background-repeat: no-repeat; padding: 0 0 10px 40px;">
> +        <a href="{$root}/lang/en" title="English">English</a> <small>(Angielski)</small>
> +    </li></a>
> +
> +    <li style="background-image: url('{$root}/images/lang/de.png'); background-repeat: no-repeat; padding: 0 0 10px 40px;">
> +        <a href="{$root}/lang/de" title="Deutsch">Deutsch</a> <small>(Niemiecki)</small>
> +    </li></a>
> +
> +    <li style="background-image: url('{$root}/images/lang/es.png'); background-repeat: no-repeat; padding: 0 0 10px 40px;">
> +        <a href="{$root}/lang/es" title="Espa??ol">Espa??ol</a> <small>(Hiszpanski)</small>
> +    </li>
> +
> +    <li style="background-image: url('{$root}/images/lang/fr.png'); background-repeat: no-repeat; padding: 0 0 10px 40px;">
> +        <a href="{$root}/lang/fr" title="Fran??ais">Fran??ais</a> <small>(Francuski)</small>
> +    </li>
> +
> +    <li style="background-image: url('{$root}/images/lang/fr.png'); background-repeat: no-repeat; padding: 0 0 10px 40px;">
> +        <a href="{$root}/lang/fr" title="Fran??ais">Polski</a>
> +    </li>
> +
> +    <li style="background-image: url('{$root}/images/lang/pt.png'); background-repeat: no-repeat; padding: 0 0 10px 40px;">
> +        <a href="{$root}/lang/pt" title="Portugu??s">Portugu??s</a> <small>(Portugalski)</small>
> +    </li>
> +
> +</ul>
> +
> diff --git a/templates/pl/news.template b/templates/pl/news.template
> new file mode 100644
> index 0000000..ce5c53d
> --- /dev/null
> +++ b/templates/pl/news.template
> @@ -0,0 +1,11 @@
> +<!--TITLE:[News]-->
> +<!--BLURB:[All the latest news from the Wine community.]-->
> +
> +<h1 class="title">Aktualno??ci</h1>
> +
> +<!--EXEC:[news]-->
> +
> +<ul class="rss">
> +    <li><a href="{$root}/news/rss/">WineHQ News RSS Feed</a></li>
> +</ul>
> +
> diff --git a/templates/pl/search.template b/templates/pl/search.template
> new file mode 100644
> index 0000000..c44736b
> --- /dev/null
> +++ b/templates/pl/search.template
> @@ -0,0 +1,26 @@
> +<!--TITLE:[Search Results]-->
> +<!--BLURB:[Searching all the sites of winehq.org...]-->
> +
> +<h1 class="title" style="margin-bottom: 10px;">Wyniki wyszukiwania</h1>
> +
> +<div id="cse-search-results"></div>
> +<script type="text/javascript">
> +  $.gglclientCoords = function() {
> +     var dimensions = {width: 0, height: 0};
> +     if (document.documentElement) {
> +         dimensions.width = document.documentElement.offsetWidth;
> +         dimensions.height = document.documentElement.offsetHeight;
> +     } else if (window.innerWidth && window.innerHeight) {
> +         dimensions.width = window.innerWidth;
> +         dimensions.height = window.innerHeight;
> +     }
> +     return dimensions;
> +  }
> +  var googleSearchIframeName = "cse-search-results";
> +  var googleSearchFormName = "cse-search-box";
> +  var googleSearchFrameWidth = ($.gglclientCoords().width - 250);
> +  var googleSearchDomain = "www.google.com";
> +  var googleSearchPath = "/cse";
> +</script>
> +<script type="text/javascript" src="http://www.google.com/afsonline/show_afs_search.js"></script>
> +
> 
> 
> ------------------------------------------------------------------------
> 
> 


From austinenglish at gmail.com  Mon May  4 14:43:37 2009
From: austinenglish at gmail.com (Austin English)
Date: Mon, 4 May 2009 14:43:37 -0500
Subject: crypt32/tests: Print a better error if no Verisign root 
	certificates available.
In-Reply-To: <3a768c550905041019p125ddaaep64b43d2168e9f90@mail.gmail.com>
References: <3a768c550905040858i43de2309k3d9935cb928de845@mail.gmail.com>
	<3a768c550905040918x3771e5f1j412e5baf344fb3bc@mail.gmail.com>
	<b6bb06270905040944y7f8fde11gf1ac7ea0aa941cd5@mail.gmail.com>
	<3a768c550905040954n172e7b12gfcddef3be0bfafc4@mail.gmail.com>
	<b6bb06270905041009h605e2665if05ce30bb6d0df8c@mail.gmail.com>
	<3a768c550905041019p125ddaaep64b43d2168e9f90@mail.gmail.com>
Message-ID: <b6bb06270905041243v2d7c6f8fwd158746feead7966@mail.gmail.com>

On Mon, May 4, 2009 at 12:19 PM, Juan Lang <juan.lang at gmail.com> wrote:
>> We have a similar warning already:
>> http://source.winehq.org/git/wine.git/?a=blob;f=dlls/ws2_32/tests/sock.c#l2454
>
> That warning is appropriate, because it's testing IPv6, so the warning
> applies in all cases. ?The reason I'm objecting in this case is that
> the warning is printed for any failure, no matter which chain is being
> checked, yet this condition can only occur on one of the 15 or so
> chains that are checked. ?Like I said, I think it's a special case.

How about an if ( got->dwErrorStatus = CERT_TRUST_IS_UNTRUSTED_ROOT ) ?

-- 
-Austin


From austinenglish at gmail.com  Mon May  4 16:55:08 2009
From: austinenglish at gmail.com (Austin English)
Date: Mon, 4 May 2009 16:55:08 -0500
Subject: crypt32/tests: Print a better error if no Verisign root 
	certificates available.
In-Reply-To: <b6bb06270905041243v2d7c6f8fwd158746feead7966@mail.gmail.com>
References: <3a768c550905040858i43de2309k3d9935cb928de845@mail.gmail.com>
	<3a768c550905040918x3771e5f1j412e5baf344fb3bc@mail.gmail.com>
	<b6bb06270905040944y7f8fde11gf1ac7ea0aa941cd5@mail.gmail.com>
	<3a768c550905040954n172e7b12gfcddef3be0bfafc4@mail.gmail.com>
	<b6bb06270905041009h605e2665if05ce30bb6d0df8c@mail.gmail.com>
	<3a768c550905041019p125ddaaep64b43d2168e9f90@mail.gmail.com>
	<b6bb06270905041243v2d7c6f8fwd158746feead7966@mail.gmail.com>
Message-ID: <b6bb06270905041455i74f89357me9e9153ed18982d8@mail.gmail.com>

On Mon, May 4, 2009 at 2:43 PM, Austin English <austinenglish at gmail.com> wrote:
> On Mon, May 4, 2009 at 12:19 PM, Juan Lang <juan.lang at gmail.com> wrote:
>>> We have a similar warning already:
>>> http://source.winehq.org/git/wine.git/?a=blob;f=dlls/ws2_32/tests/sock.c#l2454
>>
>> That warning is appropriate, because it's testing IPv6, so the warning
>> applies in all cases. ?The reason I'm objecting in this case is that
>> the warning is printed for any failure, no matter which chain is being
>> checked, yet this condition can only occur on one of the 15 or so
>> chains that are checked. ?Like I said, I think it's a special case.
>
> How about an if ( got->dwErrorStatus = CERT_TRUST_IS_UNTRUSTED_ROOT ) ?
>
> --
> -Austin
>

Alternatively, how about printing an error in crypt32 itself if no
trusted root certificates are found? That way applications get the
same benefit, not just the test suite? E.g., how we do for ntlm_auth
in secur32?

-- 
-Austin


From juan.lang at gmail.com  Mon May  4 16:57:43 2009
From: juan.lang at gmail.com (Juan Lang)
Date: Mon, 4 May 2009 14:57:43 -0700
Subject: crypt32/tests: Print a better error if no Verisign root 
	certificates available.
In-Reply-To: <b6bb06270905041455i74f89357me9e9153ed18982d8@mail.gmail.com>
References: <3a768c550905040858i43de2309k3d9935cb928de845@mail.gmail.com>
	<3a768c550905040918x3771e5f1j412e5baf344fb3bc@mail.gmail.com>
	<b6bb06270905040944y7f8fde11gf1ac7ea0aa941cd5@mail.gmail.com>
	<3a768c550905040954n172e7b12gfcddef3be0bfafc4@mail.gmail.com>
	<b6bb06270905041009h605e2665if05ce30bb6d0df8c@mail.gmail.com>
	<3a768c550905041019p125ddaaep64b43d2168e9f90@mail.gmail.com>
	<b6bb06270905041243v2d7c6f8fwd158746feead7966@mail.gmail.com>
	<b6bb06270905041455i74f89357me9e9153ed18982d8@mail.gmail.com>
Message-ID: <3a768c550905041457m6c955094k6f5634d12ccfd3c8@mail.gmail.com>

> Alternatively, how about printing an error in crypt32 itself if no
> trusted root certificates are found? That way applications get the
> same benefit, not just the test suite? E.g., how we do for ntlm_auth
> in secur32?

That sounds like a good approach.
--Juan


From austinenglish at gmail.com  Mon May  4 18:42:44 2009
From: austinenglish at gmail.com (Austin English)
Date: Mon, 4 May 2009 18:42:44 -0500
Subject: crypt32/tests: Print a better error if no Verisign root 
	certificates available.
In-Reply-To: <3a768c550905041457m6c955094k6f5634d12ccfd3c8@mail.gmail.com>
References: <3a768c550905040858i43de2309k3d9935cb928de845@mail.gmail.com>
	<3a768c550905040918x3771e5f1j412e5baf344fb3bc@mail.gmail.com>
	<b6bb06270905040944y7f8fde11gf1ac7ea0aa941cd5@mail.gmail.com>
	<3a768c550905040954n172e7b12gfcddef3be0bfafc4@mail.gmail.com>
	<b6bb06270905041009h605e2665if05ce30bb6d0df8c@mail.gmail.com>
	<3a768c550905041019p125ddaaep64b43d2168e9f90@mail.gmail.com>
	<b6bb06270905041243v2d7c6f8fwd158746feead7966@mail.gmail.com>
	<b6bb06270905041455i74f89357me9e9153ed18982d8@mail.gmail.com>
	<3a768c550905041457m6c955094k6f5634d12ccfd3c8@mail.gmail.com>
Message-ID: <b6bb06270905041642j62a403c3kd2d4820c6f7e7949@mail.gmail.com>

On Mon, May 4, 2009 at 4:57 PM, Juan Lang <juan.lang at gmail.com> wrote:
>> Alternatively, how about printing an error in crypt32 itself if no
>> trusted root certificates are found? That way applications get the
>> same benefit, not just the test suite? E.g., how we do for ntlm_auth
>> in secur32?
>
> That sounds like a good approach.
> --Juan
>

I'm a bit busy with other things, so time's a bit short. Would you
mind pointing me in the right direction for the best approach for
this? Or perhaps send a patch? <g>

-- 
-Austin


From chris at basementcode.com  Mon May  4 20:27:27 2009
From: chris at basementcode.com (Christopher Harvey)
Date: Mon, 04 May 2009 21:27:27 -0400
Subject: can't find winedbg
Message-ID: <49FF95FF.8040302@basementcode.com>

I just built wine out of git.
Ran this:
wine-git $ find . -name winedbg
./programs/winedbg


notice there is no winedbg program. The output there is a folder only.
Where is the winedbg program within the git tree?


From mike.kaplinskiy at gmail.com  Mon May  4 20:34:01 2009
From: mike.kaplinskiy at gmail.com (Mike Kaplinskiy)
Date: Mon, 4 May 2009 21:34:01 -0400
Subject: can't find winedbg
In-Reply-To: <49FF95FF.8040302@basementcode.com>
References: <49FF95FF.8040302@basementcode.com>
Message-ID: <4d8b5aa80905041834g5edae926q86c8efc370d03d54@mail.gmail.com>

On Mon, May 4, 2009 at 9:27 PM, Christopher Harvey
<chris at basementcode.com> wrote:
> I just built wine out of git.
> Ran this:
> wine-git $ find . -name winedbg
> ./programs/winedbg
>
>
> notice there is no winedbg program. The output there is a folder only.
> Where is the winedbg program within the git tree?
>
>
>

I'm pretty sure it's inside that folder and it itself is a wine
executable, so you would run it like:

./wine ./programs/winedbg/winedbg.exe.so

Mike.


From shacklein at gmail.com  Mon May  4 20:44:13 2009
From: shacklein at gmail.com (Ben Klein)
Date: Tue, 5 May 2009 11:44:13 +1000
Subject: can't find winedbg
In-Reply-To: <4d8b5aa80905041834g5edae926q86c8efc370d03d54@mail.gmail.com>
References: <49FF95FF.8040302@basementcode.com>
	<4d8b5aa80905041834g5edae926q86c8efc370d03d54@mail.gmail.com>
Message-ID: <d7e40be30905041844m6c1349a5t4ea915123cd797d7@mail.gmail.com>

2009/5/5 Mike Kaplinskiy <mike.kaplinskiy at gmail.com>:
> On Mon, May 4, 2009 at 9:27 PM, Christopher Harvey
> <chris at basementcode.com> wrote:
>> I just built wine out of git.
>> Ran this:
>> wine-git $ find . -name winedbg
>> ./programs/winedbg
>>
>> notice there is no winedbg program. The output there is a folder only.
>> Where is the winedbg program within the git tree?
>>
> I'm pretty sure it's inside that folder and it itself is a wine
> executable, so you would run it like:
>
> ./wine ./programs/winedbg/winedbg.exe.so

Indeed. This will yield the results you want:
$ find . -type f -name 'winedbg*'


From chris at basementcode.com  Mon May  4 20:47:29 2009
From: chris at basementcode.com (Christopher Harvey)
Date: Mon, 04 May 2009 21:47:29 -0400
Subject: can't find winedbg
In-Reply-To: <d7e40be30905041844m6c1349a5t4ea915123cd797d7@mail.gmail.com>
References: <49FF95FF.8040302@basementcode.com>
	<4d8b5aa80905041834g5edae926q86c8efc370d03d54@mail.gmail.com>
	<d7e40be30905041844m6c1349a5t4ea915123cd797d7@mail.gmail.com>
Message-ID: <49FF9AB1.6080803@basementcode.com>

Ben Klein wrote:
> 2009/5/5 Mike Kaplinskiy <mike.kaplinskiy at gmail.com>:
>   
>> On Mon, May 4, 2009 at 9:27 PM, Christopher Harvey
>> <chris at basementcode.com> wrote:
>>     
>>> I just built wine out of git.
>>> Ran this:
>>> wine-git $ find . -name winedbg
>>> ./programs/winedbg
>>>
>>> notice there is no winedbg program. The output there is a folder only.
>>> Where is the winedbg program within the git tree?
>>>
>>>       
>> I'm pretty sure it's inside that folder and it itself is a wine
>> executable, so you would run it like:
>>
>> ./wine ./programs/winedbg/winedbg.exe.so
>>     
>
> Indeed. This will yield the results you want:
> $ find . -type f -name 'winedbg*'
>
>   
Got it going. thanks. I did a bit of wine dev a few years back. I don't
remember it being like this. Maybe this should be noted on the
developers cheat sheet and manual, if it isn't already.


From juan.lang at gmail.com  Mon May  4 20:51:26 2009
From: juan.lang at gmail.com (Juan Lang)
Date: Mon, 4 May 2009 18:51:26 -0700
Subject: crypt32/tests: Print a better error if no Verisign root 
	certificates available.
In-Reply-To: <b6bb06270905041642j62a403c3kd2d4820c6f7e7949@mail.gmail.com>
References: <3a768c550905040858i43de2309k3d9935cb928de845@mail.gmail.com>
	<3a768c550905040918x3771e5f1j412e5baf344fb3bc@mail.gmail.com>
	<b6bb06270905040944y7f8fde11gf1ac7ea0aa941cd5@mail.gmail.com>
	<3a768c550905040954n172e7b12gfcddef3be0bfafc4@mail.gmail.com>
	<b6bb06270905041009h605e2665if05ce30bb6d0df8c@mail.gmail.com>
	<3a768c550905041019p125ddaaep64b43d2168e9f90@mail.gmail.com>
	<b6bb06270905041243v2d7c6f8fwd158746feead7966@mail.gmail.com>
	<b6bb06270905041455i74f89357me9e9153ed18982d8@mail.gmail.com>
	<3a768c550905041457m6c955094k6f5634d12ccfd3c8@mail.gmail.com>
	<b6bb06270905041642j62a403c3kd2d4820c6f7e7949@mail.gmail.com>
Message-ID: <3a768c550905041851k60b322a6h18dd42b872130277@mail.gmail.com>

> I'm a bit busy with other things, so time's a bit short. Would you
> mind pointing me in the right direction for the best approach for
> this? Or perhaps send a patch? <g>

Sure.  How's the attached look to you?  Should it be an ERR instead?
What text would you find more helpful?
--Juan
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0001-Warn-if-no-trusted-root-certificates-are-found.patch
Type: text/x-patch
Size: 1239 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090504/20a09437/attachment.bin>

From austinenglish at gmail.com  Mon May  4 20:56:45 2009
From: austinenglish at gmail.com (Austin English)
Date: Mon, 4 May 2009 20:56:45 -0500
Subject: crypt32/tests: Print a better error if no Verisign root 
	certificates available.
In-Reply-To: <3a768c550905041851k60b322a6h18dd42b872130277@mail.gmail.com>
References: <3a768c550905040858i43de2309k3d9935cb928de845@mail.gmail.com>
	<b6bb06270905040944y7f8fde11gf1ac7ea0aa941cd5@mail.gmail.com>
	<3a768c550905040954n172e7b12gfcddef3be0bfafc4@mail.gmail.com>
	<b6bb06270905041009h605e2665if05ce30bb6d0df8c@mail.gmail.com>
	<3a768c550905041019p125ddaaep64b43d2168e9f90@mail.gmail.com>
	<b6bb06270905041243v2d7c6f8fwd158746feead7966@mail.gmail.com>
	<b6bb06270905041455i74f89357me9e9153ed18982d8@mail.gmail.com>
	<3a768c550905041457m6c955094k6f5634d12ccfd3c8@mail.gmail.com>
	<b6bb06270905041642j62a403c3kd2d4820c6f7e7949@mail.gmail.com>
	<3a768c550905041851k60b322a6h18dd42b872130277@mail.gmail.com>
Message-ID: <b6bb06270905041856j60d0543bsc10785fc6ace8d72@mail.gmail.com>

On Mon, May 4, 2009 at 8:51 PM, Juan Lang <juan.lang at gmail.com> wrote:
>> I'm a bit busy with other things, so time's a bit short. Would you
>> mind pointing me in the right direction for the best approach for
>> this? Or perhaps send a patch? <g>
>
> Sure. ?How's the attached look to you? ?Should it be an ERR instead?

That was quick, thanks! Yes, please make it an error. It shoudn't
happen very often, and it can be pretty fatal, for, e.g., iTunes.

> What text would you find more helpful?

How about?

ERR("didn't find any trusted root certificates.  Are they installed?\n");

-- 
-Austin


From juan.lang at gmail.com  Mon May  4 21:53:14 2009
From: juan.lang at gmail.com (Juan Lang)
Date: Mon, 4 May 2009 19:53:14 -0700
Subject: crypt32/tests: Print a better error if no Verisign root 
	certificates available.
In-Reply-To: <b6bb06270905041856j60d0543bsc10785fc6ace8d72@mail.gmail.com>
References: <3a768c550905040858i43de2309k3d9935cb928de845@mail.gmail.com>
	<3a768c550905040954n172e7b12gfcddef3be0bfafc4@mail.gmail.com>
	<b6bb06270905041009h605e2665if05ce30bb6d0df8c@mail.gmail.com>
	<3a768c550905041019p125ddaaep64b43d2168e9f90@mail.gmail.com>
	<b6bb06270905041243v2d7c6f8fwd158746feead7966@mail.gmail.com>
	<b6bb06270905041455i74f89357me9e9153ed18982d8@mail.gmail.com>
	<3a768c550905041457m6c955094k6f5634d12ccfd3c8@mail.gmail.com>
	<b6bb06270905041642j62a403c3kd2d4820c6f7e7949@mail.gmail.com>
	<3a768c550905041851k60b322a6h18dd42b872130277@mail.gmail.com>
	<b6bb06270905041856j60d0543bsc10785fc6ace8d72@mail.gmail.com>
Message-ID: <3a768c550905041953s228e32aehb6990e8eae590a89@mail.gmail.com>

> How about?
>
> ERR("didn't find any trusted root certificates. ?Are they installed?\n");

Done, and sent.  Thanks for the suggestion and the help.
--Juan


From xixsimplicityxix at gmail.com  Mon May  4 23:38:36 2009
From: xixsimplicityxix at gmail.com (John Klehm)
Date: Mon, 4 May 2009 23:38:36 -0500
Subject: Severity levels
In-Reply-To: <b6bb06270905041239v2909ab7eh923a8fd93a8eaee@mail.gmail.com>
References: <31355905.1241461498940.JavaMail.root@elwamui-lapwing.atl.sa.earthlink.net>
	<b6bb06270905041239v2909ab7eh923a8fd93a8eaee@mail.gmail.com>
Message-ID: <78a7dad00905042138q3346a91bkdd98a48b0a88ea97@mail.gmail.com>

Roderick Colenbrander and I were talking about the severity levels on
irc the other day.  We tried to outline the existing severity process
that seems to be in use (not what is neccesarily listed in bugzilla)
and came up with the following levels of bug severity:

* normal
* major (release level, e.g. dib engine, 64 bit support, usb, etc)
* blocker (compile failure, severe wine crash, system crash due to
triggering driver bugs)

As far as I can see that's what the current usage of serverity is in bugzilla.

Other thoughts during our discussion were that perhaps assignee should
be the one that can change the severity rather than reporter.

Cheers,
--John Klehm


From wine-devel at kievinfo.com  Tue May  5 00:36:03 2009
From: wine-devel at kievinfo.com (Vitaliy Margolen)
Date: Mon, 04 May 2009 23:36:03 -0600
Subject: can't find winedbg
In-Reply-To: <4d8b5aa80905041834g5edae926q86c8efc370d03d54@mail.gmail.com>
References: <49FF95FF.8040302@basementcode.com>
	<4d8b5aa80905041834g5edae926q86c8efc370d03d54@mail.gmail.com>
Message-ID: <49FFD043.1000106@kievinfo.com>

Mike Kaplinskiy wrote:
> executable, so you would run it like:
> 
> ./wine ./programs/winedbg/winedbg.exe.so

'./wine winedbg' will do the same.

Vitaliy.


From shacklein at gmail.com  Tue May  5 01:14:11 2009
From: shacklein at gmail.com (Ben Klein)
Date: Tue, 5 May 2009 16:14:11 +1000
Subject: can't find winedbg
In-Reply-To: <49FFD043.1000106@kievinfo.com>
References: <49FF95FF.8040302@basementcode.com>
	<4d8b5aa80905041834g5edae926q86c8efc370d03d54@mail.gmail.com> 
	<49FFD043.1000106@kievinfo.com>
Message-ID: <d7e40be30905042314x7d1b6448jf24e3bb497245e1d@mail.gmail.com>

2009/5/5 Vitaliy Margolen <wine-devel at kievinfo.com>:
> Mike Kaplinskiy wrote:
>> executable, so you would run it like:
>>
>> ./wine ./programs/winedbg/winedbg.exe.so
>
> './wine winedbg' will do the same.

Will that look-up in ./programs/winedbg before looking in $PREFIX/lib/wine/?


From benoit.schwinden at unistra.fr  Tue May  5 02:13:10 2009
From: benoit.schwinden at unistra.fr (Benoit SCHWINDEN)
Date: Tue, 05 May 2009 09:13:10 +0200
Subject: GUI debugging
Message-ID: <49FFE706.8000007@unistra.fr>

Hello,

I am trying to make a very special application working with Wine 1.1.20
(Loris, from Ever Ezida, a library management software). Almost
everything is functionnal, but there is a little graphical bug with some
texfields. Also, I would like to know if there are some ways to debug a
GUI, especially a way to know which library or DLL is called to display
a part of this GUI (ie know what DLL is used to display my faulties text
fields).

Thanks a lot by advance.

Best regards,

Benoit.

-- 
Benoit SCHWINDEN
Direction Informatique
Groupe GNU/Linux
Universit? de Strasbourg
03 90 24 12 46





From austinenglish at gmail.com  Tue May  5 02:16:10 2009
From: austinenglish at gmail.com (Austin English)
Date: Tue, 5 May 2009 02:16:10 -0500
Subject: GUI debugging
In-Reply-To: <49FFE706.8000007@unistra.fr>
References: <49FFE706.8000007@unistra.fr>
Message-ID: <b6bb06270905050016n6b035fe7k87350e4a8a4e5940@mail.gmail.com>

On Tue, May 5, 2009 at 2:13 AM, Benoit SCHWINDEN
<benoit.schwinden at unistra.fr> wrote:
> Hello,
>
> I am trying to make a very special application working with Wine 1.1.20
> (Loris, from Ever Ezida, a library management software). Almost
> everything is functionnal, but there is a little graphical bug with some
> texfields. Also, I would like to know if there are some ways to debug a
> GUI, especially a way to know which library or DLL is called to display
> a part of this GUI (ie know what DLL is used to display my faulties text
> fields).

If any terminal output is triggered by activating/interacting with
that area, it'd be a good place to look.

Otherwise, +relay would tell you, but it'll also give you a lot more
information that you don't need.

-- 
-Austin


From msclrhd at googlemail.com  Tue May  5 03:11:29 2009
From: msclrhd at googlemail.com (Reece Dunn)
Date: Tue, 5 May 2009 09:11:29 +0100
Subject: GUI debugging
In-Reply-To: <b6bb06270905050016n6b035fe7k87350e4a8a4e5940@mail.gmail.com>
References: <49FFE706.8000007@unistra.fr>
	<b6bb06270905050016n6b035fe7k87350e4a8a4e5940@mail.gmail.com>
Message-ID: <3f4fd2640905050111m1297a7daqdae2eaf5a3b363c6@mail.gmail.com>

2009/5/5 Austin English <austinenglish at gmail.com>:
> On Tue, May 5, 2009 at 2:13 AM, Benoit SCHWINDEN
> <benoit.schwinden at unistra.fr> wrote:
>> Hello,
>>
>> I am trying to make a very special application working with Wine 1.1.20
>> (Loris, from Ever Ezida, a library management software). Almost
>> everything is functionnal, but there is a little graphical bug with some
>> texfields. Also, I would like to know if there are some ways to debug a
>> GUI, especially a way to know which library or DLL is called to display
>> a part of this GUI (ie know what DLL is used to display my faulties text
>> fields).
>
> If any terminal output is triggered by activating/interacting with
> that area, it'd be a good place to look.
>
> Otherwise, +relay would tell you, but it'll also give you a lot more
> information that you don't need.

Most of the UI is located in user32 and comctl32. Is it a plain text
filed (could be the edit control in user32), or a formatted edit field
(could be the richedit control in riched32), or it could be a custom
written control in Loris itself.

I would suggest that you file a bug and attach a screenshot.

Some general pointers:
1.  it could be to do with theming (if you have installed and are
using a Windows theme such as Zune);
2.  it could be due to using an incorrect font or locale that has
missing characters for things like "e with acute";
3.  the program could be expecting Windows fonts and font
characteristics (have you tried installing MS core fonts using
winetricks: http://wiki.winehq.org/winetricks?);
4.  it could be an issue with font smoothing.

- Reece


From benoit.schwinden at unistra.fr  Tue May  5 03:11:10 2009
From: benoit.schwinden at unistra.fr (Benoit SCHWINDEN)
Date: Tue, 05 May 2009 10:11:10 +0200
Subject: GUI debugging
In-Reply-To: <b6bb06270905050016n6b035fe7k87350e4a8a4e5940@mail.gmail.com>
References: <49FFE706.8000007@unistra.fr>
	<b6bb06270905050016n6b035fe7k87350e4a8a4e5940@mail.gmail.com>
Message-ID: <49FFF49E.1050204@unistra.fr>

Austin English a ?crit :
> On Tue, May 5, 2009 at 2:13 AM, Benoit SCHWINDEN
> <benoit.schwinden at unistra.fr> wrote:
>   
>> Hello,
>>
>> I am trying to make a very special application working with Wine 1.1.20
>> (Loris, from Ever Ezida, a library management software). Almost
>> everything is functionnal, but there is a little graphical bug with some
>> texfields. Also, I would like to know if there are some ways to debug a
>> GUI, especially a way to know which library or DLL is called to display
>> a part of this GUI (ie know what DLL is used to display my faulties text
>> fields).
>>     
>
> If any terminal output is triggered by activating/interacting with
> that area, it'd be a good place to look.
>
> Otherwise, +relay would tell you, but it'll also give you a lot more
> information that you don't need.
>
>   
Thank you !

Yes +relay sends a lot of things. It appears that my faulty dll is
user32.dll (very surprising, isn't it ? :-) )

Unfortunately no terminal output is sent during Loris execution. The
text area appears, but it is too small.

-- 
Benoit SCHWINDEN
Direction Informatique
Groupe GNU/Linux
Universit? de Strasbourg
03 90 24 12 46



From julliard at winehq.org  Tue May  5 03:43:42 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Tue, 05 May 2009 10:43:42 +0200
Subject: winmm: Added Polish translation
In-Reply-To: <1241196074-23895-1-git-send-email-lukasz.wojnilowicz@gmail.com>
	(=?utf-8?Q?=22=C5=81ukasz_Wojni=C5=82owicz=22's?= message of "Fri, 1 May
	2009 18:41:14 +0200")
References: <1241196074-23895-1-git-send-email-lukasz.wojnilowicz@gmail.com>
Message-ID: <87k54wdjnl.fsf@wine.dyndns.org>

?ukasz Wojni?owicz <lukasz.wojnilowicz at gmail.com> writes:

>  dlls/winmm/winmm_Pl.rc |  126 ++++++++++++++++++++++++++++++++++++++++++++++++
>  1 files changed, 126 insertions(+), 0 deletions(-)
>  create mode 100644 dlls/winmm/winmm_Pl.rc

Adding the file won't have any effect unless you include it from the
main resource file.

-- 
Alexandre Julliard
julliard at winehq.org


From benoit.schwinden at unistra.fr  Tue May  5 05:09:18 2009
From: benoit.schwinden at unistra.fr (Benoit SCHWINDEN)
Date: Tue, 05 May 2009 12:09:18 +0200
Subject: GUI debugging
In-Reply-To: <3f4fd2640905050111m1297a7daqdae2eaf5a3b363c6@mail.gmail.com>
References: <49FFE706.8000007@unistra.fr>	
	<b6bb06270905050016n6b035fe7k87350e4a8a4e5940@mail.gmail.com>
	<3f4fd2640905050111m1297a7daqdae2eaf5a3b363c6@mail.gmail.com>
Message-ID: <4A00104E.9090309@unistra.fr>

Reece Dunn a ?crit :
> 2009/5/5 Austin English <austinenglish at gmail.com>:
>   
>> On Tue, May 5, 2009 at 2:13 AM, Benoit SCHWINDEN
>> <benoit.schwinden at unistra.fr> wrote:
>>     
>>> Hello,
>>>
>>> I am trying to make a very special application working with Wine 1.1.20
>>> (Loris, from Ever Ezida, a library management software). Almost
>>> everything is functionnal, but there is a little graphical bug with some
>>> texfields. Also, I would like to know if there are some ways to debug a
>>> GUI, especially a way to know which library or DLL is called to display
>>> a part of this GUI (ie know what DLL is used to display my faulties text
>>> fields).
>>>       
>> If any terminal output is triggered by activating/interacting with
>> that area, it'd be a good place to look.
>>
>> Otherwise, +relay would tell you, but it'll also give you a lot more
>> information that you don't need.
>>     
>
> Most of the UI is located in user32 and comctl32. Is it a plain text
> filed (could be the edit control in user32), or a formatted edit field
> (could be the richedit control in riched32), or it could be a custom
> written control in Loris itself.
>
> I would suggest that you file a bug and attach a screenshot.
>   
OK it's done !
> Some general pointers:
> 1.  it could be to do with theming (if you have installed and are
> using a Windows theme such as Zune);
>   
no theme installed...
> 2.  it could be due to using an incorrect font or locale that has
> missing characters for things like "e with acute";
> 3.  the program could be expecting Windows fonts and font
> characteristics (have you tried installing MS core fonts using
> winetricks: http://wiki.winehq.org/winetricks?);
> 4.  it could be an issue with font smoothing.
>
> - Reece
>   

It is not a font problem, the text displayed in the faulty field is
fine, but the field is too small, that is the problem. Screenshot in bug
report 18362.

Thanks a lot for your help !

-- 
Benoit SCHWINDEN
Direction Informatique
Groupe GNU/Linux
Universit? de Strasbourg
03 90 24 12 46



From julliard at winehq.org  Tue May  5 07:12:23 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Tue, 05 May 2009 14:12:23 +0200
Subject: [PATCH 1/2] [User32]: clearly separe the 16bit code out of user32
In-Reply-To: <20090504193709.5381.56743.stgit@localhost> (Eric Pouech's
	message of "Mon, 04 May 2009 21:37:10 +0200")
References: <20090504193709.5381.56743.stgit@localhost>
Message-ID: <87fxfjeok8.fsf@wine.dyndns.org>

Eric Pouech <eric.pouech at orange.fr> writes:

> @@ -145,14 +146,101 @@ HDDEDATA	WDML_InvokeCallback16(PFNCALLBACK pfn, UINT uType, UINT uFmt,
>      return ret;
>  }
>  
> +#define MAX_THUNKS      32
> +/* As DDEML doesn't provide a way to get back to an InstanceID when
> + * a callback is run, we use thunk in order to implement simply the
> + * 32bit->16bit callback mechanism.
> + * For each 16bit instance, we create a thunk, which will be passed as
> + * a 32bit callback. This thunk also stores (in the code!) the 16bit
> + * address of the 16bit callback, and passes it back to
> + * WDML_InvokeCallback16.
> + * The code below is mainly to create the thunks themselved
> + */
> +static struct ddeml_thunk
> +{
> +    DWORD       instId;     /*      instance ID                                     */
> +    SEGPTR      pfn16;      /*      16bit callback address                          */
> +                            /* start:                     ; 32bit callback          */
> +    BYTE        call;       /*      call get_eip                                    */
> +    DWORD       call_rel32; /*                                                      */
> +                            /* get_eip:                                             */
> +    BYTE        pop_eax;    /*      pop %eax              ; eip of get_eip          */
> +    BYTE        pop_ecx;    /*      pop %ecx              ; return address          */
> +    BYTE        push_pfn[3];/*      pushl -0x9(%eax)      ; push pfn16              */
> +    BYTE        push_ecx;   /*      pushl %ecx                                      */
> +    BYTE        push;       /*      push $DDEML_InstanceCallback16                  */
> +    DWORD       cb16;       /*                                                      */
> +    BYTE        ret;        /*      ret                   ; jmp DDEML_InstanceCal...*/
> +} *DDEML16_Thunks;

It doesn't really make sense to build position-independent code for a
thunk that is at a known address. Plus you don't even need the address,
a simple pushl $pfn16 would work just as well. Look at how winproc
thunks are done.

-- 
Alexandre Julliard
julliard at winehq.org


From julliard at winehq.org  Tue May  5 08:01:18 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Tue, 05 May 2009 15:01:18 +0200
Subject: user32: fix a signed/unsigned issue in MENU_PopupMenuCalcSize
In-Reply-To: <1241507501-8080-1-git-send-email-wijn@online.nl> (Rein Klazes's
	message of "Tue, 5 May 2009 09:11:41 +0200")
References: <1241507501-8080-1-git-send-email-wijn@online.nl>
Message-ID: <87bpq7emap.fsf@wine.dyndns.org>

Rein Klazes <wijn at online.nl> writes:

> fix for bug #18354

That's only hiding the bug, the height shouldn't become negative.

-- 
Alexandre Julliard
julliard at winehq.org


From Paul.Hampson at Pobox.com  Tue May  5 08:22:09 2009
From: Paul.Hampson at Pobox.com (Paul TBBle Hampson)
Date: Tue, 5 May 2009 23:22:09 +1000
Subject: Severity levels
In-Reply-To: <b6bb06270905041239v2909ab7eh923a8fd93a8eaee@mail.gmail.com>
References: <31355905.1241461498940.JavaMail.root@elwamui-lapwing.atl.sa.earthlink.net>
	<b6bb06270905041239v2909ab7eh923a8fd93a8eaee@mail.gmail.com>
Message-ID: <20090505132209.GB3901@keitarou.watson.bubblesworth.net>

On Mon, May 04, 2009 at 02:39:28PM -0500, Austin English wrote:
> 2009/5/4 James Mckenzie <jjmckenzie51 at earthlink.net>:
>> One question: ?Does Bugzilla have a place for user's to place the
>> Impact on their ability to use a Windows program? ?This is much
>> different than the priority and severity fields.

> No, but it is not important for bugzilla. That information belongs in
> the AppDB, which allows for this, with the application ratings.

It'd be handy if bug links in AppDB allowed some kind of indication of
the problem it causes or at least the severity thereof.

I've got a whole bunch of bugs linked from Warhammer Online which have
really unuseful bug titles, causing readers of the page to end up
reporting the same things in the comments.

There's prolly an issue as well in the bug report naming, it seems that
Wine doesn't have a strong culture of renaming bugs when they've been
diagnosed. (Bug 13335 is a good example of this, I feel. A user pointed
out to me the other day that he wasn't running Warcraft 3 when I
suggested that it was the problem he was having. There's another bug
which refers specifically to Steam in the bug title.)

I've added a Note to the WAR AppDB page which describes symptoms and
ties them to linked bugs to try and alleviate this, but it'd be nice if
the disconnect wasn't there.

-- 
-----------------------------------------------------------
Paul "TBBle" Hampson, B.Sc, LPI, MCSE
Very-later-year Asian Studies student, ANU
The Boss, Bubblesworth Pty Ltd (ABN: 51 095 284 361)
Paul.Hampson at Pobox.com

Of course Pacman didn't influence us as kids. If it did,
we'd be running around in darkened rooms, popping pills and
listening to repetitive music.
 -- Marcus Brigstocke
http://www.marcusbrigstocke.com/pacman.asp

License: http://creativecommons.org/licenses/by/2.5/au/
-----------------------------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090505/3c3a9828/attachment.pgp>

From felix at compsoc.nuigalway.ie  Tue May  5 09:42:09 2009
From: felix at compsoc.nuigalway.ie (Darragh Bailey)
Date: Tue, 5 May 2009 15:42:09 +0100
Subject: Severity levels
In-Reply-To: <31355905.1241461498940.JavaMail.root@elwamui-lapwing.atl.sa.earthlink.net>
References: <31355905.1241461498940.JavaMail.root@elwamui-lapwing.atl.sa.earthlink.net>
Message-ID: <20090505144209.GA24365@compsoc.nuigalway.ie>

On Mon, May 04, 2009 at 11:24:58AM -0700, James Mckenzie wrote:
> Ben Klein wrote on May 4th:
> >
> >Final post from me.
> >
> >2009/5/5 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
> >> b) I thought that priority was developer priority and severity was
> >> severity for the users.
> >
> >Nope. Both for the benefit of developers, hence why they're both on bugzilla.
> >
> >
> One question:  Does Bugzilla have a place for user's to place the Impact on their ability to use a Windows program?  This is much different than the priority and severity fields.
> 
> James McKenzie

In catching up on this long discussion, this is the first post that I've
seen that actually comes close to pin-pointing what is being requested.

Current:
Severity = messure of bug impact on wine

Requested:
Severity = message of bug impact on application running in wine


IMHO the bugzilla severity field is not the right place to measure 
impact to other applications of bugs in the current development. 
Attempting to track that type of information in the severity field 
will always lead to confusion and problems.

A more logical approach would be to either add a different field or use
tags to track the impact on the affected app.


-- 
Darragh

"Nothing is foolproof to a sufficiently talented fool."


From wine-devel at kievinfo.com  Tue May  5 09:49:41 2009
From: wine-devel at kievinfo.com (Vitaliy Margolen)
Date: Tue, 05 May 2009 08:49:41 -0600
Subject: can't find winedbg
In-Reply-To: <d7e40be30905042314x7d1b6448jf24e3bb497245e1d@mail.gmail.com>
References: <49FF95FF.8040302@basementcode.com>
	<4d8b5aa80905041834g5edae926q86c8efc370d03d54@mail.gmail.com>
	<49FFD043.1000106@kievinfo.com>
	<d7e40be30905042314x7d1b6448jf24e3bb497245e1d@mail.gmail.com>
Message-ID: <4A005205.3000801@kievinfo.com>

Ben Klein wrote:
> 2009/5/5 Vitaliy Margolen <wine-devel at kievinfo.com>:
>> Mike Kaplinskiy wrote:
>>> executable, so you would run it like:
>>>
>>> ./wine ./programs/winedbg/winedbg.exe.so
>> './wine winedbg' will do the same.
> 
> Will that look-up in ./programs/winedbg before looking in $PREFIX/lib/wine/?
Should. I don't have Wine installed (and never had) but winedbg, notepad,
winecfg & all other programs work just fine.

Vitaliy.


From kennybobs at o2.co.uk  Tue May  5 09:55:30 2009
From: kennybobs at o2.co.uk (Ken Sharp)
Date: Tue, 05 May 2009 15:55:30 +0100
Subject: can't find winedbg
In-Reply-To: <4A005205.3000801@kievinfo.com>
References: <49FF95FF.8040302@basementcode.com>	<4d8b5aa80905041834g5edae926q86c8efc370d03d54@mail.gmail.com>	<49FFD043.1000106@kievinfo.com>	<d7e40be30905042314x7d1b6448jf24e3bb497245e1d@mail.gmail.com>
	<4A005205.3000801@kievinfo.com>
Message-ID: <4A005362.80601@o2.co.uk>



Vitaliy Margolen wrote:
> Ben Klein wrote:
>> 2009/5/5 Vitaliy Margolen <wine-devel at kievinfo.com>:
>>> Mike Kaplinskiy wrote:
>>>> executable, so you would run it like:
>>>>
>>>> ./wine ./programs/winedbg/winedbg.exe.so
>>> './wine winedbg' will do the same.
>> Will that look-up in ./programs/winedbg before looking in $PREFIX/lib/wine/?
> Should. I don't have Wine installed (and never had) but winedbg, notepad,
> winecfg & all other programs work just fine.
> 

It seems to.

./wine is a wrapper, you should be able to open it in a text editor and 
have a look.


From austinenglish at gmail.com  Tue May  5 09:57:30 2009
From: austinenglish at gmail.com (Austin English)
Date: Tue, 5 May 2009 09:57:30 -0500
Subject: comdlg: implemented notifications are only sent with OFN_EXPLORER
	flag set
In-Reply-To: <bc8cede80905050342g62f6a01ao52943aaf358ba20@mail.gmail.com>
References: <bc8cede80905050342g62f6a01ao52943aaf358ba20@mail.gmail.com>
Message-ID: <b6bb06270905050757v5fffc75fu7e46ef5d07ddfcb0@mail.gmail.com>

On Tue, May 5, 2009 at 5:42 AM, Ricardo Filipe
<ricardojdfilipe at gmail.com> wrote:
> as MSDN says and some manual testing i did shows these CDN notifications are
> only sent if OFN_EXPLORER is sent in the dialog flags.

You forgot the patch.

-- 
-Austin


From austinenglish at gmail.com  Tue May  5 10:00:55 2009
From: austinenglish at gmail.com (Austin English)
Date: Tue, 5 May 2009 10:00:55 -0500
Subject: Severity levels
In-Reply-To: <20090505144209.GA24365@compsoc.nuigalway.ie>
References: <31355905.1241461498940.JavaMail.root@elwamui-lapwing.atl.sa.earthlink.net>
	<20090505144209.GA24365@compsoc.nuigalway.ie>
Message-ID: <b6bb06270905050800o44ff896atefa89572c8ec37a3@mail.gmail.com>

On Tue, May 5, 2009 at 9:42 AM, Darragh Bailey
<felix at compsoc.nuigalway.ie> wrote:
> In catching up on this long discussion, this is the first post that I've
> seen that actually comes close to pin-pointing what is being requested.
>
> Current:
> Severity = messure of bug impact on wine
>
> Requested:
> Severity = message of bug impact on application running in wine
>
>
> IMHO the bugzilla severity field is not the right place to measure
> impact to other applications of bugs in the current development.
> Attempting to track that type of information in the severity field
> will always lead to confusion and problems.
>
> A more logical approach would be to either add a different field or use
> tags to track the impact on the affected app.

Again, bugzilla is a developer's tool.

That sort of information belongs in the AppDB, not bugzilla.

-- 
-Austin


From jjmckenzie51 at earthlink.net  Tue May  5 12:28:45 2009
From: jjmckenzie51 at earthlink.net (James Mckenzie)
Date: Tue, 5 May 2009 13:28:45 -0400 (EDT)
Subject: Severity levels
Message-ID: <32833261.1241544526031.JavaMail.root@mswamui-andean.atl.sa.earthlink.net>

Darragh Bailey wrote on May 5th:
>
>On Mon, May 04, 2009 at 11:24:58AM -0700, James Mckenzie wrote:
>> Ben Klein wrote on May 4th:
>> >
>> >Final post from me.
>> >
>> >2009/5/5 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
>> >> b) I thought that priority was developer priority and severity was
>> >> severity for the users.
>> >
>> >Nope. Both for the benefit of developers, hence why they're both on bugzilla.
>> >
>> >
>> One question:  Does Bugzilla have a place for user's to place the Impact on their ability to use a Windows program?  This is much different than the priority and severity fields.
>> 
>> James McKenzie
>
>In catching up on this long discussion, this is the first post that I've
>seen that actually comes close to pin-pointing what is being requested.
>
>Current:
>Severity = messure of bug impact on wine
>
>Requested:
>Severity = message of bug impact on application running in wine
>
>
>IMHO the bugzilla severity field is not the right place to measure 
>impact to other applications of bugs in the current development. 
>Attempting to track that type of information in the severity field 
>will always lead to confusion and problems.
>
As a reminder, Bugzilla is for developers to work in user discovered issues.

The Severity field, as it is, is correct for developer/triage evaluation of 
discovered issues.  It should not be changed.

However, a developer should be aware of the impact on the user experience and
the user's determined severity of a problem.  Users should not be determining
this through the use of the severity and priority fields.  I have discussed
the use of an impact field to have the user state what impact the problem has
on their ability to use/install a particular application.  Some problems have
a more severe impact on certain applications.  The use of metabugs to follow
what applications are affected is HIGHLY discouraged.
The users of Wine should be able to state, in one place, what the bug is, what
its impact to them is and the status of repair and/or workaround(s) for the bug
is.  The Applications Database is the location where a user can input what they
found through use of Wine by Linux/UNIX version/distribution and Wine version.

Bug reports should reside in Bugzilla and users should be able to input bug 
reports quickly (<10 minutes for a non-English speaking user.)  This seems 
to not be happening at the present time and users are confused by the Bugzilla
interface and fields presented to them.  We should not rely on the ability
for users to read and understand what field does what but only present to them
fields needed to be filled out by users when they submit a bug report.  Since
the severity and priority fields are developer only, they should not be present.
The proposed impact field should be a drop down list only and present common 
impacts encountered by users, such as "Unable to Install Application", 
"Unable to run application","Screen is unreadable","Text not appearing on 
screen","Graphics are garbled".  This allows the user to provide input 
and allow the triage team to provide feedback to the user as well as
assign appropriate severity and priorities to bug reports.  

Please advise if this is what the project desires to do.  Again, this is to
improve the user experience for the unexperienced (nOOb) Wine user.  Experienced
users do not have these difficulties but this takes time away from developers
and triage teams to provide user education.

James McKenzie



From dimesio at earthlink.net  Tue May  5 14:03:58 2009
From: dimesio at earthlink.net (Rosanne DiMesio)
Date: Tue, 5 May 2009 14:03:58 -0500
Subject: Severity levels
In-Reply-To: <32833261.1241544526031.JavaMail.root@mswamui-andean.atl.sa.earthlink.net>
References: <32833261.1241544526031.JavaMail.root@mswamui-andean.atl.sa.earthlink.net>
Message-ID: <20090505140358.38ddf9a9.dimesio@earthlink.net>

On Tue, 5 May 2009 13:28:45 -0400 (EDT)
James Mckenzie <jjmckenzie51 at earthlink.net> wrote:


> The proposed impact field should be a drop down list only and present common 
> impacts encountered by users, such as "Unable to Install Application", 
> "Unable to run application","Screen is unreadable","Text not appearing on 
> screen","Graphics are garbled".  

If I can't install or run an app because text is not appearing on the screen and the graphics are garbled--in other words, the screen is unreadable--which item am I supposed to select? Or at the other extreme--what if my problem doesn't seem to match anything on the predefined list?

>This allows the user to provide input 
> and allow the triage team to provide feedback to the user as well as
> assign appropriate severity and priorities to bug reports.  
> 

There's already a field that does exactly that: the description. It allows users to describe the problem in as much detail as they wish, including its impact, and unlike a drop-down list, is not limited to common issues. I don't see what an additional field to repeat this information in vague terms will do to help anyone. 

-- 
Rosanne DiMesio <dimesio at earthlink.net>


From chris at basementcode.com  Tue May  5 14:44:12 2009
From: chris at basementcode.com (Christopher Harvey)
Date: Tue, 05 May 2009 15:44:12 -0400
Subject: winedbg and exceptions
Message-ID: <4A00970C.4030607@basementcode.com>

Hi,
I'm having trouble with winedbg and seh exceptions. I've got a program
that throws TONS of unhanded exceptions that don't seem to affect
behavior at all, but there is one exception that I'm after, it's an
access violation exception that's crashing a program. I can "run" the
program by holding enter in winedbg and telling it to cont on all
exceptions, but I've never managed to read the exception I want this
way. Basically I just need a backtrace from the violation.

Chris.


From eric.pouech at orange.fr  Tue May  5 15:07:25 2009
From: eric.pouech at orange.fr (Eric Pouech)
Date: Tue, 05 May 2009 22:07:25 +0200
Subject: winedbg and exceptions
In-Reply-To: <4A00970C.4030607@basementcode.com>
References: <4A00970C.4030607@basementcode.com>
Message-ID: <4A009C7D.20502@orange.fr>

Christopher Harvey a ?crit :
> Hi,
> I'm having trouble with winedbg and seh exceptions. I've got a program
> that throws TONS of unhanded exceptions that don't seem to affect
> behavior at all, but there is one exception that I'm after, it's an
> access violation exception that's crashing a program. I can "run" the
> program by holding enter in winedbg and telling it to cont on all
> exceptions, but I've never managed to read the exception I want this
> way. Basically I just need a backtrace from the violation.
>
> Chris.
>
>
>
>
>   
unfortunately (compared to gcc behavior) we cannot (yet) in winedbg 
decide to filter out some exceptions and some other ones

however, this may work: try the following commands (before run)

set $BreakOnFirstChance=0
run

and see what gives
A+

-- 
Eric Pouech
"The problem with designing something completely foolproof is to underestimate the ingenuity of a complete idiot." (Douglas Adams)




From shacklein at gmail.com  Tue May  5 17:59:03 2009
From: shacklein at gmail.com (Ben Klein)
Date: Wed, 6 May 2009 08:59:03 +1000
Subject: Severity levels
In-Reply-To: <20090505132209.GB3901@keitarou.watson.bubblesworth.net>
References: <31355905.1241461498940.JavaMail.root@elwamui-lapwing.atl.sa.earthlink.net>
	<b6bb06270905041239v2909ab7eh923a8fd93a8eaee@mail.gmail.com> 
	<20090505132209.GB3901@keitarou.watson.bubblesworth.net>
Message-ID: <d7e40be30905051559o5acc9b82h291cb79b464c0123@mail.gmail.com>

2009/5/5 Paul TBBle Hampson <Paul.Hampson at pobox.com>:
> I've got a whole bunch of bugs linked from Warhammer Online which have
> really unuseful bug titles, causing readers of the page to end up
> reporting the same things in the comments.

Bug titles can and should be changed.

2009/5/6 James Mckenzie <jjmckenzie51 at earthlink.net>:
> Since the severity and priority fields are developer only, they should not
> be present.

Developers use bugzilla too. Any restriction we put on casual users
will affect experienced users, unless there is some flag in each
user's profile for whether the fields will be visible.

Big question is, is it THAT much of a problem? I vote no.

2009/5/6 Rosanne DiMesio <dimesio at earthlink.net>:
>>This allows the user to provide input
>> and allow the triage team to provide feedback to the user as well as
>> assign appropriate severity and priorities to bug reports.
>>
>
> There's already a field that does exactly that: the description. It allows users to describe the problem in as much detail as they wish, including its impact, and unlike a drop-down list, is not limited to common issues. I don't see what an additional field to repeat this information in vague terms will do to help anyone.

+1. Also note that vague or misleading descriptions are common, users
often don't respond to bugs with more information, and in extreme
cases, bugs get closed due to a lack of activity. Adding a field that
basically says "it's broken" (in a variety of weird and wonderful
ways) won't help with improving descriptions.


From saturn_systems at yahoo.com  Tue May  5 18:04:05 2009
From: saturn_systems at yahoo.com (nn)
Date: Tue, 5 May 2009 16:04:05 -0700 (PDT)
Subject: Shuttleworth on Wine
Message-ID: <185001.36631.qm@web39705.mail.mud.yahoo.com>


Shuttleworth on Wine
http://www.osnews.com/story/21438/Shuttleworth_on_Wine


      Yahoo!7 recommends that you update your browser to the new Internet Explorer 8.Get it now.


From saturn_systems at yahoo.com  Tue May  5 18:15:32 2009
From: saturn_systems at yahoo.com (nn)
Date: Tue, 5 May 2009 16:15:32 -0700 (PDT)
Subject: Shuttleworth on Wine
Message-ID: <660374.13022.qm@web39704.mail.mud.yahoo.com>


And the slashdot thread:
Shuttleworth Says Ubuntu Can't Just Be Windows
http://linux.slashdot.org/article.pl?sid=09/05/05/1546230

--- On Wed, 6/5/09, nn <saturn_systems at yahoo.com> wrote:

> From: nn <saturn_systems at yahoo.com>
> Subject: Shuttleworth on Wine
> To: wine-devel at winehq.org
> Received: Wednesday, 6 May, 2009, 9:04 AM
> 
> Shuttleworth on Wine
> http://www.osnews.com/story/21438/Shuttleworth_on_Wine
> 
> 
> ? ? ? Yahoo!7 recommends that you update
> your browser to the new Internet Explorer 8.Get it now.
> 
> 
> 


      The new Internet Explorer 8 optimised for Yahoo!7: Faster, Safer, Easier.


From shacklein at gmail.com  Tue May  5 18:22:10 2009
From: shacklein at gmail.com (Ben Klein)
Date: Wed, 6 May 2009 09:22:10 +1000
Subject: Shuttleworth on Wine
In-Reply-To: <185001.36631.qm@web39705.mail.mud.yahoo.com>
References: <185001.36631.qm@web39705.mail.mud.yahoo.com>
Message-ID: <d7e40be30905051622i9291bfci3fa41562e1643140@mail.gmail.com>

2009/5/6 nn <saturn_systems at yahoo.com>:
>
> Shuttleworth on Wine
> http://www.osnews.com/story/21438/Shuttleworth_on_Wine


From shacklein at gmail.com  Tue May  5 18:28:00 2009
From: shacklein at gmail.com (Ben Klein)
Date: Wed, 6 May 2009 09:28:00 +1000
Subject: Shuttleworth on Wine
In-Reply-To: <660374.13022.qm@web39704.mail.mud.yahoo.com>
References: <660374.13022.qm@web39704.mail.mud.yahoo.com>
Message-ID: <d7e40be30905051628u490643c5j56b34ee14b3b61dd@mail.gmail.com>

2009/5/6 nn <saturn_systems at yahoo.com>:
>
> And the slashdot thread:
> Shuttleworth Says Ubuntu Can't Just Be Windows
> http://linux.slashdot.org/article.pl?sid=09/05/05/1546230

This is nothing new. It's just now we have a celebrity saying it.

I also don't like the wording used; I'd prefer "Shuttleworth Says
Ubuntu Can't Be Just Windows", referring to "he said that Ubuntu
cannot ***be simply*** a better platform to run Windows apps."
(instead of "simply be").

Connotation is different, and much closer to what he actually said in
the discussion.


From remco47 at gmail.com  Tue May  5 18:28:29 2009
From: remco47 at gmail.com (Remco)
Date: Wed, 6 May 2009 01:28:29 +0200
Subject: Shuttleworth on Wine
In-Reply-To: <d7e40be30905051622i9291bfci3fa41562e1643140@mail.gmail.com>
References: <185001.36631.qm@web39705.mail.mud.yahoo.com>
	<d7e40be30905051622i9291bfci3fa41562e1643140@mail.gmail.com>
Message-ID: <36a11a3a0905051628w27eac723gba369eaa600103c6@mail.gmail.com>

On Wed, May 6, 2009 at 1:22 AM, Ben Klein <shacklein at gmail.com> wrote:
> Basically, what Shuttleworth is saying is that running Windows apps (whether
> via Wine or via porting) is unimportant to Ubuntu (or the opensource world in
> general)

He uses the word important, not unimportant. But he also says that the
interviewer missed the third aspect that is important: good free
software itself.

Remco


From shacklein at gmail.com  Tue May  5 18:37:31 2009
From: shacklein at gmail.com (Ben Klein)
Date: Wed, 6 May 2009 09:37:31 +1000
Subject: Shuttleworth on Wine
In-Reply-To: <36a11a3a0905051628w27eac723gba369eaa600103c6@mail.gmail.com>
References: <185001.36631.qm@web39705.mail.mud.yahoo.com>
	<d7e40be30905051622i9291bfci3fa41562e1643140@mail.gmail.com> 
	<36a11a3a0905051628w27eac723gba369eaa600103c6@mail.gmail.com>
Message-ID: <d7e40be30905051637t65eb985bidb5fc42a5f22ed2a@mail.gmail.com>

2009/5/6 Remco <remco47 at gmail.com>:
> On Wed, May 6, 2009 at 1:22 AM, Ben Klein <shacklein at gmail.com> wrote:
>> Basically, what Shuttleworth is saying is that running Windows apps (whether
>> via Wine or via porting) is unimportant to Ubuntu (or the opensource world in
>> general)
>
> He uses the word important, not unimportant. But he also says that the
> interviewer missed the third aspect that is important: good free
> software itself.

Reading between the lines here. "They're both important, but what's
REALLY important is ..."

He can't really shout the interviewer down and say "you're missing the
point entirely" directly. That's bad PR. :)


From remco47 at gmail.com  Tue May  5 18:35:21 2009
From: remco47 at gmail.com (Remco)
Date: Wed, 6 May 2009 01:35:21 +0200
Subject: Shuttleworth on Wine
In-Reply-To: <d7e40be30905051628u490643c5j56b34ee14b3b61dd@mail.gmail.com>
References: <660374.13022.qm@web39704.mail.mud.yahoo.com>
	<d7e40be30905051628u490643c5j56b34ee14b3b61dd@mail.gmail.com>
Message-ID: <36a11a3a0905051635q6024e42cm81827dd05eb24fbd@mail.gmail.com>

On Wed, May 6, 2009 at 1:28 AM, Ben Klein <shacklein at gmail.com> wrote:
> 2009/5/6 nn <saturn_systems at yahoo.com>:
>>
>> And the slashdot thread:
>> Shuttleworth Says Ubuntu Can't Just Be Windows
>> http://linux.slashdot.org/article.pl?sid=09/05/05/1546230
>
> This is nothing new. It's just now we have a celebrity saying it.

Not only that. Canonical has decided a few years ago that Wine would
not be included for this reason. [1] So it's really really really old
news.

Remco

[1] http://linux.slashdot.org/article.pl?sid=07/05/11/1220219&art_pos=4


From austinenglish at gmail.com  Tue May  5 19:33:37 2009
From: austinenglish at gmail.com (Austin English)
Date: Tue, 5 May 2009 19:33:37 -0500
Subject: comctl32/test: test CheckState Macros
In-Reply-To: <4A009FD9.409@dawncrow.de>
References: <4A009FD9.409@dawncrow.de>
Message-ID: <b6bb06270905051733h63b1ab9fndf9cbb866c96e786@mail.gmail.com>

2009/5/5 Andr? Hentschel <nerv at dawncrow.de>:
> ---
> ?dlls/comctl32/tests/listview.c | ? ?2 ++
> ?1 files changed, 2 insertions(+), 0 deletions(-)

This patch fails without your other patch. In the future, please
combine them into one patch, or number them in a series.

Wine must compile and pass the tests before and after every patch.

-- 
-Austin


From scott at open-vote.org  Wed May  6 01:29:49 2009
From: scott at open-vote.org (Scott Ritchie)
Date: Tue, 05 May 2009 23:29:49 -0700
Subject: Shuttleworth on Wine
In-Reply-To: <185001.36631.qm@web39705.mail.mud.yahoo.com>
References: <185001.36631.qm@web39705.mail.mud.yahoo.com>
Message-ID: <4A012E5D.9090906@open-vote.org>

nn wrote:
> Shuttleworth on Wine
> http://www.osnews.com/story/21438/Shuttleworth_on_Wine
> 
> 
>       Yahoo!7 recommends that you update your browser to the new Internet Explorer 8.Get it now.
> 
> 

The reason stuff like this makes the news is because everyone wants to 
know about Wine in Ubuntu.  The past two talks I've given on Wine at 
Ubuntu Open Week were similarly plastered with questions, even though 
this time I didn't speak directly after Mark.

The reason everyone wants to know about Wine in Ubuntu is because it 
feels like a big thing.  Ubuntu wants to attract Windows users to a free 
software platform, Wine helps them switch.  The partnership is obvious, 
and Ubuntu doesn't even have to do that much - just include some of the 
integration projects I'm cobbling together.

I've said it before, but I mean it this time - I predict big things for 
the next release, especially if we can get Wine 1.2 in there.  Now, 
someone please finish one of Alexandre's release goals in the next 5 
months so this can happen ;)

Thanks,
Scott Ritchie


From hverbeet at gmail.com  Wed May  6 03:09:38 2009
From: hverbeet at gmail.com (Henri Verbeet)
Date: Wed, 6 May 2009 10:09:38 +0200
Subject: [2/5] WineD3D: Keep track of used float constants
In-Reply-To: <200905052110.29134.stefan@codeweavers.com>
References: <200905052110.29134.stefan@codeweavers.com>
Message-ID: <d658b69e0905060109w776aeb74k9d0e01a0bbe1282c@mail.gmail.com>

> +    reg_maps->constf = HeapAlloc(GetProcessHeap(), HEAP_ZERO_MEMORY,
> +                                 sizeof(*reg_maps->constf) * (constf_size / (sizeof(*reg_maps->constf) * 8) + 1));
This is flawed, it will allocate too much memory. You essentially want
"(bit_count + 31) / 32" to calculate the number of DWORDs.

>  static void shader_record_register_usage(IWineD3DBaseShaderImpl *This, struct shader_reg_maps *reg_maps,
> -        DWORD register_type, UINT register_idx, BOOL has_rel_addr, BOOL pshader)
> +        DWORD register_type, UINT register_idx, BOOL has_rel_addr, BOOL pshader, unsigned char size)
I don't think this is very nice, it's better to just call
shader_record_register_usage() multiple times for the appropriate
instructions. I.e., handle this the same way all the other opcodes are
handled.


From hverbeet at gmail.com  Wed May  6 03:10:07 2009
From: hverbeet at gmail.com (Henri Verbeet)
Date: Wed, 6 May 2009 10:10:07 +0200
Subject: [4/5] WineD3D: Work around a bad crash in fglrx
In-Reply-To: <200905052118.05900.stefan@codeweavers.com>
References: <200905052118.05900.stefan@codeweavers.com>
Message-ID: <d658b69e0905060110s4d1f3815hf408a8427d979847@mail.gmail.com>

2009/5/5 Stefan D?singer <stefan at codeweavers.com>:
> + * quirk only enables point sprites on the first texture unit. This keeps point sprites working in
> + * most games, but avoids the crash
...and on the other ones it will create hard to diagnose / explain
bugs. Just disabling the extension if it's broken also avoids the
crash, and will at least have predictable behaviour.

I also *still* think us working around AMD's bugs is the wrong
approach. Of course it would also help if AMD took these kind of
things seriously, or at least replied to my posts
(http://www.phoronix.com/forums/showpost.php?p=63527&postcount=107).


From vit.hrachovy at sandbox.cz  Wed May  6 03:56:37 2009
From: vit.hrachovy at sandbox.cz (Vit Hrachovy)
Date: Wed, 06 May 2009 10:56:37 +0200
Subject: Wine on Solaris 10 and SXCE
Message-ID: <4A0150C5.6000302@sandbox.cz>

Hi people,
Apostolos provided me links to download Sun packages of latest Wine 
(1.1.20) at sunfreepacks. Could someone responsible please update WineHQ 
page with the following info:

http://winehq.org
   Run Windows applications on Linux, BSD, Solaris and Mac OS X.

http://winehq.org/download/
    Solaris
      http://www.sunfreepacks.com/listing/?limit=1000&offset=0
    Solaris 10
      http://www.sunfreepacks.com/pkgpool/ASwine-1.1.20.pkg.7z
    Solaris SXCE
      http://www.sunfreepacks.com/pkgpool/ASwine-SXCE-1.1.20.pkg.7z
    OpenSolaris
      package wine in repository http://pkg.opensolaris.org/contrib

Thank you very much!
Regards
Vit Hrachovy


-------- Original Message --------
Subject: Re: wine web pages update
Date: Fri, 1 May 2009 11:31:53 -0700 (PDT)
From: Apostolos Syropoulos <asyropoulos at yahoo.com>
To: V?t Hrachov? <vit.hrachovy at sandbox.cz>


   Hello there,

   We have exchanged a couple of messages back in March about the 
inclusion of
Solaris/OpenSolaris download link in the wine pages, but still there is 
no progress.
If you visit the following URL

http://www.sunfreepacks.com/listing/?limit=10&offset=20

you will be able to download binary packages for both platforms. Could 
you please
update your web pages?

Kind regards,

Apostolos


----------------------
Apostolos Syropoulos
Xanthi, Greece


From austinenglish at gmail.com  Wed May  6 04:02:34 2009
From: austinenglish at gmail.com (Austin English)
Date: Wed, 6 May 2009 04:02:34 -0500
Subject: Wine on Solaris 10 and SXCE
In-Reply-To: <4A0150C5.6000302@sandbox.cz>
References: <4A0150C5.6000302@sandbox.cz>
Message-ID: <b6bb06270905060202h774d2260we5bc0b64baf1f3cb@mail.gmail.com>

On Wed, May 6, 2009 at 3:56 AM, Vit Hrachovy <vit.hrachovy at sandbox.cz> wrote:
> Hi people,
> Apostolos provided me links to download Sun packages of latest Wine (1.1.20)
> at sunfreepacks. Could someone responsible please update WineHQ page with
> the following info:

The sources are available at http://source.winehq.org/git/

> ? OpenSolaris
> ? ? package wine in repository http://pkg.opensolaris.org/contrib

Is the contrib repository enabled by default? I haven't noticed it
when using OpenSolaris...or is it new for 2009.06?

-- 
-Austin


From twickline at gmail.com  Wed May  6 04:07:23 2009
From: twickline at gmail.com (Tom Wickline)
Date: Wed, 6 May 2009 05:07:23 -0400
Subject: Wine on Solaris 10 and SXCE
In-Reply-To: <b6bb06270905060202h774d2260we5bc0b64baf1f3cb@mail.gmail.com>
References: <4A0150C5.6000302@sandbox.cz>
	<b6bb06270905060202h774d2260we5bc0b64baf1f3cb@mail.gmail.com>
Message-ID: <53e3a9930905060207r1f669db2pe8ac965f04460c18@mail.gmail.com>

On Wed, May 6, 2009 at 5:02 AM, Austin English <austinenglish at gmail.com>wrote:

> On Wed, May 6, 2009 at 3:56 AM, Vit Hrachovy <vit.hrachovy at sandbox.cz>
> wrote:
> > Hi people,
> > Apostolos provided me links to download Sun packages of latest Wine
> (1.1.20)
> > at sunfreepacks. Could someone responsible please update WineHQ page with
> > the following info:
>
> The sources are available at http://source.winehq.org/git/
>
> >   OpenSolaris
> >     package wine in repository http://pkg.opensolaris.org/contrib
>
> Is the contrib repository enabled by default? I haven't noticed it
> when using OpenSolaris...or is it new for 2009.06?


Contrib still shows Wine 1.0.1

http://pkg.opensolaris.org/contrib/en/search.shtml?token=wine&action=Search


>
> --
> -Austin
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090506/d4e1e334/attachment.htm>

From fgouget at free.fr  Wed May  6 04:42:19 2009
From: fgouget at free.fr (Francois Gouget)
Date: Wed, 6 May 2009 11:42:19 +0200 (CEST)
Subject: [4/5] WineD3D: Work around a bad crash in fglrx
In-Reply-To: <d658b69e0905060110s4d1f3815hf408a8427d979847@mail.gmail.com>
References: <200905052118.05900.stefan@codeweavers.com>
	<d658b69e0905060110s4d1f3815hf408a8427d979847@mail.gmail.com>
Message-ID: <alpine.DEB.2.00.0905061136310.10521@amboise.dolphin>

On Wed, 6 May 2009, Henri Verbeet wrote:
[...]
> I also *still* think us working around AMD's bugs is the wrong
> approach. Of course it would also help if AMD took these kind of
> things seriously, or at least replied to my posts
> (http://www.phoronix.com/forums/showpost.php?p=63527&postcount=107).

Do we have a more formal way of reporting bugs to AMD/ATI? Something 
like a Bugzilla? Concerning this issue (the driver reporting a number of 
vec4s instead of the number of uniforms), do we have a way of checking 
independently of AMD? If so that would strengthen our bug report.

I have a feeling that Wine is the only 'application' that really tests 
the Unix OpenGL drivers, by virtue of being the only application to run 
the really complex vertex and pixel shaders that are found only in 
Windows games. Maybe I am wrong, but if I am right it means that the 
driver developpers would do well to take Wine seriously, and probably 
use it as a matter of course, if they want to produce quality code.

But hey, I got a quick answer to my bug report to the Intel developpers 
so it's not always bad. Unfortunately now I'm the one that's slow to 
answer as I have not had time to test their proposed fix. But I have not 
forgotten...

-- 
Francois Gouget <fgouget at free.fr>              http://fgouget.free.fr/
    I haven't lost my mind, it's backed up on tape around here somewhere...


From stefan at codeweavers.com  Wed May  6 04:59:27 2009
From: stefan at codeweavers.com (Stefan =?utf-8?q?D=C3=B6singer?=)
Date: Wed, 6 May 2009 11:59:27 +0200
Subject: [4/5] WineD3D: Work around a bad crash in fglrx
In-Reply-To: <d658b69e0905060110s4d1f3815hf408a8427d979847@mail.gmail.com>
References: <200905052118.05900.stefan@codeweavers.com>
	<d658b69e0905060110s4d1f3815hf408a8427d979847@mail.gmail.com>
Message-ID: <200905061159.27962.stefan@codeweavers.com>

Am Mittwoch, 6. Mai 2009 10:10:07 schrieb Henri Verbeet:
> 2009/5/5 Stefan D?singer <stefan at codeweavers.com>:
> > + * quirk only enables point sprites on the first texture unit. This
> > keeps point sprites working in + * most games, but avoids the crash
>
> ...and on the other ones it will create hard to diagnose / explain
> bugs. Just disabling the extension if it's broken also avoids the
> crash, and will at least have predictable behaviour.
Not in this case. As I explain in a comment in the test, there's no d3d cap 
flag for point sprites. So the games will just go ahead and try to do the 
same kind of rendering and just fail in the same or worse way.

The only advantage we get from disabling point sprites altogether is the WARN 
we get if the game tries to use them. I'll add a similar WARN to the point 
sprite function if the game uses them and this workaround is active.

> I also *still* think us working around AMD's bugs is the wrong
> approach.
I agree in general, if this was just a rendering bug I'd put the workaround as 
a hack into CrossOver and be happy. However, we're trying to prevent a kernel 
panic here, and on the last two Wineconfs we agreed that we should try to 
prevent kernel panics while running our d3d tests, even if it is ugly(we have 
similar workarounds for old Mesa glDrawPixels / glReadPixels issues). If the 
tests crash the systems people will refuse to run them, making them useless.

> Of course it would also help if AMD took these kind of 
> things seriously, or at least replied to my posts
> (http://www.phoronix.com/forums/showpost.php?p=63527&postcount=107).
That specific issue is fixed in 9.4 I think. They confirmed the bug and 
replied here:
http://ati.cchtml.com/show_bug.cgi?id=1462

(unfortunately no 9.4 for <= r500 cards, so we have to keep our workaround in 
directx.c)


From hverbeet at gmail.com  Wed May  6 04:57:02 2009
From: hverbeet at gmail.com (Henri Verbeet)
Date: Wed, 6 May 2009 11:57:02 +0200
Subject: [4/5] WineD3D: Work around a bad crash in fglrx
In-Reply-To: <alpine.DEB.2.00.0905061136310.10521@amboise.dolphin>
References: <200905052118.05900.stefan@codeweavers.com>
	<d658b69e0905060110s4d1f3815hf408a8427d979847@mail.gmail.com>
	<alpine.DEB.2.00.0905061136310.10521@amboise.dolphin>
Message-ID: <d658b69e0905060257j7e395b51vff9a19dce91b1477@mail.gmail.com>

2009/5/6 Francois Gouget <fgouget at free.fr>:
> On Wed, 6 May 2009, Henri Verbeet wrote:
> [...]
>> I also *still* think us working around AMD's bugs is the wrong
>> approach. Of course it would also help if AMD took these kind of
>> things seriously, or at least replied to my posts
>> (http://www.phoronix.com/forums/showpost.php?p=63527&postcount=107).
>
> Do we have a more formal way of reporting bugs to AMD/ATI? Something
> like a Bugzilla? Concerning this issue (the driver reporting a number of
> vec4s instead of the number of uniforms), do we have a way of checking
> independently of AMD? If so that would strengthen our bug report.
>
I think they're aware of that particular issue because Stefan talked
privately to one of their developers, but unless things changed
recently http://ati.cchtml.com/ is probably the closest to a bug
tracker there is, and I'm not completely sure they read that
regularly.

> But hey, I got a quick answer to my bug report to the Intel developpers
> so it's not always bad. Unfortunately now I'm the one that's slow to
> answer as I have not had time to test their proposed fix. But I have not
> forgotten...
>
Mesa (that includes e.g. the intel and radeon drivers) is generally
responsive to bug reports, as is NVIDIA. It's really just AMD and
Apple that are problematic wrt. getting bugs fixed.


From hverbeet at gmail.com  Wed May  6 05:05:31 2009
From: hverbeet at gmail.com (Henri Verbeet)
Date: Wed, 6 May 2009 12:05:31 +0200
Subject: [4/5] WineD3D: Work around a bad crash in fglrx
In-Reply-To: <200905061159.27962.stefan@codeweavers.com>
References: <200905052118.05900.stefan@codeweavers.com>
	<d658b69e0905060110s4d1f3815hf408a8427d979847@mail.gmail.com>
	<200905061159.27962.stefan@codeweavers.com>
Message-ID: <d658b69e0905060305v428317e7n1e7ddbffbc489dc7@mail.gmail.com>

2009/5/6 Stefan D?singer <stefan at codeweavers.com>:
> Am Mittwoch, 6. Mai 2009 10:10:07 schrieb Henri Verbeet:
>> ...and on the other ones it will create hard to diagnose / explain
>> bugs. Just disabling the extension if it's broken also avoids the
>> crash, and will at least have predictable behaviour.
> Not in this case. As I explain in a comment in the test, there's no d3d cap
> flag for point sprites. So the games will just go ahead and try to do the
> same kind of rendering and just fail in the same or worse way.
>
> The only advantage we get from disabling point sprites altogether is the WARN
> we get if the game tries to use them. I'll add a similar WARN to the point
> sprite function if the game uses them and this workaround is active.
>
Well, the point is that if you disable the extension it will just not
work at all, instead of "sometimes, depending on which texture unit
the texture is mapped on".

>> Of course it would also help if AMD took these kind of
>> things seriously, or at least replied to my posts
>> (http://www.phoronix.com/forums/showpost.php?p=63527&postcount=107).
> That specific issue is fixed in 9.4 I think. They confirmed the bug and
> replied here:
> http://ati.cchtml.com/show_bug.cgi?id=1462
>
Sure, I read that too, but it's not my point of course.


From vit.hrachovy at sandbox.cz  Wed May  6 05:15:38 2009
From: vit.hrachovy at sandbox.cz (Vit Hrachovy)
Date: Wed, 06 May 2009 12:15:38 +0200
Subject: Wine on Solaris 10 and SXCE
In-Reply-To: <b6bb06270905060202h774d2260we5bc0b64baf1f3cb@mail.gmail.com>
References: <4A0150C5.6000302@sandbox.cz>
	<b6bb06270905060202h774d2260we5bc0b64baf1f3cb@mail.gmail.com>
Message-ID: <4A01634A.2030708@sandbox.cz>

Austin English wrote:
> On Wed, May 6, 2009 at 3:56 AM, Vit Hrachovy <vit.hrachovy at sandbox.cz> wrote:
>> Hi people,
>> Apostolos provided me links to download Sun packages of latest Wine (1.1.20)
>> at sunfreepacks. Could someone responsible please update WineHQ page with
>> the following info:
> 
> The sources are available at http://source.winehq.org/git/

Ahh, thx. will send patch.

> 
>>   OpenSolaris
>>     package wine in repository http://pkg.opensolaris.org/contrib
> 
> Is the contrib repository enabled by default? I haven't noticed it
> when using OpenSolaris...or is it new for 2009.06?

No, you have to add contrib repo manually. contrib repo exists since 
2008.11 release.

Cheers
Vit


From austinenglish at gmail.com  Wed May  6 05:18:20 2009
From: austinenglish at gmail.com (Austin English)
Date: Wed, 6 May 2009 05:18:20 -0500
Subject: Wine on Solaris 10 and SXCE
In-Reply-To: <4A01634A.2030708@sandbox.cz>
References: <4A0150C5.6000302@sandbox.cz>
	<b6bb06270905060202h774d2260we5bc0b64baf1f3cb@mail.gmail.com>
	<4A01634A.2030708@sandbox.cz>
Message-ID: <b6bb06270905060318l2ea0a44ay9dc4c978bdeb2b0e@mail.gmail.com>

On Wed, May 6, 2009 at 5:15 AM, Vit Hrachovy <vit.hrachovy at sandbox.cz> wrote:
> Austin English wrote:
>>> ?OpenSolaris
>>> ? ?package wine in repository http://pkg.opensolaris.org/contrib
>>
>> Is the contrib repository enabled by default? I haven't noticed it
>> when using OpenSolaris...or is it new for 2009.06?
>
> No, you have to add contrib repo manually. contrib repo exists since 2008.11
> release.

Ahh, thanks.

Do you know if there's any plan on OpenSolaris's end to include Wine
in its repository?

-- 
-Austin


From hverbeet at gmail.com  Wed May  6 05:19:27 2009
From: hverbeet at gmail.com (Henri Verbeet)
Date: Wed, 6 May 2009 12:19:27 +0200
Subject: [4/5] WineD3D: Work around a bad crash in fglrx
In-Reply-To: <d658b69e0905060257j7e395b51vff9a19dce91b1477@mail.gmail.com>
References: <200905052118.05900.stefan@codeweavers.com>
	<d658b69e0905060110s4d1f3815hf408a8427d979847@mail.gmail.com>
	<alpine.DEB.2.00.0905061136310.10521@amboise.dolphin>
	<d658b69e0905060257j7e395b51vff9a19dce91b1477@mail.gmail.com>
Message-ID: <d658b69e0905060319n39dde0acs75fbd4769cd61bbd@mail.gmail.com>

2009/5/6 Henri Verbeet <hverbeet at gmail.com>:
> Mesa (that includes e.g. the intel and radeon drivers) is generally
> responsive to bug reports, as is NVIDIA. It's really just AMD and
> Apple that are problematic wrt. getting bugs fixed.
>
Just for the record, I'm not trying to just make AMD look bad here, I
think it's great that they released the GPU documentation, and that
they're paying people to work on the Mesa driver. Also, going by what
I hear from other people, fglrx improved a lot in the more recent
versions (certainly compared to the kind of support my Radeon 9800 Pro
had...), so it's not all bad. They just *really* need to fix their
developer relations stuff.


From vit.hrachovy at sandbox.cz  Wed May  6 05:40:04 2009
From: vit.hrachovy at sandbox.cz (Vit Hrachovy)
Date: Wed, 06 May 2009 12:40:04 +0200
Subject: Wine on Solaris 10 and SXCE
In-Reply-To: <b6bb06270905060318l2ea0a44ay9dc4c978bdeb2b0e@mail.gmail.com>
References: <4A0150C5.6000302@sandbox.cz>	
	<b6bb06270905060202h774d2260we5bc0b64baf1f3cb@mail.gmail.com>	
	<4A01634A.2030708@sandbox.cz>
	<b6bb06270905060318l2ea0a44ay9dc4c978bdeb2b0e@mail.gmail.com>
Message-ID: <4A016904.3070104@sandbox.cz>

Austin English wrote:
> On Wed, May 6, 2009 at 5:15 AM, Vit Hrachovy <vit.hrachovy at sandbox.cz> wrote:
>> Austin English wrote:
>>>>  OpenSolaris
>>>>    package wine in repository http://pkg.opensolaris.org/contrib
>>> Is the contrib repository enabled by default? I haven't noticed it
>>> when using OpenSolaris...or is it new for 2009.06?
>> No, you have to add contrib repo manually. contrib repo exists since 2008.11
>> release.
> 
> Ahh, thanks.
> 
> Do you know if there's any plan on OpenSolaris's end to include Wine
> in its repository?

There are no plans to add Wine to /release repository by now (no ARC 
case I'm aware of).

However, anyone can use SourceJuicer [1] and SFE wine spec file [2] to 
contribute latest Wine release to /pending repo and ask /contrib repo 
maintainers to update the package here.

*rumour*
IMO one of technical barriers preventing Wine in /release repo could be 
  that Wine doesn't compile with SunStudio compiler, only with gcc.
*eof rumour*

Regards
Vit

[1]http://opensolaris.org/os/project/sourcejuicer/
[2]https://pkgbuild.svn.sourceforge.net/svnroot/pkgbuild/spec-files-extra/trunk/SFEwine.spec


From shacklein at gmail.com  Wed May  6 08:52:45 2009
From: shacklein at gmail.com (Ben Klein)
Date: Wed, 6 May 2009 23:52:45 +1000
Subject: [4/5] WineD3D: Work around a bad crash in fglrx
In-Reply-To: <alpine.DEB.2.00.0905061136310.10521@amboise.dolphin>
References: <200905052118.05900.stefan@codeweavers.com>
	<d658b69e0905060110s4d1f3815hf408a8427d979847@mail.gmail.com> 
	<alpine.DEB.2.00.0905061136310.10521@amboise.dolphin>
Message-ID: <d7e40be30905060652u6d15f6efq214f979c12f52a7b@mail.gmail.com>

2009/5/6 Francois Gouget <fgouget at free.fr>:
> I have a feeling that Wine is the only 'application' that really tests
> the Unix OpenGL drivers, by virtue of being the only application to run
> the really complex vertex and pixel shaders that are found only in
> Windows games. Maybe I am wrong, but if I am right it means that the
> driver developpers would do well to take Wine seriously, and probably
> use it as a matter of course, if they want to produce quality code.

I've been in contact with developers at Linux Game Publishing for a
while (and am now in fact a Junior Developer for them :D), and from
what I gather, regular OpenGL apps on Linux implement hacks to work
around bugs/shortcomings in ATI/AMD drivers. Wine is a special case
where it's been decided that hacks for specific drivers is a bad idea
except in extreme cases, and that there should be generalised
solutions for everything (which is, by the way, the whole point of
OpenGL :) ).

As a result, the question of hacks in Wine comes up quite often
(ATI/AMD card owners want their games to work!) and it's (almost?)
always rejected. With any luck, we'll see some sensible, functional,
open-source radeonhd drivers coming soonish, so the issue of hacks at
the application level can be minimised.


From thunderbird2k at gmail.com  Wed May  6 09:33:01 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Wed, 6 May 2009 16:33:01 +0200
Subject: [4/5] WineD3D: Work around a bad crash in fglrx
In-Reply-To: <d7e40be30905060652u6d15f6efq214f979c12f52a7b@mail.gmail.com>
References: <200905052118.05900.stefan@codeweavers.com>
	<d658b69e0905060110s4d1f3815hf408a8427d979847@mail.gmail.com>
	<alpine.DEB.2.00.0905061136310.10521@amboise.dolphin>
	<d7e40be30905060652u6d15f6efq214f979c12f52a7b@mail.gmail.com>
Message-ID: <c8485d470905060733mbef553eu8d21a86aee980169@mail.gmail.com>

On Wed, May 6, 2009 at 3:52 PM, Ben Klein <shacklein at gmail.com> wrote:
> 2009/5/6 Francois Gouget <fgouget at free.fr>:
>> I have a feeling that Wine is the only 'application' that really tests
>> the Unix OpenGL drivers, by virtue of being the only application to run
>> the really complex vertex and pixel shaders that are found only in
>> Windows games. Maybe I am wrong, but if I am right it means that the
>> driver developpers would do well to take Wine seriously, and probably
>> use it as a matter of course, if they want to produce quality code.
>
> I've been in contact with developers at Linux Game Publishing for a
> while (and am now in fact a Junior Developer for them :D), and from
> what I gather, regular OpenGL apps on Linux implement hacks to work
> around bugs/shortcomings in ATI/AMD drivers. Wine is a special case
> where it's been decided that hacks for specific drivers is a bad idea
> except in extreme cases, and that there should be generalised
> solutions for everything (which is, by the way, the whole point of
> OpenGL :) ).
>
> As a result, the question of hacks in Wine comes up quite often
> (ATI/AMD card owners want their games to work!) and it's (almost?)
> always rejected. With any luck, we'll see some sensible, functional,
> open-source radeonhd drivers coming soonish, so the issue of hacks at
> the application level can be minimised.
>
>
>

Actually ATI/AMD is quite interested in Wine. I have been in contact
with them for joining their developer program and helping them fix
issues. I didn't have time to fill out all the info yet. I could get
them look at it then.

Roderick


From dgerard at gmail.com  Wed May  6 09:55:38 2009
From: dgerard at gmail.com (David Gerard)
Date: Wed, 6 May 2009 15:55:38 +0100
Subject: Wine on Solaris 10 and SXCE
In-Reply-To: <4A016904.3070104@sandbox.cz>
References: <4A0150C5.6000302@sandbox.cz>
	<b6bb06270905060202h774d2260we5bc0b64baf1f3cb@mail.gmail.com>
	<4A01634A.2030708@sandbox.cz>
	<b6bb06270905060318l2ea0a44ay9dc4c978bdeb2b0e@mail.gmail.com>
	<4A016904.3070104@sandbox.cz>
Message-ID: <fbad4e140905060755o15cd2755lb8422c161470198f@mail.gmail.com>

2009/5/6 Vit Hrachovy <vit.hrachovy at sandbox.cz>:

> *rumour*
> IMO one of technical barriers preventing Wine in /release repo could be
> ?that Wine doesn't compile with SunStudio compiler, only with gcc.
> *eof rumour*


Obviously that sort of thing consititutes a set of bugs that should be
reported and/or fixed by those it affects ;-)

(Wine's cross-platform abilities are presently dismal. But there are
people working on fixing this.)


- d.


From austinenglish at gmail.com  Wed May  6 10:01:35 2009
From: austinenglish at gmail.com (Austin English)
Date: Wed, 6 May 2009 10:01:35 -0500
Subject: Wine on Solaris 10 and SXCE
In-Reply-To: <fbad4e140905060755o15cd2755lb8422c161470198f@mail.gmail.com>
References: <4A0150C5.6000302@sandbox.cz>
	<b6bb06270905060202h774d2260we5bc0b64baf1f3cb@mail.gmail.com>
	<4A01634A.2030708@sandbox.cz>
	<b6bb06270905060318l2ea0a44ay9dc4c978bdeb2b0e@mail.gmail.com>
	<4A016904.3070104@sandbox.cz>
	<fbad4e140905060755o15cd2755lb8422c161470198f@mail.gmail.com>
Message-ID: <b6bb06270905060801n27ef850etd1831a7d0b382caa@mail.gmail.com>

On Wed, May 6, 2009 at 9:55 AM, David Gerard <dgerard at gmail.com> wrote:
> 2009/5/6 Vit Hrachovy <vit.hrachovy at sandbox.cz>:
>
>> *rumour*
>> IMO one of technical barriers preventing Wine in /release repo could be
>> ?that Wine doesn't compile with SunStudio compiler, only with gcc.
>> *eof rumour*
>
>
> Obviously that sort of thing consititutes a set of bugs that should be
> reported and/or fixed by those it affects ;-)
>
> (Wine's cross-platform abilities are presently dismal. But there are
> people working on fixing this.)

Actually, wine works well on many platforms.

Compiler wise, however, gcc is the compiler of choice (most variants,
if not all).

-- 
-Austin


From stefandoesinger at gmx.at  Wed May  6 11:57:02 2009
From: stefandoesinger at gmx.at (Stefan =?iso-8859-1?q?D=F6singer?=)
Date: Wed, 6 May 2009 18:57:02 +0200
Subject: [4/5] WineD3D: Work around a bad crash in fglrx
In-Reply-To: <c8485d470905060733mbef553eu8d21a86aee980169@mail.gmail.com>
References: <200905052118.05900.stefan@codeweavers.com>
	<d7e40be30905060652u6d15f6efq214f979c12f52a7b@mail.gmail.com>
	<c8485d470905060733mbef553eu8d21a86aee980169@mail.gmail.com>
Message-ID: <200905061857.03012.stefandoesinger@gmx.at>

Am Mittwoch, 6. Mai 2009 16:33:01 schrieb Roderick Colenbrander:

> Actually ATI/AMD is quite interested in Wine. I have been in contact
> with them for joining their developer program and helping them fix
> issues. I didn't have time to fill out all the info yet. I could get
> them look at it then.
Note that the issue here is not getting the bug fixed(it is fixed in the 9.4 
driver, as you've verified with my test apps), but that on older radeons 
we'll be stuck with a broken driver until one of the 3 existing Mesa radeon 
drivers becomes useable(I think the radeon-rewrite branch is the target, not 
the radeonhd one).


From austinenglish at gmail.com  Thu May  7 01:54:23 2009
From: austinenglish at gmail.com (Austin English)
Date: Thu, 7 May 2009 01:54:23 -0500
Subject: (resubmit: need a hint) user32: when needed, recalculate menu 
	size of menu bar before tracking starts.
In-Reply-To: <1241679137-22565-1-git-send-email-wijn@online.nl>
References: <1241679137-22565-1-git-send-email-wijn@online.nl>
Message-ID: <b6bb06270905062354k274a0120ga2bce81de7741a60@mail.gmail.com>

On Thu, May 7, 2009 at 1:52 AM, Rein Klazes <wijn at online.nl> wrote:
> Fixes bug 10845
>
> Changes from previous patch: menu position calculations moved to
> nonclient.c.

Can you add a testcase?

-- 
-Austin


From wijn at online.nl  Thu May  7 02:16:48 2009
From: wijn at online.nl (Rein Klazes)
Date: Thu, 07 May 2009 09:16:48 +0200
Subject: (resubmit: need a hint) user32: when needed,
	recalculate menu  size of menu bar before tracking starts.
In-Reply-To: <b6bb06270905062354k274a0120ga2bce81de7741a60@mail.gmail.com>
References: <1241679137-22565-1-git-send-email-wijn@online.nl>
	<b6bb06270905062354k274a0120ga2bce81de7741a60@mail.gmail.com>
Message-ID: <972505tih08cb3o6888r42uc9kdn2ra8f3@4ax.com>

On Thu, 7 May 2009 01:54:23 -0500, you wrote:

>On Thu, May 7, 2009 at 1:52 AM, Rein Klazes <wijn at online.nl> wrote:
>> Fixes bug 10845
>>
>> Changes from previous patch: menu position calculations moved to
>> nonclient.c.
>
>Can you add a testcase?

I don't see what you would like to test. The menu->Height == zero has
the meaning "menusize needs recalculation" all over the code. That you
need to have the menu size right before doing a hittest (in
MENU_ButtonDown) is even more obvious.

I expect the problem is more the form: touching sensitive nonclient
code.

Rein.


From niko.lecam at gmail.com  Thu May  7 02:45:39 2009
From: niko.lecam at gmail.com (Nicolas Le Cam)
Date: Thu, 7 May 2009 09:45:39 +0200
Subject: (resubmit: need a hint) user32: when needed, recalculate menu 
	size of menu bar before tracking starts.
In-Reply-To: <972505tih08cb3o6888r42uc9kdn2ra8f3@4ax.com>
References: <1241679137-22565-1-git-send-email-wijn@online.nl>
	<b6bb06270905062354k274a0120ga2bce81de7741a60@mail.gmail.com>
	<972505tih08cb3o6888r42uc9kdn2ra8f3@4ax.com>
Message-ID: <d7e62e980905070045s26066d49w3950d9e781f1a2d6@mail.gmail.com>

2009/5/7 Rein Klazes <wijn at online.nl>:
> On Thu, 7 May 2009 01:54:23 -0500, you wrote:
>
>>On Thu, May 7, 2009 at 1:52 AM, Rein Klazes <wijn at online.nl> wrote:
>>> Fixes bug 10845
>>>
>>> Changes from previous patch: menu position calculations moved to
>>> nonclient.c.
>>
>>Can you add a testcase?
>
> I don't see what you would like to test. The menu->Height == zero has
> the meaning "menusize needs recalculation" all over the code. That you
> need to have the menu size right before doing a hittest (in
> MENU_ButtonDown) is even more obvious.
>
> I expect the problem is more the form: touching sensitive nonclient
> code.
>
> Rein.
>
>
>
Even if it's obvious that this is the right behavior, it's always
useful to add a test, at least to prevent regressions.

-- 
Nicolas Le Cam


From msclrhd at googlemail.com  Thu May  7 03:01:40 2009
From: msclrhd at googlemail.com (Reece Dunn)
Date: Thu, 7 May 2009 09:01:40 +0100
Subject: (resubmit: need a hint) user32: when needed, recalculate menu 
	size of menu bar before tracking starts.
In-Reply-To: <972505tih08cb3o6888r42uc9kdn2ra8f3@4ax.com>
References: <1241679137-22565-1-git-send-email-wijn@online.nl>
	<b6bb06270905062354k274a0120ga2bce81de7741a60@mail.gmail.com>
	<972505tih08cb3o6888r42uc9kdn2ra8f3@4ax.com>
Message-ID: <3f4fd2640905070101t211664epac2ed6866250e5f1@mail.gmail.com>

2009/5/7 Rein Klazes <wijn at online.nl>:
> On Thu, 7 May 2009 01:54:23 -0500, you wrote:
>
>>On Thu, May 7, 2009 at 1:52 AM, Rein Klazes <wijn at online.nl> wrote:
>>> Fixes bug 10845
>>>
>>> Changes from previous patch: menu position calculations moved to
>>> nonclient.c.
>>
>>Can you add a testcase?
>
> I don't see what you would like to test. The menu->Height == zero has
> the meaning "menusize needs recalculation" all over the code. That you
> need to have the menu size right before doing a hittest (in
> MENU_ButtonDown) is even more obvious.
>
> I expect the problem is more the form: touching sensitive nonclient
> code.

+    /* eg if the application modified the menu in the WM_INITMENU message */

Does Wine have test cases for this workflow? Also, you mention needing
it for the hit test, so can you test performing a hit test (if not,
testing that it provides sensible values is useful)?

It's not so much about touching sensitive nonclient code. It is about
being able to say something like "if a program does this, Windows
gives the menu a non-zero height, but Wine does not. This can be fixed
by ...".

The analogy I gave someone a while back is of a series of light bulbs,
switches and a black box
(http://www.mail-archive.com/wine-devel at winehq.org/msg38385.html).

You may know, for example, that a function f is generating a sine wave
(i.e. it is the sin function), but can you prove that? Tests let you
verify that behaviour. What about edge cases? Is the argument in
degrees or radians? If someone switched to an algorithm for f that
used degrees instead of radians, how would you know that f is now
broken? Or if they mistype one of the numbers, how would you know that
it is incorrect?

- Reece


From joel at airwebreathe.org.uk  Thu May  7 03:35:10 2009
From: joel at airwebreathe.org.uk (Joel Holdsworth)
Date: Thu, 07 May 2009 09:35:10 +0100
Subject: Getting my test for DrawIcon and DrawIconEx included
Message-ID: <1241685310.3955.5.camel@joel-desktop>

Is there a reason why my patch (attached) hasn't been included yet? This
is my first patch, so maybe someone can help me get it in.

Joel
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0001-Added-tests-for-DrawIcon-and-DrawIconEx.patch
Type: text/x-patch
Size: 8081 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090507/14a51487/attachment.bin>

From bunglehead at gmail.com  Thu May  7 03:48:47 2009
From: bunglehead at gmail.com (Nikolay Sivov)
Date: Thu, 07 May 2009 12:48:47 +0400
Subject: Getting my test for DrawIcon and DrawIconEx included
In-Reply-To: <1241685310.3955.5.camel@joel-desktop>
References: <1241685310.3955.5.camel@joel-desktop>
Message-ID: <4A02A06F.6030703@gmail.com>

Joel Holdsworth wrote:
> Is there a reason why my patch (attached) hasn't been included yet? This
> is my first patch, so maybe someone can help me get it in.
>
> Joel+
>   
Just a quick look:

1)

+    Sleep(200);
+
+    return hWnd;
+}
+

Why are you sleeping here?

2) Why do you need a window here? It seems that you use it only to retrieve HDC.
3) It's better to pass a LINE in such cases (to check_icon_draw helper):

+        todo_wine
+        {
+            check_icon_draw(hwnd, drawiconex, TRUE, 0xFFA0B0C0, 32, 0x00FFFFFF, 0x00C0B0A0);
+
+            check_icon_draw(hwnd, drawiconex, FALSE, 0x80A0B0C0, 32, 0x00000000, 0x00605850);
+            check_icon_draw(hwnd, drawiconex, TRUE, 0x80A0B0C0, 32, 0x00000000, 0x00605850);
+            check_icon_draw(hwnd, drawiconex, FALSE, 0x80A0B0C0, 32, 0x00FFFFFF, 0x00DFD7CF);
+            check_icon_draw(hwnd, drawiconex, TRUE, 0x80A0B0C0, 32, 0x00FFFFFF, 0x00DFD7CF);
+
+            check_icon_draw(hwnd, drawiconex, FALSE, 0x01FFFFFF, 32, 0x00000000, 0x00010101);
+            check_icon_draw(hwnd, drawiconex, TRUE, 0x01FFFFFF, 32, 0x00000000, 0x00010101);
+            check_icon_draw(hwnd, drawiconex, FALSE, 0xFEFFFFFF, 32, 0x00000000, 0x00FEFEFE);
+            check_icon_draw(hwnd, drawiconex, TRUE, 0xFEFFFFFF, 32, 0x00000000, 0x00FEFEFE);
+        }

4) How do these tests behave on older platforms < NT5 by means of alpha 
channel? Maybe it's handled somehow, put a comment about it please.


From msclrhd at googlemail.com  Thu May  7 04:16:42 2009
From: msclrhd at googlemail.com (Reece Dunn)
Date: Thu, 7 May 2009 10:16:42 +0100
Subject: notepad: Use the explicit W-form of the types.
In-Reply-To: <20090507090848.GA2211@redhat.com>
References: <20090507090848.GA2211@redhat.com>
Message-ID: <3f4fd2640905070216u1f7d7d76s6a483c28f0ebe539@mail.gmail.com>

2009/5/7 Michael Stefaniuc <mstefani at redhat.de>:
> ? ? ? ? LoadString(Globals.hInstance, STRING_ERROR, szTitle, SIZEOF(szTitle));
> ? ? ? ? FormatMessage(
> ? ? ? ? ? ? FORMAT_MESSAGE_ALLOCATE_BUFFER | FORMAT_MESSAGE_FROM_SYSTEM,
> - ? ? ? ? ? ?NULL, error, 0,
> - ? ? ? ? ? ?(LPTSTR) &lpMsgBuf, 0, NULL);
> + ? ? ? ? ? ?NULL, error, 0, (LPWSTR)&lpMsgBuf, 0, NULL);

Shouldn't you be using FormatMessageW here?

Also, should the LoadString call be fixed as well?

- Reece


From mstefani at redhat.com  Thu May  7 04:25:05 2009
From: mstefani at redhat.com (Michael Stefaniuc)
Date: Thu, 07 May 2009 11:25:05 +0200
Subject: notepad: Use the explicit W-form of the types.
In-Reply-To: <3f4fd2640905070216u1f7d7d76s6a483c28f0ebe539@mail.gmail.com>
References: <20090507090848.GA2211@redhat.com>
	<3f4fd2640905070216u1f7d7d76s6a483c28f0ebe539@mail.gmail.com>
Message-ID: <4A02A8F1.80309@redhat.com>

Reece Dunn wrote:
> 2009/5/7 Michael Stefaniuc <mstefani at redhat.de>:
>>         LoadString(Globals.hInstance, STRING_ERROR, szTitle, SIZEOF(szTitle));
>>         FormatMessage(
>>             FORMAT_MESSAGE_ALLOCATE_BUFFER | FORMAT_MESSAGE_FROM_SYSTEM,
>> -            NULL, error, 0,
>> -            (LPTSTR) &lpMsgBuf, 0, NULL);
>> +            NULL, error, 0, (LPWSTR)&lpMsgBuf, 0, NULL);
> 
> Shouldn't you be using FormatMessageW here?
> 
> Also, should the LoadString call be fixed as well?
Of course it should. I'm not finished yet; that will be a separate patch.

bye
	michael


From julliard at winehq.org  Thu May  7 04:57:29 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Thu, 07 May 2009 11:57:29 +0200
Subject: resubmit: [PATCH] crypt32: change salt allocation to handle
	errors (Coverity 133)
In-Reply-To: Marcus Meissner's message of "Sat\, 6 May 2009 10\:34\:56 +0200"
Message-ID: <87hbzxck1i.fsf@wine.dyndns.org>

Marcus Meissner <marcus at jet.franken.de> writes:

> Coverity 133 shows that we need a error handling on failing
> memory allocation here.

Please handle the error correctly, returning FALSE is not enough.

-- 
Alexandre Julliard
julliard at winehq.org


From julliard at winehq.org  Thu May  7 05:05:23 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Thu, 07 May 2009 12:05:23 +0200
Subject: (resubmit: need a hint) user32: when needed,
	recalculate menu size of menu bar before tracking starts.
In-Reply-To: <1241679137-22565-1-git-send-email-wijn@online.nl> (Rein Klazes's
	message of "Thu, 7 May 2009 08:52:16 +0200")
References: <1241679137-22565-1-git-send-email-wijn@online.nl>
Message-ID: <87d4alcjoc.fsf@wine.dyndns.org>

Rein Klazes <wijn at online.nl> writes:

> Fixes bug 10845
>
> Changes from previous patch: menu position calculations moved to
> nonclient.c.

You shouldn't need that, the menu size should be recomputed when it gets
repainted. And if the menu was changed the whole window size needs to be
recomputed anyway.

-- 
Alexandre Julliard
julliard at winehq.org


From ge at gse.nl  Thu May  7 06:46:45 2009
From: ge at gse.nl (Ge van Geldorp)
Date: Thu, 7 May 2009 13:46:45 +0200
Subject: Getting my test for DrawIcon and DrawIconEx included
In-Reply-To: <mailman.8482.1241688337.3322.wine-devel@winehq.org>
References: <mailman.8482.1241688337.3322.wine-devel@winehq.org>
Message-ID: <00e201c9cf09$81dadf70$85909e50$@nl>

Hi Joel,

> From: Joel Holdsworth
>
> Is there a reason why my patch (attached) hasn't been included yet? This
> is my first patch, so maybe someone can help me get it in.

You are aware that this patch introduces test failures on Windows 2000,
Vista and 2008? See
http://www.winehq.org/pipermail/wine-devel/2009-May/075324.html

Ge.



From julliard at winehq.org  Thu May  7 08:10:39 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Thu, 07 May 2009 15:10:39 +0200
Subject: gdiplus: use the mode passed to GdipCreateLineBrushFromRect
In-Reply-To: <33F6268AA99B6C448F07F03B2B6497D32C1E08@taz.CodeWeavers.local>
	(Vincent Povirk's message of "Wed, 6 May 2009 17:32:10 -0500")
References: <33F6268AA99B6C448F07F03B2B6497D32C1E08@taz.CodeWeavers.local>
Message-ID: <877i0tcb3k.fsf@wine.dyndns.org>

"Vincent Povirk" <vincent at codeweavers.com> writes:

> From 5ff18c519843d8df18bbb9d398079ed6a532c8c6 Mon Sep 17 00:00:00 2001
> From: Vincent Povirk <vincent at codeweavers.com>
> Date: Wed, 6 May 2009 16:36:06 -0500
> Subject: [PATCH] gdiplus: use the mode passed to GdipCreateLineBrushFromRect

It doesn't work here:

../../../tools/runtest -q -P wine -M gdiplus.dll -T ../../.. -p gdiplus_test.exe.so brush.c && touch brush.ok
brush.c:343: Test failed: Expected 100.00, got 0.00
make[2]: *** [brush.ok] Error 1

-- 
Alexandre Julliard
julliard at winehq.org


From julliard at winehq.org  Thu May  7 08:11:28 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Thu, 07 May 2009 15:11:28 +0200
Subject: [1/3](resend)msctf: implement ITfKeystrokeMgr::PreserveKey
In-Reply-To: <4A01AFA9.6040505@codeweavers.com> (Aric Stewart's message of
	"Wed, 06 May 2009 10:41:29 -0500")
References: <4A01AFA9.6040505@codeweavers.com>
Message-ID: <873abhcb27.fsf@wine.dyndns.org>

Aric Stewart <aric at codeweavers.com> writes:

> ---
>  dlls/msctf/tests/inputprocessor.c |    6 ++--
>  dlls/msctf/threadmgr.c            |   59
> +++++++++++++++++++++++++++++++++++-
>  2 files changed, 60 insertions(+), 5 deletions(-)

It doesn't work here:

../../../tools/runtest -q -P wine -M msctf.dll -T ../../.. -p msctf_test.exe.so inputprocessor.c && touch inputprocessor.ok
inputprocessor.c:415: Test failed: ITfKeystrokeMgr_PreserveKey failed
inputprocessor.c:418: Test failed: ITfKeystrokeMgr_PreserveKey inproperly succeeded
make[2]: *** [inputprocessor.ok] Error 2

-- 
Alexandre Julliard
julliard at winehq.org


From nerv at dawncrow.de  Thu May  7 09:49:05 2009
From: nerv at dawncrow.de (=?UTF-8?B?QW5kcsOpIEhlbnRzY2hlbA==?=)
Date: Thu, 07 May 2009 16:49:05 +0200
Subject: comctl32/test: test CheckState Macros
In-Reply-To: <b6bb06270905051733h63b1ab9fndf9cbb866c96e786@mail.gmail.com>
References: <4A009FD9.409@dawncrow.de>
	<b6bb06270905051733h63b1ab9fndf9cbb866c96e786@mail.gmail.com>
Message-ID: <4A02F4E1.1020404@dawncrow.de>

Austin English schrieb:
> 2009/5/5 Andr? Hentschel <nerv at dawncrow.de>:
>   
>> ---
>>  dlls/comctl32/tests/listview.c |    2 ++
>>  1 files changed, 2 insertions(+), 0 deletions(-)
>>     
>
> This patch fails without your other patch. In the future, please
> combine them into one patch, or number them in a series.
>
> Wine must compile and pass the tests before and after every patch.
>
>   
Howdy,
I made one patch out of them and improved my tests.
now i wonder again why its not getting in...
I know these questions are ugly...
A System would be cool, where Alexandre always could do a one-click 
select of tags why a patch dont get in...
Things like that are a difficult subject, are there good solutions in 
other projects?


From stefandoesinger at gmx.at  Thu May  7 10:10:44 2009
From: stefandoesinger at gmx.at (Stefan =?iso-8859-1?q?D=F6singer?=)
Date: Thu, 7 May 2009 17:10:44 +0200
Subject: [5/5] wined3d: Add support for immediate constants to the GLSL
	backend.
In-Reply-To: <4A02F297.5070408@codeweavers.com>
References: <4A02F297.5070408@codeweavers.com>
Message-ID: <200905071710.45355.stefandoesinger@gmx.at>

Am Donnerstag, 7. Mai 2009 16:39:19 schrieb Henri Verbeet:

I don't see an issue with the code in this patch, but did you find out 
anything new regarding the geforce 8 immval handling in the Nvidia driver? 
Remember the issue where my more-uniforms patch blew the constant limit 
because the driver encoded scalars as replicated vec4 immvals that still 
needed a full vec4 uniform for some reason? Was that a driver bug that is 
fixed in the newer drivers?


From Nicklas.Borjesson at ws.se  Sun May  3 11:48:46 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Sun, 3 May 2009 18:48:46 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<49FC4B8F.8090200@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
	<49FC648B.70705@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
	<49FDBFAE.20206@o2.co.uk>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A3F4@wsmail01.ws.se>

>To every Wine user, their application not working is critical.  This is 
>clear by all the bugs that are logged incorrectly every day, because 
>nobody bothered reading the FAQ.

Yep, but that's more an indication on how much work remains to be done on wine than it is an incorrect severity level.
If Photoshop(the eternal example) should stop working on windows due to a regression, I am sure the users would consider it critical when they report it to Microsoft.

But as the wine project progresses, severity levels will hopefully drop so that there will be more nuances. 

I just think there is something severely when registering a bug that results in unworkable applications is considered a "normal" or even "minor" bug. 
To me, that's sending the wrong signals about the ambition of the project. 
Unless the "not yet suitable for general use" from the faq is everywhere with blinking warning signs.

//Nicklas




From Nicklas.Borjesson at ws.se  Sun May  3 14:52:53 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Sun, 3 May 2009 21:52:53 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<b6bb06270905021113h3d27ca59va42a1c1f2f337c59@mail.gmail.com>
	<d7e40be30905021808p6bece72r605821452565b6fa@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F1@wsmail01.ws.se>
	<d7e40be30905030408x5efbeaaet35221788490b1f0a@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F3@wsmail01.ws.se>
	<d7e40be30905030715y3ee328eape7baab5652787387@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A3F5@wsmail01.ws.se>

>So you suggest making the severity ratings meaningless to anyone but
>... well, you don't actually mention anyone knowing what they *really*
>mean, but I assume an exclusive clique of developers or bugzilla
>admins? Users have different opinions on what level of bug they
>encounter depending on what *task* they're trying to perform, which is
>not particularly useful to developers who need strict reproducability.

No, I mean that the actual meaning of the words "low", "medium", "high" and "Critical" will suffice.
I think most people have a fair understanding what "medium" and "critical" means. 
This is not meaningless at all, to trying to clarify these levels is quite pointless though.
Yes, some people tend to exaggerate their issues, but that's just the way it is.
And to my experience, they are few. Most actually don't exaggerate as much. 
To them, the situation IS critical, bordering on panic.
Rather, thinking that their users are exaggerating is a way for developers to not let reality come to close.
Hell, I do it myself right now. :-)

I don't see how the reproducibility connects to the severity level?

Regarding the priority flag..i was referring to it's visibility, not its state.


>There already is a separate category flag. It's called "severity" and
>it indicates roughly the amount of *functionality* lost due to the
>bug. "Priority" does not indicate the severity of a bug; a bug may
>have low priority due to limitations outside of Wine (such as some
>blocker bugs for copy-protection systems which can't be supported in
>Wine).

My point is that there should be no need for that flag. 
Let the users have it as input, and let the developers use component+priority.

>You're not going to like this, but users don't matter quite *that*
>much on bugzilla. The bug tracker is a developer's tool, and although
>users are essential to the process (submitting bugs and new
>information on request), it should be designed as a developer's tool.
>A user's impression of their problem is irrelevant to the hard data
>they can provide about lost or missing functionality.

You are right. I don't like it.
Especially because the bug tracker is the entire projects tool, not only the developers.
I this matter can only compare with my own professional(commercial) experience and there, 
the ones submitting bugs has a *lot* to say, since they won't submit bugs unless they are 
critical if we don't present them with a smooth interface. 
Hmm..only critical bugs..now where have i heard about that..? :-)

//Nicklas 


From Nicklas.Borjesson at ws.se  Sun May  3 15:31:23 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Sun, 3 May 2009 22:31:23 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<49FC4B8F.8090200@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
	<49FC648B.70705@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
	<49FDBFAE.20206@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F4@wsmail01.ws.se>
	<49FDD186.2040906@o2.co.uk>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A3F7@wsmail01.ws.se>

>No it isn't.  It's an indication on how many people think they're more 
>important than anyone else filing a bug.

I think that you are wrong. Granted, some people do, they are called morons.
But most people aren't morons. They are people, and to them, the issue really 
is critical. At least they think that. Give people the benefit of the doubt here.

>It doesn't matter what the users think, we've been over this, it would 
>be up to MS coders.
>They would put a high priority on it because Adobe it a major player, 
>and I'm sure MS makes a lot of money out of them one way or another. 
>This is a FOSS project and has no bearing on severity levels.

So Photoshop has not been the least prioritized? 
I don't think you paint the entire picture.

>If a set of devs decide to work on getting a particular app working 
>that's up to them, and we've already been over this too.

Obviously. I can't remember opposing that?

>Bares no relevance whatsoever to severity levels in Bugzilla.
Nothing does, does it?

//Nicklas


From kennybobs at o2.co.uk  Sun May  3 15:46:14 2009
From: kennybobs at o2.co.uk (Ken Sharp)
Date: Sun, 03 May 2009 21:46:14 +0100
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A3F7@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<49FC4B8F.8090200@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
	<49FC648B.70705@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
	<49FDBFAE.20206@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F4@wsmail01.ws.se>
	<49FDD186.2040906@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F7@wsmail01.ws.se>
Message-ID: <49FE0296.9080905@o2.co.uk>



Nicklas B?rjesson wrote:
>> No it isn't.  It's an indication on how many people think they're more 
>> important than anyone else filing a bug.
> 
> I think that you are wrong. Granted, some people do, they are called morons.
> But most people aren't morons. They are people, and to them, the issue really 
> is critical. At least they think that. Give people the benefit of the doubt here.

How many times does this have to be repeated?  Severity levels are NOT 
determined by how much a user wants the app to work.  They're just not, 
deal with it.

> 
>> It doesn't matter what the users think, we've been over this, it would 
>> be up to MS coders.
>> They would put a high priority on it because Adobe it a major player, 
>> and I'm sure MS makes a lot of money out of them one way or another. 
>> This is a FOSS project and has no bearing on severity levels.
> 
> So Photoshop has not been the least prioritized? 

What are you talking about?  A lot of people use Photoshop, that's why 
it has been given more attention.  This is FOSS software, the more 
popular an application is, the more people will be involved in getting 
it to work.  Photoshop is very popular.  "Acme Inc. Card Counter" is not.
Photoshop has been prioritised because it is so popular, it is also 
affected by a LOT of bugs.  This adds up to 1+1=2 and nothing more.
Photoshop bugs are prioritised in exactly the same way all the other 
bugs are.

> I don't think you paint the entire picture.

I don't think you can see the picture.

> 
>> If a set of devs decide to work on getting a particular app working 
>> that's up to them, and we've already been over this too.
> 
> Obviously. I can't remember opposing that?

Who said you had?

> 
>> Bares no relevance whatsoever to severity levels in Bugzilla.
> Nothing does, does it?

Not to you, no.  Only what you think is right.

> 
> //Nicklas
> 




From Nicklas.Borjesson at ws.se  Sun May  3 16:10:40 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Sun, 3 May 2009 23:10:40 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<49FC4B8F.8090200@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
	<49FC648B.70705@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
	<49FDBFAE.20206@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F4@wsmail01.ws.se>
	<49FDD186.2040906@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F7@wsmail01.ws.se>
	<49FE0296.9080905@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F9@wsmail01.ws.se>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A3FA@wsmail01.ws.se>

>How many times does this have to be repeated?  Severity levels are NOT 
>determined by how much a user wants the app to work.  They're just not, 
>deal with it.

I have never said it is, either. 
I said it think it should be determined by how severe the user thinks 
it is(if devs then cares about it is another matter).
You seem to be convinced that all users are morons hyping their own stuff. 

>>>If a set of devs decide to work on getting a particular app working
>>>that's up to them, and we've already been over this too.

>> Obviously. I can't remember opposing that?

>Who said you had?

Why writing that we've had already been over it, then?!??

.....etc....
"you can't see the picture" 
.....etc....
"Not to you, no.  Only what you think is right."
.....etc....

Huh?

This doesn't lead anywhere, you constantly misread me and I don't seem to understand what you are getting at.
For some reason, I seem to annoy the hell out if you. I really don't get it, it is not my intention. 
Do I have some kind of attitude I need to be aware of? I am not a native English speaker.

Anyway, it has been obvious from the start that you and I can't communicate. 
Therefore, I am backing out(hands in air) of this discussion before...uh.. after it has gotten out of hand.

//Nicklas






From Nicklas.Borjesson at ws.se  Sun May  3 17:04:27 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Mon, 4 May 2009 00:04:27 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se><B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se><49FC4B8F.8090200@o2.co.uk><B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se><49FC648B.70705@o2.co.uk><B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se><b6bb06270905030151qaa306b6p4cabe2d3f073780f@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A3F2@wsmail01.ws.se>
	<b6bb06270905031059h62efb482xbbd5deb38b125c7a@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A3FC@wsmail01.ws.se>

>Why should there be multiple support forums? 

Well, not forums, but as I said different lists for different kinds 
of applications(games/business/graphics), since they should(?) have related problems.
I would think so, anyway.

>The wiki has _a lot_ of info, most of the time when bugs are closed invalid, 
>wiki links are given to fix the problem. Again, wine _is_ an open source project. 
> If the wiki isn't good enough, add something.

I am talking about avoiding a bug being submitted at all. 
Maybe to organize how-to-run information.
Sure I could do a bit of that. It's like the idea you had about getting funding,
did they tell you to go do it all by yourself? 

>How do you mean their priorities are important? It's an uncomfortable
>truth, but users priorities aren't important, like has been said
>dozens of times. Sure, we care about user's bugs, and want to fix
>them. 
...
Users priorities probably affect what severity level they choose.
But as I said to Ken, I can't believe that all users are morons.
Anyway, regardless of their motives, I still think that they have to be included.
If not, the project will slowly drift away and turn into a toy nobody have any use for.

>But every user also thinks *their* app is the most important
>application to fix.

Actually, I can't believe they all are that way.
When I first posted a bug here on bugzilla some time ago, one of the first thing I
got was you telling me that "there are other applications just as important as yours".
The reason in my case was that I completely misunderstood the severity instructions 
(I had the flu so I was a bit hazy) and mixed it up with the priority instructions.
I got going on your comment that Photoshop was not more critical than any other application, 
which I a far cry from getting pissed of about something with really few users.

>Wine can't stop development on _everything_ just to get one user's
>application running. Making user's arbitrary priorities the most
>important would be doing this.

Good thing I didn't propose that then. :-)
I said it should be a part of the priority and a considerable one. Not the largest one. 
And I am not talking about users arbitrary priorities, just including 
more intuitive severity levels(good or bad) when making bug fixing priorities.

//Nicklas






From Nicklas.Borjesson at ws.se  Sun May  3 17:15:45 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Mon, 4 May 2009 00:15:45 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<49FC4B8F.8090200@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
	<49FC648B.70705@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
	<49FDBFAE.20206@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F4@wsmail01.ws.se>
	<49FDD186.2040906@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F7@wsmail01.ws.se>
	<49FE0296.9080905@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F9@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FA@wsmail01.ws.se>
	<49FE1411.1080805@o2.co.uk>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A3FD@wsmail01.ws.se>

>>> How many times does this have to be repeated?  Severity levels are NOT 
>>> determined by how much a user wants the app to work.  They're just not, 
>>> deal with it.
>> 
>> I have never said it is, either. 
>> I said it think it should be determined by how severe the user thinks 
>> it is(if devs then cares about it is another matter).

>And you've already been told it shouldn't, and this has been explained 
>to you.

><snip waffle>

>Junk.

Explained to me?? ...this is just incredible. 
Regardless of what I have said, you have repeated almost the same things,
it's like you haven't been reading my posts!

Leave me alone, I want to talk to someone else.

//Nicklas




From Nicklas.Borjesson at ws.se  Sun May  3 18:29:40 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Mon, 4 May 2009 01:29:40 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se><B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se><49FC4B8F.8090200@o2.co.uk><B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se><49FC648B.70705@o2.co.uk><B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se><b6bb06270905030151qaa306b6p4cabe2d3f073780f@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A3F2@wsmail01.ws.se><b6bb06270905031059h62efb482xbbd5deb38b125c7a@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A3FC@wsmail01.ws.se>
	<b6bb06270905031556w3c573a37n9333380e48a8096c@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A403@wsmail01.ws.se>

>I think this argument is circular...Wine has no shortage of bugs being
>reported, we have plenty of new users reporting bugs, and new
>developers contributing often. You're proposing adding an extra
>severity rating that no developer will look at, and will only add to
>confusion (users now have to decide *two* levels rather than one). It
>won't add any benefit, other than possibly giving users a warm fuzzy
>feeling that their bug is 'important' to them (which they can already
>do with voting), but adds confusion, wasted time, and wasted effort.

Yes the voting! I had forgot about that!
Actually that pretty much...lessens many of my previous arguments.

Well, turns the into moot, really. 

I still think that the severity levels could be better with regards to UE though, 
but that seems less important now with the at least theorethical "me too"-power of voting.

Again, sorry for taking your time. Too bad nobody mentioned the voting earlier.

//Nicklas
PS.
I never proposed an extra severity flag, but to change it into something 
more intuitive for the user. 
I speculated that classification of bugs could be made anyway. 
DS.


From Nicklas.Borjesson at ws.se  Mon May  4 02:06:52 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Mon, 4 May 2009 09:06:52 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<49FC4B8F.8090200@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
	<49FC648B.70705@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
	<b6bb06270905030151qaa306b6p4cabe2d3f073780f@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F2@wsmail01.ws.se>
	<b6bb06270905031059h62efb482xbbd5deb38b125c7a@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FC@wsmail01.ws.se>
	<b6bb06270905031556w3c573a37n9333380e48a8096c@mail.gmail.com>
	<d7e40be30905031735v12d1832cnd242699b5502df04@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A405@wsmail01.ws.se>

As I wrote in my earlier post, Austin told me about the voting functionality, 
and If that is considered when priorities are made, it is likely to keep
things pretty on track, making my proposed changes far less important.
I still think my thoughts aren't that off anyway, but now they feel a
bit more "optional".

>No, he's proposing to dump the developer-focused severity completely,
>because "component + priority should be good enough", and replace it
>with ill-defined, ambiguous Low, Medium, High, Critical. Blockers and
>metabugs would also disappear under his proposed model, it seems.
>After all, what good are metabugs to users? ;)

Exactly. Ben's got it. :-)
But blockers and metabugs wouldn't disappear. 
They would only lose their special classification. 
They would likely have it's priorities set to 1 by the developer reviewing.
In what other way than they are highly prioritized are they different to any other bug?
Something that must be fixed, must be fixed, regardless.
To me, blocker is a class of bugs, not a level of severity. 
Mixing is up like is done now makes it:
a) more complicated for users. b) more difficult to severity in statistics.

>ill-defined
I would go further than I'll-defined. I'd say non-defined.

The other things I talked about, drifting away from usability is a 
fairly rapid process(a few years) that I actually have experienced first hand
(well second hand, actually), and it wasn't pretty. 
You joke about it, but the worst thing about it is that because it really only
needs such a small skew to happen, it creeps up on you.
Because "normal" get fixed far more often than "minor" bugs.

> Firefox and IE have drastically different success/failure/issues 
> when running in Wine, as do MS Word and
> WordPerfect 

Yep, but I'd rather put I it like a Microsoft application has often other problems than externally developed applications(built-in vs using dll:s for everything).

Anyway, looking at the forums now, games and 3d applications DO usually have different issues than normal desktop applications.
It's more about controllers, DirectX and other stuff. 
And there are a LOT of posts. 30 new threads the last 24 hours. Lot's to wade through I you're only into D3D issues.
If it was different lists, people could become a little bit more specialized.

//Nicklas




From benoit.schwinden at unistra.fr  Mon May  4 04:51:13 2009
From: benoit.schwinden at unistra.fr (Benoit SCHWINDEN)
Date: Mon, 04 May 2009 11:51:13 +0200
Subject: GUI debugging
Message-ID: <49FEBA91.5020002@unistra.fr>

Hello,

I am trying to make a very special application working with Wine 1.1.20
(Loris, from Ever Ezida, a library management software). Almost
everything is functionnal, but there is a little graphical bug with some
texfields. Also, I would like to know if there are some ways to debug a
GUI, especially a way to know which library or DLL is called to display
a part of this GUI (ie know what DLL is used to display my faulties text
fields).

Thanks a lot by advance.

Best regards,

Benoit.

-- 
Benoit SCHWINDEN
Direction Informatique
Groupe GNU/Linux
Universit? de Strasbourg
03 90 24 12 46



From Nicklas.Borjesson at ws.se  Mon May  4 07:07:20 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Mon, 4 May 2009 14:07:20 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se><B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se><49FC648B.70705@o2.co.uk><B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se><49FDBFAE.20206@o2.co.uk>
	<49FE6029.1070708@earthlink.net><4d8b5aa80905032031x473a8c97y6d71dfc57d010fdb@mail.gmail.com><20090503230744.e064403e.dimesio@earthlink.net><b6bb06270905032108k21da4909we9b83b4b19457727@mail.gmail.com><d7e40be30905032228k4568dam3d3cc9cf9b7c4b89@mail.gmail.com><b6bb06270905032231v5cf6f433g2f20b4e112d1b07d@mail.gmail.com>
	<20090504063946.cae6f4b5.dimesio@earthlink.net>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A40A@wsmail01.ws.se>

>Just changing the default to normal should solve a lot of the problem; people are less likely to change the severity level if the one they're >presented with looks reasonable. 
I think so too. Especially if the selected one, "enhancement" almost certainly is wrong.

>I know what Major and Critical mean too, but I can live without being able to make that change myself if restricting it will help. There's always >the comment field to state an opinion.
I agree here as well. I would also rename "trivial" to "low", "minor" to "medium" and "normal" to "high".
*ducks*

//Nicklas


-----Original Message-----
From: wine-devel-bounces at winehq.org on behalf of Rosanne DiMesio
Sent: Mon 2009-05-04 13:39
To: Austin English
Cc: wine-devel at winehq.org
Subject: Re: Severity levels
 
On Mon, 4 May 2009 00:31:09 -0500
Austin English <austinenglish at gmail.com> wrote:


> >
> > But how would the restriction work? Not that I'm likely to ever submit
> > a Major or Critical bug report, but I know what they mean ;)
> >
> 
> I don't know if bugzilla supports that or not.
> 
> But changing the default to normal is quick and easy.
> 
> -- 

Just changing the default to normal should solve a lot of the problem; people are less likely to change the severity level if the one they're presented with looks reasonable. 

I know what Major and Critical mean too, but I can live without being able to make that change myself if restricting it will help. There's always the comment field to state an opinion. 


-- 
Rosanne DiMesio <dimesio at earthlink.net>





From Nicklas.Borjesson at ws.se  Mon May  4 09:15:20 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Mon, 4 May 2009 16:15:20 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<49FC648B.70705@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
	<b6bb06270905030151qaa306b6p4cabe2d3f073780f@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F2@wsmail01.ws.se>
	<b6bb06270905031059h62efb482xbbd5deb38b125c7a@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FC@wsmail01.ws.se>
	<b6bb06270905031556w3c573a37n9333380e48a8096c@mail.gmail.com>
	<d7e40be30905031735v12d1832cnd242699b5502df04@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A405@wsmail01.ws.se>
	<d7e40be30905040509u792073aeudcfca0a59bee2e47@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A40B@wsmail01.ws.se>


>You're one guy against the world. So far, no one on this thread has
>responded positively to your proposal to overhaul severities. I'd
>suggest you stop acting like it's an inevitability

Ok then. 

>Once again bugzilla is a developer's tool, not a collection of data
>for users. We already have the Wiki, forums and AppDB satisfying the
>users' needs.

Ok.

>Point is that metabugs, though useless to users, are important for the
>REAL target audience of bugzilla: developers.
>Repeat after me:
> Bugzilla is there for the developers, not the users
....
Better not let them in then.

>A user-centric focus on bug priorities simply would not work with a
>project as large (massive?) as Wine is.
....
Repeat after me:
"Nicklas Is not proposing a user centric focus, which would be insane, 
he is merely talking about weighing it in."
"Nicklas Is not proposing a user centric focus, which would be insane, 
he is merely talking about weighing it in."
I have actually forgot how many times I have tried to say this.

>Then they disappear. There would be no way to search for metabugs, for
>example, whereas at the moment you can search for Blockers. There's no
>point in keeping metabugs if there's no
...

I would search for priority 1 bugs. To be a priority 1 bug it would had 
to had been either a blocker or critial.
Metabugs...well, if they are used a lot maybe that will become a problem. 
But aren't using metabugs a bit wrong anyway?

>You're now implying that all bugs should be given equal priority. 

No I am not. I rarely imply.

>Some bugs *can't* be fixed without limitations lifted in other areas (e.g.
>introduction of Xinput2). They could still be severe (mouse-related
>bugs could easily attain Major severity) but be a low priority due to
>forces outside of Wine.

Then severity would be critical and priority 4.


> Mixing is up like is done now makes it:
> a) more complicated for users. b) more difficult to severity in statistics.

>a) is not a consideration for bugzilla. It has to be easy for the
>developers that respond.
>b) is nonsensical. We're talking about two very different forms of
>statistics. Bugzilla is the place for developer-side severity (which
>is what's in place now); forums and AppDB are the places for user-side
>severity (which is what you're suggesting). By definition, there is no
>way to gather statistics on one when the other is used.

a) You are right. Keep them users out of there.
b) I thought that priority was developer priority and severity was 
severity for the users. 


>Please quote with context! And having no definitions of the severity
>levels is just asking for trouble. Surely you realise that every user
>will have a different opinion on how serious their bug is, and what
>the boundaries for "Low", "Medium", "High" and "Critical" are, which
>will likely vary greatly from what the developers responding to the
>bugs think? Conflict between developers and users is bad, and having
>real definitions of the severity levels allows the devs to say "well,
>your 'Critical' bug that has a simple but tedious workaround doesn't
>fit the definition of Critical, so it's being downgraded to 'Minor'."

If one say severity is in usage context and priority is in big-picture
context there would be less conflicts. 


>I can't tell what you're talking about here.

Ok. The same.

>1) "A few years" is rapid?

Yes. I'd say so. I a large project's life, anyway.

>2) "Drifting away" from usability when we've always (AFAIK) had the
>current severity levels (but not necessarily the definitions), and
>established that the system works well to assist developers
>categorising the bugs?

Wine hasn't been used seriously by people until now. 
When something goes from being only a toy to a real too it brings changes.

>3) "Such a small skew", as in handing over full control over what
>priority should be given to the bug to the users? And before you say
>it's not "full control", if it's not something that will seriously
>influence the way bugs are prioritised, it's pointless to do such a
>massive overhaul of the severity ratings.

Again, I disagree. Massive? Renaming some categorisations?

>4) "Normal" getting fixed more than "minor" is a problem?
Yes, this can be a huge problem if minor consists of annoyances. 
In the end, one have a system that works, but in a very annoying way.

>Applications still have to be treated on a per-app basis. Every app is
>different, and in extreme cases different versions of the same app use
>violently different API calls.
Yes, but I am talkic


>Correct, games and 3D applications do tend to use DirectX, whereas
>office applications don't (tend to). Well done, astute observation. It
>doesn't mean that a joystick fix for GTA:San Andreas will work with
>Gunmetal, or that a WineD3D patch for COD4 will improve performance in
>Supreme Commander. They're all individuals! (Chorus: Yes, they're all
>individuals!) They're all different! (Chorus: Yes, they're all
>different!) (I'm not) (shhh)

I think you are just being negative, to be honest. 
So games aren't more like each others than they are like a word processor?
Support forums are normally grouped into areas this way, why can't 
wine do this?

>That's what searching is for.
Try searching it for "blockers" then. :-)
Splitting would be a rough categorization of threads that I think would 
be beneficial, that's all.



From benoit.schwinden at unistra.fr  Mon May  4 10:20:41 2009
From: benoit.schwinden at unistra.fr (Benoit SCHWINDEN)
Date: Mon, 04 May 2009 17:20:41 +0200
Subject: GUI debugging
Message-ID: <49FF07C9.5@unistra.fr>

Hello,

I am trying to make a very special application working with Wine 1.1.20
(Loris, from Ever Ezida, a library management software). Almost
everything is functionnal, but there is a little graphical bug with some
texfields. Also, I would like to know if there are some ways to debug a
GUI, especially a way to know which library or DLL is called to display
a part of this GUI (ie know what DLL is used to display my faulties text
fields).

Thanks a lot by advance.

Best regards,

Benoit.

-- 
Benoit SCHWINDEN
Direction Informatique
Groupe GNU/Linux
Universit? de Strasbourg
03 90 24 12 46




From wineappdb at googlemail.com  Mon May  4 11:20:52 2009
From: wineappdb at googlemail.com (IneedAname)
Date: Mon, 4 May 2009 17:20:52 +0100
Subject: Severity levels
In-Reply-To: <d7e40be30905040512m586c1a6bub78ba391d7222999@mail.gmail.com>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
	<b6bb06270905030151qaa306b6p4cabe2d3f073780f@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F2@wsmail01.ws.se>
	<b6bb06270905031059h62efb482xbbd5deb38b125c7a@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FC@wsmail01.ws.se>
	<b6bb06270905031556w3c573a37n9333380e48a8096c@mail.gmail.com>
	<d7e40be30905031735v12d1832cnd242699b5502df04@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A405@wsmail01.ws.se>
	<d7e40be30905040509u792073aeudcfca0a59bee2e47@mail.gmail.com>
	<d7e40be30905040512m586c1a6bub78ba391d7222999@mail.gmail.com>
Message-ID: <20090504172052.5514b139@test-main>

On Mon, 4 May 2009 22:12:04 +1000
Ben Klein <shacklein at gmail.com> wrote:

> 2009/5/4 Ben Klein <shacklein at gmail.com>:
> > Then they disappear. There would be no way to search for metabugs, for
> > example, whereas at the moment you can search for Blockers. There's no
> > point in keeping metabugs if there's no  
> 
> SUSPENSE!
> 
> Lost a chunk of line there.
> 
> There's no point in keeping metabugs if there's no way to ...
> 
> SUSPENSE!
> 
> no way to distinguish them from regular bugs.

Wine does have meta bugs look at the application data base. Each application has a list of bugs that effect that program.
Why Wine does not use meta bugs in bugzilla is because they end up being "Make my all programs work with wine! Now" list.


From wineappdb at googlemail.com  Mon May  4 11:22:47 2009
From: wineappdb at googlemail.com (IneedAname)
Date: Mon, 4 May 2009 17:22:47 +0100
Subject: Severity levels
In-Reply-To: <4d8b5aa80905032031x473a8c97y6d71dfc57d010fdb@mail.gmail.com>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se>
	<49FC4B8F.8090200@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se>
	<49FC648B.70705@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>
	<49FDBFAE.20206@o2.co.uk> <49FE6029.1070708@earthlink.net>
	<4d8b5aa80905032031x473a8c97y6d71dfc57d010fdb@mail.gmail.com>
Message-ID: <20090504172247.7bdbc393@test-main>

On Sun, 3 May 2009 23:31:45 -0400
Mike Kaplinskiy <mike.kaplinskiy at gmail.com> wrote:

> +1. Or just remove priorities for users altogether.

Looks like some one is thinking round here!
That gets my vote to.


From Nicklas.Borjesson at ws.se  Mon May  4 11:36:07 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Mon, 4 May 2009 18:36:07 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se><b6bb06270905030151qaa306b6p4cabe2d3f073780f@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A3F2@wsmail01.ws.se><b6bb06270905031059h62efb482xbbd5deb38b125c7a@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A3FC@wsmail01.ws.se><b6bb06270905031556w3c573a37n9333380e48a8096c@mail.gmail.com><d7e40be30905031735v12d1832cnd242699b5502df04@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A405@wsmail01.ws.se><d7e40be30905040509u792073aeudcfca0a59bee2e47@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A40B@wsmail01.ws.se>
	<b6bb06270905040807u31af6282u53021276f48323fe@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A40D@wsmail01.ws.se>

 
>Guys, y'all are going in a circular argument. No need to cc wine-devel
>on it anymore.

I am rather fed up with it as well, also I will soon not 
have any more time for it since I'll be going back to work tomorrow. I've had
stomach flu(!swine) the last week. Circular? More plain disagreement i'd say.

>Let's work toward making normal the default level, and move on with our lives.

Yep. Let's do that. Let's aim for the stars.

>Any developer/user focus for bugzilla argument is WAY beyond beating a
>dead horse.

Ok.


From kjella79 at yahoo.no  Tue May  5 18:08:48 2009
From: kjella79 at yahoo.no (Kjell Rune Skaaraas)
Date: Tue, 5 May 2009 23:08:48 +0000 (GMT)
Subject: msvcrt crash issue, tracing
Message-ID: <364484.32583.qm@web27103.mail.ukl.yahoo.com>


Hello,

I've been working for some time now trying to resolve bug 15817 because it's a kickass game that apart from one crashing issue works great under wine. The situation in brief is that it works with a msvcrt.dll override, but crashes randomly and sometimes consistantly using wine's stub. Now, when I run it with trace+msvcrt, it always crashes right after attaching a new thread:

trace:msvcrt:MSVCRT_operator_delete (0x8edfda0)
trace:msvcrt:DllMain (0x7e510000, DLL_THREAD_ATTACH, (nil)) pid(8), tid(28), tls(2)
trace:msvcrt:MSVCRT_setlocale (4 (null))
err:seh:setup_exception_record stack overflow 1440 bytes in thread 0009 eip 7ef8c40e esp 02910d90 stack 0x2910000-0x2911000-0x2e10000

However, I've been looking at the functions in the trace and it doesn't seem to be any of these functions causing the crash. Now, having looked at what msvcrt.dll is, it's much, much more than these functions, it's the C Run-Time dll and contains lots of functions, most are probably very standard and so don't contain any TRACEs. The only thing I can think of being the cause is that it must be some sort of untraced function causing this. 

I'm sorta out of my depth here on fixing this thing, how would you go about solving it? I think I'd be 90% of the way there if I could just figure out what functions it's really calling. Is there any way to track every access to the DLL, and I mean every? Like say a wrapper that would output a trace line then it calls the wine/real DLL?

Regards,
Kjell Rune Skaaraas


      _________________________________________________________
Alt i ett. F? Yahoo! Mail med adressekartotek, kalender og
notisblokk. http://no.mail.yahoo.com


From Nicklas.Borjesson at ws.se  Wed May  6 01:17:27 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Wed, 6 May 2009 08:17:27 +0200
Subject: Shuttleworth on Wine
In-Reply-To: <36a11a3a0905051635q6024e42cm81827dd05eb24fbd@mail.gmail.com>
References: <660374.13022.qm@web39704.mail.mud.yahoo.com><d7e40be30905051628u490643c5j56b34ee14b3b61dd@mail.gmail.com>
	<36a11a3a0905051635q6024e42cm81827dd05eb24fbd@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6D013D47CC@wsmail01.ws.se>

I'd say that attitutudes might change, though. 
For example, he is mentioning photoshop(of course) which I use at home under win. 
It works great there.

There are only a few quirks with the installation:
1. it need 1.1.17 to work
2. a DLL is needed for the text-tool to work.
3. A winetricks has to be done.

When those things are fixed(I guess 1. is the most important), gradually more people will start using wine, hence acceptance will grow, and eventually even Mark Shuttleworth will come around.
If I were the leader of the wine project, the moment photoshop CS4 works all the way, that would be the basis of the next stable version(to avoid regessions to the highest degree).. 
I believe that the popularity of wine(yes, popularity is extra important for a FOSS project) would skyrocket.
Then it would be a toy no more.

//Nicklas

-----Original Message-----
From: wine-devel-bounces at winehq.org [mailto:wine-devel-bounces at winehq.org] On Behalf Of Remco
Sent: den 6 maj 2009 01:35
To: Ben Klein
Cc: wine-devel at winehq.org
Subject: Re: Shuttleworth on Wine

On Wed, May 6, 2009 at 1:28 AM, Ben Klein <shacklein at gmail.com> wrote:
> 2009/5/6 nn <saturn_systems at yahoo.com>:
>>
>> And the slashdot thread:
>> Shuttleworth Says Ubuntu Can't Just Be Windows
>> http://linux.slashdot.org/article.pl?sid=09/05/05/1546230
>
> This is nothing new. It's just now we have a celebrity saying it.

Not only that. Canonical has decided a few years ago that Wine would
not be included for this reason. [1] So it's really really really old
news.

Remco

[1] http://linux.slashdot.org/article.pl?sid=07/05/11/1220219&art_pos=4




From Nicklas.Borjesson at ws.se  Wed May  6 06:11:17 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Wed, 6 May 2009 13:11:17 +0200
Subject: Severity levels
In-Reply-To: <32833261.1241544526031.JavaMail.root@mswamui-andean.atl.sa.earthlink.net>
References: <32833261.1241544526031.JavaMail.root@mswamui-andean.atl.sa.earthlink.net>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6D013D47D5@wsmail01.ws.se>

>However, a developer should be aware of the impact on the user experience and
>the user's determined severity of a problem.  

That has been my point all the time. I was told that the users perceptions 
were not important since, a least according what I understood, 
they could not be trusted to be objective in their classification.
Also, it was not very important to know their priorities anyway.

>Users should not be determining this through the use of the severity and 
>priority fields.  I have discussed the use of an impact field to have the 
>user state what impact the problem has on their ability to use/install a 
>particular application.

However, I thought adding a extra field would be too bold a proposition, so I
proposed to change the severity field instead(which I felt was unlinear anyway). 

Regarding the interface of the bug reporting I am also with you. 
It is simply not simple enough for normal users. Too many "knobs".

The "problem" is that it is felt that enough bugs are reported anyway, and 
that therefore, no improvements are needed. 
Maybe that's correct, but I just can't help to think it is a bit of a strange mindset.

//Nicklas





From steve at bstage.com  Wed May  6 23:20:16 2009
From: steve at bstage.com (Dewdman42)
Date: Wed, 6 May 2009 21:20:16 -0700 (PDT)
Subject: Does wine handle virtual midi ports correct on OSX?
Message-ID: <23419972.post@talk.nabble.com>


Does anyone know if Darwine can be fixed to handle virtual midi ports
correctly?  They work very sporadically right now.  It seems to be related
to getting the ports flushed or initialized or something.  When there is a
virtual midi port present (under OSX), Wine seems to see it and lists it as
an available midi port, but I have not been able to consistently get that
port to function correctly.  Sometimes it does and sometimes it doesn't and
it seems to related to switching it on and off in some fashion makes it
work, though I can't seem to find a pattern that will work consistently.

All I can figure is that somehow Wine is not handling midi ports in a way
that is compatible with OSX virtual midi ports.  

Anyone have any experience or knowledge in this area? 

Thanks
-- 
View this message in context: http://www.nabble.com/Does-wine-handle-virtual-midi-ports-correct-on-OSX--tp23419972p23419972.html
Sent from the Wine - Devel mailing list archive at Nabble.com.



From austinenglish at gmail.com  Thu May  7 10:27:21 2009
From: austinenglish at gmail.com (Austin English)
Date: Thu, 7 May 2009 10:27:21 -0500
Subject: Resend of xinput patch for bug 18218
In-Reply-To: <20090504001205.GA3391@blackspire>
References: <20090504001205.GA3391@blackspire>
Message-ID: <b6bb06270905070827p406a5f08na7b56cef68ad47bd@mail.gmail.com>

On Sun, May 3, 2009 at 7:12 PM, Rafa? Mu?y?o <galtgendo at gmail.com> wrote:
> I didn't put DllMain in this file, as it was not
> in the current version, just added numbers and
> sorted (latter probably unnecessary).


> --- dlls/xinput1_3/xinput1_3_main.c.old	2009-04-25 16:54:42.000000000 +0200
> +++ dlls/xinput1_3/xinput1_3_main.c	2009-04-26 00:41:04.000000000 +0200

If possible, please use git diff.

> @@ -95,12 +95,20 @@
> {
>      FIXME("(%d %d %p)\n", dwUserIndex, dwFlags, pCapabilities);
>
> +    //pCapabilities = HeapAlloc(GetProcessHeap(), HEAP_ZERO_MEMORY, sizeof(XINPUT_CAPABILITIES));

No C++ code/comments.


Thanks for helping wine!

-- 
-Austin


From austinenglish at gmail.com  Thu May  7 10:37:51 2009
From: austinenglish at gmail.com (Austin English)
Date: Thu, 7 May 2009 10:37:51 -0500
Subject: Shuttleworth on Wine
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6D013D47CC@wsmail01.ws.se>
References: <660374.13022.qm@web39704.mail.mud.yahoo.com>
	<d7e40be30905051628u490643c5j56b34ee14b3b61dd@mail.gmail.com>
	<36a11a3a0905051635q6024e42cm81827dd05eb24fbd@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6D013D47CC@wsmail01.ws.se>
Message-ID: <b6bb06270905070837u78a7dfc7mce3ac8bb6f6a5a69@mail.gmail.com>

2009/5/6 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
> If I were the leader of the wine project, the moment photoshop CS4 works all the way, that would be the basis of the next stable version(to avoid regessions to the highest degree)..

As has been said plenty of times before, we don't want to base Wine
releases around particular applications.

> I believe that the popularity of wine(yes, popularity is extra important for a FOSS project) would skyrocket.
> Then it would be a toy no more.

I think you're seriously underestimating Wine, and the amount of
'real' work it can accomplish. The world doesn't revolve around Adobe
products, contrary to what many recent converts to GNU/Linux may
think.

Though, I must say, the majority of people I see/hear using Photoshop
*are* using it as a toy/hobby, not for 'real' work, i.e., a full time
job.

-- 
-Austin


From hverbeet at gmail.com  Thu May  7 10:43:49 2009
From: hverbeet at gmail.com (Henri Verbeet)
Date: Thu, 7 May 2009 17:43:49 +0200
Subject: [5/5] wined3d: Add support for immediate constants to the GLSL 
	backend.
In-Reply-To: <200905071710.45355.stefandoesinger@gmx.at>
References: <4A02F297.5070408@codeweavers.com>
	<200905071710.45355.stefandoesinger@gmx.at>
Message-ID: <d658b69e0905070843s29a1431dhd5ea441ff9b96463@mail.gmail.com>

2009/5/7 Stefan D?singer <stefandoesinger at gmx.at>:
> Am Donnerstag, 7. Mai 2009 16:39:19 schrieb Henri Verbeet:
>
> I don't see an issue with the code in this patch, but did you find out
> anything new regarding the geforce 8 immval handling in the Nvidia driver?
> Remember the issue where my more-uniforms patch blew the constant limit
> because the driver encoded scalars as replicated vec4 immvals that still
> needed a full vec4 uniform for some reason? Was that a driver bug that is
> fixed in the newer drivers?
>
I think it's a bug in that specific version of the driver, but haven't
heard back from Alexandre.


From dgerard at gmail.com  Thu May  7 10:47:32 2009
From: dgerard at gmail.com (David Gerard)
Date: Thu, 7 May 2009 16:47:32 +0100
Subject: Shuttleworth on Wine
In-Reply-To: <b6bb06270905070837u78a7dfc7mce3ac8bb6f6a5a69@mail.gmail.com>
References: <660374.13022.qm@web39704.mail.mud.yahoo.com>
	<d7e40be30905051628u490643c5j56b34ee14b3b61dd@mail.gmail.com>
	<36a11a3a0905051635q6024e42cm81827dd05eb24fbd@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6D013D47CC@wsmail01.ws.se>
	<b6bb06270905070837u78a7dfc7mce3ac8bb6f6a5a69@mail.gmail.com>
Message-ID: <fbad4e140905070847t66519521m8848c7c75ca03558@mail.gmail.com>

2009/5/7 Austin English <austinenglish at gmail.com>:

> Though, I must say, the majority of people I see/hear using Photoshop
> *are* using it as a toy/hobby, not for 'real' work, i.e., a full time
> job.


Yes. The biggest problem for free-as-in-freedom software - Linux and
GIMP, and to some extent Wine - is that Windows and Photoshop are
effectively free-as-in-beer software ...

http://autotelic.com/windows_is_free


- d.


From austinenglish at gmail.com  Thu May  7 10:48:09 2009
From: austinenglish at gmail.com (Austin English)
Date: Thu, 7 May 2009 10:48:09 -0500
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A3FD@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<49FDBFAE.20206@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F4@wsmail01.ws.se>
	<49FDD186.2040906@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F7@wsmail01.ws.se>
	<49FE0296.9080905@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F9@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FA@wsmail01.ws.se>
	<49FE1411.1080805@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FD@wsmail01.ws.se>
Message-ID: <b6bb06270905070848l7699ff4bmbaca25f9945f3009@mail.gmail.com>

2009/5/3 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
> Explained to me?? ...this is just incredible.
> Regardless of what I have said, you have repeated almost the same things,
> it's like you haven't been reading my posts!
>
> Leave me alone, I want to talk to someone else.

No offense, but you should probably take the lack of (repeated)
responses as a sign.

You've been answered several times by several people, and the answer
has been (mostly) the same.

Bugzilla is a developer's tool, with bugs reported by users. Severity
levels are there for how they affect Wine *overall*, not the user
experience. Such things belong in the AppDB/etc., not bugzilla.

Again, no offense, but you're relatively unknown to the Wine project.
Looking for your name in the git log shows no records. The only place
I recognize your name from is this thread and from bugzilla bugs.
Trying to tell all of Wine's developers that the way they've been
handling bug reports has been wrong for years is a bit pompous.

Granted, I'm not saying it can't be improved. Surely it can. But, as
has been said before, Bugzilla is there for developers, not user's.

Lastly, as I said before, I encourage you to subscribe to
wine-bugs/patches/devel/users and keep up with everything going on in
wine. See how many bug reports we have, what they describe, and the
quality of them. It helps to have experience seeing these bug reports
before arbitrarily saying how the system should be changed.

The horse has been beaten way past the point of Jell-O. Can we put
this to a rest, please?

-- 
-Austin


From austinenglish at gmail.com  Thu May  7 10:56:14 2009
From: austinenglish at gmail.com (Austin English)
Date: Thu, 7 May 2009 10:56:14 -0500
Subject: msvcrt crash issue, tracing
In-Reply-To: <364484.32583.qm@web27103.mail.ukl.yahoo.com>
References: <364484.32583.qm@web27103.mail.ukl.yahoo.com>
Message-ID: <b6bb06270905070856q208e374am803dd4773ddd0b1f@mail.gmail.com>

On Tue, May 5, 2009 at 6:08 PM, Kjell Rune Skaaraas <kjella79 at yahoo.no> wrote:
> However, I've been looking at the functions in the trace and it doesn't seem to be any of these functions causing the crash. Now, having looked at what msvcrt.dll is, it's much, much more than these functions, it's the C Run-Time dll and contains lots of functions, most are probably very standard and so don't contain any TRACEs. The only thing I can think of being the cause is that it must be some sort of untraced function causing this.

Add traces to the untraced functions.

> I'm sorta out of my depth here on fixing this thing, how would you go about solving it? I think I'd be 90% of the way there if I could just figure out what functions it's really calling. Is there any way to track every access to the DLL, and I mean every? Like say a wrapper that would output a trace line then it calls the wine/real DLL?

+relay?

-- 
-Austin


From ken at codeweavers.com  Thu May  7 15:14:15 2009
From: ken at codeweavers.com (Ken Thomases)
Date: Thu, 7 May 2009 15:14:15 -0500
Subject: Does wine handle virtual midi ports correct on OSX?
In-Reply-To: <23419972.post@talk.nabble.com>
References: <23419972.post@talk.nabble.com>
Message-ID: <B5077AC1-AE8A-4804-9FA8-AE9E3DF40673@codeweavers.com>

On May 6, 2009, at 11:20 PM, Dewdman42 wrote:

> Does anyone know if Darwine can be fixed to handle virtual midi ports
> correctly?  They work very sporadically right now.  It seems to be  
> related
> to getting the ports flushed or initialized or something.  When  
> there is a
> virtual midi port present (under OSX), Wine seems to see it and  
> lists it as
> an available midi port, but I have not been able to consistently get  
> that
> port to function correctly.  Sometimes it does and sometimes it  
> doesn't and
> it seems to related to switching it on and off in some fashion makes  
> it
> work, though I can't seem to find a pattern that will work  
> consistently.
>
> All I can figure is that somehow Wine is not handling midi ports in  
> a way
> that is compatible with OSX virtual midi ports.
>
> Anyone have any experience or knowledge in this area?

As far as I know, only Emmanuel Maillard has touched the MIDI code in  
the Core Audio driver.  I'm CC'ing him, just to be sure he sees this.

Cheers,
Ken



From javatroubadour at yahoo.com  Thu May  7 18:22:17 2009
From: javatroubadour at yahoo.com (Daniel Santos)
Date: Thu, 7 May 2009 16:22:17 -0700 (PDT)
Subject: Dynamically adding debug channels (__wine_dbg_set_channel_flags)
Message-ID: <921343.72372.qm@web45903.mail.sp1.yahoo.com>

It would seem quite helpful for debugging odd situations to be able to turn debugging on and off programmatically.? I like not having every debug class loaded in memory by default (and everything that goes with maintaining that global list), but it would seem quite helpful for troubleshooting, testing and debugging special cases (mostly where one doesn't have the sources of the troublesome app).

Thus, perhaps __wine_dbg_set_channel_flags could add the debug channel to debug_options if it doesn't exist and even allow setting the default_flags (say by having a zero-length name in the channel argument) or even another function which would allow it.? I'm not sure what thread synchronization implications this would bring about (and the associated costs of the sync objects), it seems it would require at the least the use of a critical section to modify the debug_options, but perhaps this can be a pre-processor driven option?? The configure could have a --enable-dynamic-channels or some such that would set a pre-processor macro, etc.

Alternatively, a cheaper (hackier) mechanism of thread-safety could be achived by having the debug_options be contained in a struct along with the nb_debug_options and have them heap-allocated so that the debug_options pointer could be changed in a single machine instruction.? A similar mechanism (i.e., hack) could be use to free the old debug_options struct.? That's ugly, but I'm just presenting options.

Daniel



      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090507/1d1f1ea0/attachment.htm>

From richardvoigt at gmail.com  Thu May  7 20:14:46 2009
From: richardvoigt at gmail.com (richardvoigt at gmail.com)
Date: Thu, 7 May 2009 20:14:46 -0500
Subject: Severity levels
In-Reply-To: <b6bb06270905070848l7699ff4bmbaca25f9945f3009@mail.gmail.com>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F4@wsmail01.ws.se>
	<49FDD186.2040906@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F7@wsmail01.ws.se>
	<49FE0296.9080905@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F9@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FA@wsmail01.ws.se>
	<49FE1411.1080805@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FD@wsmail01.ws.se>
	<b6bb06270905070848l7699ff4bmbaca25f9945f3009@mail.gmail.com>
Message-ID: <2e59e6970905071814m17156d1bt5b75cacbb7d3d71c@mail.gmail.com>

2009/5/7 Austin English <austinenglish at gmail.com>

> 2009/5/3 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
> > Explained to me?? ...this is just incredible.
> > Regardless of what I have said, you have repeated almost the same things,
> > it's like you haven't been reading my posts!
> >
> > Leave me alone, I want to talk to someone else.
>
> No offense, but you should probably take the lack of (repeated)
> responses as a sign.
>
> You've been answered several times by several people, and the answer
> has been (mostly) the same.
>
> Bugzilla is a developer's tool, with bugs reported by users. Severity
> levels are there for how they affect Wine *overall*, not the user
> experience. Such things belong in the AppDB/etc., not bugzilla.


Having it in a field in bugzilla with a list of options is potentially a lot
better than expecting users to enter the information in the description
without being prompted.  I'd suggest:

Application can't start.
(default) Something I need to do is broken, but enough of the app still
works to be useful for other tasks (e.g. a word processor with broken
equation editor).
The app is totally useless (e.g. a word processor with broken Open & Save
dialogs).
Part of the app is broken but I can work around the problems.

along with instructions to file installer bugs under "Installer for XYZ"
because installers have the same potential for partial breakage (can't
select install directory vs shows negative free space and refuses to install
at all)

This was already suggested, but the options addressed multiple orthogonal
issues (how usable is the app vs what kind of breakage) which someone
pointed out would be even more confusing.  Keep the what broke in the
description where users will naturally report it, and provide only an impact
(hey that might not be a bad name for the field -- "impact") level in a new
dropdown list.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090507/c2bdd6f3/attachment.htm>

From shacklein at gmail.com  Thu May  7 21:38:54 2009
From: shacklein at gmail.com (Ben Klein)
Date: Fri, 8 May 2009 12:38:54 +1000
Subject: Severity levels
In-Reply-To: <2e59e6970905071814m17156d1bt5b75cacbb7d3d71c@mail.gmail.com>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se> 
	<49FDD186.2040906@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F7@wsmail01.ws.se> 
	<49FE0296.9080905@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F9@wsmail01.ws.se> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FA@wsmail01.ws.se>
	<49FE1411.1080805@o2.co.uk> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FD@wsmail01.ws.se>
	<b6bb06270905070848l7699ff4bmbaca25f9945f3009@mail.gmail.com> 
	<2e59e6970905071814m17156d1bt5b75cacbb7d3d71c@mail.gmail.com>
Message-ID: <d7e40be30905071938j5a64b336tae615fa9c847d994@mail.gmail.com>

2009/5/8 richardvoigt at gmail.com <richardvoigt at gmail.com>:
> 2009/5/7 Austin English <austinenglish at gmail.com>
>>
>> 2009/5/3 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
>> > Explained to me?? ...this is just incredible.
>> > Regardless of what I have said, you have repeated almost the same
>> > things,
>> > it's like you haven't been reading my posts!

Or that you're not reading other people's posts, like every time they
mention the phrase "developers, not users", you assume the entire post
is irrelevant to the discussion.

>> > Leave me alone, I want to talk to someone else.

I've said it before, you're one man against the world in this argument.

>> Bugzilla is a developer's tool, with bugs reported by users. Severity
>> levels are there for how they affect Wine *overall*, not the user
>> experience. Such things belong in the AppDB/etc., not bugzilla.
>
> Having it in a field in bugzilla with a list of options is potentially a lot
> better than expecting users to enter the information in the description
> without being prompted. ?I'd suggest:
> Application can't start.
> (default) Something I need to do is broken, but enough of the app still
> works to be useful for other tasks (e.g. a word processor with broken
> equation editor).
> The app is totally useless (e.g. a word processor with broken Open & Save
> dialogs).
> Part of the app is broken but I can work around the problems.

This is not very useful to the people who matter on bugzilla
(developers). "Something is broken" is too close to "The app is
useless" (at best these would be Minor and Normal bugs, at worst both
Normal) and "Part of the app is broken" is exactly the same as
"Something is broken" except a workaround is present (this is
guaranteed to be Minor).

Users need to provide much more detail to their bug descriptions than
this. Adding a field that describes the problem in a vague way will
encourage users to minimise their descriptions (BAD). Imagine:
"I already said that something is broken, why are you asking for more
information? FIX IT! It's really important! I need it to live!"

If any improvement can be made to the bug submission system, it would
be to encourage users to provide *more* descriptive detail (especially
for steps taken to reproduce the bug) in their initial report. Any
suggestion for adding or modifying a field to indicate "Impact on user
experience" will not affect that.

> along with instructions to file installer bugs under "Installer for XYZ"
> because installers have the same potential for partial breakage (can't
> select install directory vs shows negative free space and refuses to install
> at all)
> This was already suggested, but the options addressed multiple orthogonal
> issues (how usable is the app vs what kind of breakage) which someone
> pointed out would be even more confusing. ?Keep the what broke in the
> description where users will naturally report it, and provide only an impact
> (hey that might not be a bad name for the field -- "impact") level in a new
> dropdown list.

It's been said before: bugzilla is not the place for this type of
thing. The "impact on user experience" is not a factor in determining
bug priorities, nor will it ever be. Remember, WineHQ is not a
company, Wine is not proprietary, so Wine does not have to behave like
a commercial product. If someone is willing to work on a bug, then
patches will get submitted and reviewed. If the patches are
well-formed and functional, and don't cause obvious regressions, then
the patches are committed and the bug fixed. That's how collaborative
open-source development works, especially in such massive projects as
Wine.


From jjmckenzie51 at earthlink.net  Thu May  7 21:51:18 2009
From: jjmckenzie51 at earthlink.net (James McKenzie)
Date: Thu, 07 May 2009 19:51:18 -0700
Subject: Severity levels
In-Reply-To: <20090504172052.5514b139@test-main>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>	<B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se>	<b6bb06270905030151qaa306b6p4cabe2d3f073780f@mail.gmail.com>	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F2@wsmail01.ws.se>	<b6bb06270905031059h62efb482xbbd5deb38b125c7a@mail.gmail.com>	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FC@wsmail01.ws.se>	<b6bb06270905031556w3c573a37n9333380e48a8096c@mail.gmail.com>	<d7e40be30905031735v12d1832cnd242699b5502df04@mail.gmail.com>	<B73E4E48704A3A43B786A9078FF1BC6DD3A405@wsmail01.ws.se>	<d7e40be30905040509u792073aeudcfca0a59bee2e47@mail.gmail.com>	<d7e40be30905040512m586c1a6bub78ba391d7222999@mail.gmail.com>
	<20090504172052.5514b139@test-main>
Message-ID: <4A039E26.5070004@earthlink.net>

IneedAname wrote:
>
> Wine does have meta bugs look at the application data base. Each application has a list of bugs that effect that program.
>   
I think that you missed what a meta-bug is in the Bugzilla sense.  A
meta-bug would collect all of the applications affected by a particular
problem, we do that by adding them to the comments area and closing out
the duplicates.
> Why Wine does not use meta bugs in bugzilla is because they end up being "Make my all programs work with wine! Now" list.
>
>   
Either that, or they get abused by folks adding bugs that have NOTHING
to do with the original bug.

In any case, meta-bugs are not allowed in Bugzilla, period.

James McKenzie



From austinenglish at gmail.com  Fri May  8 01:36:32 2009
From: austinenglish at gmail.com (Austin English)
Date: Fri, 8 May 2009 01:36:32 -0500
Subject: Fwd: [Wine] How to Rip DVD and Convert video on OS X
In-Reply-To: <1241764291.m2f.24489@forum.winehq.org>
References: <1241764291.m2f.24489@forum.winehq.org>
Message-ID: <b6bb06270905072336h164b7203t358ccdbe3a4432d3@mail.gmail.com>

I know it's been mentioned a few times on wine-users, and the signup
question was recently changed, but is there anything else we can do to
prevent the forum spam?

It's getting a bit out of hand. There is at least one message similar
to the below daily.

-- 
-Austin


---------- Forwarded message ----------
From: rahul6 <wineforum-user at winehq.org>
Date: Fri, May 8, 2009 at 1:31 AM
Subject: [Wine]  How to Rip DVD and Convert video on OS X
To: wine-users at winehq.org


Now portable devices can be seen everywhere. They don't take so much
space and are easy to use.
Many people use their devices such as iPod, iPhone, PSP, Mobile Phone,
Zune, Creative Zen, iRiver, Sansa, etc. to be ?served as their DVD
Players or Video players.
But the first thing kept in mind is that most such devices can not
support DVD and some other video formats. But it is not difficult,
some third-party conversion software such as Mac DVD Ripper


From wine-devel at kievinfo.com  Fri May  8 02:22:55 2009
From: wine-devel at kievinfo.com (Vitaliy Margolen)
Date: Fri, 08 May 2009 01:22:55 -0600
Subject: comctl32/test: test CheckState Macros
In-Reply-To: <4A02F4E1.1020404@dawncrow.de>
References: <4A009FD9.409@dawncrow.de>	<b6bb06270905051733h63b1ab9fndf9cbb866c96e786@mail.gmail.com>
	<4A02F4E1.1020404@dawncrow.de>
Message-ID: <4A03DDCF.7010207@kievinfo.com>

Andr? Hentschel wrote:
> I made one patch out of them and improved my tests.
> now i wonder again why its not getting in...

You should use SNDMSGW.

Vitaliy.


From bunglehead at gmail.com  Fri May  8 02:40:07 2009
From: bunglehead at gmail.com (Nikolay Sivov)
Date: Fri, 08 May 2009 11:40:07 +0400
Subject: comctl32/test: test CheckState Macros
In-Reply-To: <4A03DDCF.7010207@kievinfo.com>
References: <4A009FD9.409@dawncrow.de>	<b6bb06270905051733h63b1ab9fndf9cbb866c96e786@mail.gmail.com>	<4A02F4E1.1020404@dawncrow.de>
	<4A03DDCF.7010207@kievinfo.com>
Message-ID: <4A03E1D7.1020707@gmail.com>

Vitaliy Margolen wrote:
> Andr? Hentschel wrote:
>   
>> I made one patch out of them and improved my tests.
>> now i wonder again why its not getting in...
>>     
>
> You should use SNDMSGW.
>
> Vitaliy.
>
>
>   
No actually. Native uses ListView_SetItemState for that macro which is 
SNDMSGA in wine and SNDMSG in native.


From julliard at winehq.org  Fri May  8 05:26:45 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Fri, 08 May 2009 12:26:45 +0200
Subject: tools/winedump: sign compare fixes
In-Reply-To: <b6bb06270905071006t711bf92fh1493901a95046181@mail.gmail.com>
	(Austin English's message of "Thu, 7 May 2009 12:06:30 -0500")
References: <b6bb06270905071006t711bf92fh1493901a95046181@mail.gmail.com>
Message-ID: <87k54rc2l6.fsf@wine.dyndns.org>

Austin English <austinenglish at gmail.com> writes:

> -static const char *debugstr_wn(const WCHAR *wstr, int n)
> +static const char *debugstr_wn(const WCHAR *wstr, uint n)
>  {
>      static char buf[80];
>      char *p;
> -    int i;
> +    uint i;

uint is not a standard type. Use "unsigned int" instead.

-- 
Alexandre Julliard
julliard at winehq.org


From nerv at dawncrow.de  Fri May  8 07:07:18 2009
From: nerv at dawncrow.de (=?ISO-8859-1?Q?Andr=E9_Hentschel?=)
Date: Fri, 08 May 2009 14:07:18 +0200
Subject: Dynamically adding debug channels (__wine_dbg_set_channel_flags)
In-Reply-To: <921343.72372.qm@web45903.mail.sp1.yahoo.com>
References: <921343.72372.qm@web45903.mail.sp1.yahoo.com>
Message-ID: <4A042076.7080003@dawncrow.de>

The Problem with a pre-processor setting would be that the endusers may 
not be able to make good logs for the devs.
At the moment you can say to a user "send a log using 
'WINEDEBUG=commctrl wine program.exe'", the user doesnt have to know 
what he is doing exactly, but he sends a usefull text. That wouldnt be 
possible anymore as i understand it.

Best regards Andr? Hentschel

Daniel Santos schrieb:
> It would seem quite helpful for debugging odd situations to be able to 
> turn debugging on and off programmatically.  I like not having every 
> debug class loaded in memory by default (and everything that goes with 
> maintaining that global list), but it would seem quite helpful for 
> troubleshooting, testing and debugging special cases (mostly where one 
> doesn't have the sources of the troublesome app).
>
> Thus, perhaps __wine_dbg_set_channel_flags could add the debug channel 
> to debug_options if it doesn't exist and even allow setting the 
> default_flags (say by having a zero-length name in the channel 
> argument) or even another function which would allow it.  I'm not sure 
> what thread synchronization implications this would bring about (and 
> the associated costs of the sync objects), it seems it would require 
> at the least the use of a critical section to modify the 
> debug_options, but perhaps this can be a pre-processor driven option?  
> The configure could have a --enable-dynamic-channels or some such that 
> would set a pre-processor macro, etc.
>
> Alternatively, a cheaper (hackier) mechanism of thread-safety could be 
> achived by having the debug_options be contained in a struct along 
> with the nb_debug_options and have them heap-allocated so that the 
> debug_options pointer could be changed in a single machine 
> instruction.  A similar mechanism (i.e., hack) could be use to free 
> the old debug_options struct.  That's ugly, but I'm just presenting 
> options.
>
> Daniel
>
>
> ------------------------------------------------------------------------
>
>
>   



From Nicklas.Borjesson at ws.se  Thu May  7 11:23:56 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Thu, 7 May 2009 18:23:56 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se><49FDBFAE.20206@o2.co.uk><B73E4E48704A3A43B786A9078FF1BC6DD3A3F4@wsmail01.ws.se><49FDD186.2040906@o2.co.uk><B73E4E48704A3A43B786A9078FF1BC6DD3A3F7@wsmail01.ws.se><49FE0296.9080905@o2.co.uk><B73E4E48704A3A43B786A9078FF1BC6DD3A3F9@wsmail01.ws.se><B73E4E48704A3A43B786A9078FF1BC6DD3A3FA@wsmail01.ws.se><49FE1411.1080805@o2.co.uk><B73E4E48704A3A43B786A9078FF1BC6DD3A3FD@wsmail01.ws.se>
	<b6bb06270905070848l7699ff4bmbaca25f9945f3009@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A41E@wsmail01.ws.se>

>No offense, but you should probably take the lack of (repeated)
>responses as a sign.

I did leave it alone.
That post was a reaction to what I considered as bullying.
The answers has almost never been to anything I have said, 
but rather to things I haven't said. 

//Nicklas
PS.
No, I am new to the wine project. 
But there is a world outside of it.
DS.


From Nicklas.Borjesson at ws.se  Thu May  7 13:55:19 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Thu, 7 May 2009 20:55:19 +0200
Subject: Shuttleworth on Wine
References: <660374.13022.qm@web39704.mail.mud.yahoo.com><d7e40be30905051628u490643c5j56b34ee14b3b61dd@mail.gmail.com><36a11a3a0905051635q6024e42cm81827dd05eb24fbd@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6D013D47CC@wsmail01.ws.se>
	<b6bb06270905070837u78a7dfc7mce3ac8bb6f6a5a69@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A41F@wsmail01.ws.se>


>I think you're seriously underestimating Wine, and the amount of
>'real' work it can accomplish. The world doesn't revolve around Adobe
>products, contrary to what many recent converts to GNU/Linux may
>think.

As usual, I am not talking about myself, but people in generals' 
perception of it, which reflected quite well in Shuttleworths comments.
Whatever you think of the guy, remember he was a developer on 
the Debian project in the nineties. He's not totally unitiated.
And I don't think he is unique in any way. 

Also, (quoting http://www.winehq.org/about/):
"Wine is still under development, and it is not yet suitable for general use."
Doesn't say stability. Especially when the version has passed 1.0.

And the *rest* of the world DO revolve around a few applications.
That is why they think so.

>Though, I must say, the majority of people I see/hear using Photoshop
>*are* using it as a toy/hobby, not for 'real' work, i.e., a full time
>job.

I have the same impression. And most haven't paid for it either.
Anyway, that really isn't important. 
The important thing is that they want it, no why.


From steve at bstage.com  Thu May  7 17:39:38 2009
From: steve at bstage.com (Steve Schow)
Date: Thu, 7 May 2009 15:39:38 -0700
Subject: Does wine handle virtual midi ports correct on OSX?
In-Reply-To: <B5077AC1-AE8A-4804-9FA8-AE9E3DF40673@codeweavers.com>
References: <23419972.post@talk.nabble.com>
	<B5077AC1-AE8A-4804-9FA8-AE9E3DF40673@codeweavers.com>
Message-ID: <8D047120-A11E-4B78-8874-916FAAC30B1B@bstage.com>

Thanks a lot for that.  Would be nice to get to the bottom of this  
issue and I am happy to run some tests if  he can help me set debug  
flags or whatever to figure it out.


On May 7, 2009, at 1:14 PM, Ken Thomases wrote:

> On May 6, 2009, at 11:20 PM, Dewdman42 wrote:
>
>> Does anyone know if Darwine can be fixed to handle virtual midi ports
>> correctly?  They work very sporadically right now.  It seems to be  
>> related
>> to getting the ports flushed or initialized or something.  When  
>> there is a
>> virtual midi port present (under OSX), Wine seems to see it and  
>> lists it as
>> an available midi port, but I have not been able to consistently  
>> get that
>> port to function correctly.  Sometimes it does and sometimes it  
>> doesn't and
>> it seems to related to switching it on and off in some fashion  
>> makes it
>> work, though I can't seem to find a pattern that will work  
>> consistently.
>>
>> All I can figure is that somehow Wine is not handling midi ports in  
>> a way
>> that is compatible with OSX virtual midi ports.
>>
>> Anyone have any experience or knowledge in this area?
>
> As far as I know, only Emmanuel Maillard has touched the MIDI code  
> in the Core Audio driver.  I'm CC'ing him, just to be sure he sees  
> this.
>
> Cheers,
> Ken
>

-------------------------
Steve Schow
steve at bstage.com
206-724-8083





From steve at bstage.com  Thu May  7 17:40:53 2009
From: steve at bstage.com (Dewdman42)
Date: Thu, 7 May 2009 15:40:53 -0700 (PDT)
Subject: Does wine handle virtual midi ports correct on OSX?
In-Reply-To: <B5077AC1-AE8A-4804-9FA8-AE9E3DF40673@codeweavers.com>
References: <23419972.post@talk.nabble.com>
	<B5077AC1-AE8A-4804-9FA8-AE9E3DF40673@codeweavers.com>
Message-ID: <23436811.post@talk.nabble.com>


Thanks for that.  Hope we can get to the bottom of the issue.


Ken Thomases wrote:
> 
> On May 6, 2009, at 11:20 PM, Dewdman42 wrote:
> 
> As far as I know, only Emmanuel Maillard has touched the MIDI code in  
> the Core Audio driver.  I'm CC'ing him, just to be sure he sees this.
> 
> Cheers,
> Ken
> 
> 

-- 
View this message in context: http://www.nabble.com/Does-wine-handle-virtual-midi-ports-correct-on-OSX--tp23419972p23436811.html
Sent from the Wine - Devel mailing list archive at Nabble.com.



From Nicklas.Borjesson at ws.se  Fri May  8 01:18:31 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Fri, 8 May 2009 08:18:31 +0200
Subject: Severity levels
In-Reply-To: <4A03A1F0.8010001@earthlink.net>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se><B73E4E48704A3A43B786A9078FF1BC6DD3A3E2@wsmail01.ws.se><49FC4B8F.8090200@o2.co.uk><B73E4E48704A3A43B786A9078FF1BC6DD3A3E6@wsmail01.ws.se><49FC648B.70705@o2.co.uk><B73E4E48704A3A43B786A9078FF1BC6DD3A3E7@wsmail01.ws.se><b6bb06270905030151qaa306b6p4cabe2d3f073780f@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A3F2@wsmail01.ws.se><b6bb06270905031059h62efb482xbbd5deb38b125c7a@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A3FC@wsmail01.ws.se>	<b6bb06270905031556w3c573a37n9333380e48a8096c@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A403@wsmail01.ws.se>
	<4A03A1F0.8010001@earthlink.net>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6D013D47F6@wsmail01.ws.se>

Hi all, 
it seems that some of my earlier mails(and some other) has been re-mailed to the list.
I don't think that our(here, at my workplace) servers has done this, rather, 
it feels like the mailing list server did it.
So understand that I am not bombarding the list. 
I see that many are replying to some really old posts.

//Nicklas



From wine-devel at kievinfo.com  Fri May  8 10:30:25 2009
From: wine-devel at kievinfo.com (Vitaliy Margolen)
Date: Fri, 08 May 2009 09:30:25 -0600
Subject: comctl32/test: test CheckState Macros
In-Reply-To: <4A03E1D7.1020707@gmail.com>
References: <4A009FD9.409@dawncrow.de>	<b6bb06270905051733h63b1ab9fndf9cbb866c96e786@mail.gmail.com>	<4A02F4E1.1020404@dawncrow.de>
	<4A03DDCF.7010207@kievinfo.com> <4A03E1D7.1020707@gmail.com>
Message-ID: <4A045011.9000508@kievinfo.com>

Nikolay Sivov wrote:
> No actually. Native uses ListView_SetItemState for that macro which is
> SNDMSGA in wine and SNDMSG in native.
He asked why his patch is not getting in - that's one of the reasons. You
should always use SendMessageW where possible. Especially for things that
don't care if it's A or W. This is to prevent extra A->W conversions.

Vitaliy.



From shacklein at gmail.com  Fri May  8 19:31:35 2009
From: shacklein at gmail.com (Ben Klein)
Date: Sat, 9 May 2009 10:31:35 +1000
Subject: Shuttleworth on Wine
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A41F@wsmail01.ws.se>
References: <660374.13022.qm@web39704.mail.mud.yahoo.com>
	<d7e40be30905051628u490643c5j56b34ee14b3b61dd@mail.gmail.com> 
	<36a11a3a0905051635q6024e42cm81827dd05eb24fbd@mail.gmail.com> 
	<B73E4E48704A3A43B786A9078FF1BC6D013D47CC@wsmail01.ws.se> 
	<b6bb06270905070837u78a7dfc7mce3ac8bb6f6a5a69@mail.gmail.com> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A41F@wsmail01.ws.se>
Message-ID: <d7e40be30905081731j74673c67y1b723c629f5ee821@mail.gmail.com>

2009/5/8 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
> And the *rest* of the world DO revolve around a few applications.
> That is why they think so.

No, the rest of the world does not revolve around a few applications,
it's just that the #1 complaint against free operating systems has
been traditionally "it won't run Photoshop". In my experience, most
people who argue this don't even care about it, and in fact some
people miss the point entirely and dismiss Wine as "not a solution",
because they expect it to run natively, fluidly, with complete desktop
integration etc.

>>Though, I must say, the majority of people I see/hear using Photoshop
>>*are* using it as a toy/hobby, not for 'real' work, i.e., a full time
>>job.
>
> I have the same impression. And most haven't paid for it either.
> Anyway, that really isn't important.

Except that WineHQ does not officially support pirated software (it
may run, but you'll get no official help getting it to run or work
properly).

> The important thing is that they want it, no why.

As it stands, yes, the fact that they want it is more important than
why. It's also unimportant to Wine's goals (which is for *all*
applications to run, not just Photoshop), and should not be considered
a factor in determining when the next release is ready.


From shacklein at gmail.com  Fri May  8 19:43:17 2009
From: shacklein at gmail.com (Ben Klein)
Date: Sat, 9 May 2009 10:43:17 +1000
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A41E@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se> 
	<49FDD186.2040906@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F7@wsmail01.ws.se> 
	<49FE0296.9080905@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F9@wsmail01.ws.se> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FA@wsmail01.ws.se>
	<49FE1411.1080805@o2.co.uk> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FD@wsmail01.ws.se>
	<b6bb06270905070848l7699ff4bmbaca25f9945f3009@mail.gmail.com> 
	<B73E4E48704A3A43B786A9078FF1BC6DD3A41E@wsmail01.ws.se>
Message-ID: <d7e40be30905081743x3ff11d4are3061758f63b01cc@mail.gmail.com>

2009/5/8 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
> 2009/5/8 Austin English <austinenglish at gmail.com>:
>> No offense, but you should probably take the lack of (repeated)
>> responses as a sign.
>
> I did leave it alone.
> That post was a reaction to what I considered as bullying.
> The answers has almost never been to anything I have said,
> but rather to things I haven't said.

You've been repeatedly informed why your proposed changes to the
severity levels are a bad idea by many people on this list. Let's take
an analogy:

Imagine you're a fresh, young car tester at Ford. Using an open-door
policy to contact an executive, you promise a new, efficient design to
replace the current combustion engines completely. You present your
idea at a board meeting. The board is not receptive to your proposed
changes. The engineering department doesn't believe it will solve any
problems, and in fact that it will reduce fuel efficiency and increase
pollution. The other board members point out that you're very new to
the company, and that you have no experience in engine design or
engineering and you are only present in the company as a tester.

In this scenario, are you being bullied by the board members?

> //Nicklas
> PS.
> No, I am new to the wine project.
> But there is a world outside of it.
> DS.

You'd have some credibility if you researched what the Wine project
does with bugzilla, how it currently works, etc. rather than just
assuming it's the wrong way to do it.

2009/5/8 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
> Hi all,
> it seems that some of my earlier mails(and some other) has been re-mailed to the list.
> I don't think that our(here, at my workplace) servers has done this, rather,
> it feels like the mailing list server did it.
> So understand that I am not bombarding the list.
> I see that many are replying to some really old posts.

Still not your problem? Still feeling bullied, but this time by the
mailing list server?

I don't believe your earlier mains have been resent. I certainly
haven't received them.


From remco47 at gmail.com  Fri May  8 20:06:50 2009
From: remco47 at gmail.com (Remco)
Date: Sat, 9 May 2009 03:06:50 +0200
Subject: Severity levels
In-Reply-To: <d7e40be30905081743x3ff11d4are3061758f63b01cc@mail.gmail.com>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F7@wsmail01.ws.se>
	<49FE0296.9080905@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F9@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FA@wsmail01.ws.se>
	<49FE1411.1080805@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FD@wsmail01.ws.se>
	<b6bb06270905070848l7699ff4bmbaca25f9945f3009@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A41E@wsmail01.ws.se>
	<d7e40be30905081743x3ff11d4are3061758f63b01cc@mail.gmail.com>
Message-ID: <36a11a3a0905081806y4911c54t13b69919ff931975@mail.gmail.com>

2009/5/9 Ben Klein <shacklein at gmail.com>:
> Still not your problem? Still feeling bullied, but this time by the
> mailing list server?
>
> I don't believe your earlier mains have been resent. I certainly
> haven't received them.

My Gmail account tells me that all those mails are like 4 days old.
This has happened to me before. I thought it was a problem with Gmail,
but it may as well be the wine mailing list server, or something else
entirely.

Remco


From hverbeet at gmail.com  Fri May  8 20:20:24 2009
From: hverbeet at gmail.com (Henri Verbeet)
Date: Sat, 9 May 2009 03:20:24 +0200
Subject: Severity levels
In-Reply-To: <36a11a3a0905081806y4911c54t13b69919ff931975@mail.gmail.com>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<49FE0296.9080905@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F9@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FA@wsmail01.ws.se>
	<49FE1411.1080805@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FD@wsmail01.ws.se>
	<b6bb06270905070848l7699ff4bmbaca25f9945f3009@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A41E@wsmail01.ws.se>
	<d7e40be30905081743x3ff11d4are3061758f63b01cc@mail.gmail.com>
	<36a11a3a0905081806y4911c54t13b69919ff931975@mail.gmail.com>
Message-ID: <d658b69e0905081820u7760e54aif95a3aadcc1d94b4@mail.gmail.com>

2009/5/9 Remco <remco47 at gmail.com>:
> 2009/5/9 Ben Klein <shacklein at gmail.com>:
>> Still not your problem? Still feeling bullied, but this time by the
>> mailing list server?
>>
>> I don't believe your earlier mains have been resent. I certainly
>> haven't received them.
>
> My Gmail account tells me that all those mails are like 4 days old.
> This has happened to me before. I thought it was a problem with Gmail,
> but it may as well be the wine mailing list server, or something else
> entirely.
>
When you're not subscribed to the list, your posts have to go through
moderation. Sometimes that can take a while.


From scott at open-vote.org  Fri May  8 20:52:44 2009
From: scott at open-vote.org (Scott Ritchie)
Date: Fri, 08 May 2009 18:52:44 -0700
Subject: Shuttleworth on Wine
In-Reply-To: <d7e40be30905081731j74673c67y1b723c629f5ee821@mail.gmail.com>
References: <660374.13022.qm@web39704.mail.mud.yahoo.com>	<d7e40be30905051628u490643c5j56b34ee14b3b61dd@mail.gmail.com>
	<36a11a3a0905051635q6024e42cm81827dd05eb24fbd@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6D013D47CC@wsmail01.ws.se>
	<b6bb06270905070837u78a7dfc7mce3ac8bb6f6a5a69@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A41F@wsmail01.ws.se>
	<d7e40be30905081731j74673c67y1b723c629f5ee821@mail.gmail.com>
Message-ID: <4A04E1EC.8080306@open-vote.org>

Ben Klein wrote:
> 2009/5/8 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
>> And the *rest* of the world DO revolve around a few applications.
>> That is why they think so.
> 
> No, the rest of the world does not revolve around a few applications,
> it's just that the #1 complaint against free operating systems has
> been traditionally "it won't run Photoshop". In my experience, most
> people who argue this don't even care about it, and in fact some
> people miss the point entirely and dismiss Wine as "not a solution",
> because they expect it to run natively, fluidly, with complete desktop
> integration etc.
> 

The great thing about this is these are all solvable problems, even in 
the near term.  Photoshop almost works.  Desktop integration is almost 
there.  I'm doing what I can to make Wine a very impressive piece of 
software to the point where its integration into the desktop seems 
completely natural.

>>> Though, I must say, the majority of people I see/hear using Photoshop
>>> *are* using it as a toy/hobby, not for 'real' work, i.e., a full time
>>> job.
>> I have the same impression. And most haven't paid for it either.
>> Anyway, that really isn't important.
> 
> Except that WineHQ does not officially support pirated software (it
> may run, but you'll get no official help getting it to run or work
> properly).
> 

Internet Explorer: Free as in beer.  Wine: Free as in speech. 
Photoshop: Free as in stolen.

>> The important thing is that they want it, no why.
> 
> As it stands, yes, the fact that they want it is more important than
> why. It's also unimportant to Wine's goals (which is for *all*
> applications to run, not just Photoshop), and should not be considered
> a factor in determining when the next release is ready.
> 
> 

We had "no application regressions" as a release goal for 1.0, more or 
less - in practice that meant we were targeting every application users 
wanted to test it on.  But there were also 4 specific apps targeted too 
- IIRC stuff like word viewer.  In principle there's no reason an 
application like Photoshop couldn't be considered release critical in 
much the same fashion these were.

For practical reasons, however, we probably don't want to target 
particular applications just because they're popular - a better strategy 
would be to target particular users who only need one application that 
is almost working.  At least, that's what the model I wrote told me: 
http://yokozar.org/blog/archives/48

Thanks,
Scott Ritchie


From scott at open-vote.org  Fri May  8 21:41:31 2009
From: scott at open-vote.org (Scott Ritchie)
Date: Fri, 08 May 2009 19:41:31 -0700
Subject: New icons for 1.1.21
Message-ID: <4A04ED5B.1020208@open-vote.org>

Hey everyone,

I just wanted to say that the icon discussion I started a couple weeks 
back has born even more fruit, and I'm really happy with the current 
state of the icons that I'm now using in the 1.1.21 Ubuntu packages. 
I've attached them, and will be sending them as patches soon as well.

I'm still not quite done with them, and they will likely change a bit 
after I get some UI feedback at the Ubuntu Developer Summit at the end 
of the month, but in the meantime I think they're quite better than what 
we have.

Unlike the ubuntustudio icons I found (and packaged with 1.1.20 as an 
experiment), these should be a bit more visible (and fully 
tango-compliant).  In particular, the stem of the glass is no longer two 
semitransparent pixels at normal 48x48 size, but instead has a full 
Tango border/inner brush stroke.

Smaller icons for the other standard sizes are being worked on as well, 
however they have to be retouched individually to maintain the 1 pixel 
border/brush stroke in the Tango style.  Eventually I'll submit a patch 
for our website's mini icon as well.

Anyway, please feel free to give way too much feedback :)

Thanks,
Scott Ritchie
-------------- next part --------------
A non-text attachment was scrubbed...
Name: new-wine-tango-icons-may-2009.tar.bz2
Type: application/x-bzip
Size: 15536 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090508/bd25287e/attachment-0001.bin>

From austinenglish at gmail.com  Fri May  8 23:49:24 2009
From: austinenglish at gmail.com (Austin English)
Date: Fri, 8 May 2009 23:49:24 -0500
Subject: Shuttleworth on Wine
In-Reply-To: <4A04E1EC.8080306@open-vote.org>
References: <660374.13022.qm@web39704.mail.mud.yahoo.com>
	<d7e40be30905051628u490643c5j56b34ee14b3b61dd@mail.gmail.com>
	<36a11a3a0905051635q6024e42cm81827dd05eb24fbd@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6D013D47CC@wsmail01.ws.se>
	<b6bb06270905070837u78a7dfc7mce3ac8bb6f6a5a69@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A41F@wsmail01.ws.se>
	<d7e40be30905081731j74673c67y1b723c629f5ee821@mail.gmail.com>
	<4A04E1EC.8080306@open-vote.org>
Message-ID: <b6bb06270905082149n589193efm805db78a39735632@mail.gmail.com>

2009/5/8 Scott Ritchie <scott at open-vote.org>:
> We had "no application regressions" as a release goal for 1.0, more or less
> - in practice that meant we were targeting every application users wanted to
> test it on. ?But there were also 4 specific apps targeted too - IIRC stuff
> like word viewer. ?In principle there's no reason an application like
> Photoshop couldn't be considered release critical in much the same fashion
> these were.

Yes, the targets were Microsoft Word/Powerpoint viewer, while cheap
and free to download, they're both actually pretty complex (office
based).

As a shameless plug, this is the kind of stuff I'm planning on testing
this summer for Summer of Code. Photoshop, however, is harder to test,
since it doesn't have an easy free download available.

Adobe reader/photoshop album, however, may be a bit easier to test,
and have the bonus of some similar bugs.

If anyone has some simple applications that are easy to test
(preferably, with no installer), shoot me an e-mail and I'll add it to
my my list of applications to look at.

-- 
-Austin


From hverbeet at gmail.com  Sat May  9 05:14:10 2009
From: hverbeet at gmail.com (Henri Verbeet)
Date: Sat, 9 May 2009 12:14:10 +0200
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A424@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FA@wsmail01.ws.se>
	<49FE1411.1080805@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FD@wsmail01.ws.se>
	<b6bb06270905070848l7699ff4bmbaca25f9945f3009@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A41E@wsmail01.ws.se>
	<d7e40be30905081743x3ff11d4are3061758f63b01cc@mail.gmail.com>
	<36a11a3a0905081806y4911c54t13b69919ff931975@mail.gmail.com>
	<d658b69e0905081820u7760e54aif95a3aadcc1d94b4@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A424@wsmail01.ws.se>
Message-ID: <d658b69e0905090314i488a856coa950284ea1dcee5d@mail.gmail.com>

2009/5/9 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
>>When you're not subscribed to the list, your posts have to go through
>>moderation. Sometimes that can take a while.
>
> I do subscribe to the list(and did, from the beginning).
> Or maybe subscription is more than registering to the mailing list?
>
You also need to follow the confirmation link, of course, but if you
receive mails from the list that should be ok. The only other obvious
thing I can think of at the moment is to make sure you're sending
mails with the same address you're receiving them on.


From bunglehead at gmail.com  Sat May  9 05:31:17 2009
From: bunglehead at gmail.com (Nikolay Sivov)
Date: Sat, 09 May 2009 14:31:17 +0400
Subject: comctl32: add ListView_SetCheckState and ListView_GetCheckState
	with	tests(try3)
In-Reply-To: <4A05520D.50404@dawncrow.de>
References: <4A05520D.50404@dawncrow.de>
Message-ID: <4A055B75.3060307@gmail.com>

Andr? Hentschel wrote:
> now using SNDMSGW
> ---
>  dlls/comctl32/listview.c       |    1 -
>  dlls/comctl32/tests/listview.c |    8 ++++++++
>  include/commctrl.h             |    6 ++++++
>  3 files changed, 14 insertions(+), 1 deletions(-)
I still don't follow you. How will it run on systems without unicode 
support?
In general it's better to correct all A-only macros to SNDMSG. This 
eliminates problem
with missed SendMessageW and superfluous AtoW conversion when it's present.

In native header ListView_SetCheckSate is implemented as a wrapper over
ListView_SetItemState which in turn is defined as SNDMSG.



From nwarrenfl at gmail.com  Sat May  9 06:07:23 2009
From: nwarrenfl at gmail.com (Warren Dumortier)
Date: Sat, 9 May 2009 13:07:23 +0200
Subject: New icons for 1.1.21
In-Reply-To: <4A04ED5B.1020208@open-vote.org>
References: <4A04ED5B.1020208@open-vote.org>
Message-ID: <f954ac580905090407o4662cfd9i8e5c0981009fc394@mail.gmail.com>

2009/5/9 Scott Ritchie <scott at open-vote.org>:
> Hey everyone,
>
> I just wanted to say that the icon discussion I started a couple weeks back
> has born even more fruit, and I'm really happy with the current state of the
> icons that I'm now using in the 1.1.21 Ubuntu packages. I've attached them,
> and will be sending them as patches soon as well.
>
> I'm still not quite done with them, and they will likely change a bit after
> I get some UI feedback at the Ubuntu Developer Summit at the end of the
> month, but in the meantime I think they're quite better than what we have.
>
> Unlike the ubuntustudio icons I found (and packaged with 1.1.20 as an
> experiment), these should be a bit more visible (and fully tango-compliant).
> ?In particular, the stem of the glass is no longer two semitransparent
> pixels at normal 48x48 size, but instead has a full Tango border/inner brush
> stroke.
>
> Smaller icons for the other standard sizes are being worked on as well,
> however they have to be retouched individually to maintain the 1 pixel
> border/brush stroke in the Tango style. ?Eventually I'll submit a patch for
> our website's mini icon as well.
>
> Anyway, please feel free to give way too much feedback :)
>
> Thanks,
> Scott Ritchie
>
>
>
>

Nice, however i have a little suggestion...
Would it be possible to assign an icon to WINE when you select a
program from the list? This would be nice! ;)


From wine-devel at kievinfo.com  Sat May  9 09:56:26 2009
From: wine-devel at kievinfo.com (Vitaliy Margolen)
Date: Sat, 09 May 2009 08:56:26 -0600
Subject: comctl32: add ListView_SetCheckState and ListView_GetCheckState
	with   tests(try3)
In-Reply-To: <4A05520D.50404@dawncrow.de>
References: <4A05520D.50404@dawncrow.de>
Message-ID: <4A05999A.1090301@kievinfo.com>

Andr? Hentschel wrote:
> now using SNDMSGW
> ---
>  dlls/comctl32/listview.c       |    1 -
>  dlls/comctl32/tests/listview.c |    8 ++++++++
>  include/commctrl.h             |    6 ++++++
>  3 files changed, 14 insertions(+), 1 deletions(-)
> 
> +#define ListView_SetCheckState(hwndLV, iIndex, bCheck) \
> +    { LVITEMA _LVi; _LVi.state = ((bCheck?2:1) << 12); _LVi.stateMask = LVIS_STATEIMAGEMASK;\
> +    SNDMSGW(hwndLV, LVM_SETITEMSTATE, (WPARAM)(INT)(iIndex), (LPARAM) (LPLVITEMA)&_LVi);}
If you using SendMessageW you must use W structures (LVITEMW not LVITEMA).

Also why are you typecasting WP & LP two times?

Vitaliy.


From javatroubadour at yahoo.com  Sat May  9 10:48:52 2009
From: javatroubadour at yahoo.com (Daniel Santos)
Date: Sat, 9 May 2009 08:48:52 -0700 (PDT)
Subject: Dynamically adding debug channels (__wine_dbg_set_channel_flags)
Message-ID: <942284.56209.qm@web45913.mail.sp1.yahoo.com>

What I'm proposing shouldn't interfere with that.? However, my original proposal is lacking (as I discovered when trying it out) because most of the object files that use debug logging end up with a static struct  __wine_debug_channel variable that can't be changed from libwine after initialization.

I think I just need to create a working solution and propose it as a patch.? Performance is a pretty huge issue where, especially when running with WINEDEBUG=+all, so whatever I come up with will have to be very performance sensitive.? Either way, the idea is to provide a mechanism for dynamically changing debug channels.? Since this isn't something that many people should need (and especially not end users) this should be disabled by default.

--- On Fri, 5/8/09, Andr? Hentschel <nerv at dawncrow.de> wrote:

From: Andr? Hentschel <nerv at dawncrow.de>
Subject: Re: Dynamically adding debug channels (__wine_dbg_set_channel_flags)
To: daniel.santos at pobox.com, wine-devel at winehq.org
Date: Friday, May 8, 2009, 7:07 AM

The Problem with a pre-processor setting would be that the endusers may not be able to make good logs for the devs.
At the moment you can say to a user "send a log using 'WINEDEBUG=commctrl wine program.exe'", the user doesnt have to know what he is doing exactly, but he sends a usefull text. That wouldnt be possible anymore as i understand it.

Best regards Andr? Hentschel

Daniel Santos schrieb:
> It would seem quite helpful for debugging odd situations to be able to turn debugging on and off programmatically.? I like not having every debug class loaded in memory by default (and everything that goes with maintaining that global list), but it would seem quite helpful for troubleshooting, testing and debugging special cases (mostly where one doesn't have the sources of the troublesome app).
> 
> Thus, perhaps __wine_dbg_set_channel_flags could add the debug channel to debug_options if it doesn't exist and even allow setting the default_flags (say by having a zero-length name in the channel argument) or even another function which would allow it.? I'm not sure what thread synchronization implications this would bring about (and the associated costs of the sync objects), it seems it would require at the least the use of a critical section to modify the debug_options, but perhaps this can be a pre-processor driven option?? The configure could have a --enable-dynamic-channels or some such that would set a pre-processor macro, etc.
> 
> Alternatively, a cheaper (hackier) mechanism of thread-safety could be achived by having the debug_options be contained in a struct along with the nb_debug_options and have them heap-allocated so that the debug_options pointer could be changed in a single machine instruction.? A similar mechanism (i.e., hack) could be use to free the old debug_options struct.? That's ugly, but I'm just presenting options.
> 
> Daniel
> 
> 
> ------------------------------------------------------------------------
> 
> 
>???




      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090509/2554236e/attachment.htm>

From wine-devel at kievinfo.com  Sat May  9 10:52:20 2009
From: wine-devel at kievinfo.com (Vitaliy Margolen)
Date: Sat, 09 May 2009 09:52:20 -0600
Subject: [2/2] kernel32: Fix GetVolumeNameForVolumeMountPointW to match
	Mountmgr
In-Reply-To: <1241841430.15659.7.camel@localhost.localdomain>
References: <1241841430.15659.7.camel@localhost.localdomain>
Message-ID: <4A05A6B4.2060806@kievinfo.com>

Few nitpicks about your patch.

Guy Albertelli wrote:

> +    if (!(input = HeapAlloc( GetProcessHeap(), 0, i_size )))
> +    {
> +        SetLastError( ERROR_NOT_ENOUGH_MEMORY );
> +        goto err_ret;
> +    }
> +    memset( input, 0, i_size );
To zero out allocated memory you should use HEAP_ZERO_MEMORY allocation flag:
input = HeapAlloc( GetProcessHeap(), HEAP_ZERO_MEMORY, i_size );

However there is no need to do any of that - do not just clear memory
without a good reason. It takes time to do it, especially that you doing it
several times.

What you do need to do in your code is explicitly zero-terminate all strings
you receive from mount manager after you copy them.

> +    p = (WCHAR *) input;
This is wrong - types of "p" and "input" has nothing to do with each other.

> +    p = (WCHAR*)((char *)input + sizeof(MOUNTMGR_MOUNT_POINT));
> +    input->DeviceNameOffset = (char *)p - (char *)input;
> +    memcpy( p, nonpersist_name, lstrlenW( nonpersist_name )*sizeof(WCHAR) );
> +    input->DeviceNameLength = lstrlenW( nonpersist_name )*sizeof(WCHAR);
This is ugly. You can write it like this:

input->DeviceNameOffset = sizeof(*input);
input->DeviceNameLength = lstrlenW( nonpersist_name ) * sizeof(WCHAR)
memcpy( input + 1, nonpersist_name, input->DeviceNameLength );

> +            /* is there space in the return variable ?? */
> +            if ((o1->SymbolicLinkNameLength/sizeof(WCHAR))+2 > size)
> +            {
> +                SetLastError( ERROR_INVALID_PARAMETER );
> +                goto err_ret;
> +            }
This doesn't look right. There are several other error codes that more
appropriate. You should expand your tests to check what native returns here.
Also are you sure that "size" is in chars not bytes?

> +            /* make string null terminated  */
> +            p = (WCHAR*)((char*)volume + o1->SymbolicLinkNameLength);
> +            memset( p, 0, sizeof(WCHAR) );
Again ugly. You can write it like:
volume[o1->SymbolicLinkNameLength / sizeof(WCHAR)] = 0;


> +    if (input) HeapFree( GetProcessHeap(), 0, input );
> +    if (output) HeapFree( GetProcessHeap(), 0, output );
You do not need to check for pointer != NULL before freeing it. All free()
functions already doing it.

Vitaliy.


From wine-devel at kievinfo.com  Sat May  9 11:24:30 2009
From: wine-devel at kievinfo.com (Vitaliy Margolen)
Date: Sat, 09 May 2009 10:24:30 -0600
Subject: Dynamically adding debug channels (__wine_dbg_set_channel_flags)
In-Reply-To: <942284.56209.qm@web45913.mail.sp1.yahoo.com>
References: <942284.56209.qm@web45913.mail.sp1.yahoo.com>
Message-ID: <4A05AE3E.6010205@kievinfo.com>

Daniel Santos wrote:
> I think I just need to create a working solution and propose it as a
> patch.

It's already possible - see task manager. The only requirement for
disabling/enabling debug channels from within the progrm is the debug
channel have to be enabled at the start (WINEDEBUG=+all).

Vitaliy


From scott at open-vote.org  Sat May  9 13:27:59 2009
From: scott at open-vote.org (Scott Ritchie)
Date: Sat, 09 May 2009 11:27:59 -0700
Subject: New icons for 1.1.21
In-Reply-To: <f954ac580905090407o4662cfd9i8e5c0981009fc394@mail.gmail.com>
References: <4A04ED5B.1020208@open-vote.org>
	<f954ac580905090407o4662cfd9i8e5c0981009fc394@mail.gmail.com>
Message-ID: <4A05CB2F.3080201@open-vote.org>

Warren Dumortier wrote:
> 
> Nice, however i have a little suggestion...
> Would it be possible to assign an icon to WINE when you select a
> program from the list? This would be nice! ;)

Huh?  It's not clear to me what you're referring to here.  Which list? 
Which icon?

Thanks,
Scott Ritchie


From nwarrenfl at gmail.com  Sat May  9 14:12:25 2009
From: nwarrenfl at gmail.com (Warren Dumortier)
Date: Sat, 9 May 2009 21:12:25 +0200
Subject: New icons for 1.1.21
In-Reply-To: <4A05CB2F.3080201@open-vote.org>
References: <4A04ED5B.1020208@open-vote.org>
	<f954ac580905090407o4662cfd9i8e5c0981009fc394@mail.gmail.com>
	<4A05CB2F.3080201@open-vote.org>
Message-ID: <f954ac580905091212m7a5f4c84re17ceb95b9025abf@mail.gmail.com>

2009/5/9 Scott Ritchie <scott at open-vote.org>:
> Warren Dumortier wrote:
>>
>> Nice, however i have a little suggestion...
>> Would it be possible to assign an icon to WINE when you select a
>> program from the list? This would be nice! ;)
>
> Huh? ?It's not clear to me what you're referring to here. ?Which list? Which
> icon?
>
> Thanks,
> Scott Ritchie
>

Because i don't know how to explain it in english, i've made a little
screenshot: http://i44.tinypic.com/2rcxriu.png
Kind regards.


From austinenglish at gmail.com  Sat May  9 16:19:13 2009
From: austinenglish at gmail.com (Austin English)
Date: Sat, 9 May 2009 16:19:13 -0500
Subject: Shuttleworth on Wine
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A426@wsmail01.ws.se>
References: <660374.13022.qm@web39704.mail.mud.yahoo.com>
	<d7e40be30905051628u490643c5j56b34ee14b3b61dd@mail.gmail.com>
	<36a11a3a0905051635q6024e42cm81827dd05eb24fbd@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6D013D47CC@wsmail01.ws.se>
	<b6bb06270905070837u78a7dfc7mce3ac8bb6f6a5a69@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A41F@wsmail01.ws.se>
	<d7e40be30905081731j74673c67y1b723c629f5ee821@mail.gmail.com>
	<4A04E1EC.8080306@open-vote.org>
	<b6bb06270905082149n589193efm805db78a39735632@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A426@wsmail01.ws.se>
Message-ID: <b6bb06270905091419x3cd4b796p6aefee96803f1e51@mail.gmail.com>

2009/5/9 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
>>Photoshop, however, is harder to test,
>>since it doesn't have an easy free download available.
>
> Free photoshop trial download, you do need to register (and
> download through the "download manager") though:
> https://www.adobe.com/cfusion/tdrc/index.cfm?product=photoshop

It's the registering/download manager that makes it not useful. It's
much harder to script all of that.

-- 
-Austin


From austinenglish at gmail.com  Sat May  9 17:03:46 2009
From: austinenglish at gmail.com (Austin English)
Date: Sat, 9 May 2009 17:03:46 -0500
Subject: Shuttleworth on Wine
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A42C@wsmail01.ws.se>
References: <660374.13022.qm@web39704.mail.mud.yahoo.com>
	<B73E4E48704A3A43B786A9078FF1BC6D013D47CC@wsmail01.ws.se>
	<b6bb06270905070837u78a7dfc7mce3ac8bb6f6a5a69@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A41F@wsmail01.ws.se>
	<d7e40be30905081731j74673c67y1b723c629f5ee821@mail.gmail.com>
	<4A04E1EC.8080306@open-vote.org>
	<b6bb06270905082149n589193efm805db78a39735632@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A426@wsmail01.ws.se>
	<b6bb06270905091419x3cd4b796p6aefee96803f1e51@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A42C@wsmail01.ws.se>
Message-ID: <b6bb06270905091503r4120ed08k265c9179ed86f760@mail.gmail.com>

2009/5/9 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
>
>
>>It's the registering/download manager that makes it not useful. It's
>>much harder to script all of that.
>
> Why script that? One doesn't need wine to download a file, right?
> I really don't see what the point would be to test that.
> Once you downloaded the file, you don't need to download that version
> again. The only thing that needs testing is the actual running of that
> file and the following installation.
> Why test the Adobe website?
> Or have I misunderstood you completely?

http://socghop.appspot.com/student_project/show/google/gsoc2009/wine/t124024892240
http://www.nabble.com/SOC-2009%3A-Application-Test-Suite-tc22692224.html

-- 
-Austin


From Nicklas.Borjesson at ws.se  Sat May  9 17:43:55 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Sun, 10 May 2009 00:43:55 +0200
Subject: Shuttleworth on Wine
References: <660374.13022.qm@web39704.mail.mud.yahoo.com><B73E4E48704A3A43B786A9078FF1BC6D013D47CC@wsmail01.ws.se><b6bb06270905070837u78a7dfc7mce3ac8bb6f6a5a69@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A41F@wsmail01.ws.se><d7e40be30905081731j74673c67y1b723c629f5ee821@mail.gmail.com><4A04E1EC.8080306@open-vote.org><b6bb06270905082149n589193efm805db78a39735632@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A426@wsmail01.ws.se><b6bb06270905091419x3cd4b796p6aefee96803f1e51@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A42C@wsmail01.ws.se>
	<b6bb06270905091503r4120ed08k265c9179ed86f760@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A42D@wsmail01.ws.se>

> http://socghop.appspot.com/student_project/show/google/gsoc2009/wine/t124024892240
> http://www.nabble.com/SOC-2009%3A-Application-Test-Suite-tc22692224.html

Interesting project. At my workplace, we use TestComplete for testing GUI-applications, 
I have had some problems finding similar applications for Linux, which is kind of strange,
since X11 should make it really easy to create positively fantastic testing facilities.

After reading about it, though, I still don't see what would be the point in downloading
the application as a part of the test, not being a part of the applications functionality.

IMHO.

//Nicklas


From max at veneto.com  Sat May  9 17:59:09 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Sun, 10 May 2009 00:59:09 +0200
Subject: DIB Engine : Almost 100% working
Message-ID: <gu51ru$67b$1@ger.gmane.org>

Well, after some (many) bugfixes and additions, the mighty DIB Engine is almost 100%
operational.
On one of tested apps (MSN Messenger) it behaves even better than original one :-)

For whom wish to test it, bug 421 page.

Ciao

Max



From austinenglish at gmail.com  Sat May  9 22:13:43 2009
From: austinenglish at gmail.com (Austin English)
Date: Sat, 9 May 2009 22:13:43 -0500
Subject: Shuttleworth on Wine
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A42D@wsmail01.ws.se>
References: <660374.13022.qm@web39704.mail.mud.yahoo.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A41F@wsmail01.ws.se>
	<d7e40be30905081731j74673c67y1b723c629f5ee821@mail.gmail.com>
	<4A04E1EC.8080306@open-vote.org>
	<b6bb06270905082149n589193efm805db78a39735632@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A426@wsmail01.ws.se>
	<b6bb06270905091419x3cd4b796p6aefee96803f1e51@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A42C@wsmail01.ws.se>
	<b6bb06270905091503r4120ed08k265c9179ed86f760@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A42D@wsmail01.ws.se>
Message-ID: <b6bb06270905092013q3f7148b5s628e2d8a91b5bc63@mail.gmail.com>

2009/5/9 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
>> http://socghop.appspot.com/student_project/show/google/gsoc2009/wine/t124024892240
>> http://www.nabble.com/SOC-2009%3A-Application-Test-Suite-tc22692224.html
>
> Interesting project. At my workplace, we use TestComplete for testing GUI-applications,
> I have had some problems finding similar applications for Linux, which is kind of strange,
> since X11 should make it really easy to create positively fantastic testing facilities.
>
> After reading about it, though, I still don't see what would be the point in downloading
> the application as a part of the test, not being a part of the applications functionality.

The idea is to make the test as automated as possible. That way anyone
can run the tests, not just people with certain programs.

-- 
-Austin


From scott at open-vote.org  Sat May  9 23:44:44 2009
From: scott at open-vote.org (Scott Ritchie)
Date: Sat, 09 May 2009 21:44:44 -0700
Subject: New icons for 1.1.21
In-Reply-To: <f954ac580905091212m7a5f4c84re17ceb95b9025abf@mail.gmail.com>
References: <4A04ED5B.1020208@open-vote.org>	<f954ac580905090407o4662cfd9i8e5c0981009fc394@mail.gmail.com>	<4A05CB2F.3080201@open-vote.org>
	<f954ac580905091212m7a5f4c84re17ceb95b9025abf@mail.gmail.com>
Message-ID: <4A065BBC.8030903@open-vote.org>

Warren Dumortier wrote:
> 2009/5/9 Scott Ritchie <scott at open-vote.org>:
>> Warren Dumortier wrote:
>>> Nice, however i have a little suggestion...
>>> Would it be possible to assign an icon to WINE when you select a
>>> program from the list? This would be nice! ;)
>> Huh?  It's not clear to me what you're referring to here.  Which list? Which
>> icon?
>>
>> Thanks,
>> Scott Ritchie
>>
> 
> Because i don't know how to explain it in english, i've made a little
> screenshot: http://i44.tinypic.com/2rcxriu.png
> Kind regards.
> 
> 

Ahh, I see what you mean now.  Thanks!  I'll get to work on it.

Thanks,
Scott Ritchie


From Nicklas.Borjesson at ws.se  Sun May 10 03:41:39 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Sun, 10 May 2009 10:41:39 +0200
Subject: Shuttleworth on Wine
References: <660374.13022.qm@web39704.mail.mud.yahoo.com><B73E4E48704A3A43B786A9078FF1BC6DD3A41F@wsmail01.ws.se><d7e40be30905081731j74673c67y1b723c629f5ee821@mail.gmail.com><4A04E1EC.8080306@open-vote.org><b6bb06270905082149n589193efm805db78a39735632@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A426@wsmail01.ws.se><b6bb06270905091419x3cd4b796p6aefee96803f1e51@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A42C@wsmail01.ws.se><b6bb06270905091503r4120ed08k265c9179ed86f760@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A42D@wsmail01.ws.se>
	<b6bb06270905092013q3f7148b5s628e2d8a91b5bc63@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A42E@wsmail01.ws.se>

> The idea is to make the test as automated as possible. That way anyone
> can run the tests, not just people with certain programs.

Ok. Well then, either:
1. someone can mirror those two files somewhere for easier downloading,
2. or one adds one or two(quite easy) manual step to the installation instructions. 

1. makes scripting possible, however, Adobe probably would not like that.
However, one *could* simply ask them if it's ok. 
I don't see how this quite specific use case would(come on, it's a trial version)
be a problem for them and I would think that getting their application working
under wine would be something they would like happening. 
2. I think that one should try to be a bit pragmatical. If a couple of simple 
manual steps is all that is needed to get an otherwise completely automated process 
going, it should not be allowed to be a problem.

Anyway, as I said, interesting project, since we(at work) are in the progress of
automating some tests that have to use a browser(testing of some ajax-y web applications). 
I would prefer to run these tests on a Linux system for a number of reasons.


//Nicklas




From max at veneto.com  Sun May 10 05:19:07 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Sun, 10 May 2009 12:19:07 +0200
Subject: DIB Engine : Almost 100% working
In-Reply-To: <gu51ru$67b$1@ger.gmane.org>
References: <gu51ru$67b$1@ger.gmane.org>
Message-ID: <gu69mr$aak$1@ger.gmane.org>

Massimo Del Fedele ha scritto:
> Well, after some (many) bugfixes and additions, the mighty DIB Engine is 
> almost 100%
> operational.
> On one of tested apps (MSN Messenger) it behaves even better than 
> original one :-)
> 
> For whom wish to test it, bug 421 page.
> 
> Ciao
> 
> Max
> 
> 
> 
> 

fixed also last (hopefully) color format error, now some games, also D3D and Opengl
ones work perfectly.

Ciao

Max



From nwarrenfl at gmail.com  Sun May 10 06:52:43 2009
From: nwarrenfl at gmail.com (Warren Dumortier)
Date: Sun, 10 May 2009 13:52:43 +0200
Subject: DIB Engine : Almost 100% working
In-Reply-To: <gu69mr$aak$1@ger.gmane.org>
References: <gu51ru$67b$1@ger.gmane.org> <gu69mr$aak$1@ger.gmane.org>
Message-ID: <f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>

2009/5/10 Massimo Del Fedele <max at veneto.com>:
> Massimo Del Fedele ha scritto:
>>
>> Well, after some (many) bugfixes and additions, the mighty DIB Engine is
>> almost 100%
>> operational.
>> On one of tested apps (MSN Messenger) it behaves even better than original
>> one :-)
>>
>> For whom wish to test it, bug 421 page.
>>
>> Ciao
>>
>> Max
>>
>>
>>
>>
>
> fixed also last (hopefully) color format error, now some games, also D3D and
> Opengl
> ones work perfectly.
>
> Ciao
>
> Max
>
>
>
>

Which games are concerned? Also eMule here is slow when the window is
resized, would this DIB engine fix that or am i wrong?


From ricardojdfilipe at gmail.com  Sun May 10 07:04:02 2009
From: ricardojdfilipe at gmail.com (Ricardo Filipe)
Date: Sun, 10 May 2009 13:04:02 +0100
Subject: DIB Engine : Almost 100% working
In-Reply-To: <f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>
References: <gu51ru$67b$1@ger.gmane.org> <gu69mr$aak$1@ger.gmane.org>
	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>
Message-ID: <bc8cede80905100504t33bb7c5mc234c229156f36cf@mail.gmail.com>

2009/5/10 Warren Dumortier <nwarrenfl at gmail.com>

> 2009/5/10 Massimo Del Fedele <max at veneto.com>:
> > Massimo Del Fedele ha scritto:
> >>
> >> Well, after some (many) bugfixes and additions, the mighty DIB Engine is
> >> almost 100%
> >> operational.
> >> On one of tested apps (MSN Messenger) it behaves even better than
> original
> >> one :-)
> >>
> >> For whom wish to test it, bug 421 page.
> >>
> >> Ciao
> >>
> >> Max
> >>
> >>
> >>
> >>
> >
> > fixed also last (hopefully) color format error, now some games, also D3D
> and
> > Opengl
> > ones work perfectly.
> >
> > Ciao
> >
> > Max
> >
> >
> >
> >
>
> Which games are concerned? Also eMule here is slow when the window is
> resized, would this DIB engine fix that or am i wrong?
>
>
> arx fatalis and age of empires 2 among others.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090510/d52f2bd1/attachment.htm>

From max at veneto.com  Sun May 10 07:47:44 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Sun, 10 May 2009 14:47:44 +0200
Subject: DIB Engine : Almost 100% working
In-Reply-To: <f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>
References: <gu51ru$67b$1@ger.gmane.org> <gu69mr$aak$1@ger.gmane.org>
	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>
Message-ID: <gu6idh$tgo$1@ger.gmane.org>

Warren Dumortier ha scritto:
> 2009/5/10 Massimo Del Fedele <max at veneto.com>:
>> Massimo Del Fedele ha scritto:
>>> Well, after some (many) bugfixes and additions, the mighty DIB Engine is
>>> almost 100%
>>> operational.
>>> On one of tested apps (MSN Messenger) it behaves even better than original
>>> one :-)
>>>
>>> For whom wish to test it, bug 421 page.
>>>
>>> Ciao
>>>
>>> Max
>>>
>>>
>>>
>>>
>> fixed also last (hopefully) color format error, now some games, also D3D and
>> Opengl
>> ones work perfectly.
>>
>> Ciao
>>
>> Max
>>
>>
>>
>>
> 
> Which games are concerned? Also eMule here is slow when the window is
> resized, would this DIB engine fix that or am i wrong?
> 
> 
> 

Well, I'm not a big game player, so I don't know how many games would
benefit of it.
I tested Age of Empires, menus with many texts are very fast now.
Arx Fatalis works, but I didn't make comparaisons.

On apps sides:
Autocad works like a charm, tested on 2005 and 2008.
MS Messenger 7.5 works
I didn't test Emule because (IMHO, of course) it's a nonsense to
use an app for which there's a perfect counterpart on Linux

Ciao

Max



From kennybobs at o2.co.uk  Sun May 10 08:59:30 2009
From: kennybobs at o2.co.uk (Ken Sharp)
Date: Sun, 10 May 2009 14:59:30 +0100
Subject: Severity levels
In-Reply-To: <d658b69e0905081820u7760e54aif95a3aadcc1d94b4@mail.gmail.com>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>	<49FE0296.9080905@o2.co.uk>	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F9@wsmail01.ws.se>	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FA@wsmail01.ws.se>	<49FE1411.1080805@o2.co.uk>	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FD@wsmail01.ws.se>	<b6bb06270905070848l7699ff4bmbaca25f9945f3009@mail.gmail.com>	<B73E4E48704A3A43B786A9078FF1BC6DD3A41E@wsmail01.ws.se>	<d7e40be30905081743x3ff11d4are3061758f63b01cc@mail.gmail.com>	<36a11a3a0905081806y4911c54t13b69919ff931975@mail.gmail.com>
	<d658b69e0905081820u7760e54aif95a3aadcc1d94b4@mail.gmail.com>
Message-ID: <4A06DDC2.5030008@o2.co.uk>


Henri Verbeet wrote:

> When you're not subscribed to the list, your posts have to go through
> moderation. Sometimes that can take a while.

So the idiot isn't even subscribed to this group, but is spamming it anyway?

Don't feed the trolls.


From kennybobs at o2.co.uk  Sun May 10 09:01:57 2009
From: kennybobs at o2.co.uk (Ken Sharp)
Date: Sun, 10 May 2009 15:01:57 +0100
Subject: Shuttleworth on Wine
In-Reply-To: <b6bb06270905082149n589193efm805db78a39735632@mail.gmail.com>
References: <660374.13022.qm@web39704.mail.mud.yahoo.com>	<d7e40be30905051628u490643c5j56b34ee14b3b61dd@mail.gmail.com>	<36a11a3a0905051635q6024e42cm81827dd05eb24fbd@mail.gmail.com>	<B73E4E48704A3A43B786A9078FF1BC6D013D47CC@wsmail01.ws.se>	<b6bb06270905070837u78a7dfc7mce3ac8bb6f6a5a69@mail.gmail.com>	<B73E4E48704A3A43B786A9078FF1BC6DD3A41F@wsmail01.ws.se>	<d7e40be30905081731j74673c67y1b723c629f5ee821@mail.gmail.com>	<4A04E1EC.8080306@open-vote.org>
	<b6bb06270905082149n589193efm805db78a39735632@mail.gmail.com>
Message-ID: <4A06DE55.80103@o2.co.uk>


> If anyone has some simple applications that are easy to test
> (preferably, with no installer), shoot me an e-mail and I'll add it to
> my my list of applications to look at.
> 

Ha.  That's a shame because Installshield is a real PITA. ;-)


From kennybobs at o2.co.uk  Sun May 10 09:04:46 2009
From: kennybobs at o2.co.uk (Ken Sharp)
Date: Sun, 10 May 2009 15:04:46 +0100
Subject: Shuttleworth on Wine
In-Reply-To: <b6bb06270905091419x3cd4b796p6aefee96803f1e51@mail.gmail.com>
References: <660374.13022.qm@web39704.mail.mud.yahoo.com>	<d7e40be30905051628u490643c5j56b34ee14b3b61dd@mail.gmail.com>	<36a11a3a0905051635q6024e42cm81827dd05eb24fbd@mail.gmail.com>	<B73E4E48704A3A43B786A9078FF1BC6D013D47CC@wsmail01.ws.se>	<b6bb06270905070837u78a7dfc7mce3ac8bb6f6a5a69@mail.gmail.com>	<B73E4E48704A3A43B786A9078FF1BC6DD3A41F@wsmail01.ws.se>	<d7e40be30905081731j74673c67y1b723c629f5ee821@mail.gmail.com>	<4A04E1EC.8080306@open-vote.org>	<b6bb06270905082149n589193efm805db78a39735632@mail.gmail.com>	<B73E4E48704A3A43B786A9078FF1BC6DD3A426@wsmail01.ws.se>
	<b6bb06270905091419x3cd4b796p6aefee96803f1e51@mail.gmail.com>
Message-ID: <4A06DEFE.7050100@o2.co.uk>



Austin English wrote:

> It's the registering/download manager that makes it not useful. It's
> much harder to script all of that.
> 

Is CS2 too old?
http://download.adobe.com/pub/adobe/photoshop/win/cs2/Photoshop_CS2.exe


From jjmckenzie51 at earthlink.net  Sun May 10 09:43:49 2009
From: jjmckenzie51 at earthlink.net (James McKenzie)
Date: Sun, 10 May 2009 07:43:49 -0700
Subject: DIB Engine : Almost 100% working
In-Reply-To: <gu6idh$tgo$1@ger.gmane.org>
References: <gu51ru$67b$1@ger.gmane.org>
	<gu69mr$aak$1@ger.gmane.org>	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>
	<gu6idh$tgo$1@ger.gmane.org>
Message-ID: <4A06E825.9070808@earthlink.net>

Massimo Del Fedele wrote:
> Warren Dumortier ha scritto:
>> 2009/5/10 Massimo Del Fedele <max at veneto.com>:
>>> Massimo Del Fedele ha scritto:
>>>> Well, after some (many) bugfixes and additions, the mighty DIB
>>>> Engine is
>>>> almost 100%
>>>> operational.
>>>> On one of tested apps (MSN Messenger) it behaves even better than
>>>> original
>>>> one :-)
>>>>
>>>> For whom wish to test it, bug 421 page.
>>>>
>>>> Ciao
>>>>
>>>> Max
>>>>
>>>>
>>>>
>>>>
>>> fixed also last (hopefully) color format error, now some games, also
>>> D3D and
>>> Opengl
>>> ones work perfectly.
>>>
>>> Ciao
>>>
>>> Max
>>>
>>>
>>>
>>>
>>
>> Which games are concerned? Also eMule here is slow when the window is
>> resized, would this DIB engine fix that or am i wrong?
>>
>>
>>
>
> Well, I'm not a big game player, so I don't know how many games would
> benefit of it.
Max:

Good work.  Have you started to think about how to get this into Wine
where AJ will approve?

James McKenzie



From max at veneto.com  Sun May 10 10:07:55 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Sun, 10 May 2009 17:07:55 +0200
Subject: DIB Engine : Almost 100% working
In-Reply-To: <4A06E825.9070808@earthlink.net>
References: <gu51ru$67b$1@ger.gmane.org>	<gu69mr$aak$1@ger.gmane.org>	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>	<gu6idh$tgo$1@ger.gmane.org>
	<4A06E825.9070808@earthlink.net>
Message-ID: <gu6qkc$jm0$1@ger.gmane.org>

James McKenzie ha scritto:

> 
> Good work.  Have you started to think about how to get this into Wine
> where AJ will approve?
> 
> James McKenzie
> 

Ah, I'm not very optimistic that it'll ever enter on wine tree :-)
Nor have I time to adopt the "trial and error" way up to it's
approved.
The easiest way I see by now is to add it to wine drivers as an
"alternative" driver in parallel to X11 one.
That could be done in less then 5 minutes and with no regressions :-)

As I said before, to include it as replacement of actual driver would
mean to make an half rewrite of both gdi32 and winex11.
BTW, my engine has still space for a 3 optimizations that could speed
it up even a lot more :

1) Font caching - shouldn't be too difficult
2) Access DDB directly for blit - not too difficult, and could bring
    a speed gain of 100% on mixed DDB/DIB operations
3) xxxBlt are not very optimized .... I would expect another 50-100% speed
    gain on blitting with few codelines more.

Ciao

Max



From saturn_systems at yahoo.com  Sun May 10 10:16:47 2009
From: saturn_systems at yahoo.com (nn)
Date: Sun, 10 May 2009 08:16:47 -0700 (PDT)
Subject: Shuttleworth on Wine
Message-ID: <335833.29400.qm@web39708.mail.mud.yahoo.com>


Great find added link to AppDB entry
http://appdb.winehq.org/objectManager.php?sClass=version&iId=5392

Thanks.
Nat
--- On Mon, 11/5/09, Ken Sharp <kennybobs at o2.co.uk> wrote:

> From: Ken Sharp <kennybobs at o2.co.uk>
> Subject: Re: Shuttleworth on Wine
> To: "Austin English" <austinenglish at gmail.com>
> Cc: wine-devel at winehq.org
> Received: Monday, 11 May, 2009, 12:04 AM
> 
> 
> Austin English wrote:
> 
> > It's the registering/download manager that makes it
> not useful. It's
> > much harder to script all of that.
> > 
> 
> Is CS2 too old?
> http://download.adobe.com/pub/adobe/photoshop/win/cs2/Photoshop_CS2.exe
> 


      


From thunderbird2k at gmail.com  Sun May 10 12:49:07 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Sun, 10 May 2009 19:49:07 +0200
Subject: DIB Engine : Almost 100% working
In-Reply-To: <gu6qkc$jm0$1@ger.gmane.org>
References: <gu51ru$67b$1@ger.gmane.org> <gu69mr$aak$1@ger.gmane.org>
	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>
	<gu6idh$tgo$1@ger.gmane.org> <4A06E825.9070808@earthlink.net>
	<gu6qkc$jm0$1@ger.gmane.org>
Message-ID: <c8485d470905101049y583898d9xcb86d160f201a85c@mail.gmail.com>

On Sun, May 10, 2009 at 5:07 PM, Massimo Del Fedele <max at veneto.com> wrote:
> James McKenzie ha scritto:
>
>>
>> Good work. ?Have you started to think about how to get this into Wine
>> where AJ will approve?
>>
>> James McKenzie
>>
>
> Ah, I'm not very optimistic that it'll ever enter on wine tree :-)
> Nor have I time to adopt the "trial and error" way up to it's
> approved.
> The easiest way I see by now is to add it to wine drivers as an
> "alternative" driver in parallel to X11 one.
> That could be done in less then 5 minutes and with no regressions :-)
>
> As I said before, to include it as replacement of actual driver would
> mean to make an half rewrite of both gdi32 and winex11.
> BTW, my engine has still space for a 3 optimizations that could speed
> it up even a lot more :
>
> 1) Font caching - shouldn't be too difficult
> 2) Access DDB directly for blit - not too difficult, and could bring
> ? a speed gain of 100% on mixed DDB/DIB operations
> 3) xxxBlt are not very optimized .... I would expect another 50-100% speed
> ? gain on blitting with few codelines more.
>
> Ciao
>
> Max
>
>
>
>

Unfortunately getting this code into Wine is not really possible
(Alexandre would like to see Huw finishing the design and all the work
but no time has been assigned to him for this) BUT I think work on
this DIB engine even if it won't make it in Wine isn't wasted. This
DIB engine even if not correct shows us what apps can benefit and by
how much from the dib engine (before we only had guesses). If running
photoshop on Wine is significantly faster using the DIB engine (it
might be useful to do tests for that, there are ways to benchmark
photoshop) Codeweavers might work on it.

Roderick


From max at veneto.com  Sun May 10 13:03:45 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Sun, 10 May 2009 20:03:45 +0200
Subject: DIB Engine : Almost 100% working
In-Reply-To: <c8485d470905101049y583898d9xcb86d160f201a85c@mail.gmail.com>
References: <gu51ru$67b$1@ger.gmane.org>
	<gu69mr$aak$1@ger.gmane.org>	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>	<gu6idh$tgo$1@ger.gmane.org>
	<4A06E825.9070808@earthlink.net>	<gu6qkc$jm0$1@ger.gmane.org>
	<c8485d470905101049y583898d9xcb86d160f201a85c@mail.gmail.com>
Message-ID: <gu74u2$ed1$1@ger.gmane.org>

Roderick Colenbrander ha scritto:

> 
> Unfortunately getting this code into Wine is not really possible
> (Alexandre would like to see Huw finishing the design and all the work
> but no time has been assigned to him for this) BUT I think work on
> this DIB engine even if it won't make it in Wine isn't wasted. This
> DIB engine even if not correct shows us what apps can benefit and by
> how much from the dib engine (before we only had guesses). If running
> photoshop on Wine is significantly faster using the DIB engine (it
> might be useful to do tests for that, there are ways to benchmark
> photoshop) Codeweavers might work on it.
> 
> Roderick
> 

I'm (and not just me, afaik....) still very, very but really very curious to know *which*
would be the "correct" design....
BTW, I made my design because I needed it, and I'm happy if it'll be useful for some
other people, quite probable stuff having seen the amount of words wasted about the
subject from year 2002.
Anyways, if instead of having it as an "alternative" solution inside wine tree
(which would make stuffs easier for people needing it, for example cad users) we want
to let it hanging on bug 421's page hoping to have the "right" solution in a bit less
than another 7 years, ok :-)

Max



From thunderbird2k at gmail.com  Sun May 10 13:14:23 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Sun, 10 May 2009 20:14:23 +0200
Subject: DIB Engine : Almost 100% working
In-Reply-To: <gu74u2$ed1$1@ger.gmane.org>
References: <gu51ru$67b$1@ger.gmane.org> <gu69mr$aak$1@ger.gmane.org>
	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>
	<gu6idh$tgo$1@ger.gmane.org> <4A06E825.9070808@earthlink.net>
	<gu6qkc$jm0$1@ger.gmane.org>
	<c8485d470905101049y583898d9xcb86d160f201a85c@mail.gmail.com>
	<gu74u2$ed1$1@ger.gmane.org>
Message-ID: <c8485d470905101114j52e4b660rb14ba2636cfa3de5@mail.gmail.com>

On Sun, May 10, 2009 at 8:03 PM, Massimo Del Fedele <max at veneto.com> wrote:
> Roderick Colenbrander ha scritto:
>
>>
>> Unfortunately getting this code into Wine is not really possible
>> (Alexandre would like to see Huw finishing the design and all the work
>> but no time has been assigned to him for this) BUT I think work on
>> this DIB engine even if it won't make it in Wine isn't wasted. This
>> DIB engine even if not correct shows us what apps can benefit and by
>> how much from the dib engine (before we only had guesses). If running
>> photoshop on Wine is significantly faster using the DIB engine (it
>> might be useful to do tests for that, there are ways to benchmark
>> photoshop) Codeweavers might work on it.
>>
>> Roderick
>>
>
> I'm (and not just me, afaik....) still very, very but really very curious to
> know *which*
> would be the "correct" design....
> BTW, I made my design because I needed it, and I'm happy if it'll be useful
> for some
> other people, quite probable stuff having seen the amount of words wasted
> about the
> subject from year 2002.
> Anyways, if instead of having it as an "alternative" solution inside wine
> tree
> (which would make stuffs easier for people needing it, for example cad
> users) we want
> to let it hanging on bug 421's page hoping to have the "right" solution in a
> bit less
> than another 7 years, ok :-)
>
> Max
>

Interpreting Alexandre his words Huw his design was the right way to
continue (according to Jeremy he had worked on this for 4-5 months)
but even for Huw it would take a similar amount of time to finish it.
They didn't know well if continuing with the work was worth it for the
apps they had to get working and during a discussion at Wineconf they
also weren't certain for which apps it would help and more important
by how much (e.g. time is also fixing a lot issues as we are getting
faster CPUs all the time). With your patches (even if they aren't
clean and won't 100% correctly) we see how much a DIB engine (even
unoptimized) can already help. Basically a lot of users should test it
using different programs. We need benchmark results e.g. photoshop
benchmarks and others.

If the DIB engine appears to do wonders for lots of apps (e.g.
photoshop, office ...) then some company might sponsor Codeweavers to
work on this.

Roderick


From thunderbird2k at gmail.com  Sun May 10 13:33:32 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Sun, 10 May 2009 20:33:32 +0200
Subject: DIB Engine : Almost 100% working
In-Reply-To: <4A071CAE.1040503@veneto.com>
References: <gu51ru$67b$1@ger.gmane.org> <gu69mr$aak$1@ger.gmane.org>
	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>
	<gu6idh$tgo$1@ger.gmane.org> <4A06E825.9070808@earthlink.net>
	<gu6qkc$jm0$1@ger.gmane.org>
	<c8485d470905101049y583898d9xcb86d160f201a85c@mail.gmail.com>
	<gu74u2$ed1$1@ger.gmane.org>
	<c8485d470905101114j52e4b660rb14ba2636cfa3de5@mail.gmail.com>
	<4A071CAE.1040503@veneto.com>
Message-ID: <c8485d470905101133t8ada78bub371ca84f2fe2a5c@mail.gmail.com>

> Office won't benefit at all, I'm afraid. Photoshop, maybe.
> If sponsorship will be based on those apps, I guess we'll wait
> forever :-)
>
> Max
>
>

Photoshop is quite important for Wine (remember for 1.0 getting
photoshop working was one of our main goals). There is still no
serious Photoshop replacement for most companies which use Linux.

Note that there are also others for obtaining the sponsoring and there
is one about which I have been taking a lot but clear goals would need
to be formulated for it and that would be a Wine fund raiser. We would
raise money to get sponsorship for areas like this which else stay
unfixed for years but money can also be used for Wineconf, buying
hardware for patchwatcher, buying software for use on test machines,
.....

Roderick


From wineappdb at googlemail.com  Fri May  8 12:43:20 2009
From: wineappdb at googlemail.com (IneedAname)
Date: Fri, 8 May 2009 18:43:20 +0100
Subject: Shuttleworth on Wine
In-Reply-To: <fbad4e140905070847t66519521m8848c7c75ca03558@mail.gmail.com>
References: <660374.13022.qm@web39704.mail.mud.yahoo.com>
	<d7e40be30905051628u490643c5j56b34ee14b3b61dd@mail.gmail.com>
	<36a11a3a0905051635q6024e42cm81827dd05eb24fbd@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6D013D47CC@wsmail01.ws.se>
	<b6bb06270905070837u78a7dfc7mce3ac8bb6f6a5a69@mail.gmail.com>
	<fbad4e140905070847t66519521m8848c7c75ca03558@mail.gmail.com>
Message-ID: <20090508184320.71533b81@test-main>

On Thu, 7 May 2009 16:47:32 +0100
David Gerard <dgerard at gmail.com> wrote:

> Yes. The biggest problem for free-as-in-freedom software - Linux and
> GIMP, and to some extent Wine - is that Windows and Photoshop are
> effectively free-as-in-beer software ...
> 
> http://autotelic.com/windows_is_free

Windows is not free. You can buy a EeePC running Linux that has 8GB more then the windows version. 


From wineappdb at googlemail.com  Fri May  8 12:47:28 2009
From: wineappdb at googlemail.com (IneedAname)
Date: Fri, 8 May 2009 18:47:28 +0100
Subject: Shuttleworth on Wine
In-Reply-To: <20090508184320.71533b81@test-main>
References: <660374.13022.qm@web39704.mail.mud.yahoo.com>
	<d7e40be30905051628u490643c5j56b34ee14b3b61dd@mail.gmail.com>
	<36a11a3a0905051635q6024e42cm81827dd05eb24fbd@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6D013D47CC@wsmail01.ws.se>
	<b6bb06270905070837u78a7dfc7mce3ac8bb6f6a5a69@mail.gmail.com>
	<fbad4e140905070847t66519521m8848c7c75ca03558@mail.gmail.com>
	<20090508184320.71533b81@test-main>
Message-ID: <20090508184728.36da1def@test-main>

On Fri, 8 May 2009 18:43:20 +0100
IneedAname <wineappdb at gmail.com> wrote:

> Windows is not free. You can buy a EeePC running Linux that has 8GB more then the windows version. 
Both the Linux and Windows versions are at the same price.

Sorry I send this email with out finishing it.


From joris_huizer at yahoo.com  Fri May  8 14:38:51 2009
From: joris_huizer at yahoo.com (Joris Huizer)
Date: Fri, 8 May 2009 12:38:51 -0700 (PDT)
Subject: possible-wrong return value of PdhMakeCounterPathA
Message-ID: <757571.34520.qm@web110204.mail.gq1.yahoo.com>


Obviously mostly a small and theoretical problem, but anyway:
Looking at git commit 754b97c72c38f736100c6542af234c31a4bf7a5b, it seems, PdhMakeCounterPathA may be returning the wrong error in this case:

Everything goes well until the allocation of bufferW.
Assuming this fails, the function will return PDH_MORE_DATA, which seems the wrong error value (instead it should probably return PDH_MEMORY_ALLOCATION_FAILURE ? )

regards,
Joris


      


From Nicklas.Borjesson at ws.se  Sat May  9 02:16:11 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Sat, 9 May 2009 09:16:11 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<49FDD186.2040906@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F7@wsmail01.ws.se>
	<49FE0296.9080905@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F9@wsmail01.ws.se>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FA@wsmail01.ws.se>
	<49FE1411.1080805@o2.co.uk>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FD@wsmail01.ws.se>
	<b6bb06270905070848l7699ff4bmbaca25f9945f3009@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A41E@wsmail01.ws.se>
	<d7e40be30905081743x3ff11d4are3061758f63b01cc@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A423@wsmail01.ws.se>

>I don't believe your earlier mains have been resent. I certainly
>haven't received them.

Ok, then it's ok. I was afraid that there was something wrong.


From Nicklas.Borjesson at ws.se  Sat May  9 02:47:10 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Sat, 9 May 2009 09:47:10 +0200
Subject: Shuttleworth on Wine
References: <660374.13022.qm@web39704.mail.mud.yahoo.com>	<d7e40be30905051628u490643c5j56b34ee14b3b61dd@mail.gmail.com>
	<36a11a3a0905051635q6024e42cm81827dd05eb24fbd@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6D013D47CC@wsmail01.ws.se>
	<b6bb06270905070837u78a7dfc7mce3ac8bb6f6a5a69@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A41F@wsmail01.ws.se>
	<d7e40be30905081731j74673c67y1b723c629f5ee821@mail.gmail.com>
	<4A04E1EC.8080306@open-vote.org>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A425@wsmail01.ws.se>

> a better strategy would be to target particular users who only 
> need one application that is almost working.  At least, that's 
> what the model I wrote told me:
> http://yokozar.org/blog/archives/48

That strategy(to no ones surprise) appeals to me, since it 
feels like common sense, and is close to how most of those I 
work/worked with think. 
But I am not sure it would have worked earlier in the project 
when having nearly working use cases would be less usual and when
having broad, or no focus would make the project more interesting
for its developers.

Anyway, It seems likely to make the most number of users happy with the least
amount of work. However, since some applications(no names) are very 
widespread/pirated AND close to working, it will have the effect of 
more or less officially focusing on certain applications, which i 
think would be hard to push through in this project for different
reasons.
To try and define the most usual "near working" use cases also means 
defining the most usual use cases since it then would be important to
keep the "working" use cases from becoming "near working".

To do that, one need needs user input which would make the project user
centric. Of course, the *entire* project wouldn't have to have the 
same focus but it would be affected. I'd think that this would be good
and appeal more to me and others as developers wanting to do good things(tm).
But I know that many does not agree.

//Nicklas







From Nicklas.Borjesson at ws.se  Sat May  9 03:10:40 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Sat, 9 May 2009 10:10:40 +0200
Subject: Shuttleworth on Wine
References: <660374.13022.qm@web39704.mail.mud.yahoo.com><d7e40be30905051628u490643c5j56b34ee14b3b61dd@mail.gmail.com><36a11a3a0905051635q6024e42cm81827dd05eb24fbd@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6D013D47CC@wsmail01.ws.se><b6bb06270905070837u78a7dfc7mce3ac8bb6f6a5a69@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A41F@wsmail01.ws.se><d7e40be30905081731j74673c67y1b723c629f5ee821@mail.gmail.com><4A04E1EC.8080306@open-vote.org>
	<b6bb06270905082149n589193efm805db78a39735632@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A426@wsmail01.ws.se>

>Photoshop, however, is harder to test,
>since it doesn't have an easy free download available.

Free photoshop trial download, you do need to register (and 
download through the "download manager") though:
https://www.adobe.com/cfusion/tdrc/index.cfm?product=photoshop

I have only tried to install licensed versions myself, however the 
installation shouldn't be totally different, except for being 
a bit easier to start(not having to mount a dvd and so on).
I think testing the trial version would be quite sufficient.

//Nicklas


From Nicklas.Borjesson at ws.se  Sat May  9 02:17:19 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Sat, 9 May 2009 09:17:19 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se><49FE0296.9080905@o2.co.uk><B73E4E48704A3A43B786A9078FF1BC6DD3A3F9@wsmail01.ws.se><B73E4E48704A3A43B786A9078FF1BC6DD3A3FA@wsmail01.ws.se><49FE1411.1080805@o2.co.uk><B73E4E48704A3A43B786A9078FF1BC6DD3A3FD@wsmail01.ws.se><b6bb06270905070848l7699ff4bmbaca25f9945f3009@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A41E@wsmail01.ws.se><d7e40be30905081743x3ff11d4are3061758f63b01cc@mail.gmail.com><36a11a3a0905081806y4911c54t13b69919ff931975@mail.gmail.com>
	<d658b69e0905081820u7760e54aif95a3aadcc1d94b4@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A424@wsmail01.ws.se>

>When you're not subscribed to the list, your posts have to go through
>moderation. Sometimes that can take a while.

I do subscribe to the list(and did, from the beginning).
Or maybe subscription is more than registering to the mailing list?



From wineappdb at googlemail.com  Sat May  9 10:23:45 2009
From: wineappdb at googlemail.com (IneedAname)
Date: Sat, 9 May 2009 16:23:45 +0100
Subject: New icons for 1.1.21
In-Reply-To: <4A04ED5B.1020208@open-vote.org>
References: <4A04ED5B.1020208@open-vote.org>
Message-ID: <20090509162345.4fd064a6@test-main>

On Fri, 08 May 2009 19:41:31 -0700
Scott Ritchie <scott at open-vote.org> wrote:

> Anyway, please feel free to give way too much feedback :)

I like then but not the one with the folder on. The gray colour just does not work for me.


From Nicklas.Borjesson at ws.se  Sat May  9 12:42:00 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Sat, 9 May 2009 19:42:00 +0200
Subject: Severity levels
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se><B73E4E48704A3A43B786A9078FF1BC6DD3A3FA@wsmail01.ws.se><49FE1411.1080805@o2.co.uk><B73E4E48704A3A43B786A9078FF1BC6DD3A3FD@wsmail01.ws.se><b6bb06270905070848l7699ff4bmbaca25f9945f3009@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A41E@wsmail01.ws.se><d7e40be30905081743x3ff11d4are3061758f63b01cc@mail.gmail.com><36a11a3a0905081806y4911c54t13b69919ff931975@mail.gmail.com><d658b69e0905081820u7760e54aif95a3aadcc1d94b4@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A424@wsmail01.ws.se>
	<d658b69e0905090314i488a856coa950284ea1dcee5d@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A428@wsmail01.ws.se>

>make sure you're sending
>mails with the same address you're receiving them on.

That would be it, thanks!
I feel pretty silly, I had registered to the mailing list 
as nicklas_at_ws.se, but my sender is my long adress, 
nicklas.borjesson_at_ws.se.
It did not use to be that way, I forgot that it had changed.
I'll change my adress and hope that solves it.
Sorry if I bothered you all.

//Nicklas





From Nicklas.Borjesson at ws.se  Sat May  9 16:36:33 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Sat, 9 May 2009 23:36:33 +0200
Subject: Shuttleworth on Wine
References: <660374.13022.qm@web39704.mail.mud.yahoo.com><d7e40be30905051628u490643c5j56b34ee14b3b61dd@mail.gmail.com><36a11a3a0905051635q6024e42cm81827dd05eb24fbd@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6D013D47CC@wsmail01.ws.se><b6bb06270905070837u78a7dfc7mce3ac8bb6f6a5a69@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A41F@wsmail01.ws.se><d7e40be30905081731j74673c67y1b723c629f5ee821@mail.gmail.com><4A04E1EC.8080306@open-vote.org><b6bb06270905082149n589193efm805db78a39735632@mail.gmail.com><B73E4E48704A3A43B786A9078FF1BC6DD3A426@wsmail01.ws.se>
	<b6bb06270905091419x3cd4b796p6aefee96803f1e51@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6DD3A42C@wsmail01.ws.se>



>It's the registering/download manager that makes it not useful. It's
>much harder to script all of that.

Why script that? One doesn't need wine to download a file, right?
I really don't see what the point would be to test that.
Once you downloaded the file, you don't need to download that version 
again. The only thing that needs testing is the actual running of that 
file and the following installation.
Why test the Adobe website?
Or have I misunderstood you completely?

//Nicklas


From frank.richter at gmail.com  Sun May 10 13:36:14 2009
From: frank.richter at gmail.com (Frank Richter)
Date: Sun, 10 May 2009 20:36:14 +0200
Subject: New icons for 1.1.21
In-Reply-To: <4A04ED5B.1020208@open-vote.org>
References: <4A04ED5B.1020208@open-vote.org>
Message-ID: <4A071E9E.6020003@gmail.com>

On 09.05.2009 04:41, Scott Ritchie wrote:
> Anyway, please feel free to give way too much feedback :)

The outline of the upper glass part seems to be a shade of gray, but the
outline of the shaft at the bottom is black, looking kind of
"unbalanced". Changing the black to #919191ff looks IMO better.

-f.r.


From stefandoesinger at gmx.at  Sun May 10 13:47:28 2009
From: stefandoesinger at gmx.at (Stefan =?iso-8859-1?q?D=F6singer?=)
Date: Sun, 10 May 2009 20:47:28 +0200
Subject: dlls/ddraw/executebuffer.c: silence compiler warnings
In-Reply-To: <alpine.LSU.1.99.0905091523360.4625@acrux.dbai.tuwien.ac.at>
References: <alpine.LSU.1.99.0905091523360.4625@acrux.dbai.tuwien.ac.at>
Message-ID: <200905102047.28701.stefandoesinger@gmx.at>


> executebuffer.c:230: warning: comparison between 'D3DRENDERSTATETYPE' and
> 'enum _D3DTRANSFORMSTATETYPE' executebuffer.c:232: warning: comparison
> between 'D3DRENDERSTATETYPE' and 'enum _D3DTRANSFORMSTATETYPE'
> executebuffer.c:234: warning: comparison between 'D3DRENDERSTATETYPE' and
> 'enum _D3DTRANSFORMSTATETYPE'
Does the attached patch fix the warning?
-------------- next part --------------
A non-text attachment was scrubbed...
Name: executebuffer-warning.diff
Type: text/x-diff
Size: 1380 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090510/ec4b00a1/attachment.diff>

From scott at open-vote.org  Sun May 10 14:16:22 2009
From: scott at open-vote.org (Scott Ritchie)
Date: Sun, 10 May 2009 12:16:22 -0700
Subject: New icons for 1.1.21
In-Reply-To: <20090509162345.4fd064a6@test-main>
References: <4A04ED5B.1020208@open-vote.org>
	<20090509162345.4fd064a6@test-main>
Message-ID: <4A072806.5070208@open-vote.org>

IneedAname wrote:
> On Fri, 08 May 2009 19:41:31 -0700
> Scott Ritchie <scott at open-vote.org> wrote:
> 
>> Anyway, please feel free to give way too much feedback :)
> 
> I like then but not the one with the folder on. The gray colour just does not work for me.
> 
> 

I agree.  The folder icon should match the system theme - ultimately my 
goal is to move "Browse C:\ Drive" (which this icon is used for) to a 
place in the Gnome Places Menu.  That means the icon (or its KDE 
equivalent) will need to match the system theme - in my case that would 
mean a yellow folder with a Wine emblem.

Thanks,
Scott Ritchie


From scott at open-vote.org  Sun May 10 14:16:57 2009
From: scott at open-vote.org (Scott Ritchie)
Date: Sun, 10 May 2009 12:16:57 -0700
Subject: New icons for 1.1.21
In-Reply-To: <4A071E9E.6020003@gmail.com>
References: <4A04ED5B.1020208@open-vote.org> <4A071E9E.6020003@gmail.com>
Message-ID: <4A072829.5010008@open-vote.org>

Frank Richter wrote:
> On 09.05.2009 04:41, Scott Ritchie wrote:
>> Anyway, please feel free to give way too much feedback :)
> 
> The outline of the upper glass part seems to be a shade of gray, but the
> outline of the shaft at the bottom is black, looking kind of
> "unbalanced". Changing the black to #919191ff looks IMO better.
> 
> -f.r.
> 
> 

Hmm, I'll take a closer look there.  Thanks!

Thanks,
Scott Ritchie


From austinenglish at gmail.com  Sun May 10 16:11:47 2009
From: austinenglish at gmail.com (Austin English)
Date: Sun, 10 May 2009 16:11:47 -0500
Subject: Shuttleworth on Wine
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6DD3A42E@wsmail01.ws.se>
References: <660374.13022.qm@web39704.mail.mud.yahoo.com>
	<4A04E1EC.8080306@open-vote.org>
	<b6bb06270905082149n589193efm805db78a39735632@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A426@wsmail01.ws.se>
	<b6bb06270905091419x3cd4b796p6aefee96803f1e51@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A42C@wsmail01.ws.se>
	<b6bb06270905091503r4120ed08k265c9179ed86f760@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A42D@wsmail01.ws.se>
	<b6bb06270905092013q3f7148b5s628e2d8a91b5bc63@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A42E@wsmail01.ws.se>
Message-ID: <b6bb06270905101411x22cf5227r191fc77fe7ec314d@mail.gmail.com>

2009/5/10 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
>> The idea is to make the test as automated as possible. That way anyone
>> can run the tests, not just people with certain programs.
>
> Ok. Well then, either:
> 1. someone can mirror those two files somewhere for easier downloading,
> 2. or one adds one or two(quite easy) manual step to the installation instructions.
>
> 1. makes scripting possible, however, Adobe probably would not like that.
> However, one *could* simply ask them if it's ok.
> I don't see how this quite specific use case would(come on, it's a trial version)
> be a problem for them and I would think that getting their application working
> under wine would be something they would like happening.

It violates their copyright, and I have no interest in doing that.

> 2. I think that one should try to be a bit pragmatical. If a couple of simple
> manual steps is all that is needed to get an otherwise completely automated process
> going, it should not be allowed to be a problem.

Is possible, but since it requires a login, the script will eventually
fail from too many login/downloads.

-- 
-Austin


From austinenglish at gmail.com  Sun May 10 16:13:40 2009
From: austinenglish at gmail.com (Austin English)
Date: Sun, 10 May 2009 16:13:40 -0500
Subject: Shuttleworth on Wine
In-Reply-To: <4A06DEFE.7050100@o2.co.uk>
References: <660374.13022.qm@web39704.mail.mud.yahoo.com>
	<B73E4E48704A3A43B786A9078FF1BC6D013D47CC@wsmail01.ws.se>
	<b6bb06270905070837u78a7dfc7mce3ac8bb6f6a5a69@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A41F@wsmail01.ws.se>
	<d7e40be30905081731j74673c67y1b723c629f5ee821@mail.gmail.com>
	<4A04E1EC.8080306@open-vote.org>
	<b6bb06270905082149n589193efm805db78a39735632@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A426@wsmail01.ws.se>
	<b6bb06270905091419x3cd4b796p6aefee96803f1e51@mail.gmail.com>
	<4A06DEFE.7050100@o2.co.uk>
Message-ID: <b6bb06270905101413v45c8100h64cfa52a20e434b5@mail.gmail.com>

On Sun, May 10, 2009 at 9:04 AM, Ken Sharp <kennybobs at o2.co.uk> wrote:
>
>
> Austin English wrote:
>
>> It's the registering/download manager that makes it not useful. It's
>> much harder to script all of that.
>>
>
> Is CS2 too old?
> http://download.adobe.com/pub/adobe/photoshop/win/cs2/Photoshop_CS2.exe

No, actually. CS2 is perfect, since it should install relatively well.
That way, we can make sure it doesn't break :-).

I'll add it to my list. I'm currently working on designing the test
framework, so it'll be a bit before any real testing work gets done.

-- 
-Austin


From Nicklas.Borjesson at ws.se  Mon May 11 01:08:43 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Mon, 11 May 2009 08:08:43 +0200
Subject: Severity levels
In-Reply-To: <4A06DDC2.5030008@o2.co.uk>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>	<49FE0296.9080905@o2.co.uk>	<B73E4E48704A3A43B786A9078FF1BC6DD3A3F9@wsmail01.ws.se>	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FA@wsmail01.ws.se>	<49FE1411.1080805@o2.co.uk>	<B73E4E48704A3A43B786A9078FF1BC6DD3A3FD@wsmail01.ws.se>	<b6bb06270905070848l7699ff4bmbaca25f9945f3009@mail.gmail.com>	<B73E4E48704A3A43B786A9078FF1BC6DD3A41E@wsmail01.ws.se>	<d7e40be30905081743x3ff11d4are3061758f63b01cc@mail.gmail.com>	<36a11a3a0905081806y4911c54t13b69919ff931975@mail.gmail.com><d658b69e0905081820u7760e54aif95a3aadcc1d94b4@mail.gmail.com>
	<4A06DDC2.5030008@o2.co.uk>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6D013D4808@wsmail01.ws.se>

>So the idiot isn't even subscribed to this group, but is spamming it anyway?
>Don't feed the trolls.

Hi there.
I would have a hard time replying to your posts if I weren't, wouldn't you think? 

//Nicklas




From Nicklas.Borjesson at ws.se  Mon May 11 01:16:27 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Mon, 11 May 2009 08:16:27 +0200
Subject: Shuttleworth on Wine
In-Reply-To: <b6bb06270905101411x22cf5227r191fc77fe7ec314d@mail.gmail.com>
References: <660374.13022.qm@web39704.mail.mud.yahoo.com>
	<4A04E1EC.8080306@open-vote.org>
	<b6bb06270905082149n589193efm805db78a39735632@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A426@wsmail01.ws.se>
	<b6bb06270905091419x3cd4b796p6aefee96803f1e51@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A42C@wsmail01.ws.se>
	<b6bb06270905091503r4120ed08k265c9179ed86f760@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A42D@wsmail01.ws.se>
	<b6bb06270905092013q3f7148b5s628e2d8a91b5bc63@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A42E@wsmail01.ws.se>
	<b6bb06270905101411x22cf5227r191fc77fe7ec314d@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6D013D480A@wsmail01.ws.se>

>Is possible, but since it requires a login, the script will eventually
>fail from too many login/downloads.

No, i mean that one would have to register an account for oneself and manually download the files to a predetermined location.
Using the same account for everyone would likely be some kind of breach of their rules anyway.
I'd say, given instructions, that would take 5-10 minutes for most people. 
Don't you think people would consider that acceptable to make a quite important test run(i would)?


//Nicklas


From austinenglish at gmail.com  Mon May 11 01:21:22 2009
From: austinenglish at gmail.com (Austin English)
Date: Mon, 11 May 2009 01:21:22 -0500
Subject: Shuttleworth on Wine
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6D013D480A@wsmail01.ws.se>
References: <660374.13022.qm@web39704.mail.mud.yahoo.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A426@wsmail01.ws.se>
	<b6bb06270905091419x3cd4b796p6aefee96803f1e51@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A42C@wsmail01.ws.se>
	<b6bb06270905091503r4120ed08k265c9179ed86f760@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A42D@wsmail01.ws.se>
	<b6bb06270905092013q3f7148b5s628e2d8a91b5bc63@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A42E@wsmail01.ws.se>
	<b6bb06270905101411x22cf5227r191fc77fe7ec314d@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6D013D480A@wsmail01.ws.se>
Message-ID: <b6bb06270905102321j361f1e92g83c13a6fc1ea9382@mail.gmail.com>

2009/5/11 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
>>Is possible, but since it requires a login, the script will eventually
>>fail from too many login/downloads.
>
> No, i mean that one would have to register an account for oneself and manually download the files to a predetermined location.
> Using the same account for everyone would likely be some kind of breach of their rules anyway.
> I'd say, given instructions, that would take 5-10 minutes for most people.
> Don't you think people would consider that acceptable to make a quite important test run(i would)?

Feel free, if you'd like.

But the test suite I'm designing for my project is designed for anyone
to be able to use/run, non-interactively. Requiring sign-ups/logins is
not acceptable for it.

-- 
-Austin


From Nicklas.Borjesson at ws.se  Mon May 11 01:29:11 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Mon, 11 May 2009 08:29:11 +0200
Subject: Shuttleworth on Wine
In-Reply-To: <b6bb06270905102321j361f1e92g83c13a6fc1ea9382@mail.gmail.com>
References: <660374.13022.qm@web39704.mail.mud.yahoo.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A426@wsmail01.ws.se>
	<b6bb06270905091419x3cd4b796p6aefee96803f1e51@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A42C@wsmail01.ws.se>
	<b6bb06270905091503r4120ed08k265c9179ed86f760@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A42D@wsmail01.ws.se>
	<b6bb06270905092013q3f7148b5s628e2d8a91b5bc63@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6DD3A42E@wsmail01.ws.se>
	<b6bb06270905101411x22cf5227r191fc77fe7ec314d@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6D013D480A@wsmail01.ws.se>
	<b6bb06270905102321j361f1e92g83c13a6fc1ea9382@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6D013D480C@wsmail01.ws.se>


>Feel free, if you'd like.
I did, that's why I knew how quick it was.

>But the test suite I'm designing for my project is designed for anyone
>to be able to use/run, non-interactively. Requiring sign-ups/logins is
>not acceptable for it.

Ok. 


From alain.aupeix at wanadoo.fr  Sun May 10 15:11:45 2009
From: alain.aupeix at wanadoo.fr (Alain Aupeix)
Date: Sun, 10 May 2009 22:11:45 +0200
Subject: Impossible to register to Bugzilla
Message-ID: <4A073501.2050105@wanadoo.fr>

An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090510/28ac6fe1/attachment.htm>

From retricek at gmail.com  Sun May 10 17:20:41 2009
From: retricek at gmail.com (=?ISO-8859-2?Q?Josef_=A9im=E1nek?=)
Date: Mon, 11 May 2009 00:20:41 +0200
Subject: Winelib - Getting Started guide
Message-ID: <744ffb620905101520k21893den7fddf45c02f50369@mail.gmail.com>

Hi !

I was reading Winelib GSG and I tried to compile notepad from Wine
sources. So I downloaded Wine sources (version 1.1.21) and I installed
wine from Wine Ubuntu repository (version 1.1.21).

I edit Makefile and type make into console. My problem above. In the
guide is written to report bad compiling behaviour. So I did it. Any
hints ?

mirindoslav at mirindoslav-laptop:~/Plocha/notepad$ make
winegcc -c  -mno-cygwin -I.   -o dialog.o dialog.c
winegcc -c  -mno-cygwin -I.   -o main.o main.c
wrc   -I.   -forsrc.res rsrc.rc
winegcc -mwindows -mno-cygwin -m32 -o notepad.exe.so dialog.o main.o
rsrc.res      -lodbc32 -lole32 -loleaut32 -lwinspool -lodbccp32 -luuid
dialog.o: In function `DIALOG_StringMsgBox':
dialog.c:(.text+0x235): undefined reference to `wnsprintfW'
main.o: In function `HandleCommandLine':
main.c:(.text+0x25a5): undefined reference to `PathFindFileNameW'
collect2: ld returned 1 exit status
winegcc: i486-linux-gnu-gcc failed
make: *** [notepad.exe.so] Error 2


From hverbeet at gmail.com  Mon May 11 02:18:09 2009
From: hverbeet at gmail.com (Henri Verbeet)
Date: Mon, 11 May 2009 09:18:09 +0200
Subject: wined3d: Fix ATI dx10 cards max varying quirk
In-Reply-To: <200905102051.29134.hpestilence@gmail.com>
References: <200905102051.29134.hpestilence@gmail.com>
Message-ID: <d658b69e0905110018p39bd7ad7q8052ce5c7d94bbcf@mail.gmail.com>

2009/5/11 Robert Key <hpestilence at gmail.com>:
> Changelog:
> * This adds a quirk to change the default max varying value from
> ? 68 to 48 on ATI dx10 cards that use fglrx because a declaration
> ? of 17 varying vec4s causes shaders not to render and using
> ? 48 (12 varyings vec4s) works for HD2000 to HD4000 ATI cards.
>
R600 and r700 are supposed to be actively supported. But you know, I
don't actually care anymore.


From kai.blin at gmail.com  Mon May 11 02:40:57 2009
From: kai.blin at gmail.com (Kai Blin)
Date: Mon, 11 May 2009 09:40:57 +0200
Subject: RFC: Removing the --use-cached-creds parameter from ntlm_auth
Message-ID: <200905110941.05672.kai.blin@gmail.com>

Hi Rob,

I've done some digging about using cached credentials from winbindd, and this 
currently breaks with how we use this from Wine. Specifically, it's not 
possible to get the session key from winbindd. This breaks our later attempts 
to do signing/sealing. It might be possible to change winbindd to include 
this information, but in order to not leak user password information, 
winbindd can only do so for NTLMv2 and NTLM2.

In any case, --use-cached-creds will make things break in new and interesting 
ways for users who actually are running winbindd. I propose to stop setting 
that parameter until we figure out how to make this work.

Cheers,
Kai

-- 
Kai Blin
WorldForge developer  http://www.worldforge.org/
Wine developer        http://wiki.winehq.org/KaiBlin
Samba team member     http://www.samba.org/samba/team/
--
Will code for cotton.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part.
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090511/f11aade1/attachment.pgp>

From dmitry at codeweavers.com  Mon May 11 03:08:48 2009
From: dmitry at codeweavers.com (Dmitry Timoshkov)
Date: Mon, 11 May 2009 17:08:48 +0900
Subject: Winelib - Getting Started guide
References: <744ffb620905101520k21893den7fddf45c02f50369@mail.gmail.com>
Message-ID: <FE69EDF3EFC6477AA6E49CD85E5CA214@DMITRY>

"Josef Sim?nek" <retricek at gmail.com> wrote:

> I edit Makefile and type make into console.

What exactly did you do? notepad is not supposed to work as a console
application for your information.

> My problem above. In the
> guide is written to report bad compiling behaviour. So I did it. Any
> hints ?
>
> mirindoslav at mirindoslav-laptop:~/Plocha/notepad$ make
> winegcc -c  -mno-cygwin -I.   -o dialog.o dialog.c
> winegcc -c  -mno-cygwin -I.   -o main.o main.c
> wrc   -I.   -forsrc.res rsrc.rc
> winegcc -mwindows -mno-cygwin -m32 -o notepad.exe.so dialog.o main.o
> rsrc.res      -lodbc32 -lole32 -loleaut32 -lwinspool -lodbccp32 -luuid
> dialog.o: In function `DIALOG_StringMsgBox':
> dialog.c:(.text+0x235): undefined reference to `wnsprintfW'
> main.o: In function `HandleCommandLine':
> main.c:(.text+0x25a5): undefined reference to `PathFindFileNameW'

Looks like you have removed required import libraries, don't do that
if you don't know the consequences.

-- 
Dmitry. 



From dmitry at codeweavers.com  Mon May 11 03:16:54 2009
From: dmitry at codeweavers.com (Dmitry Timoshkov)
Date: Mon, 11 May 2009 17:16:54 +0900
Subject: comctl32: add ListView_SetCheckState and ListView_GetCheckState
	withtests(try4)
References: <4A06A06C.4010008@dawncrow.de>
Message-ID: <1E25486F11634B7F9B6FC7907E5C4F2F@DMITRY>

"Andr? Hentschel" <nerv at dawncrow.de> wrote:

> now with LVITEMW and SNDMSGW

You are still casting to LPLVITEMA in ListView_SetCheckState while
using LVITEMW and SNDMSGW. As been said by using SNDMSGW/LVITEMW you
are making these macros incompatible with PSDK ones, and breaking
compatibility if someone will try to compile a non-unicode application
with Wine headers.

-- 
Dmitry. 



From dmitry at codeweavers.com  Mon May 11 03:19:07 2009
From: dmitry at codeweavers.com (Dmitry Timoshkov)
Date: Mon, 11 May 2009 17:19:07 +0900
Subject: regedit: remember settings state
References: <4A06E0D4.9080805@dawncrow.de>
Message-ID: <789BFF31CD9F4FF19B6FA9DF044D8A8B@DMITRY>

"Andr? Hentschel" <nerv at dawncrow.de> wrote:

> LRESULT CALLBACK ChildWndProc(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam)
> {
> +HKEY hKey;
> +LPWSTR lpKeyPath;
>     switch (message) {
>     case WM_CREATE:

Indentation is weird. And an empty line after variables won't hurt.

-- 
Dmitry. 



From dmitry at codeweavers.com  Mon May 11 03:20:36 2009
From: dmitry at codeweavers.com (Dmitry Timoshkov)
Date: Mon, 11 May 2009 17:20:36 +0900
Subject: Simplify dlls/comctl32/rebar.c (RESEND)
References: <alpine.LSU.1.99.0905091505350.4625@acrux.dbai.tuwien.ac.at>
Message-ID: <5B1D59EADBBF4250A471BCBA6CFF12E8@DMITRY>

"Gerald Pfeifer" <gerald at pfeifer.com> wrote:

> static LRESULT
> -REBAR_GetPalette (const REBAR_INFO *infoPtr, WPARAM wParam, LPARAM lParam)
> +REBAR_GetPalette ()
> {

(void) is mandatory, please don't omit it.

-- 
Dmitry.


From stefandoesinger at gmx.at  Mon May 11 04:59:48 2009
From: stefandoesinger at gmx.at (Stefan =?iso-8859-1?q?D=F6singer?=)
Date: Mon, 11 May 2009 11:59:48 +0200
Subject: wined3d: Fix ATI dx10 cards max varying quirk
In-Reply-To: <200905102051.29134.hpestilence@gmail.com>
References: <200905102051.29134.hpestilence@gmail.com>
Message-ID: <200905111159.48582.stefandoesinger@gmx.at>

Am Montag, 11. Mai 2009 02:51:29 schrieb Robert Key:
> Changelog:
> * This adds a quirk to change the default max varying value from
>    68 to 48 on ATI dx10 cards that use fglrx because a declaration
>    of 17 varying vec4s causes shaders not to render and using
>    48 (12 varyings vec4s) works for HD2000 to HD4000 ATI cards.
>
>    Fixes bug #17437

I'm fine with putting the quirk in until fglrx is fixed. The ATI developers 
confirmed the bug and recommended this workaround for now. (I somewhere heard 
that their driver shipping latency is > 3 months for some reason)

Looking at the code again I saw a few details I don't like though:


+static BOOL match_fglrx_r600_to_700(const WineD3D_GL_Info *gl_info) {
+    if(gl_info->gl_vendor != VENDOR_ATI) return FALSE;
+    if(strstr(gl_info->gl_renderer, "DRI")) return FALSE;
+    if(gl_info->max_glsl_varyings == 68) return TRUE;
+    return FALSE;
+}

Maybe its better to compare max_glsl_varyings to > 44. 44 is the amount 
advertised on dx9 cards(and I think we fix this up somewhere already). The 
main question is if we want this quirk to disable itself as soon as the 
driver is fixed, or if we want to disable it manually.

The other thing that bothers me is the replacement value 48 or 52: According 
to an ATI dev[1] the correct value is 64, which would match the dx10 limit of 
16 varyings. Assuming we subtract 8 for the builtin primary and secondary 
color we're still at 56, not 52 or even 48. There's probably the fog color or 
the gl_ClipVertex "varying", but we're not using the clip vertex position 
currently. I think we should figure out where the 48 comes from. Can you play 
a bit with the attached program and see how many varyings you can declare, 
and if the builtin color varyings, fog coord or gl_ClipPos change anything?

1: http://ati.cchtml.com/show_bug.cgi?id=1462
-------------- next part --------------
A non-text attachment was scrubbed...
Name: varying.c
Type: text/x-csrc
Size: 2116 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090511/771b2e59/attachment.c>

From kai.blin at gmail.com  Mon May 11 05:05:42 2009
From: kai.blin at gmail.com (Kai Blin)
Date: Mon, 11 May 2009 12:05:42 +0200
Subject: Severity levels
In-Reply-To: <4A06DDC2.5030008@o2.co.uk>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<d658b69e0905081820u7760e54aif95a3aadcc1d94b4@mail.gmail.com>
	<4A06DDC2.5030008@o2.co.uk>
Message-ID: <200905111205.42502.kai.blin@gmail.com>

On Sunday 10 May 2009 15:59:30 Ken Sharp wrote:

Ken,

some food for thought here.

> Henri Verbeet wrote:
> > When you're not subscribed to the list, your posts have to go through
> > moderation. Sometimes that can take a while.
>
> So the idiot isn't even subscribed to this group, but is spamming it
> anyway?
>
> Don't feed the trolls.

How exactly is this post not an ad hominem attack, commonly used by trolls to 
start flame wars?

I seriously dislike the tone this mailing list keeps taking recently. This 
kind of poisonous behaviour is bad for Wine in general.

Please try to be civil. An engineer should be able to voice technical 
criticism without insulting people. If you feel the need to insult people for 
whatever reason, don't do it on the mailing list.

Kai

-- 
Kai Blin
WorldForge developer  http://www.worldforge.org/
Wine developer        http://wiki.winehq.org/KaiBlin
Samba team member     http://www.samba.org/samba/team/
--
Will code for cotton.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part.
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090511/e7c0fd24/attachment.pgp>

From hverbeet at gmail.com  Mon May 11 05:17:34 2009
From: hverbeet at gmail.com (Henri Verbeet)
Date: Mon, 11 May 2009 12:17:34 +0200
Subject: Severity levels
In-Reply-To: <200905111205.42502.kai.blin@gmail.com>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<d658b69e0905081820u7760e54aif95a3aadcc1d94b4@mail.gmail.com>
	<4A06DDC2.5030008@o2.co.uk> <200905111205.42502.kai.blin@gmail.com>
Message-ID: <d658b69e0905110317t5ab831edg30909c1a2dc7dbce@mail.gmail.com>

2009/5/11 Kai Blin <kai.blin at gmail.com>:
> I seriously dislike the tone this mailing list keeps taking recently.
In case it means anything to anyone, I agree.


From julliard at winehq.org  Mon May 11 05:33:41 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Mon, 11 May 2009 12:33:41 +0200
Subject: C_ASSERT portability fixes and simplification [PATCH 1/2]
In-Reply-To: <alpine.LSU.1.99.0905101551050.4625@acrux.dbai.tuwien.ac.at>
	(Gerald Pfeifer's message of "Sun, 10 May 2009 15:59:00 +0200 (CEST)")
References: <alpine.LSU.1.99.0905101551050.4625@acrux.dbai.tuwien.ac.at>
Message-ID: <878wl4c4je.fsf@wine.dyndns.org>

Gerald Pfeifer <gerald at pfeifer.com> writes:

> This patch moves these into main() in main.c, which has several 
> advantages:
>
>  1. The asserts are only evaluated once, not for every #inclusion
>     of request.h, which simplifies/speeds up the compilation.

It doesn't make any difference, that stuff is inside a #ifdef.
Also it's auto-generated, so moving it manually won't help.

>  2. More importantly, these were the only occurences of C_ASSERT at
>     file level.  By moving these at function level use thereof becomes
>     consistent which will allow the fix from PATCH 2/2 to work at all.

C_ASSERT is supposed to work at the file level too.

-- 
Alexandre Julliard
julliard at winehq.org


From austinenglish at gmail.com  Mon May 11 05:39:01 2009
From: austinenglish at gmail.com (Austin English)
Date: Mon, 11 May 2009 05:39:01 -0500
Subject: Severity levels
In-Reply-To: <d658b69e0905110317t5ab831edg30909c1a2dc7dbce@mail.gmail.com>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<d658b69e0905081820u7760e54aif95a3aadcc1d94b4@mail.gmail.com>
	<4A06DDC2.5030008@o2.co.uk> <200905111205.42502.kai.blin@gmail.com>
	<d658b69e0905110317t5ab831edg30909c1a2dc7dbce@mail.gmail.com>
Message-ID: <b6bb06270905110339q2e187cfbp96ea11c666f66dc7@mail.gmail.com>

On Mon, May 11, 2009 at 5:17 AM, Henri Verbeet <hverbeet at gmail.com> wrote:
> 2009/5/11 Kai Blin <kai.blin at gmail.com>:
>> I seriously dislike the tone this mailing list keeps taking recently.
> In case it means anything to anyone, I agree.

+1, exactly why I muted the conversation.

-- 
-Austin


From jmayer at loplof.de  Mon May 11 05:56:28 2009
From: jmayer at loplof.de (Joerg Mayer)
Date: Mon, 11 May 2009 12:56:28 +0200
Subject: DIB Engine : Almost 100% working
In-Reply-To: <gu6qkc$jm0$1@ger.gmane.org>
References: <gu51ru$67b$1@ger.gmane.org> <gu69mr$aak$1@ger.gmane.org>
	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>
	<gu6idh$tgo$1@ger.gmane.org> <4A06E825.9070808@earthlink.net>
	<gu6qkc$jm0$1@ger.gmane.org>
Message-ID: <20090511105628.GI16095@thot.informatik.uni-kl.de>

Hello (mostly wine package maintainers),

On Sun, May 10, 2009 at 05:07:55PM +0200, Massimo Del Fedele wrote:
> James McKenzie ha scritto:
>> Good work.  Have you started to think about how to get this into Wine
>> where AJ will approve?
>
> Ah, I'm not very optimistic that it'll ever enter on wine tree :-)
> Nor have I time to adopt the "trial and error" way up to it's
> approved.
> The easiest way I see by now is to add it to wine drivers as an
> "alternative" driver in parallel to X11 one.
> That could be done in less then 5 minutes and with no regressions :-)

So from the end users point of view Alexandre is refusing this solution which
is much better than what exists now into the official wine tree.
To "solve" this problem from an end users view, I see two approaches:
1) Alexandre is willing to allow that code into the wine repository, so
   it can be maintained in sync with the existing wine code (it is my
   understanding that the modifications to existing code are quite small)
   and leave it to the user to choose which code to use.
2) We use the same solution that is used by the linux kernel developers:
   Keep the official source clean but add any (dearly wanted/needed)
   features as part of the distribution kernel.

As I think that Alexandre has stated his preference (and I can understand
him taking a long term view), I want to ask the packagers for the distros
out there: Would it be OK for you to add the necessary patch into the
code that you distribute. Personally, that means Marcus and the openSUSE
wine packages :-)

 ciao
      Joerg
   

-- 
Joerg Mayer                                           <jmayer at loplof.de>
We are stuck with technology when what we really want is just stuff that
works. Some say that should read Microsoft instead of technology.


From mrmessiah at gmail.com  Mon May 11 06:07:51 2009
From: mrmessiah at gmail.com (Chris Howe)
Date: Mon, 11 May 2009 12:07:51 +0100
Subject: DIB Engine : Almost 100% working
In-Reply-To: <20090511105628.GI16095@thot.informatik.uni-kl.de>
References: <gu51ru$67b$1@ger.gmane.org> <gu69mr$aak$1@ger.gmane.org>
	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>
	<gu6idh$tgo$1@ger.gmane.org> <4A06E825.9070808@earthlink.net>
	<gu6qkc$jm0$1@ger.gmane.org>
	<20090511105628.GI16095@thot.informatik.uni-kl.de>
Message-ID: <39c14e440905110407n2cfb9b14x78b6673fdd3ba017@mail.gmail.com>

2009/5/11 Joerg Mayer <jmayer at loplof.de>

> Hello (mostly wine package maintainers),
> On Sun, May 10, 2009 at 05:07:55PM +0200, Massimo Del Fedele wrote:
> > James McKenzie ha scritto:
> >> Good work.  Have you started to think about how to get this into Wine
> >> where AJ will approve?
> >
> > Ah, I'm not very optimistic that it'll ever enter on wine tree :-)
> > Nor have I time to adopt the "trial and error" way up to it's
> > approved.
>
> So from the end users point of view Alexandre is refusing this solution
> which
> is much better than what exists now into the official wine tree.
>

Going to make that request for official (Alexandre-approved) documentation
of "the right way" to go up somewhere, one more time. Its ludicrous that
there's
a solution this good that's wrong, and there's no roadmap for making a
better
one.

--
Chris
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090511/fbc8b261/attachment-0001.htm>

From austinenglish at gmail.com  Mon May 11 06:15:49 2009
From: austinenglish at gmail.com (Austin English)
Date: Mon, 11 May 2009 06:15:49 -0500
Subject: DIB Engine : Almost 100% working
In-Reply-To: <39c14e440905110407n2cfb9b14x78b6673fdd3ba017@mail.gmail.com>
References: <gu51ru$67b$1@ger.gmane.org> <gu69mr$aak$1@ger.gmane.org>
	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>
	<gu6idh$tgo$1@ger.gmane.org> <4A06E825.9070808@earthlink.net>
	<gu6qkc$jm0$1@ger.gmane.org>
	<20090511105628.GI16095@thot.informatik.uni-kl.de>
	<39c14e440905110407n2cfb9b14x78b6673fdd3ba017@mail.gmail.com>
Message-ID: <b6bb06270905110415k2192514ese236dff8ec8f7843@mail.gmail.com>

On Mon, May 11, 2009 at 6:07 AM, Chris Howe <mrmessiah at gmail.com> wrote:
> 2009/5/11 Joerg Mayer <jmayer at loplof.de>
>>
>> Hello (mostly wine package maintainers),
>> On Sun, May 10, 2009 at 05:07:55PM +0200, Massimo Del Fedele wrote:
>> > James McKenzie ha scritto:
>> >> Good work. ?Have you started to think about how to get this into Wine
>> >> where AJ will approve?
>> >
>> > Ah, I'm not very optimistic that it'll ever enter on wine tree :-)
>> > Nor have I time to adopt the "trial and error" way up to it's
>> > approved.
>>
>> So from the end users point of view Alexandre is refusing this solution
>> which
>> is much better than what exists now into the official wine tree.
>
> Going to make that request for official (Alexandre-approved) documentation
> of "the right way" to go up somewhere, one more time. Its ludicrous that
> there's
> a solution this good that's wrong, and there's no roadmap for making a
> better
> one.

It would still take a lot of time to write that documentation. Time is
money, and AJ/Huw are both busy people. Unless someone sponsors it,
it's on the back burner, since it's not for sure that it would even
help popular applications.

Not the answer most people want, but the truth isn't always comfortable.

-- 
-Austin


From fgouget at free.fr  Mon May 11 06:18:55 2009
From: fgouget at free.fr (Francois Gouget)
Date: Mon, 11 May 2009 13:18:55 +0200 (CEST)
Subject: Unused functions in fusion.dll
Message-ID: <alpine.DEB.2.00.0905111316090.15405@amboise.dolphin>


CompareAssemblyIdentity() and GetAssemblyIdentityFromFile() have stubs 
in fusion.c, but they are not used and not exported in any way.

Is there any point in keeping them in their current state?
Where/how should they be exported? A look at the fusion.dll export table 
on my Windows XP turned up nothing...

-- 
Francois Gouget <fgouget at free.fr>              http://fgouget.free.fr/
              Linux: Because rebooting is for adding new hardware


From hverbeet at gmail.com  Mon May 11 06:20:20 2009
From: hverbeet at gmail.com (Henri Verbeet)
Date: Mon, 11 May 2009 13:20:20 +0200
Subject: DIB Engine : Almost 100% working
In-Reply-To: <20090511105628.GI16095@thot.informatik.uni-kl.de>
References: <gu51ru$67b$1@ger.gmane.org> <gu69mr$aak$1@ger.gmane.org>
	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>
	<gu6idh$tgo$1@ger.gmane.org> <4A06E825.9070808@earthlink.net>
	<gu6qkc$jm0$1@ger.gmane.org>
	<20090511105628.GI16095@thot.informatik.uni-kl.de>
Message-ID: <d658b69e0905110420s5d0d5d88t4c9e6e139570dcd@mail.gmail.com>

2009/5/11 Joerg Mayer <jmayer at loplof.de>:
> As I think that Alexandre has stated his preference (and I can understand
> him taking a long term view), I want to ask the packagers for the distros
> out there: Would it be OK for you to add the necessary patch into the
> code that you distribute. Personally, that means Marcus and the openSUSE
> wine packages :-)
>
While distributions are of course free to do that, keep in mind that
that would also make them responsible for supporting that code. I'm
not sure how feasible that would be for something so close to core
Wine functionality.


From Nicklas.Borjesson at ws.se  Mon May 11 06:28:45 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Mon, 11 May 2009 13:28:45 +0200
Subject: Bega
In-Reply-To: <b6bb06270905110339q2e187cfbp96ea11c666f66dc7@mail.gmail.com>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se><d658b69e0905081820u7760e54aif95a3aadcc1d94b4@mail.gmail.com><4A06DDC2.5030008@o2.co.uk>
	<200905111205.42502.kai.blin@gmail.com><d658b69e0905110317t5ab831edg30909c1a2dc7dbce@mail.gmail.com>
	<b6bb06270905110339q2e187cfbp96ea11c666f66dc7@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6D013D4816@wsmail01.ws.se>

> +1, exactly why I muted the conversation.

Not implying that I would have "won" the conversation or anything
(I obviously didn't), but I did not like the way my arguments 
were met at all. 

From austinenglish at gmail.com  Mon May 11 06:29:41 2009
From: austinenglish at gmail.com (Austin English)
Date: Mon, 11 May 2009 06:29:41 -0500
Subject: DIB Engine : Almost 100% working
In-Reply-To: <d658b69e0905110420s5d0d5d88t4c9e6e139570dcd@mail.gmail.com>
References: <gu51ru$67b$1@ger.gmane.org> <gu69mr$aak$1@ger.gmane.org>
	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>
	<gu6idh$tgo$1@ger.gmane.org> <4A06E825.9070808@earthlink.net>
	<gu6qkc$jm0$1@ger.gmane.org>
	<20090511105628.GI16095@thot.informatik.uni-kl.de>
	<d658b69e0905110420s5d0d5d88t4c9e6e139570dcd@mail.gmail.com>
Message-ID: <b6bb06270905110429x3dd108dbx3b08e9bce0c5a628@mail.gmail.com>

On Mon, May 11, 2009 at 6:20 AM, Henri Verbeet <hverbeet at gmail.com> wrote:
> 2009/5/11 Joerg Mayer <jmayer at loplof.de>:
>> As I think that Alexandre has stated his preference (and I can understand
>> him taking a long term view), I want to ask the packagers for the distros
>> out there: Would it be OK for you to add the necessary patch into the
>> code that you distribute. Personally, that means Marcus and the openSUSE
>> wine packages :-)
>>
> While distributions are of course free to do that, keep in mind that
> that would also make them responsible for supporting that code. I'm
> not sure how feasible that would be for something so close to core
> Wine functionality.

Perhaps a wine-experimental branch, with applicable warnings?

Getting a bunch of people to test it may give us good data on how much
it improves things, which is currently lacking.

-- 
-Austin


From max at veneto.com  Mon May 11 06:31:35 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Mon, 11 May 2009 13:31:35 +0200
Subject: DIB Engine : Almost 100% working
In-Reply-To: <20090511105628.GI16095@thot.informatik.uni-kl.de>
References: <gu51ru$67b$1@ger.gmane.org>
	<gu69mr$aak$1@ger.gmane.org>	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>	<gu6idh$tgo$1@ger.gmane.org>
	<4A06E825.9070808@earthlink.net>	<gu6qkc$jm0$1@ger.gmane.org>
	<20090511105628.GI16095@thot.informatik.uni-kl.de>
Message-ID: <gu92ao$v60$1@ger.gmane.org>

Joerg Mayer ha scritto:

> 
> So from the end users point of view Alexandre is refusing this solution which
> is much better than what exists now into the official wine tree.

Ah, wait.... it's not "much better", is an alternative.
As it is now, it gives speed improvement for some apps, and probably
slowdowns for others.
The slow downs are because of mixed bitmap blitting, which could be indeed
solved. So, if your app does *many* dib drawing and few mixed blits, the speed
can improve by high factors; the other way around it can decrease.
It has also probably still bugs and for sure some primitives (rarely used)
that are still not coded, as circle/ellipse/roundrect, for example.
Those are trivial to add, but I still didn't need them....

> To "solve" this problem from an end users view, I see two approaches:
> 1) Alexandre is willing to allow that code into the wine repository, so
>    it can be maintained in sync with the existing wine code (it is my
>    understanding that the modifications to existing code are quite small)
>    and leave it to the user to choose which code to use.

I'd agree with that one..... adding an optional driver could do no harm,
and would be enabled just on user request.
The needed core code modifications are really really small, just few lines
on a c file that (afaik) is not being modified since long time.
It could even be done *without* any modification, but that would be much
less comfortable for end-users, as they should fiddle with registry entries.

> 2) We use the same solution that is used by the linux kernel developers:
>    Keep the official source clean but add any (dearly wanted/needed)
>    features as part of the distribution kernel.

That would mean maintain another repo in sync with the main one, not too
hard job but I couldn't do it myself.... really no time.

> 
> As I think that Alexandre has stated his preference (and I can understand
> him taking a long term view), I want to ask the packagers for the distros
> out there: Would it be OK for you to add the necessary patch into the
> code that you distribute. Personally, that means Marcus and the openSUSE
> wine packages :-)

That one could be a nice solution, but I see it quite unlikely to happen.
Usually packagers prefer the "official stuffs".

ciao

Max



From Nicklas.Borjesson at ws.se  Mon May 11 06:34:38 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Mon, 11 May 2009 13:34:38 +0200
Subject: Severity levels
In-Reply-To: <b6bb06270905110339q2e187cfbp96ea11c666f66dc7@mail.gmail.com>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se><d658b69e0905081820u7760e54aif95a3aadcc1d94b4@mail.gmail.com><4A06DDC2.5030008@o2.co.uk>
	<200905111205.42502.kai.blin@gmail.com><d658b69e0905110317t5ab831edg30909c1a2dc7dbce@mail.gmail.com>
	<b6bb06270905110339q2e187cfbp96ea11c666f66dc7@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6D013D4817@wsmail01.ws.se>

> +1, exactly why I muted the conversation.

Not implying that I would have "won" the conversation or anything
(I obviously didn't), but I did not like the way my arguments 
were met at all. 

From max at veneto.com  Mon May 11 06:37:03 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Mon, 11 May 2009 13:37:03 +0200
Subject: DIB Engine : Almost 100% working
In-Reply-To: <d658b69e0905110420s5d0d5d88t4c9e6e139570dcd@mail.gmail.com>
References: <gu51ru$67b$1@ger.gmane.org>
	<gu69mr$aak$1@ger.gmane.org>	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>	<gu6idh$tgo$1@ger.gmane.org>
	<4A06E825.9070808@earthlink.net>	<gu6qkc$jm0$1@ger.gmane.org>	<20090511105628.GI16095@thot.informatik.uni-kl.de>
	<d658b69e0905110420s5d0d5d88t4c9e6e139570dcd@mail.gmail.com>
Message-ID: <gu92l0$d0$1@ger.gmane.org>

Henri Verbeet ha scritto:
> 2009/5/11 Joerg Mayer <jmayer at loplof.de>:
>> As I think that Alexandre has stated his preference (and I can understand
>> him taking a long term view), I want to ask the packagers for the distros
>> out there: Would it be OK for you to add the necessary patch into the
>> code that you distribute. Personally, that means Marcus and the openSUSE
>> wine packages :-)
>>
> While distributions are of course free to do that, keep in mind that
> that would also make them responsible for supporting that code. I'm
> not sure how feasible that would be for something so close to core
> Wine functionality.
> 
> 

As I told before, the engine almost doesn't touch wine core.
It just add an intermediate layer between gdi32 and winex11.drv
to handle DIBs.
If not enabled, it can't simply harm anything, gdi32 will take the
usual way through winex11.
And, last but not least, the drivers *needs* to be explicitely enabled
by end user.... if not, it's like it wouldn't exist.
There's nothing to maintain in wine related do the engine, nor the
way around. The engine as it is should be applicable to any future
wine version, as lon as it doesn't change hardly the driver's function
tables or driver loading in dlls/gdi32/driver.c, which is *very* unlikely
to happen.

Max




From max at veneto.com  Mon May 11 06:39:39 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Mon, 11 May 2009 13:39:39 +0200
Subject: DIB Engine : Almost 100% working
In-Reply-To: <b6bb06270905110429x3dd108dbx3b08e9bce0c5a628@mail.gmail.com>
References: <gu51ru$67b$1@ger.gmane.org>
	<gu69mr$aak$1@ger.gmane.org>	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>	<gu6idh$tgo$1@ger.gmane.org>
	<4A06E825.9070808@earthlink.net>	<gu6qkc$jm0$1@ger.gmane.org>	<20090511105628.GI16095@thot.informatik.uni-kl.de>	<d658b69e0905110420s5d0d5d88t4c9e6e139570dcd@mail.gmail.com>
	<b6bb06270905110429x3dd108dbx3b08e9bce0c5a628@mail.gmail.com>
Message-ID: <gu92pr$d0$2@ger.gmane.org>

Austin English ha scritto:

> Perhaps a wine-experimental branch, with applicable warnings?
> 
> Getting a bunch of people to test it may give us good data on how much
> it improves things, which is currently lacking.
> 

That one should be maintained too.... not a difficult task but
a time consuming one.
Still I think that the better way should be to include as an
"optional" component in main tree.....

Max




From austinenglish at gmail.com  Mon May 11 06:45:01 2009
From: austinenglish at gmail.com (Austin English)
Date: Mon, 11 May 2009 06:45:01 -0500
Subject: DIB Engine : Almost 100% working
In-Reply-To: <gu92pr$d0$2@ger.gmane.org>
References: <gu51ru$67b$1@ger.gmane.org> <gu69mr$aak$1@ger.gmane.org>
	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>
	<gu6idh$tgo$1@ger.gmane.org> <4A06E825.9070808@earthlink.net>
	<gu6qkc$jm0$1@ger.gmane.org>
	<20090511105628.GI16095@thot.informatik.uni-kl.de>
	<d658b69e0905110420s5d0d5d88t4c9e6e139570dcd@mail.gmail.com>
	<b6bb06270905110429x3dd108dbx3b08e9bce0c5a628@mail.gmail.com>
	<gu92pr$d0$2@ger.gmane.org>
Message-ID: <b6bb06270905110445k3d351423w13cc1c08d028ab7d@mail.gmail.com>

On Mon, May 11, 2009 at 6:39 AM, Massimo Del Fedele <max at veneto.com> wrote:
> Austin English ha scritto:
>
>> Perhaps a wine-experimental branch, with applicable warnings?
>>
>> Getting a bunch of people to test it may give us good data on how much
>> it improves things, which is currently lacking.
>>
>
> That one should be maintained too.... not a difficult task but
> a time consuming one.
> Still I think that the better way should be to include as an
> "optional" component in main tree.....

I meant for distributions. E.g., there is already, for many:
wine-stable
wine-devel

could add:
wine-experimental

I'm not suggesting an additional branch for winehq.org. AJ is busy
enough as is ;-). Besides, there's already
http://repo.or.cz/w/wine/hacks.git for that.

-- 
-Austin


From shacklein at gmail.com  Mon May 11 07:36:24 2009
From: shacklein at gmail.com (Ben Klein)
Date: Mon, 11 May 2009 22:36:24 +1000
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6D013D4817@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se> 
	<d658b69e0905081820u7760e54aif95a3aadcc1d94b4@mail.gmail.com> 
	<4A06DDC2.5030008@o2.co.uk> <200905111205.42502.kai.blin@gmail.com> 
	<d658b69e0905110317t5ab831edg30909c1a2dc7dbce@mail.gmail.com> 
	<b6bb06270905110339q2e187cfbp96ea11c666f66dc7@mail.gmail.com> 
	<B73E4E48704A3A43B786A9078FF1BC6D013D4817@wsmail01.ws.se>
Message-ID: <d7e40be30905110536k3519d790ob88e6e7981e78183@mail.gmail.com>

2009/5/11 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>:
> From almost the first response, the tone was quite condescending

No.

> and no one even considered if my ideas had any actual merit at
> all before slamming them completely.

Yes they did. You ignored their just criticism.

> Also, because of this, the
> conversation was needlessly prolonged, to the obvious annoyance
> of all.

And the fact that you refuse to acknowledge critical responses.

> This also applied to perfectly valid comments i
> made in the AppDB.

For example ...?

> I haven't experienced such behaviour
> in an open source project for years. And I have, believe it
> or not, both participated in and, yes, managed a few.

Ever managed a project as big as Wine? In terms of number of
developers, or sheer lines of code?

> I would say that no matter how annoying I may have been to this
> thread, this is extremely counterproductive.
> In communities like this, where most people are involved for
> other reasons than money, it is even more important to treat
> others with respect.

Agreed. However, you have shown little respect for the people on this
thread who have been critical of your suggestions. You believe you are
right - there's nothing wrong with that - but your suggestion is
violently different from what is currently being done - which is a
system set up by the Wine developers for the Wine developers, and is
attuned to what the Wine developers want and need.

> I pride myself with always trying to keep a professional
> attitude in my communications.

If professionalism means never giving up, even when it has been
*explained* to you why your idea won't work in practice, then you
succeeded.

> Not only with customers or management, but also my peers.
> I would like some of the participants of this thread to consider
> the damage they do to the wine project when they don't.
> Creating technology isn't all about technology.

One thread on the mailing list doesn't make the whole project (though
I do see your point). However, it cuts both ways. You complain that no
one has paid attention to your fantastically brilliant idea (when they
have, they just don't like it); perhaps your idea isn't as brilliant
as you think?

You have to treat valid critical response with the same respect as
valid positive response.


From julliard at winehq.org  Mon May 11 07:55:56 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Mon, 11 May 2009 14:55:56 +0200
Subject: C_ASSERT portability fixes and simplification [PATCH 1/2]
In-Reply-To: <alpine.LSU.1.99.0905111311250.16855@acrux.dbai.tuwien.ac.at>
	(Gerald Pfeifer's message of "Mon, 11 May 2009 13:16:14 +0200 (CEST)")
References: <alpine.LSU.1.99.0905101551050.4625@acrux.dbai.tuwien.ac.at>
	<878wl4c4je.fsf@wine.dyndns.org>
	<alpine.LSU.1.99.0905111311250.16855@acrux.dbai.tuwien.ac.at>
Message-ID: <874ovrdcir.fsf@wine.dyndns.org>

Gerald Pfeifer <gerald at pfeifer.com> writes:

> The current implementation doesn't work with GCC 4.5 (or ISO C)
> and I failed to find any other way. :-(  
>
> Your point on this being autogenerated clearly is strong one --
> either we need to change that generation or find a different way
> to implement C_ASSERT.
>
> Any idea how to best approach this?

I don't have gcc 4.5 to test this, but you could try using a function
instead, something like this:

diff --git a/include/winnt.h b/include/winnt.h
index abcc502..aaa4112 100644
--- a/include/winnt.h
+++ b/include/winnt.h
@@ -292,7 +292,7 @@ extern "C" {
 #if defined(_MSC_VER)
 # define C_ASSERT(e) typedef char __C_ASSERT__[(e)?1:-1]
 #elif defined(__GNUC__) 
-# define C_ASSERT(e) extern char __C_ASSERT__[(e)?1:-1] __attribute__((unused))
+# define C_ASSERT(e) extern void __C_ASSERT__(int [(e)?1:-1])
 #else
 # define C_ASSERT(e)
 #endif

-- 
Alexandre Julliard
julliard at winehq.org


From meissner at suse.de  Mon May 11 07:59:12 2009
From: meissner at suse.de (Marcus Meissner)
Date: Mon, 11 May 2009 14:59:12 +0200
Subject: DIB Engine : Almost 100% working
In-Reply-To: <20090511105628.GI16095@thot.informatik.uni-kl.de>
References: <gu51ru$67b$1@ger.gmane.org> <gu69mr$aak$1@ger.gmane.org>
	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>
	<gu6idh$tgo$1@ger.gmane.org> <4A06E825.9070808@earthlink.net>
	<gu6qkc$jm0$1@ger.gmane.org>
	<20090511105628.GI16095@thot.informatik.uni-kl.de>
Message-ID: <20090511125912.GA25870@suse.de>

On Mon, May 11, 2009 at 12:56:28PM +0200, Joerg Mayer wrote:
> Hello (mostly wine package maintainers),
> 
> On Sun, May 10, 2009 at 05:07:55PM +0200, Massimo Del Fedele wrote:
> > James McKenzie ha scritto:
> >> Good work.  Have you started to think about how to get this into Wine
> >> where AJ will approve?
> >
> > Ah, I'm not very optimistic that it'll ever enter on wine tree :-)
> > Nor have I time to adopt the "trial and error" way up to it's
> > approved.
> > The easiest way I see by now is to add it to wine drivers as an
> > "alternative" driver in parallel to X11 one.
> > That could be done in less then 5 minutes and with no regressions :-)
> 
> So from the end users point of view Alexandre is refusing this solution which
> is much better than what exists now into the official wine tree.
> To "solve" this problem from an end users view, I see two approaches:
> 1) Alexandre is willing to allow that code into the wine repository, so
>    it can be maintained in sync with the existing wine code (it is my
>    understanding that the modifications to existing code are quite small)
>    and leave it to the user to choose which code to use.
> 2) We use the same solution that is used by the linux kernel developers:
>    Keep the official source clean but add any (dearly wanted/needed)
>    features as part of the distribution kernel.

The distribution these days only accept stuff that has chances to be upstream.

Keeping it in a parallel repo forever will not fly.

Ciao, Marcus


From Nicklas.Borjesson at ws.se  Mon May 11 08:28:07 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Mon, 11 May 2009 15:28:07 +0200
Subject: Severity levels
In-Reply-To: <d7e40be30905110536k3519d790ob88e6e7981e78183@mail.gmail.com>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<d658b69e0905081820u7760e54aif95a3aadcc1d94b4@mail.gmail.com>
	<4A06DDC2.5030008@o2.co.uk> <200905111205.42502.kai.blin@gmail.com>
	<d658b69e0905110317t5ab831edg30909c1a2dc7dbce@mail.gmail.com>
	<b6bb06270905110339q2e187cfbp96ea11c666f66dc7@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6D013D4817@wsmail01.ws.se>
	<d7e40be30905110536k3519d790ob88e6e7981e78183@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6D013D481B@wsmail01.ws.se>

>> From almost the first response, the tone was quite condescending

> No.

Here we go. I'll try again. Yes.

>If professionalism means never giving up, even when it has been
>*explained* to you why your idea won't work in practice, then you
>succeeded.

In the end someone did explain, yes. But it took about 10 posts until
anyone started to actually read what I had written and stop reading
in other things into what it said. Like constantly stating that 
"photoshop isn't the all only application" and the like, when that 
had nothing to do with what my point was.
I don't give up. Especially when I have time to spare. Which I did.

> perhaps your idea isn't as brilliant as you think?

I did not think of my idea as brilliant. In fact, I have never even
remotely tried to convey that. I just thougt of it as an idea. 
This is exactly the kind of attitude that leads nowhere.
Why even write that sentence? Did we get anywhere?

> You have to treat valid critical response with the same respect as
> valid positive response.

I did, even if it didn't adress what I said. Although I did comment
when someone persisted with strawman arguments like "should we let
users in control of the project" even though I had never said anything
like that.

> Ever managed a project as big as Wine? In terms of number of
> developers, or sheer lines of code?

Have you? 
Regarding sheer lines of code, the main application
(a portfolio/fund management system) I am working have roughly the 
same amount of code that wine does. Or at least around 90%.
The database currently has 327 tables and customer databases range 
from 1-100 gigabyte in size. With regards to complexity, wine has
nothing on it, at least as far as I have seen so far.
So I'd say I know a thing or two about large projects.

You seem to think that the wine project is some kind of huge 
beheamoth of a project. In fact, most fairly common business applications 
are just as large(especially in later years when so much code is auto-generated). 
One or two million LOCs is not huge. Big, but not huge.

Especially, I know that when a project grows, softer values tend to
become more important. And that users, handled correctly, can be more
of a resource, than a liability.

//Nicklas


From shacklein at gmail.com  Mon May 11 08:40:12 2009
From: shacklein at gmail.com (Ben Klein)
Date: Mon, 11 May 2009 23:40:12 +1000
Subject: Impossible to register to Bugzilla
In-Reply-To: <4A073501.2050105@wanadoo.fr>
References: <4A073501.2050105@wanadoo.fr>
Message-ID: <d7e40be30905110640x1aabf1ah8200486331a26522@mail.gmail.com>

2009/5/11 Alain Aupeix <alain.aupeix at wanadoo.fr>:
> All is explained in this thread :
> "http://forum.winehq.org/viewtopic.php?p=24400#24400"

Worked for me just now.


From austinenglish at gmail.com  Mon May 11 08:45:21 2009
From: austinenglish at gmail.com (Austin English)
Date: Mon, 11 May 2009 08:45:21 -0500
Subject: Severity levels
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6D013D481B@wsmail01.ws.se>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<d658b69e0905081820u7760e54aif95a3aadcc1d94b4@mail.gmail.com>
	<4A06DDC2.5030008@o2.co.uk> <200905111205.42502.kai.blin@gmail.com>
	<d658b69e0905110317t5ab831edg30909c1a2dc7dbce@mail.gmail.com>
	<b6bb06270905110339q2e187cfbp96ea11c666f66dc7@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6D013D4817@wsmail01.ws.se>
	<d7e40be30905110536k3519d790ob88e6e7981e78183@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6D013D481B@wsmail01.ws.se>
Message-ID: <b6bb06270905110645m6f908870ua8727e8a698de445@mail.gmail.com>

Guys, please take it off list.

-- 
-Austin


From fgouget at free.fr  Mon May 11 09:13:22 2009
From: fgouget at free.fr (Francois Gouget)
Date: Mon, 11 May 2009 16:13:22 +0200 (CEST)
Subject: Severity levels
In-Reply-To: <200905111205.42502.kai.blin@gmail.com>
References: <B73E4E48704A3A43B786A9078FF1BC6DD3A3E0@wsmail01.ws.se>
	<d658b69e0905081820u7760e54aif95a3aadcc1d94b4@mail.gmail.com>
	<4A06DDC2.5030008@o2.co.uk> <200905111205.42502.kai.blin@gmail.com>
Message-ID: <alpine.DEB.2.00.0905111612131.15405@amboise.dolphin>

On Mon, 11 May 2009, Kai Blin wrote:
[...]
> If you feel the need to insult people for whatever reason, don't do it 
> on the mailing list.

Better yet, they should do it to the mirror<g>.


-- 
Francois Gouget <fgouget at free.fr>              http://fgouget.free.fr/
            Before you criticize someone, walk a mile in his shoes.
       That way, if he gets angry, he'll be a mile away - and barefoot.


From gerald at pfeifer.com  Mon May 11 06:16:14 2009
From: gerald at pfeifer.com (Gerald Pfeifer)
Date: Mon, 11 May 2009 13:16:14 +0200 (CEST)
Subject: C_ASSERT portability fixes and simplification [PATCH 1/2]
In-Reply-To: <878wl4c4je.fsf@wine.dyndns.org>
References: <alpine.LSU.1.99.0905101551050.4625@acrux.dbai.tuwien.ac.at>
	<878wl4c4je.fsf@wine.dyndns.org>
Message-ID: <alpine.LSU.1.99.0905111311250.16855@acrux.dbai.tuwien.ac.at>

On Mon, 11 May 2009, Alexandre Julliard wrote:
>>  2. More importantly, these were the only occurences of C_ASSERT at
>>     file level.  By moving these at function level use thereof becomes
>>     consistent which will allow the fix from PATCH 2/2 to work at all.
> C_ASSERT is supposed to work at the file level too.

The current implementation doesn't work with GCC 4.5 (or ISO C)
and I failed to find any other way. :-(  

Your point on this being autogenerated clearly is strong one --
either we need to change that generation or find a different way
to implement C_ASSERT.

Any idea how to best approach this?

Gerald


From retricek at gmail.com  Mon May 11 07:27:08 2009
From: retricek at gmail.com (=?ISO-8859-2?Q?Josef_=A9im=E1nek?=)
Date: Mon, 11 May 2009 14:27:08 +0200
Subject: Winelib - Getting Started guide
In-Reply-To: <FE69EDF3EFC6477AA6E49CD85E5CA214@DMITRY>
References: <744ffb620905101520k21893den7fddf45c02f50369@mail.gmail.com>
	<FE69EDF3EFC6477AA6E49CD85E5CA214@DMITRY>
Message-ID: <744ffb620905110527qd40a92dm695ea05468a221b2@mail.gmail.com>

I did this (http://www.winehq.org/docs/winelib-guide/winelib-getting-started) :

         $ winemaker --lower-uppercase .
         $ make
It throws some error in wrc. So according to GSG I did exactly this:
To fix that problem, you will need to edit the list of resource files
winemaker thought notepad used, and only keep the master resource
file. To do so, open notepad2/Makefile in a text editor and search for
an assignment to a variable with RC_SRCS as part of its name. It will
likely be named notepad2_exe_RC_SRCS. There will be a list of resource
files starting on the same line. Remove them all except rsrc.rc (this
is the master one for notepad). Save your work.

2009/5/11 Dmitry Timoshkov <dmitry at codeweavers.com>:
> "Josef Sim?nek" <retricek at gmail.com> wrote:
>
>> I edit Makefile and type make into console.
>
> What exactly did you do? notepad is not supposed to work as a console
> application for your information.
>
>> My problem above. In the
>> guide is written to report bad compiling behaviour. So I did it. Any
>> hints ?
>>
>> mirindoslav at mirindoslav-laptop:~/Plocha/notepad$ make
>> winegcc -c ?-mno-cygwin -I. ? -o dialog.o dialog.c
>> winegcc -c ?-mno-cygwin -I. ? -o main.o main.c
>> wrc ? -I. ? -forsrc.res rsrc.rc
>> winegcc -mwindows -mno-cygwin -m32 -o notepad.exe.so dialog.o main.o
>> rsrc.res ? ? ?-lodbc32 -lole32 -loleaut32 -lwinspool -lodbccp32 -luuid
>> dialog.o: In function `DIALOG_StringMsgBox':
>> dialog.c:(.text+0x235): undefined reference to `wnsprintfW'
>> main.o: In function `HandleCommandLine':
>> main.c:(.text+0x25a5): undefined reference to `PathFindFileNameW'
>
> Looks like you have removed required import libraries, don't do that
> if you don't know the consequences.
>
> --
> Dmitry.
>


From austinenglish at gmail.com  Mon May 11 12:26:20 2009
From: austinenglish at gmail.com (Austin English)
Date: Mon, 11 May 2009 12:26:20 -0500
Subject: DIB Engine : Almost 100% working
In-Reply-To: <gu69mr$aak$1@ger.gmane.org>
References: <gu51ru$67b$1@ger.gmane.org> <gu69mr$aak$1@ger.gmane.org>
Message-ID: <b6bb06270905111026y566c5eefi9c12e476ed0d940d@mail.gmail.com>

On Sun, May 10, 2009 at 5:19 AM, Massimo Del Fedele <max at veneto.com> wrote:
> Massimo Del Fedele ha scritto:
>>
>> Well, after some (many) bugfixes and additions, the mighty DIB Engine is
>> almost 100%
>> operational.
>> On one of tested apps (MSN Messenger) it behaves even better than original
>> one :-)
>>
>> For whom wish to test it, bug 421 page.
>>
>> Ciao
>>
>> Max
>>
>>
>>
>>
>
> fixed also last (hopefully) color format error, now some games, also D3D and
> Opengl
> ones work perfectly.
>
> Ciao
>
> Max
>
>
>
>

FWIW, for those interested, I've added the DIB engine to my daily test
runs. First result is here:
http://test.winehq.org/data/60482be24bca109601008df0113b64858dd45863/wine_ae-ub904-dibengine/report.html

and for comparison, here's a vanilla wine test run:
http://test.winehq.org/data/60482be24bca109601008df0113b64858dd45863/wine_ae-ub904/report.html
(everything passes on my machine, aside from the known spurious test results).

Looks like there's some bugs to fix in ddraw:visual, gdi32:bitmap
(1317!), and gdi32:palette.

So not quite ready yet (architecture designs aside).

-- 
-Austin


From austinenglish at gmail.com  Mon May 11 12:26:20 2009
From: austinenglish at gmail.com (Austin English)
Date: Mon, 11 May 2009 12:26:20 -0500
Subject: DIB Engine : Almost 100% working
In-Reply-To: <gu69mr$aak$1@ger.gmane.org>
References: <gu51ru$67b$1@ger.gmane.org> <gu69mr$aak$1@ger.gmane.org>
Message-ID: <b6bb06270905111026y566c5eefi9c12e476ed0d940d@mail.gmail.com>

On Sun, May 10, 2009 at 5:19 AM, Massimo Del Fedele <max at veneto.com> wrote:
> Massimo Del Fedele ha scritto:
>>
>> Well, after some (many) bugfixes and additions, the mighty DIB Engine is
>> almost 100%
>> operational.
>> On one of tested apps (MSN Messenger) it behaves even better than original
>> one :-)
>>
>> For whom wish to test it, bug 421 page.
>>
>> Ciao
>>
>> Max
>>
>>
>>
>>
>
> fixed also last (hopefully) color format error, now some games, also D3D and
> Opengl
> ones work perfectly.
>
> Ciao
>
> Max
>
>
>
>

FWIW, for those interested, I've added the DIB engine to my daily test
runs. First result is here:
http://test.winehq.org/data/60482be24bca109601008df0113b64858dd45863/wine_ae-ub904-dibengine/report.html

and for comparison, here's a vanilla wine test run:
http://test.winehq.org/data/60482be24bca109601008df0113b64858dd45863/wine_ae-ub904/report.html
(everything passes on my machine, aside from the known spurious test results).

Looks like there's some bugs to fix in ddraw:visual, gdi32:bitmap
(1317!), and gdi32:palette.

So not quite ready yet (architecture designs aside).

-- 
-Austin


From bunglehead at gmail.com  Mon May 11 12:41:01 2009
From: bunglehead at gmail.com (Nikolay Sivov)
Date: Mon, 11 May 2009 21:41:01 +0400
Subject: comctl32: add ListView_SetCheckState and ListView_GetCheckState
	with	tests(try5)
In-Reply-To: <4A085925.6040503@dawncrow.de>
References: <4A085925.6040503@dawncrow.de>
Message-ID: <4A08632D.1090401@gmail.com>

Andr? Hentschel wrote:
> now PSDK compatible
> ---
>  dlls/comctl32/listview.c       |    1 -
>  dlls/comctl32/tests/listview.c |    8 ++++++++
>  include/commctrl.h             |    6 ++++++
>  3 files changed, 14 insertions(+), 1 deletions(-)
Still wrong:

+#define ListView_SetCheckState(hwndLV, i, bCheck) \
+    { LVITEMA _LVi; _LVi.state = ((bCheck?2:1) << 12); _LVi.stateMask = LVIS_STATEIMAGEMASK;\
+    SNDMSG(hwndLV, LVM_SETITEMSTATE, (WPARAM)(UINT)(i), (LPARAM)(LPLVITEMA)&_LVi);}

'A' structure for both SNDMSG[A,W]. Try with neutral LVITEM.

+#define ListView_GetCheckState(hwndLV, i) \
+    ((((BOOL)(SNDMSGW((hwndLV), LVM_GETITEMSTATE, (i),  \
+    LVIS_STATEIMAGEMASK))) >> 12) -1)

Always W version used. Why?



From max at veneto.com  Mon May 11 12:50:27 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Mon, 11 May 2009 19:50:27 +0200
Subject: DIB Engine : Almost 100% working
In-Reply-To: <b6bb06270905111026y566c5eefi9c12e476ed0d940d@mail.gmail.com>
References: <gu51ru$67b$1@ger.gmane.org> <gu69mr$aak$1@ger.gmane.org>
	<b6bb06270905111026y566c5eefi9c12e476ed0d940d@mail.gmail.com>
Message-ID: <gu9oh3$ick$1@ger.gmane.org>

Austin English ha scritto:
> On Sun, May 10, 2009 at 5:19 AM, Massimo Del Fedele <max at veneto.com> wrote:
>> Massimo Del Fedele ha scritto:
>>> Well, after some (many) bugfixes and additions, the mighty DIB Engine is
>>> almost 100%
>>> operational.
>>> On one of tested apps (MSN Messenger) it behaves even better than original
>>> one :-)
>>>
>>> For whom wish to test it, bug 421 page.
>>>
>>> Ciao
>>>
>>> Max
>>>
>>>
>>>
>>>
>> fixed also last (hopefully) color format error, now some games, also D3D and
>> Opengl
>> ones work perfectly.
>>
>> Ciao
>>
>> Max
>>
>>
>>
>>
> 
> FWIW, for those interested, I've added the DIB engine to my daily test
> runs. First result is here:
> http://test.winehq.org/data/60482be24bca109601008df0113b64858dd45863/wine_ae-ub904-dibengine/report.html
> 
> and for comparison, here's a vanilla wine test run:
> http://test.winehq.org/data/60482be24bca109601008df0113b64858dd45863/wine_ae-ub904/report.html
> (everything passes on my machine, aside from the known spurious test results).
> 
> Looks like there's some bugs to fix in ddraw:visual, gdi32:bitmap
> (1317!), and gdi32:palette.
> 
> So not quite ready yet (architecture designs aside).
> 

Ah, yep.... swapped colors in pixels. I fixed that everywhere but not on getpixel :-)
I'll fix it later.... and I'll look to other (few) failures.
I've seen some stuffs passed on todo, also.....

Max



From msclrhd at googlemail.com  Mon May 11 13:06:49 2009
From: msclrhd at googlemail.com (Reece Dunn)
Date: Mon, 11 May 2009 19:06:49 +0100
Subject: DIB Engine : Almost 100% working
In-Reply-To: <4A084764.5060601@codeweavers.com>
References: <gu51ru$67b$1@ger.gmane.org>
	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>
	<gu6idh$tgo$1@ger.gmane.org> <4A06E825.9070808@earthlink.net>
	<gu6qkc$jm0$1@ger.gmane.org>
	<20090511105628.GI16095@thot.informatik.uni-kl.de>
	<39c14e440905110407n2cfb9b14x78b6673fdd3ba017@mail.gmail.com>
	<b6bb06270905110415k2192514ese236dff8ec8f7843@mail.gmail.com>
	<3f4fd2640905110444rc44b205ncc4e3b37cba40a27@mail.gmail.com>
	<4A084764.5060601@codeweavers.com>
Message-ID: <3f4fd2640905111106u4fe9b450q20854ad2fb0c129f@mail.gmail.com>

Jeremy White wrote:
> Reece Dunn wrote:
>> Also, doesn't CodeWeavers have the ability to pledge for features
>> (such as DirectX) as well as specific applications?
>
> Well, kinda sorta, but not really.  It's on our todo list and has
> been for a long time.
>
> I think Roderick summarized the issue from our perspective correctly.
> Everyone wishes it will be a magic bullet, so we all get excited about it.


From nerv at dawncrow.de  Mon May 11 13:24:36 2009
From: nerv at dawncrow.de (=?UTF-8?B?QW5kcsOpIEhlbnRzY2hlbA==?=)
Date: Mon, 11 May 2009 20:24:36 +0200
Subject: comctl32: add ListView_SetCheckState and ListView_GetCheckState
	with	tests(try5)
In-Reply-To: <4A08632D.1090401@gmail.com>
References: <4A085925.6040503@dawncrow.de> <4A08632D.1090401@gmail.com>
Message-ID: <4A086D64.2060401@dawncrow.de>

Nikolay Sivov schrieb:
> Andr? Hentschel wrote:
>> now PSDK compatible
>> ---
>>  dlls/comctl32/listview.c       |    1 -
>>  dlls/comctl32/tests/listview.c |    8 ++++++++
>>  include/commctrl.h             |    6 ++++++
>>  3 files changed, 14 insertions(+), 1 deletions(-)
> Still wrong:
>
> +#define ListView_SetCheckState(hwndLV, i, bCheck) \
> +    { LVITEMA _LVi; _LVi.state = ((bCheck?2:1) << 12); _LVi.stateMask 
> = LVIS_STATEIMAGEMASK;\
> +    SNDMSG(hwndLV, LVM_SETITEMSTATE, (WPARAM)(UINT)(i), 
> (LPARAM)(LPLVITEMA)&_LVi);}
>
> 'A' structure for both SNDMSG[A,W]. Try with neutral LVITEM.
my orientation was ListView_SetItemState with:

#define ListView_SetItemState(hwnd,i,data,dataMask) \
{ LVITEMA _LVi; _LVi.state = data; _LVi.stateMask = dataMask;\
 SNDMSG(hwnd, LVM_SETITEMSTATE, (WPARAM)(UINT)i, (LPARAM) 
(LPLVITEMA)&_LVi);}

>
> +#define ListView_GetCheckState(hwndLV, i) \
> +    ((((BOOL)(SNDMSGW((hwndLV), LVM_GETITEMSTATE, (i),  \
> +    LVIS_STATEIMAGEMASK))) >> 12) -1)
>
> Always W version used. Why?
>
forgotten, sry.
i hope i made everything right in try6



From alain.aupeix at wanadoo.fr  Mon May 11 14:47:14 2009
From: alain.aupeix at wanadoo.fr (Alain Aupeix)
Date: Mon, 11 May 2009 21:47:14 +0200
Subject: Impossible to register to Bugzilla
In-Reply-To: <d7e40be30905110640x1aabf1ah8200486331a26522@mail.gmail.com>
References: <4A073501.2050105@wanadoo.fr>
	<d7e40be30905110640x1aabf1ah8200486331a26522@mail.gmail.com>
Message-ID: <4A0880C2.8030206@wanadoo.fr>

An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090511/24564070/attachment.htm>

From bunglehead at gmail.com  Mon May 11 15:29:17 2009
From: bunglehead at gmail.com (Nikolay Sivov)
Date: Tue, 12 May 2009 00:29:17 +0400
Subject: comctl32/listview: WinSCP dogfood fix
In-Reply-To: <4A08871D.8020108@gmail.com>
References: <4A08871D.8020108@gmail.com>
Message-ID: <4A088A9D.8000306@gmail.com>

Stefan Stranz wrote:
> Fixes bug #13867
> Original fix by GameZelda
A test needed for such changes. Especially for that part:

@@ -519,7 +519,7 @@ static inline int textcmpWT(LPCWSTR aw, LPCWSTR bt, BOOL isW)
     if (!aw) return bt ? -1 : 0;
     if (!bt) return aw ? 1 : 0;
     if (aw == LPSTR_TEXTCALLBACKW)
-	return bt == LPSTR_TEXTCALLBACKW ? 0 : -1;
+	return bt == LPSTR_TEXTCALLBACKW ? 1 : -1;
     if (bt != LPSTR_TEXTCALLBACKW)
     {
 	LPWSTR bw = textdupTtoW(bt, isW);





From scott at open-vote.org  Mon May 11 16:01:56 2009
From: scott at open-vote.org (Scott Ritchie)
Date: Mon, 11 May 2009 14:01:56 -0700
Subject: DIB Engine : Almost 100% working
In-Reply-To: <d658b69e0905110420s5d0d5d88t4c9e6e139570dcd@mail.gmail.com>
References: <gu51ru$67b$1@ger.gmane.org>
	<gu69mr$aak$1@ger.gmane.org>	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>	<gu6idh$tgo$1@ger.gmane.org>
	<4A06E825.9070808@earthlink.net>	<gu6qkc$jm0$1@ger.gmane.org>	<20090511105628.GI16095@thot.informatik.uni-kl.de>
	<d658b69e0905110420s5d0d5d88t4c9e6e139570dcd@mail.gmail.com>
Message-ID: <4A089244.3000203@open-vote.org>

Henri Verbeet wrote:
> 2009/5/11 Joerg Mayer <jmayer at loplof.de>:
>> As I think that Alexandre has stated his preference (and I can understand
>> him taking a long term view), I want to ask the packagers for the distros
>> out there: Would it be OK for you to add the necessary patch into the
>> code that you distribute. Personally, that means Marcus and the openSUSE
>> wine packages :-)
>>
> While distributions are of course free to do that, keep in mind that
> that would also make them responsible for supporting that code. I'm
> not sure how feasible that would be for something so close to core
> Wine functionality.
> 
> 

Distributions don't really "support" Wine anyway.  At best we just make 
a new package every now and again.

As a packager, as long as Massimo is willing to keep the patches 
applying to the latest version and user-optional to enable, I'd be 
willing to bundle em.  I'm normally averse to keeping deltas with 
Alexandre's main branch other than backports, but this one is 
specifically written to not do anything unless manually enabled.

Thanks,
Scott Ritchie


From scott at open-vote.org  Mon May 11 16:06:02 2009
From: scott at open-vote.org (Scott Ritchie)
Date: Mon, 11 May 2009 14:06:02 -0700
Subject: DIB Engine : Almost 100% working
In-Reply-To: <gu9oh3$ick$1@ger.gmane.org>
References: <gu51ru$67b$1@ger.gmane.org>
	<gu69mr$aak$1@ger.gmane.org>	<b6bb06270905111026y566c5eefi9c12e476ed0d940d@mail.gmail.com>
	<gu9oh3$ick$1@ger.gmane.org>
Message-ID: <4A08933A.1010308@open-vote.org>

Massimo Del Fedele wrote:
> Austin English ha scritto:
>>
>> FWIW, for those interested, I've added the DIB engine to my daily test
>> runs. First result is here:
>> http://test.winehq.org/data/60482be24bca109601008df0113b64858dd45863/wine_ae-ub904-dibengine/report.html 
>>
>>
>> and for comparison, here's a vanilla wine test run:
>> http://test.winehq.org/data/60482be24bca109601008df0113b64858dd45863/wine_ae-ub904/report.html 
>>
>> (everything passes on my machine, aside from the known spurious test 
>> results).
>>
>> Looks like there's some bugs to fix in ddraw:visual, gdi32:bitmap
>> (1317!), and gdi32:palette.
>>
>> So not quite ready yet (architecture designs aside).
>>
> 
> Ah, yep.... swapped colors in pixels. I fixed that everywhere but not on 
> getpixel :-)
> I'll fix it later.... and I'll look to other (few) failures.
> I've seen some stuffs passed on todo, also.....
> 

3 cheers for the test suite!  This is, right here, a good handful of 
bugs completely prevented by it.  I'm curious how much more common 
findings like this are getting as Winetest has grown in sophistication.


Thanks,
Scott Ritchie


From hverbeet at gmail.com  Mon May 11 16:17:42 2009
From: hverbeet at gmail.com (Henri Verbeet)
Date: Mon, 11 May 2009 23:17:42 +0200
Subject: DIB Engine : Almost 100% working
In-Reply-To: <4A089244.3000203@open-vote.org>
References: <gu51ru$67b$1@ger.gmane.org> <gu69mr$aak$1@ger.gmane.org>
	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>
	<gu6idh$tgo$1@ger.gmane.org> <4A06E825.9070808@earthlink.net>
	<gu6qkc$jm0$1@ger.gmane.org>
	<20090511105628.GI16095@thot.informatik.uni-kl.de>
	<d658b69e0905110420s5d0d5d88t4c9e6e139570dcd@mail.gmail.com>
	<4A089244.3000203@open-vote.org>
Message-ID: <d658b69e0905111417p1ca648a3o785db9ea4dc95e49@mail.gmail.com>

2009/5/11 Scott Ritchie <scott at open-vote.org>:
> Henri Verbeet wrote:
>>
>> 2009/5/11 Joerg Mayer <jmayer at loplof.de>:
>>>
>>> As I think that Alexandre has stated his preference (and I can understand
>>> him taking a long term view), I want to ask the packagers for the distros
>>> out there: Would it be OK for you to add the necessary patch into the
>>> code that you distribute. Personally, that means Marcus and the openSUSE
>>> wine packages :-)
>>>
>> While distributions are of course free to do that, keep in mind that
>> that would also make them responsible for supporting that code. I'm
>> not sure how feasible that would be for something so close to core
>> Wine functionality.
>>
>>
>
> Distributions don't really "support" Wine anyway. ?At best we just make a
> new package every now and again.
>
Yes, but the point is that bugs filed against such a package are
potentially invalid. (People should use git for filing bugs, but not
everyone does.)


From max at veneto.com  Mon May 11 16:24:01 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Mon, 11 May 2009 23:24:01 +0200
Subject: DIB Engine : Almost 100% working
In-Reply-To: <4A089244.3000203@open-vote.org>
References: <gu51ru$67b$1@ger.gmane.org>	<gu69mr$aak$1@ger.gmane.org>	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>	<gu6idh$tgo$1@ger.gmane.org>	<4A06E825.9070808@earthlink.net>	<gu6qkc$jm0$1@ger.gmane.org>	<20090511105628.GI16095@thot.informatik.uni-kl.de>	<d658b69e0905110420s5d0d5d88t4c9e6e139570dcd@mail.gmail.com>
	<4A089244.3000203@open-vote.org>
Message-ID: <gua51h$i6$1@ger.gmane.org>

Scott Ritchie ha scritto:

> As a packager, as long as Massimo is willing to keep the patches 
> applying to the latest version and user-optional to enable, I'd be 
> willing to bundle em.  I'm normally averse to keeping deltas with 
> Alexandre's main branch other than backports, but this one is 
> specifically written to not do anything unless manually enabled.
> 

Well, the engine should apply to any next git, as long as there are
no changes to driver's function tables (unlikely), to gdifont struct
(less unlikely, but should not happen soon...) and to dlls/gdi32/driver.c
(also unlikely, as it has just code to load drivers).
That was one of the 2 reasons of the new approach... to not to have
to rebase it manually each week :-)

BTW, about the bugs spotted by testsuite, I'm looking at them just now,
mostly are just GetPixel() swapped colors, I got rid of more than an
half with a single patch and I guess they'll mostly disappear in short
time.

Ciao

Max



From scott at open-vote.org  Mon May 11 16:35:39 2009
From: scott at open-vote.org (Scott Ritchie)
Date: Mon, 11 May 2009 14:35:39 -0700
Subject: DIB Engine : Almost 100% working
In-Reply-To: <d658b69e0905111417p1ca648a3o785db9ea4dc95e49@mail.gmail.com>
References: <gu51ru$67b$1@ger.gmane.org>
	<gu69mr$aak$1@ger.gmane.org>	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>	<gu6idh$tgo$1@ger.gmane.org>
	<4A06E825.9070808@earthlink.net>	<gu6qkc$jm0$1@ger.gmane.org>	<20090511105628.GI16095@thot.informatik.uni-kl.de>	<d658b69e0905110420s5d0d5d88t4c9e6e139570dcd@mail.gmail.com>	<4A089244.3000203@open-vote.org>
	<d658b69e0905111417p1ca648a3o785db9ea4dc95e49@mail.gmail.com>
Message-ID: <4A089A2B.1040401@open-vote.org>

Henri Verbeet wrote:
> 2009/5/11 Scott Ritchie <scott at open-vote.org>:
>> Henri Verbeet wrote:
>>> 2009/5/11 Joerg Mayer <jmayer at loplof.de>:
>>>> As I think that Alexandre has stated his preference (and I can understand
>>>> him taking a long term view), I want to ask the packagers for the distros
>>>> out there: Would it be OK for you to add the necessary patch into the
>>>> code that you distribute. Personally, that means Marcus and the openSUSE
>>>> wine packages :-)
>>>>
>>> While distributions are of course free to do that, keep in mind that
>>> that would also make them responsible for supporting that code. I'm
>>> not sure how feasible that would be for something so close to core
>>> Wine functionality.
>>>
>>>
>> Distributions don't really "support" Wine anyway.  At best we just make a
>> new package every now and again.
>>
> Yes, but the point is that bugs filed against such a package are
> potentially invalid. (People should use git for filing bugs, but not
> everyone does.)
> 
> 

We already expect our users to indicate if they've done any manual 
registry changes when reporting bugs.  This seems like just another 
instance of that.

Thanks,
Scott Ritchie


From shacklein at gmail.com  Mon May 11 18:14:13 2009
From: shacklein at gmail.com (Ben Klein)
Date: Tue, 12 May 2009 09:14:13 +1000
Subject: DIB Engine : Almost 100% working
In-Reply-To: <4A089A2B.1040401@open-vote.org>
References: <gu51ru$67b$1@ger.gmane.org>
	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com> 
	<gu6idh$tgo$1@ger.gmane.org> <4A06E825.9070808@earthlink.net> 
	<gu6qkc$jm0$1@ger.gmane.org>
	<20090511105628.GI16095@thot.informatik.uni-kl.de> 
	<d658b69e0905110420s5d0d5d88t4c9e6e139570dcd@mail.gmail.com> 
	<4A089244.3000203@open-vote.org>
	<d658b69e0905111417p1ca648a3o785db9ea4dc95e49@mail.gmail.com> 
	<4A089A2B.1040401@open-vote.org>
Message-ID: <d7e40be30905111614y226febb7o9db56c0e1cad8540@mail.gmail.com>

2009/5/12 Scott Ritchie <scott at open-vote.org>:
> Henri Verbeet wrote:
>>
>> 2009/5/11 Scott Ritchie <scott at open-vote.org>:
>>>
>>> Henri Verbeet wrote:
>>>>
>>>> 2009/5/11 Joerg Mayer <jmayer at loplof.de>:
>>>>>
>>>>> As I think that Alexandre has stated his preference (and I can
>>>>> understand
>>>>> him taking a long term view), I want to ask the packagers for the
>>>>> distros
>>>>> out there: Would it be OK for you to add the necessary patch into the
>>>>> code that you distribute. Personally, that means Marcus and the
>>>>> openSUSE
>>>>> wine packages :-)
>>>>>
>>>> While distributions are of course free to do that, keep in mind that
>>>> that would also make them responsible for supporting that code. I'm
>>>> not sure how feasible that would be for something so close to core
>>>> Wine functionality.
>>>>
>>>>
>>> Distributions don't really "support" Wine anyway. ?At best we just make a
>>> new package every now and again.
>>>
>> Yes, but the point is that bugs filed against such a package are
>> potentially invalid. (People should use git for filing bugs, but not
>> everyone does.)
>>
>>
>
> We already expect our users to indicate if they've done any manual registry
> changes when reporting bugs. ?This seems like just another instance of that.

But they usually don't.

As the Debian package maintainer, I won't bundle the DIB engine until
it makes it into Wine release sources. I have the same policy for any
other patch (including my own simple,
definitely-won't-hurt-anything-but-will-make-things-better patches) to
assist in keeping bugzilla *and AppDB* "clean". Do we really want the
users to submit AppDB posts that depend on who packaged the binaries?


From scott at open-vote.org  Mon May 11 18:34:43 2009
From: scott at open-vote.org (Scott Ritchie)
Date: Mon, 11 May 2009 16:34:43 -0700
Subject: DIB Engine : Almost 100% working
In-Reply-To: <d7e40be30905111614y226febb7o9db56c0e1cad8540@mail.gmail.com>
References: <gu51ru$67b$1@ger.gmane.org>
	<f954ac580905100452r6b8fbefwfe5e016bbe9fe677@mail.gmail.com>
	<gu6idh$tgo$1@ger.gmane.org> <4A06E825.9070808@earthlink.net>
	<gu6qkc$jm0$1@ger.gmane.org>
	<20090511105628.GI16095@thot.informatik.uni-kl.de>
	<d658b69e0905110420s5d0d5d88t4c9e6e139570dcd@mail.gmail.com>
	<4A089244.3000203@open-vote.org>
	<d658b69e0905111417p1ca648a3o785db9ea4dc95e49@mail.gmail.com>
	<4A089A2B.1040401@open-vote.org>
	<d7e40be30905111614y226febb7o9db56c0e1cad8540@mail.gmail.com>
Message-ID: <4A08B613.8000609@open-vote.org>

Ben Klein wrote:
> 2009/5/12 Scott Ritchie <scott at open-vote.org>:
>> Henri Verbeet wrote:
>>> 2009/5/11 Scott Ritchie <scott at open-vote.org>:
>>>> Henri Verbeet wrote:
>>>>> 2009/5/11 Joerg Mayer <jmayer at loplof.de>:
>>>>>> As I think that Alexandre has stated his preference (and I can
>>>>>> understand
>>>>>> him taking a long term view), I want to ask the packagers for the
>>>>>> distros
>>>>>> out there: Would it be OK for you to add the necessary patch into the
>>>>>> code that you distribute. Personally, that means Marcus and the
>>>>>> openSUSE
>>>>>> wine packages :-)
>>>>>>
>>>>> While distributions are of course free to do that, keep in mind that
>>>>> that would also make them responsible for supporting that code. I'm
>>>>> not sure how feasible that would be for something so close to core
>>>>> Wine functionality.
>>>>>
>>>>>
>>>> Distributions don't really "support" Wine anyway.  At best we just make a
>>>> new package every now and again.
>>>>
>>> Yes, but the point is that bugs filed against such a package are
>>> potentially invalid. (People should use git for filing bugs, but not
>>> everyone does.)
>>>
>>>
>> We already expect our users to indicate if they've done any manual registry
>> changes when reporting bugs.  This seems like just another instance of that.
> 
> But they usually don't.
> 
> As the Debian package maintainer, I won't bundle the DIB engine until
> it makes it into Wine release sources. I have the same policy for any
> other patch (including my own simple,
> definitely-won't-hurt-anything-but-will-make-things-better patches) to
> assist in keeping bugzilla *and AppDB* "clean". Do we really want the
> users to submit AppDB posts that depend on who packaged the binaries?

This might not be that bad, since the individual test report indicates 
their distribution.  From my own observations of AppDB reports, when 
users do things like winetricks or marking DLLs as native they tend to 
include that in the report (or at least say something like "I used the 
winetricks workarounds from the howto below")

Thanks,
Scott Ritchie


From shacklein at gmail.com  Mon May 11 18:47:22 2009
From: shacklein at gmail.com (Ben Klein)
Date: Tue, 12 May 2009 09:47:22 +1000
Subject: DIB Engine : Almost 100% working
In-Reply-To: <4A08B613.8000609@open-vote.org>
References: <gu51ru$67b$1@ger.gmane.org> <4A06E825.9070808@earthlink.net> 
	<gu6qkc$jm0$1@ger.gmane.org>
	<20090511105628.GI16095@thot.informatik.uni-kl.de> 
	<d658b69e0905110420s5d0d5d88t4c9e6e139570dcd@mail.gmail.com> 
	<4A089244.3000203@open-vote.org>
	<d658b69e0905111417p1ca648a3o785db9ea4dc95e49@mail.gmail.com> 
	<4A089A2B.1040401@open-vote.org>
	<d7e40be30905111614y226febb7o9db56c0e1cad8540@mail.gmail.com> 
	<4A08B613.8000609@open-vote.org>
Message-ID: <d7e40be30905111647t27dbdd6apa9fa4b9d7064d8ab@mail.gmail.com>

2009/5/12 Scott Ritchie <scott at open-vote.org>:
> Ben Klein wrote:
>>
>> 2009/5/12 Scott Ritchie <scott at open-vote.org>:
>>>
>>> Henri Verbeet wrote:
>>>>
>>>> 2009/5/11 Scott Ritchie <scott at open-vote.org>:
>>>>>
>>>>> Henri Verbeet wrote:
>>>>>>
>>>>>> 2009/5/11 Joerg Mayer <jmayer at loplof.de>:
>>>>>>>
>>>>>>> As I think that Alexandre has stated his preference (and I can
>>>>>>> understand
>>>>>>> him taking a long term view), I want to ask the packagers for the
>>>>>>> distros
>>>>>>> out there: Would it be OK for you to add the necessary patch into the
>>>>>>> code that you distribute. Personally, that means Marcus and the
>>>>>>> openSUSE
>>>>>>> wine packages :-)
>>>>>>>
>>>>>> While distributions are of course free to do that, keep in mind that
>>>>>> that would also make them responsible for supporting that code. I'm
>>>>>> not sure how feasible that would be for something so close to core
>>>>>> Wine functionality.
>>>>>>
>>>>>>
>>>>> Distributions don't really "support" Wine anyway. ?At best we just make
>>>>> a
>>>>> new package every now and again.
>>>>>
>>>> Yes, but the point is that bugs filed against such a package are
>>>> potentially invalid. (People should use git for filing bugs, but not
>>>> everyone does.)
>>>>
>>>>
>>> We already expect our users to indicate if they've done any manual
>>> registry
>>> changes when reporting bugs. ?This seems like just another instance of
>>> that.
>>
>> But they usually don't.
>>
>> As the Debian package maintainer, I won't bundle the DIB engine until
>> it makes it into Wine release sources. I have the same policy for any
>> other patch (including my own simple,
>> definitely-won't-hurt-anything-but-will-make-things-better patches) to
>> assist in keeping bugzilla *and AppDB* "clean". Do we really want the
>> users to submit AppDB posts that depend on who packaged the binaries?
>
> This might not be that bad, since the individual test report indicates their
> distribution.

Won't work so well for Debian where there are separate,
Debian-supported packages (with recent versions if you grab them from
experimental).

>?From my own observations of AppDB reports, when users do
> things like winetricks or marking DLLs as native they tend to include that
> in the report (or at least say something like "I used the winetricks
> workarounds from the howto below")

If we're lucky, yes :P However, some users may get confused if there's
an option in the registry that works for some but not others. To
eliminate confusion, we will need consensus from all packagers, and
possibly some distributions that have packages separate from what's on
the download page on WineHQ.

At least, to *minimise* confusion, the packagers on WineHQ will need
consensus. However, I suspect that AJ will object to the DIB engine
going in to all packages provided by WineHQ, as this implies official
support for a patchset that has been rejected upstream.


From msclrhd at googlemail.com  Tue May 12 03:42:45 2009
From: msclrhd at googlemail.com (Reece Dunn)
Date: Tue, 12 May 2009 09:42:45 +0100
Subject: [shell32] Improve the Dutch 'about' message box
In-Reply-To: <4A09344E.9090603@gmail.com>
References: <4A09344E.9090603@gmail.com>
Message-ID: <3f4fd2640905120142u777bd5f1i8050f2a4abb71c2a@mail.gmail.com>

2009/5/12 Paul Vriens <paul.vriens.wine at gmail.com>:
> Hi,
>
> Changed the sizes of the buttons and window to be the same as in
> English. This make sure the 'Wine license' button can be fully read in
> Dutch.
>
> - DEFPUSHBUTTON "OK", IDOK, 153, 133, 50, 12, WS_TABSTOP
> + DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP

According to Windows guidelines, command buttons
(http://msdn.microsoft.com/en-us/library/aa511453.aspx) should be 50 x
14 DLUs (they can be wider than 50 DLUs, but only if the text is
bigger than that, which it shouldn't for OK buttons) and have a 4 DLU
spacing between other controls. This is so they look good in the
presence of themes.

- Reece


From paul.vriens.wine at gmail.com  Tue May 12 04:05:10 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Tue, 12 May 2009 11:05:10 +0200
Subject: [shell32] Improve the Dutch 'about' message box
In-Reply-To: <3f4fd2640905120142u777bd5f1i8050f2a4abb71c2a@mail.gmail.com>
References: <4A09344E.9090603@gmail.com>
	<3f4fd2640905120142u777bd5f1i8050f2a4abb71c2a@mail.gmail.com>
Message-ID: <4A093BC6.8090801@gmail.com>

Reece Dunn wrote:
> 2009/5/12 Paul Vriens <paul.vriens.wine at gmail.com>:
>> Hi,
>>
>> Changed the sizes of the buttons and window to be the same as in
>> English. This make sure the 'Wine license' button can be fully read in
>> Dutch.
>>
>> - DEFPUSHBUTTON "OK", IDOK, 153, 133, 50, 12, WS_TABSTOP
>> + DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
> 
> According to Windows guidelines, command buttons
> (http://msdn.microsoft.com/en-us/library/aa511453.aspx) should be 50 x
> 14 DLUs (they can be wider than 50 DLUs, but only if the text is
> bigger than that, which it shouldn't for OK buttons) and have a 4 DLU
> spacing between other controls. This is so they look good in the
> presence of themes.
> 
> - Reece
Maybe, but doing a simple grep shows:

shell32_Bg.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
shell32_Cs.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
shell32_Da.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
shell32_De.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 50, 12, WS_TABSTOP
shell32_En.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
shell32_Fi.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
shell32_Fr.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 70, 12, WS_TABSTOP
shell32_Hu.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
shell32_It.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
shell32_Ja.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
shell32_Nl.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
shell32_No.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
shell32_Pl.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
shell32_Pt.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
shell32_Pt.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
shell32_Ro.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
shell32_Ru.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
shell32_Sk.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
shell32_Sv.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
shell32_Uk.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP

The size of these OK buttons is probably aligned with the other button 
in that window.

-- 
Cheers,

Paul.


From paul.vriens.wine at gmail.com  Tue May 12 04:15:57 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Tue, 12 May 2009 11:15:57 +0200
Subject: [shell32] Improve the Dutch 'about' message box
In-Reply-To: <4A093BC6.8090801@gmail.com>
References: <4A09344E.9090603@gmail.com>
	<3f4fd2640905120142u777bd5f1i8050f2a4abb71c2a@mail.gmail.com>
	<4A093BC6.8090801@gmail.com>
Message-ID: <4A093E4D.9080402@gmail.com>

Paul Vriens wrote:
> Reece Dunn wrote:
>> 2009/5/12 Paul Vriens <paul.vriens.wine at gmail.com>:
>>> Hi,
>>>
>>> Changed the sizes of the buttons and window to be the same as in
>>> English. This make sure the 'Wine license' button can be fully read in
>>> Dutch.
>>>
>>> - DEFPUSHBUTTON "OK", IDOK, 153, 133, 50, 12, WS_TABSTOP
>>> + DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
>>
>> According to Windows guidelines, command buttons
>> (http://msdn.microsoft.com/en-us/library/aa511453.aspx) should be 50 x
>> 14 DLUs (they can be wider than 50 DLUs, but only if the text is
>> bigger than that, which it shouldn't for OK buttons) and have a 4 DLU
>> spacing between other controls. This is so they look good in the
>> presence of themes.
>>
>> - Reece
> Maybe, but doing a simple grep shows:
> 
> shell32_Bg.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
> shell32_Cs.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
> shell32_Da.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
> shell32_De.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 50, 12, WS_TABSTOP
> shell32_En.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
> shell32_Fi.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
> shell32_Fr.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 70, 12, WS_TABSTOP
> shell32_Hu.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
> shell32_It.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
> shell32_Ja.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
> shell32_Nl.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
> shell32_No.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
> shell32_Pl.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
> shell32_Pt.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
> shell32_Pt.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
> shell32_Ro.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
> shell32_Ru.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
> shell32_Sk.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
> shell32_Sv.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
> shell32_Uk.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
> 
> The size of these OK buttons is probably aligned with the other button 
> in that window.
> 
I'm not against changing the size of that OK button to 50x14 but was 
merely pointing out that this means most of this stuff is not correct.

FWIW I was just looking at Outlook 2003 and the OK button on the about 
window is the same wide as the other buttons (not 50). The page you 
reference doesn't say anything about adjusting sizes of buttons when 
multiple (horizontally or vertically) can be found on one page (or at 
least I didn't see it).

-- 
Cheers,

Paul.


From msclrhd at googlemail.com  Tue May 12 04:56:28 2009
From: msclrhd at googlemail.com (Reece Dunn)
Date: Tue, 12 May 2009 10:56:28 +0100
Subject: [shell32] Improve the Dutch 'about' message box
In-Reply-To: <4A093E4D.9080402@gmail.com>
References: <4A09344E.9090603@gmail.com>
	<3f4fd2640905120142u777bd5f1i8050f2a4abb71c2a@mail.gmail.com>
	<4A093BC6.8090801@gmail.com> <4A093E4D.9080402@gmail.com>
Message-ID: <3f4fd2640905120256y72cf9843j32d8941ceca96db3@mail.gmail.com>

Paul Vriens wrote:
> Paul Vriens wrote:
>>
>> Reece Dunn wrote:
>>>
>>> According to Windows guidelines, command buttons
>>> (http://msdn.microsoft.com/en-us/library/aa511453.aspx) should be 50 x
>>> 14 DLUs (they can be wider than 50 DLUs, but only if the text is
>>> bigger than that, which it shouldn't for OK buttons) and have a 4 DLU
>>> spacing between other controls. This is so they look good in the
>>> presence of themes.
>>>
>>> - Reece
>>
>> Maybe, but doing a simple grep shows:
>>
>> shell32_Bg.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
>> shell32_Cs.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
>> shell32_Da.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
>> shell32_De.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 50, 12, WS_TABSTOP
>> shell32_En.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
>> shell32_Fi.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
>> shell32_Fr.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 70, 12, WS_TABSTOP
>> shell32_Hu.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
>> shell32_It.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
>> shell32_Ja.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
>> shell32_Nl.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
>> shell32_No.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
>> shell32_Pl.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
>> shell32_Pt.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
>> shell32_Pt.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
>> shell32_Ro.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
>> shell32_Ru.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
>> shell32_Sk.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
>> shell32_Sv.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
>> shell32_Uk.rc: DEFPUSHBUTTON "OK", IDOK, 153, 133, 60, 12, WS_TABSTOP
>>
>> The size of these OK buttons is probably aligned with the other button in
>> that window.

Sure. There are a lot of places (not just in what you are fixing) that
are incorrect.

I would like to go through and fix all the layout issues so that the
dialogs look nice and are consistent across all the different
languages. However, this is a *huge* job.

What I would like to do is get an automated (or semi-automated) tool,
ideally with a GUI interface to it. That would ultimately put the
designer in charge. Hopefully, this would also mean that you have a
base resource file that produces the English resources and generate
the others using the standard po files - thus making it easier to
translate.

I'm not sure how far the project should go. And, realistically, at
least the core - a command line source+po <==> resource file mapping -
should be in Wine as it will need to generate the resource files at
runtime (unless a dependency is created on that project)..

> I'm not against changing the size of that OK button to 50x14 but was merely
> pointing out that this means most of this stuff is not correct.

Sure -- see my comments above.

> FWIW I was just looking at Outlook 2003 and the OK button on the about
> window is the same wide as the other buttons (not 50). The page you
> reference doesn't say anything about adjusting sizes of buttons when
> multiple (horizontally or vertically) can be found on one page (or at least
> I didn't see it).

I'm not sure, either. However, I think that consistency is important.

- Reece


From hpestilence at gmail.com  Tue May 12 00:36:01 2009
From: hpestilence at gmail.com (Robert Key)
Date: Tue, 12 May 2009 01:36:01 -0400
Subject: wined3d: Fix ATI dx10 cards max varying quirk
Message-ID: <200905120136.01402.hpestilence@gmail.com>

I fiddled around with the test and I was able to use varying vec4 
var_in[13] as a max in one array. 14 - 16 resulted in a segmentation 
fault and 17 resulted in glLinK failure error.

I was able to create a second array of varying vec4 testa[3] though 
and it compiled successfully resulting in 64 varyings. I'll attach what I 
did.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: varying.c
Type: text/x-csrc
Size: 3669 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090512/618c7a4c/attachment.c>

From galberte at neo.rr.com  Tue May 12 09:47:21 2009
From: galberte at neo.rr.com (Guy Albertelli)
Date: Tue, 12 May 2009 10:47:21 -0400
Subject: [2/2] kernel32: Fix GetVolumeNameForVolumeMountPointW to match
	Mountmgr
In-Reply-To: <4A05A6B4.2060806@kievinfo.com>
References: <1241841430.15659.7.camel@localhost.localdomain>
	<4A05A6B4.2060806@kievinfo.com>
Message-ID: <1242139641.5462.2.camel@localhost.localdomain>

On Sat, 2009-05-09 at 09:52 -0600, Vitaliy Margolen wrote:
> Few nitpicks about your patch.
> 
> Guy Albertelli wrote:
> 
> > +            /* is there space in the return variable ?? */
> > +            if ((o1->SymbolicLinkNameLength/sizeof(WCHAR))+2 > size)
> > +            {
> > +                SetLastError( ERROR_INVALID_PARAMETER );
> > +                goto err_ret;
> > +            }
> This doesn't look right. There are several other error codes that more
> appropriate. You should expand your tests to check what native returns here.
> Also are you sure that "size" is in chars not bytes?

You are right, should be ERROR_FILENAME_EXCED_RANGE - at least on XP.

Will cleanup rest and resubmit with additional tests

Thanks Guy



From celticht32 at yahoo.com  Tue May 12 10:54:34 2009
From: celticht32 at yahoo.com (chris ahrendt)
Date: Tue, 12 May 2009 08:54:34 -0700 (PDT)
Subject: Question on writing a testcase..
Message-ID: <338613.8625.qm@web32403.mail.mud.yahoo.com>


I have two test cases for the file.c test in kernel32 to show two 
problems I have found and reported as bugs that wine should be able to 
handle.

first problem :

I/O warning : failed to load external entity 
"file:///C%3A/Program%20Files/Sony/Station/LaunchPad/PatchCache2.xml"

Wine does not seem to be parsing this correctly while the various 
windows platforms do correctly.
So I would like to put a test for this in the test case.

Second file issue I found that needs a test case :

I/O warning : failed to load external entity "EQ/updatestatus.xml"

It seems wine is expecting a fully qualified path in this case where as 
windows uses the application running directory and then looks there...
I am not even sure where this is looking in wine.  I would guess at the 
root level from the z: mapping if I had to venture a guess instead of 
the current running directory.

Would I just write the two subroutines and then submit them to wine-patch?

Chris






      


From paul.vriens.wine at gmail.com  Tue May 12 11:02:49 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Tue, 12 May 2009 18:02:49 +0200
Subject: Question on writing a testcase..
In-Reply-To: <338613.8625.qm@web32403.mail.mud.yahoo.com>
References: <338613.8625.qm@web32403.mail.mud.yahoo.com>
Message-ID: <4A099DA9.80703@gmail.com>

chris ahrendt wrote:
> I have two test cases for the file.c test in kernel32 to show two 
> problems I have found and reported as bugs that wine should be able to 
> handle.
> 
> first problem :
> 
> I/O warning : failed to load external entity 
> "file:///C%3A/Program%20Files/Sony/Station/LaunchPad/PatchCache2.xml"
> 
> Wine does not seem to be parsing this correctly while the various 
> windows platforms do correctly.
> So I would like to put a test for this in the test case.
> 
> Second file issue I found that needs a test case :
> 
> I/O warning : failed to load external entity "EQ/updatestatus.xml"
> 
> It seems wine is expecting a fully qualified path in this case where as 
> windows uses the application running directory and then looks there...
> I am not even sure where this is looking in wine.  I would guess at the 
> root level from the z: mapping if I had to venture a guess instead of 
> the current running directory.
> 
> Would I just write the two subroutines and then submit them to wine-patch?
> 
> Chris
> 
> 
What function(s) are the tests for? Did you already write some testcases 
and run them on Windows?

-- 
Cheers,

Paul.


From celticht32 at yahoo.com  Tue May 12 12:12:42 2009
From: celticht32 at yahoo.com (chris ahrendt)
Date: Tue, 12 May 2009 10:12:42 -0700 (PDT)
Subject: Question on writing a testcase..
Message-ID: <583642.12117.qm@web32401.mail.mud.yahoo.com>


Paul Vriens wrote:
> chris ahrendt wrote:
>> I have two test cases for the file.c test in kernel32 to show two 
>> problems I have found and reported as bugs that wine should be able 
>> to handle.
>>
>> first problem :
>>
>> I/O warning : failed to load external entity 
>> "file:///C%3A/Program%20Files/Sony/Station/LaunchPad/PatchCache2.xml"
>>
>> Wine does not seem to be parsing this correctly while the various 
>> windows platforms do correctly.
>> So I would like to put a test for this in the test case.
>>
>> Second file issue I found that needs a test case :
>>
>> I/O warning : failed to load external entity "EQ/updatestatus.xml"
>>
>> It seems wine is expecting a fully qualified path in this case where 
>> as windows uses the application running directory and then looks 
>> there...
>> I am not even sure where this is looking in wine.  I would guess at 
>> the root level from the z: mapping if I had to venture a guess 
>> instead of the current running directory.
>>
>> Would I just write the two subroutines and then submit them to 
>> wine-patch?
>>
>> Chris
>>
>>
> What function(s) are the tests for? Did you already write some 
> testcases and run them on Windows?
>
> -- Cheers,
>
> Paul.
>
>
They are for the open file api let me find the exact API.. filehandle = 
_lopen( filename, OF_READ ); in the dlls/kernel32/tests/file.c
I also would write the test for _lcreate and the other couple of API's 
that return a file handle.  And I am using an application on
windows already that does the open in this manner... but could hack 
something out really quick.

Chris






      


From hverbeet at gmail.com  Tue May 12 14:17:10 2009
From: hverbeet at gmail.com (Henri Verbeet)
Date: Tue, 12 May 2009 21:17:10 +0200
Subject: [1/3] WineD3D: Separate Tx tempregs from Tx varyings in ARB
In-Reply-To: <200905122029.46045.stefan@codeweavers.com>
References: <200905122029.46045.stefan@codeweavers.com>
Message-ID: <d658b69e0905121217k32f9965esb348819e2e8af92@mail.gmail.com>

2009/5/12 Stefan D?singer <stefan at codeweavers.com>:
> ps_1_3 uses Tx to pass in texture coordinates, but also as temporary
> registers. ps_1_4 and ps_2_0 only use them for texture coordinates. This patch
> gets rid of the Tx = fragment.texcoord[x] assign in all shader versions, and
> doesn't even declare Tx in ps_1_4 and ps_2_0.
>
> The <=ps_1_3 instructions know which kind of input they expect from the Tx
> register, so the instruction handlers now know if they have to read the
> tempreg Tx or the varying fragment.texcoord[x]
I'm probably missing something obvious, but with pre-1.4 texcoord
registers being read-write, what happens when you write to the
register before using it to sample a texture?

> I've put it in the backend and not the frontend because a hypothetical nvts
> shader backend would be confused by this.
>
Completely off-topic of course, but isn't it somewhat questionable to
anthropomorphize source code?


From stefandoesinger at gmx.at  Tue May 12 15:37:45 2009
From: stefandoesinger at gmx.at (Stefan =?iso-8859-1?q?D=F6singer?=)
Date: Tue, 12 May 2009 22:37:45 +0200
Subject: wined3d: Fix ATI dx10 cards max varying quirk
In-Reply-To: <200905120136.01402.hpestilence@gmail.com>
References: <200905120136.01402.hpestilence@gmail.com>
Message-ID: <200905122237.45991.stefandoesinger@gmx.at>

Am Dienstag, 12. Mai 2009 07:36:01 schrieb Robert Key:
> I fiddled around with the test and I was able to use varying vec4
> var_in[13] as a max in one array. 14 - 16 resulted in a segmentation
> fault and 17 resulted in glLinK failure error.
>
> I was able to create a second array of varying vec4 testa[3] though
> and it compiled successfully resulting in 64 varyings. I'll attach what I
> did.
Good catch!

Now it sounds like a genuine bug in the driver to me, one that should probably 
be fixed in the driver, not worked around by us. Can you file a bug in ATIs 
(unofficial) Bugzilla at http://ati.cchtml.com/, attaching the test 
program(and probably one that crashes the driver) and describing the issue? 
I'll then make Matthew Tippet aware of it if no ATI guy replies on their own.

Given the circumstances, I'd say to leave the bug without Wine workaround for 
now. If we limit the varyings to 54 or 52 it would be incorrect. If Wine 
keeps crashing, this will put more pressure on ATI to fix the issue. (The 
best way to get things fixed is to break them)


From stefandoesinger at gmx.at  Tue May 12 16:07:51 2009
From: stefandoesinger at gmx.at (Stefan =?utf-8?q?D=C3=B6singer?=)
Date: Tue, 12 May 2009 23:07:51 +0200
Subject: [1/3] WineD3D: Separate Tx tempregs from Tx varyings in ARB
In-Reply-To: <d658b69e0905121217k32f9965esb348819e2e8af92@mail.gmail.com>
References: <200905122029.46045.stefan@codeweavers.com>
	<d658b69e0905121217k32f9965esb348819e2e8af92@mail.gmail.com>
Message-ID: <200905122307.51975.stefandoesinger@gmx.at>

Am Dienstag, 12. Mai 2009 21:17:10 schrieb Henri Verbeet:
> I'm probably missing something obvious, but with pre-1.4 texcoord
> registers being read-write, what happens when you write to the
> register before using it to sample a texture?
Nothing special. However, you can't use it to sample afterwards, because you 
can't use a tex* instruction after a non-tex instruction. Ie:

ps_1_3
tex t0
mov t1, t0
tex t1
mov r0, t0

Z:\dev\shm\shader.txt(4,1): error X5055: Cannot use tex* instruction after 
non-tex* instruction.

With my patch, the mov will write to the temporary register form of t1; 
fragment.texcoord[1] will never be used in a correct shader. Now we don't 
enforce the tex-after-non-tex rule, but if we ever get such a shader 
enforcing this restriction is how to fix problems.

You cannot sample a Tx coord twice either:

ps_1_3
tex t0
tex t1
texbem t1, t0
mov r0, t1

Z:\dev\shm\shader.txt(4,1): error X5053: Tex register t1 already declared.

This even applies to texkill:

ps_1_3
tex t0
tex t1
texkill t1
mov r0, t0

Z:\dev\shm\shader.txt(4,1): error X5053: Tex register t1 already declared.

or

ps_1_3
texkill t0
tex t0
mov r0, t0

Z:\dev\shm\shader.txt(3,1): error X5053: Tex register t0 already declared.

If you want dependent reads in ps_1_3 and earlier, you have to use texreg2rgb:

ps_1_3
tex t0
texreg2rgb t1, t0
mov r0, t1

texreg2rgb knows that it should take the address from the tempreg form of t0, 
not fragment.texcoord[0]. You cannot use texreg2rgb to read from the texture 
coord:

ps_1_3
texreg2rgb t1, t0
mov r0, t1

Z:\dev\shm\shader.txt(2,1): error X5036: Read of uninitialized components(*) 
in t0: *r/0 *g/1 *b/2 *a/3

If you want to do that, you have to use texcrd:

ps_1_3
texcoord t0
texreg2rgb t1, t0
mov r0, t1

in which case texcoord to is a MOV_SAT t0, fragment.texcoord[0];

> > I've put it in the backend and not the frontend because a hypothetical
> > nvts shader backend would be confused by this.
>
> Completely off-topic of course, but isn't it somewhat questionable to
> anthropomorphize source code?
Maybe.

I had to make a decision where to put this register separation code, and I 
decided that this strange t0 register is valuable information on 
hardware/APIs that works the same way(ie, nvts, but not atifs), so 
implementing this register separation throws away information that may be 
important to such a shader implementation.


From hverbeet at gmail.com  Wed May 13 00:26:39 2009
From: hverbeet at gmail.com (Henri Verbeet)
Date: Wed, 13 May 2009 07:26:39 +0200
Subject: [1/3] WineD3D: Separate Tx tempregs from Tx varyings in ARB
In-Reply-To: <200905122307.51975.stefandoesinger@gmx.at>
References: <200905122029.46045.stefan@codeweavers.com>
	<d658b69e0905121217k32f9965esb348819e2e8af92@mail.gmail.com>
	<200905122307.51975.stefandoesinger@gmx.at>
Message-ID: <d658b69e0905122226o2a8a7128mc17a4ea373e0f995@mail.gmail.com>

2009/5/12 Stefan D?singer <stefandoesinger at gmx.at>:
> Am Dienstag, 12. Mai 2009 21:17:10 schrieb Henri Verbeet:
>> I'm probably missing something obvious, but with pre-1.4 texcoord
>> registers being read-write, what happens when you write to the
>> register before using it to sample a texture?
> Nothing special. However, you can't use it to sample afterwards, because you
> can't use a tex* instruction after a non-tex instruction. Ie:
>
Ok.


From julliard at winehq.org  Wed May 13 05:10:35 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Wed, 13 May 2009 12:10:35 +0200
Subject: [1/2] wininet: Implement GetDiskInfoA.
In-Reply-To: <200905131050.59065.hans@codeweavers.com> (Hans Leidekker's
	message of "Wed, 13 May 2009 10:50:58 +0200")
References: <200905131050.59065.hans@codeweavers.com>
Message-ID: <87octxb9es.fsf@wine.dyndns.org>

Hans Leidekker <hans at codeweavers.com> writes:

> +    if ((ret = GetDiskFreeSpaceA(path, &cluster_sectors, &sector_bytes, &free_clusters, &total_clusters)))
> +    {
> +        if (cluster_size) *cluster_size = 1;
> +        if (free) *free = free_clusters * cluster_sectors * sector_bytes;
> +        if (total) *total = total_clusters * cluster_sectors * sector_bytes;
> +    }

You should use GetDiskFreeSpaceExA to avoid trouble on large disks.

-- 
Alexandre Julliard
julliard at winehq.org


From kai.blin at gmail.com  Wed May 13 05:10:42 2009
From: kai.blin at gmail.com (Kai Blin)
Date: Wed, 13 May 2009 12:10:42 +0200
Subject: dplayx: Enclose NS_GetOtherMagic() in #if 0 since it's only used
	from code enclosed in #if 0.
In-Reply-To: <alpine.DEB.2.00.0905131036020.6582@amboise.dolphin>
References: <alpine.DEB.2.00.0905131036020.6582@amboise.dolphin>
Message-ID: <200905131210.49097.kai.blin@gmail.com>

On Wednesday 13 May 2009 10:38:08 Francois Gouget wrote:

Personally I think we should just kill all that unused code and be done with 
it. Currently the only way to get a working dplay implementation is to use 
the native dlls anyway. Our version has been bit-rotting for quite some time.

Cheers,
Kai

>  1) Remove this dead code altogether...


>  2) Replace the #if 0 with an if (0) so that the function is 'used'
>  3) Fix the code so it has neither #if 0 nor if (0) (which might be the
>     same as option 1, I have no idea)
>
>
>  dlls/dplayx/name_server.c |    2 ++
>  1 files changed, 2 insertions(+), 0 deletions(-)
>
> diff --git a/dlls/dplayx/name_server.c b/dlls/dplayx/name_server.c
> index e6a6b62..a503270 100644
> --- a/dlls/dplayx/name_server.c
> +++ b/dlls/dplayx/name_server.c
> @@ -183,6 +183,7 @@ DWORD NS_GetNsMagic( LPVOID lpNSInfo )
>    return lpHdrInfo[1];
>  }
>
> +#if 0
>  /* Get the magic number associated with the non NS end */
>  DWORD NS_GetOtherMagic( LPVOID lpNSInfo )
>  {
> @@ -190,6 +191,7 @@ DWORD NS_GetOtherMagic( LPVOID lpNSInfo )
>
>    return ((LPDWORD)lpCache->lpLocalAddrHdr)[1];
>  }
> +#endif
>
>  void NS_SetLocalAddr( LPVOID lpNSInfo, LPCVOID lpHdr, DWORD dwHdrSize )
>  {



-- 
Kai Blin
WorldForge developer  http://www.worldforge.org/
Wine developer        http://wiki.winehq.org/KaiBlin
Samba team member     http://www.samba.org/samba/team/
--
Will code for cotton.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part.
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090513/412691bc/attachment.pgp>

From gerald at pfeifer.com  Wed May 13 00:31:22 2009
From: gerald at pfeifer.com (Gerald Pfeifer)
Date: Wed, 13 May 2009 07:31:22 +0200 (CEST)
Subject: C_ASSERT portability fixes and simplification [PATCH 1/2]
In-Reply-To: <874ovrdcir.fsf@wine.dyndns.org>
References: <alpine.LSU.1.99.0905101551050.4625@acrux.dbai.tuwien.ac.at>
	<878wl4c4je.fsf@wine.dyndns.org>
	<alpine.LSU.1.99.0905111311250.16855@acrux.dbai.tuwien.ac.at>
	<874ovrdcir.fsf@wine.dyndns.org>
Message-ID: <alpine.LSU.1.99.0905130728140.24313@acrux.dbai.tuwien.ac.at>

On Mon, 11 May 2009, Alexandre Julliard wrote:
> I don't have gcc 4.5 to test this, but you could try using a function
> instead, something like this:
> 
> diff --git a/include/winnt.h b/include/winnt.h
> index abcc502..aaa4112 100644
> --- a/include/winnt.h
> +++ b/include/winnt.h
> @@ -292,7 +292,7 @@ extern "C" {
>  #if defined(_MSC_VER)
>  # define C_ASSERT(e) typedef char __C_ASSERT__[(e)?1:-1]
>  #elif defined(__GNUC__) 
> -# define C_ASSERT(e) extern char __C_ASSERT__[(e)?1:-1] __attribute__((unused))
> +# define C_ASSERT(e) extern void __C_ASSERT__(int [(e)?1:-1])
>  #else
>  # define C_ASSERT(e)
>  #endif

You are a clever man, Sir! :-)

It took me a bit, since incidently the GCC 4.5 development tree was
broken wrt. Wine on Monday (I reported this bug upstream), but a
build with your patch went through both with GCC 4.2.1 and GCC 4.5.0 
(experimental) tonight.

I assume you will commit this now?

Thanks,
Gerald


From paul.vriens.wine at gmail.com  Wed May 13 06:43:46 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Wed, 13 May 2009 13:43:46 +0200
Subject: Fiddling with EnumServicesStatusExW
Message-ID: <4A0AB272.6000009@gmail.com>

(I accidentally only sent this message to Rob only)

Hi,

To get away from the tests stuff I thought I'd resurrect my plans to
implement EnumServiceStatusExW (the A-version is needed by SysInternal's
Process Explorer amongst others).

I have most of the stuff ready:

- Added svcctl_EnumServicesStatusExW to
/wine/wine-git/include/wine/svcctl.idl
- Added svcctl_EnumServicesStatusExW to
/wine/wine-git/programs/services/rpc.c
- Added a enumeration routine to
/wine/wine-git/programs/services/services.c (and .h of course)
- Changed EnumServiceStatusExW in /wine/wine-git/dll/advapi32/service.c
to call svcctl_EnumServicesStatusExW

There is one important thing I can't get my head around.

The call to EnumServicesStatusExW passes a pointer to a BYTE *
lpServices with a length of cBufSize.

lpServices is an array of some ENUM_SERVICE_STATUS_PROCESSW structs. The
first two parameters of these structs are pointers to
WCHAR strings. The strings for all these structs (on Windows) can be
found after all the structs themselves. So imagine that we should have 2
services in our lpServices to be passed back to the initial caller:

0000 [0].lpServiceName -> 0088
0008 [0].lpDisplayName -> 0114
0016 [0].SERVICE_STATUS struct of 7 DWORDS
0044 [1].lpServiceName -> 0140
0052 [1].lpDisplayName -> 0166
0060 [1].SERVICE_STATUS struct of 7 DWORDS
0088 "ServiceName1"
0114 "DisplayName1"
0140 "ServiceName1'
0166 "DisplayName1"

(The above is what EnumServicesStatusExW would pass back to the caller)

The enumeration I have in services.c fills the lpServiceName pointer to
the actual string. Likewise for lpDisplayName. This is all in the RPC
world (where the lpServices address is different to the caller passed
address). When lpServices is passed back to the caller I can see that
the SERVICE_STATUS structs are correct but the pointers to the strings
are pointing to the original ones.

How can I make sure the pointers to the strings are correctly passed
back as well? Should the RPC stuff take care of these pointers and
'translate' them?

We could of course teach EnumServicesStatusExW to change the pointers to
the appropriate ones. We know exactly where there strings are so it
should be fairly trivial to change those pointers. This however seems
like a hack.

Any idea is welcome.

-- 
Cheers,

Paul.




From razielmine at gmail.com  Wed May 13 08:50:08 2009
From: razielmine at gmail.com (=?UTF-8?Q?Ismael_Barros=C2=B2?=)
Date: Wed, 13 May 2009 15:50:08 +0200
Subject: dplayx: Enclose NS_GetOtherMagic() in #if 0 since it's only used 
	from code enclosed in #if 0.
In-Reply-To: <200905131210.49097.kai.blin@gmail.com>
References: <alpine.DEB.2.00.0905131036020.6582@amboise.dolphin>
	<200905131210.49097.kai.blin@gmail.com>
Message-ID: <82e274890905130650s34cbed34x2ff25e24f85b5b1a@mail.gmail.com>

NS_GetOtherMagic is probably safe to remove.

NS_GetNsMagic was only used in some hackish code that tried to reverse
engineer dplay protocol. I removed that code that used it, but don't
know if it'll be needed in a future.


On Wed, May 13, 2009 at 12:10 PM, Kai Blin <kai.blin at gmail.com> wrote:
> On Wednesday 13 May 2009 10:38:08 Francois Gouget wrote:
>
> Personally I think we should just kill all that unused code and be done with
> it. Currently the only way to get a working dplay implementation is to use
> the native dlls anyway. Our version has been bit-rotting for quite some time.
>
> Cheers,
> Kai
>
>> ?1) Remove this dead code altogether...
>
>
>> ?2) Replace the #if 0 with an if (0) so that the function is 'used'
>> ?3) Fix the code so it has neither #if 0 nor if (0) (which might be the
>> ? ? same as option 1, I have no idea)
>>
>>
>> ?dlls/dplayx/name_server.c | ? ?2 ++
>> ?1 files changed, 2 insertions(+), 0 deletions(-)
>>
>> diff --git a/dlls/dplayx/name_server.c b/dlls/dplayx/name_server.c
>> index e6a6b62..a503270 100644
>> --- a/dlls/dplayx/name_server.c
>> +++ b/dlls/dplayx/name_server.c
>> @@ -183,6 +183,7 @@ DWORD NS_GetNsMagic( LPVOID lpNSInfo )
>> ? ?return lpHdrInfo[1];
>> ?}
>>
>> +#if 0
>> ?/* Get the magic number associated with the non NS end */
>> ?DWORD NS_GetOtherMagic( LPVOID lpNSInfo )
>> ?{
>> @@ -190,6 +191,7 @@ DWORD NS_GetOtherMagic( LPVOID lpNSInfo )
>>
>> ? ?return ((LPDWORD)lpCache->lpLocalAddrHdr)[1];
>> ?}
>> +#endif
>>
>> ?void NS_SetLocalAddr( LPVOID lpNSInfo, LPCVOID lpHdr, DWORD dwHdrSize )
>> ?{
>
>
>
> --
> Kai Blin
> WorldForge developer ?http://www.worldforge.org/
> Wine developer ? ? ? ?http://wiki.winehq.org/KaiBlin
> Samba team member ? ? http://www.samba.org/samba/team/
> --
> Will code for cotton.
>
>
>
>


From paul.vriens.wine at gmail.com  Wed May 13 12:29:44 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Wed, 13 May 2009 19:29:44 +0200
Subject: Adding broken() information to the test output
Message-ID: <4A0B0388.8070608@gmail.com>

Hi,

While going over some just committed patches of mine I saw (again) that
we now have some tests that do:

ok(ret || broken(!ret), "call failed")

The good thing is that tests succeed on all Windows versions and will
fail if Wine returns !ret. The bad thing is that changes in the Windows
implementation won't be catched. If MS decides to change the return
value (in current or newer versions) we won't see this.

Is adding broken() information to the test output helpful? So, if a test
succeeds due to the broken() it will put out a message like:

<file.c>:<line> Test marked broken() succeeded: call failed.

I'm only proposing to have this in the output, not visible on
test.winehq.org (for now?).

Thoughts anybody?

-- 
Cheers,

Paul.



From austinenglish at gmail.com  Wed May 13 12:27:42 2009
From: austinenglish at gmail.com (Austin English)
Date: Wed, 13 May 2009 12:27:42 -0500
Subject: SoC 2009 / Application Test Suite Update
Message-ID: <b6bb06270905131027m5c4bd9bbo34723d48e8c39d10@mail.gmail.com>

Howdy all,

I've been working on the test suite. I've got a few basic tests set up
with notepad, and I'm currently working on setting up the framework,
using AutoHotKey to both run all the tests and parse the logs for
failures/passing todo's.

For those interested, here's the first 'real' script I've written. It
sets up a test directory (C:\appinstall), downloads sha1sum.exe (if it
doesn't exist), verifies its own sha1sum, downloads winscp.exe
(portable version), sets up winscp.ini with its settings (I was going
to use keyboard/mouse control, but ftp.winehq.org times out to
quickly, and adjusting that setting with mouse/keyboard would be a lot
more trouble), runs winscp, downloads welcome.msg, closes winscp,
sha1sum's welcome.msg, and finally, deletes welcome.msg and
winscp.ini.

It already found one bug :-):
http://bugs.winehq.org/show_bug.cgi?id=18455. On windows, when
selecting the file to download, winscp pops up a dialog to allow you
to put in an alternate path to save the file. On windows, it's already
selected, so one can simply type a different path. On Wine, it's not
selected, breaking the script. It's an easy work around (sending
{HOME}, followed by {SHIFT}{END}), it's interesting that the script
allows us to find such subtle bugs.

Back to work...
-- 
-Austin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: winscp.ahk
Type: application/octet-stream
Size: 4621 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090513/933e647e/attachment.obj>

From truiken at gmail.com  Wed May 13 13:01:35 2009
From: truiken at gmail.com (James Hawkins)
Date: Wed, 13 May 2009 11:01:35 -0700
Subject: SoC 2009 / Application Test Suite Update
In-Reply-To: <b6bb06270905131027m5c4bd9bbo34723d48e8c39d10@mail.gmail.com>
References: <b6bb06270905131027m5c4bd9bbo34723d48e8c39d10@mail.gmail.com>
Message-ID: <22821af30905131101q1dbb6668y476ff9979dd523f4@mail.gmail.com>

On Wed, May 13, 2009 at 10:27 AM, Austin English
<austinenglish at gmail.com> wrote:
> Howdy all,
>
> I've been working on the test suite. I've got a few basic tests set up
> with notepad, and I'm currently working on setting up the framework,
> using AutoHotKey to both run all the tests and parse the logs for
> failures/passing todo's.
>
> For those interested, here's the first 'real' script I've written. It
> sets up a test directory (C:\appinstall), downloads sha1sum.exe (if it
> doesn't exist), verifies its own sha1sum, downloads winscp.exe
> (portable version), sets up winscp.ini with its settings (I was going
> to use keyboard/mouse control, but ftp.winehq.org times out to
> quickly, and adjusting that setting with mouse/keyboard would be a lot
> more trouble), runs winscp, downloads welcome.msg, closes winscp,
> sha1sum's welcome.msg, and finally, deletes welcome.msg and
> winscp.ini.
>

This should probably be done in a temporary directory instead of
hard-coded to C:\appinstall.

> It already found one bug :-):
> http://bugs.winehq.org/show_bug.cgi?id=18455. On windows, when
> selecting the file to download, winscp pops up a dialog to allow you
> to put in an alternate path to save the file. On windows, it's already
> selected, so one can simply type a different path. On Wine, it's not
> selected, breaking the script. It's an easy work around (sending
> {HOME}, followed by {SHIFT}{END}), it's interesting that the script
> allows us to find such subtle bugs.
>

Good catch!  Hopefully the scripts will find many more bugs like this,
as well as keep Wine from regressing.

-- 
James Hawkins


From austinenglish at gmail.com  Wed May 13 13:15:08 2009
From: austinenglish at gmail.com (Austin English)
Date: Wed, 13 May 2009 13:15:08 -0500
Subject: SoC 2009 / Application Test Suite Update
In-Reply-To: <22821af30905131101q1dbb6668y476ff9979dd523f4@mail.gmail.com>
References: <b6bb06270905131027m5c4bd9bbo34723d48e8c39d10@mail.gmail.com>
	<22821af30905131101q1dbb6668y476ff9979dd523f4@mail.gmail.com>
Message-ID: <b6bb06270905131115s63f27107m1e19e6607912189e@mail.gmail.com>

On Wed, May 13, 2009 at 1:01 PM, James Hawkins <truiken at gmail.com> wrote:
> On Wed, May 13, 2009 at 10:27 AM, Austin English
> <austinenglish at gmail.com> wrote:
>> Howdy all,
>>
>> I've been working on the test suite. I've got a few basic tests set up
>> with notepad, and I'm currently working on setting up the framework,
>> using AutoHotKey to both run all the tests and parse the logs for
>> failures/passing todo's.
>>
>> For those interested, here's the first 'real' script I've written. It
>> sets up a test directory (C:\appinstall), downloads sha1sum.exe (if it
>> doesn't exist), verifies its own sha1sum, downloads winscp.exe
>> (portable version), sets up winscp.ini with its settings (I was going
>> to use keyboard/mouse control, but ftp.winehq.org times out to
>> quickly, and adjusting that setting with mouse/keyboard would be a lot
>> more trouble), runs winscp, downloads welcome.msg, closes winscp,
>> sha1sum's welcome.msg, and finally, deletes welcome.msg and
>> winscp.ini.
>>
>
> This should probably be done in a temporary directory instead of
> hard-coded to C:\appinstall.

Of course. I'm working on changing any temporary stuff to %TEMP%\appinstall.

The reason for C:\appinstall (more accurately, %SYSTEMDIR%, so it will
work on Windows installs without a C:\ drive) is to cache downloads.
That way sha1sum.exe, wget.exe, etc. don't have to be downloaded
repeatedly (they are still sha1sum'ed before use). I'm thinking a bit
ahead, that way we can test, e.g., Photoshop CS 3, which has a
download available, but not one that is scriptable. That way, if
someone running the script already has CS 3 in place, the test is run.
Else, it will get skipped, saying 'photoshop isn't available, download
manually and place in C:\appinstall if you want to test it'.

-- 
-Austin


From javatroubadour at yahoo.com  Wed May 13 14:15:59 2009
From: javatroubadour at yahoo.com (Daniel Santos)
Date: Wed, 13 May 2009 12:15:59 -0700 (PDT)
Subject: Dynamically adding debug channels (__wine_dbg_set_channel_flags)
Message-ID: <298572.87441.qm@web45905.mail.sp1.yahoo.com>

Steven, sorry for the slow response, I got tied up in some other stuff.? But now back to fun. =)? And thanks for your response!

The application is Lord of the Rings Online.? They don't use normal version numbers, so this bug actually started with "Book 14".? In Book 14, the problem would manifest as a crash.? The current version is "Mines of Moria" and now I will get either a crash (segfault) or a hang, but the result is a hang 6 times out of 7 (or so).

However, I've run into a more serious problem that I have yet to resolve, and I'll post it in a new thread.? This problem is related to what is considered acceptable behavior and what is not and what is considered "reverse engineering".? I mentioned that I had the program in winedbg and was examining the threads when I was informed that I was reverse engineering and any patch I came up with doing this would not be accepted.? I found this rather confounding to say the least!!

Anyway, the hang or crash may occur immediately (under 50 milliseconds) after switching to the LOTRO window or it may only occur after I start moving around.? It will always occur within 10 or 20 seconds of having switched to the window, usually within 4 or 5.? So if I start playing after swithcing to the window and I make it 30 seconds, I'm confident that it wont crash that time.

If you want to install this app, I have recently written up a pretty install script to do some enviroment setup and posted it on the appdb here:

http://appdb.winehq.org/objectManager.php?sClass=version&iId=14566

You can even create a trial account for testing.? Unfortunately, it's a 7GB download.? One of my shortcomings in troubleshooting this is that I've never done directx or direct3d, so I don't understand all of the implications of these window events from that perspective (or direct input).? I'm going to play more with this today as well.

Daniel

--- On Sat, 5/9/09, Steven Edwards <winehacker at gmail.com> wrote:

From: Steven Edwards <winehacker at gmail.com>
Subject: Re: Dynamically adding debug channels (__wine_dbg_set_channel_flags)
To: daniel.santos at pobox.com
Date: Saturday, May 9, 2009, 3:16 PM

On Sat, May 9, 2009 at 3:44 PM, Daniel Santos <javatroubadour at yahoo.com> wrote:
> Additionally, as far as I can tell, there is no mechanism to change it for
> all channels.? This is actually what I need to do since I do not know where
> the specific problem is that I'm troubleshooting and I don't even know for
> certain that it isn't a bug in the 3rd party software.? What I do know is
> that it does not occur on windows and I suspect it's a case of the 3rd party
> app entering "undefined results" territory and that on windows, this result
> is consistent and does not cause a problem.
>
> When I attempt to run the app with WINEDEBUG=+all, it appears to enter some
> type of deadlock state before I can even get to the point where the bug
> normally happens.? This hang is probably due to poor timing management in
> the app and may indeed be another expression of the same core problem.
>
> Speaking of the wine task manager, where is that? (or which executable is
> it)?

Its taskmgr in the source tree as wine/programs/taskmgr.

You might try doing something like +relay,+seh,+tid for your channels
to isolate the problem down. I might be able to help you isolate the
problem but I doubt I can fix it for you even if we are able to find
it but that's at least a start. What software are you trying to get to
work? Can you describe the exact nature of the problem? Sorry I must
confess I've not been following the thread very closely.

-- 
Steven Edwards

"There is one thing stronger than all the armies in the world, and
that is an idea whose time has come." - Victor Hugo



      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090513/c7e5b888/attachment-0001.htm>

From javatroubadour at yahoo.com  Wed May 13 14:20:26 2009
From: javatroubadour at yahoo.com (Daniel Santos)
Date: Wed, 13 May 2009 12:20:26 -0700 (PDT)
Subject: Wine policy question: What is considered "reverse engineering"/what
	is acceptable?
Message-ID: <207554.73027.qm@web45916.mail.sp1.yahoo.com>

I was recently attempting to isolate the cause of a hang in Lord of the Rings Online and had it in a debugger.? I mentioned this on IRC and was told that I was "reverse engineering" and any patch I came up with would not be accepted.? I find this rather confusing and would like to better understand the "dos and don'ts" of wine development.? Is this documented anywhere?

If it matters any, the license agreement says that you may not reverse engineering it including "decompiling or disassembling" but it does not specifically mention using a debugger (although viewing disassembly from the debugger would obviously be covered).? My aim was only to attempt to determine which thread(s) were hanging so I could isolate my logging to those thread(s) and try to figure out what was going wrong.

Thanks,
Daniel



      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090513/6cbcd56c/attachment.htm>

From adys.wh at gmail.com  Wed May 13 15:02:38 2009
From: adys.wh at gmail.com (Jerome Leclanche)
Date: Wed, 13 May 2009 23:02:38 +0300
Subject: Wine policy question: What is considered "reverse 
	engineering"/what is acceptable?
In-Reply-To: <207554.73027.qm@web45916.mail.sp1.yahoo.com>
References: <207554.73027.qm@web45916.mail.sp1.yahoo.com>
Message-ID: <41eceb530905131302h3e759f5dr1b059a699fb7e698@mail.gmail.com>

I thought reverse engineering was only relevant to MS code? As in
reverse engineering of windows dlls and so on; another application
would be irrelevant.

That's what I understood from it anyway.

J.

On Wed, May 13, 2009 at 10:20 PM, Daniel Santos
<javatroubadour at yahoo.com> wrote:
> I was recently attempting to isolate the cause of a hang in Lord of the
> Rings Online and had it in a debugger.? I mentioned this on IRC and was told
> that I was "reverse engineering" and any patch I came up with would not be
> accepted.? I find this rather confusing and would like to better understand
> the "dos and don'ts" of wine development.? Is this documented anywhere?
>
> If it matters any, the license agreement says that you may not reverse
> engineering it including "decompiling or disassembling" but it does not
> specifically mention using a debugger (although viewing disassembly from the
> debugger would obviously be covered).? My aim was only to attempt to
> determine which thread(s) were hanging so I could isolate my logging to
> those thread(s) and try to figure out what was going wrong.
>
> Thanks,
> Daniel
>
>
>
>
>



-- 
Adys


From thunderbird2k at gmail.com  Wed May 13 15:05:28 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Wed, 13 May 2009 22:05:28 +0200
Subject: Dynamically adding debug channels (__wine_dbg_set_channel_flags)
In-Reply-To: <298572.87441.qm@web45905.mail.sp1.yahoo.com>
References: <298572.87441.qm@web45905.mail.sp1.yahoo.com>
Message-ID: <c8485d470905131305i5a4686f1oe297410c91a8bf10@mail.gmail.com>

On Wed, May 13, 2009 at 9:15 PM, Daniel Santos <javatroubadour at yahoo.com> wrote:
> Steven, sorry for the slow response, I got tied up in some other stuff.? But
> now back to fun. =)? And thanks for your response!
>
> The application is Lord of the Rings Online.? They don't use normal version
> numbers, so this bug actually started with "Book 14".? In Book 14, the
> problem would manifest as a crash.? The current version is "Mines of Moria"
> and now I will get either a crash (segfault) or a hang, but the result is a
> hang 6 times out of 7 (or so).
>
> However, I've run into a more serious problem that I have yet to resolve,
> and I'll post it in a new thread.? This problem is related to what is
> considered acceptable behavior and what is not and what is considered
> "reverse engineering".? I mentioned that I had the program in winedbg and
> was examining the threads when I was informed that I was reverse engineering
> and any patch I came up with doing this would not be accepted.? I found this
> rather confounding to say the least!!
>
> Anyway, the hang or crash may occur immediately (under 50 milliseconds)
> after switching to the LOTRO window or it may only occur after I start
> moving around.? It will always occur within 10 or 20 seconds of having
> switched to the window, usually within 4 or 5.? So if I start playing after
> swithcing to the window and I make it 30 seconds, I'm confident that it wont
> crash that time.
>
> If you want to install this app, I have recently written up a pretty install
> script to do some enviroment setup and posted it on the appdb here:
>
> http://appdb.winehq.org/objectManager.php?sClass=version&iId=14566
>
> You can even create a trial account for testing.? Unfortunately, it's a 7GB
> download.? One of my shortcomings in troubleshooting this is that I've never
> done directx or direct3d, so I don't understand all of the implications of
> these window events from that perspective (or direct input).? I'm going to
> play more with this today as well.
>
> Daniel
>
> --- On Sat, 5/9/09, Steven Edwards <winehacker at gmail.com> wrote:
>
> From: Steven Edwards <winehacker at gmail.com>
> Subject: Re: Dynamically adding debug channels
> (__wine_dbg_set_channel_flags)
> To: daniel.santos at pobox.com
> Date: Saturday, May 9, 2009, 3:16 PM
>
> On Sat, May 9, 2009 at 3:44 PM, Daniel Santos <javatroubadour at yahoo.com>
> wrote:
>> Additionally, as far as I can tell, there is no mechanism to change it for
>> all channels.? This is actually what I need to do since I do not know
>> where
>> the specific problem is that I'm troubleshooting and I don't even know for
>> certain that it isn't a bug in the 3rd party software.? What I do know is
>> that it does not occur on windows and I suspect it's a case of the 3rd
>> party
>> app entering "undefined results" territory and that on windows, this
>> result
>> is consistent and does not cause a problem.
>>
>> When I attempt to run the app with WINEDEBUG=+all, it appears to enter
>> some
>> type of deadlock state before I can even get to the point where the bug
>> normally happens.? This hang is probably due to poor timing management in
>> the app and may indeed be another expression of the same core problem.
>>
>> Speaking of the wine task manager, where is that? (or which executable is
>> it)?
>
> Its taskmgr in the source tree as wine/programs/taskmgr.
>
> You might try doing something like +relay,+seh,+tid for your channels
> to isolate the problem down. I might be able to help you isolate the
> problem but I doubt I can fix it for you even if we are able to find
> it but that's at least a start. What software are you trying to get to
> work? Can you describe the exact nature of the problem? Sorry I must
> confess I've not been following the thread very closely.
>
> --
> Steven Edwards
>
> "There is one thing stronger than all the armies in the world, and
> that is an idea whose time has come." - Victor Hugo
>
>
>
>
>

You might also want to check the debug patch in here:
http://wiki.winehq.org/InterestingPatches
It allows you to enable debugging when you need it by
ahttp://wiki.winehq.org/InterestingPatches keypress. E.g.
WINEDEBUG=+some_channel (except for +all) WINEDELAY=enable wine
app.exe

Roderick


From ricardojdfilipe at gmail.com  Wed May 13 15:09:06 2009
From: ricardojdfilipe at gmail.com (Ricardo Filipe)
Date: Wed, 13 May 2009 21:09:06 +0100
Subject: Wine policy question: What is considered "reverse 
	engineering"/what is acceptable?
In-Reply-To: <207554.73027.qm@web45916.mail.sp1.yahoo.com>
References: <207554.73027.qm@web45916.mail.sp1.yahoo.com>
Message-ID: <bc8cede80905131309r58f92638u96224e992edbd654@mail.gmail.com>

2009/5/13 Daniel Santos <javatroubadour at yahoo.com>

> I was recently attempting to isolate the cause of a hang in Lord of the
> Rings Online and had it in a debugger.  I mentioned this on IRC and was told
> that I was "reverse engineering" and any patch I came up with would not be
> accepted.  I find this rather confusing and would like to better understand
> the "dos and don'ts" of wine development.  Is this documented anywhere?
>
> If it matters any, the license agreement says that you may not reverse
> engineering it including "decompiling or disassembling" but it does not
> specifically mention using a debugger (although viewing disassembly from the
> debugger would obviously be covered).  My aim was only to attempt to
> determine which thread(s) were hanging so I could isolate my logging to
> those thread(s) and try to figure out what was going wrong.
>
> Thanks,
> Daniel
>

if you are using the debugger in wine that is no problem, and i suppose you
are since you are saying you were testing a hang. using the debugger on
windows may be a problem (for the assembly as you say).
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090513/b4291223/attachment.htm>

From thunderbird2k at gmail.com  Wed May 13 15:11:52 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Wed, 13 May 2009 22:11:52 +0200
Subject: Wine policy question: What is considered "reverse 
	engineering"/what is acceptable?
In-Reply-To: <41eceb530905131302h3e759f5dr1b059a699fb7e698@mail.gmail.com>
References: <207554.73027.qm@web45916.mail.sp1.yahoo.com>
	<41eceb530905131302h3e759f5dr1b059a699fb7e698@mail.gmail.com>
Message-ID: <c8485d470905131311n18eca4cbw5bc0d60b7962d9a3@mail.gmail.com>

On Wed, May 13, 2009 at 10:02 PM, Jerome Leclanche <adys.wh at gmail.com> wrote:
> I thought reverse engineering was only relevant to MS code? As in
> reverse engineering of windows dlls and so on; another application
> would be irrelevant.
>
> That's what I understood from it anyway.

First of all I'm not a lawyer ;)

Correct you should avoid looking at windows code. Regarding Microsoft
code we only allow black box reverse engineering, so you feed the dll
with some input and check the outcome without looking what happens
inside (so without checking debug logs of MS dlls). Looking at
Microsoft debug traces should be avoided as it is similar to
disassembling a program IF it is for the purpose of figuring out what
the black box is doing.

Looking at debug traces of programs is fine and as I said it is
similar to looking at the output of a disassembler. Sure it can happen
that you are looking at calls made by Microsoft code since some
Microsoft dlls are being used but you are not aware of that and you
are not trying to reverse engineer the particular Microsoft dll, so
that would also be fine (though it is a gray area).

Roderick


From javatroubadour at yahoo.com  Wed May 13 15:17:40 2009
From: javatroubadour at yahoo.com (Daniel Santos)
Date: Wed, 13 May 2009 13:17:40 -0700 (PDT)
Subject: Wine policy question: What is considered "reverse
	engineering"/what is acceptable?
Message-ID: <876417.46586.qm@web45912.mail.sp1.yahoo.com>

Thank you all very much for the clarification, it is exceedingly helpful!? I don't care to look at microsoft's code because I doubt I have the stomach for it!? But now I feel much better, that I wasn't doing anything wrong by examining the program state of the misbehaving app (it was on wine anyway).? I don't mind jumping through hoops of various sizes to isolate a problem, but to have to do that without debugging, yikes!, that's like having both hands tied behind your back!

--- On Wed, 5/13/09, Roderick Colenbrander <thunderbird2k at gmail.com> wrote:

From: Roderick Colenbrander <thunderbird2k at gmail.com>
Subject: Re: Wine policy question: What is considered "reverse  engineering"/what is acceptable?
To: "Jerome Leclanche" <adys.wh at gmail.com>
Cc: daniel.santos at pobox.com, wine-devel at winehq.org
Date: Wednesday, May 13, 2009, 3:11 PM

On Wed, May 13, 2009 at 10:02 PM, Jerome Leclanche <adys.wh at gmail.com> wrote:
> I thought reverse engineering was only relevant to MS code? As in
> reverse engineering of windows dlls and so on; another application
> would be irrelevant.
>
> That's what I understood from it anyway.

First of all I'm not a lawyer ;)

Correct you should avoid looking at windows code. Regarding Microsoft
code we only allow black box reverse engineering, so you feed the dll
with some input and check the outcome without looking what happens
inside (so without checking debug logs of MS dlls). Looking at
Microsoft debug traces should be avoided as it is similar to
disassembling a program IF it is for the purpose of figuring out what
the black box is doing.

Looking at debug traces of programs is fine and as I said it is
similar to looking at the output of a disassembler. Sure it can happen
that you are looking at calls made by Microsoft code since some
Microsoft dlls are being used but you are not aware of that and you
are not trying to reverse engineer the particular Microsoft dll, so
that would also be fine (though it is a gray area).

Roderick



      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090513/4b97040a/attachment-0001.htm>

From javatroubadour at yahoo.com  Wed May 13 15:21:12 2009
From: javatroubadour at yahoo.com (Daniel Santos)
Date: Wed, 13 May 2009 13:21:12 -0700 (PDT)
Subject: Dynamically adding debug channels (__wine_dbg_set_channel_flags)
Message-ID: <972174.51857.qm@web45911.mail.sp1.yahoo.com>

ooh! shiny! thank you!? Too bad it doesn't work with +all.? I suppose I can just list them out individually in my WINEDEBUG though.

--- On Wed, 5/13/09, Roderick Colenbrander <thunderbird2k at gmail.com> wrote:

From: Roderick Colenbrander <thunderbird2k at gmail.com>
Subject: Re: Dynamically adding debug channels (__wine_dbg_set_channel_flags)
To: daniel.santos at pobox.com
Cc: wine-devel at winehq.org, "Steven Edwards" <winehacker at gmail.com>
Date: Wednesday, May 13, 2009, 3:05 PM

You might also want to check the debug patch in here:
http://wiki.winehq.org/InterestingPatches
It allows you to enable debugging when you need it by
ahttp://wiki.winehq.org/InterestingPatches keypress. E.g.
WINEDEBUG=+some_channel (except for +all) WINEDELAY=enable wine
app.exe

Roderick



      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090513/20da7879/attachment.htm>

From max at veneto.com  Wed May 13 19:02:28 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Thu, 14 May 2009 02:02:28 +0200
Subject: DIB Engine - first set of fixings agains wine test suite
Message-ID: <gufn2k$rt$1@ger.gmane.org>

I started fixing failures against test suite.
Most of bitmap ones are fixed, remaining are due
to still stubbed funcs.

Now the problem is that it fixed also most todo_wines on bitmap suite....

As usual, on bug 421 page for who wants to test it.


Ciao

Max



From giuseppe.bilotta at gmail.com  Thu May 14 00:51:51 2009
From: giuseppe.bilotta at gmail.com (Giuseppe Bilotta)
Date: Thu, 14 May 2009 07:51:51 +0200
Subject: DIB Engine - first set of fixings agains wine test suite
References: <gufn2k$rt$1@ger.gmane.org>
Message-ID: <4a0bb5f3.0405560a.56b8.2ee3@mx.google.com>

On Thursday 14 May 2009 02:02, Massimo Del Fedele wrote:

> I started fixing failures against test suite.
> Most of bitmap ones are fixed, remaining are due
> to still stubbed funcs.
> 
> Now the problem is that it fixed also most todo_wines on bitmap suite....
> 
> As usual, on bug 421 page for who wants to test it.

I noticed that you patches are not created with git format-patch (and
thus cannot be applied with git am). Which tool are you using to
maintain them? Maybe you could set up a public git repository with
your patches applied on top of official Wine.

-- 
Giuseppe "Oblomov" Bilotta


From xixsimplicityxix at gmail.com  Thu May 14 02:40:27 2009
From: xixsimplicityxix at gmail.com (John Klehm)
Date: Thu, 14 May 2009 02:40:27 -0500
Subject: winhlp32: Avoid duplicate assignment in WINHELP_GetWindowInfo().
In-Reply-To: <alpine.LSU.1.99.0905132316141.24313@acrux.dbai.tuwien.ac.at>
References: <alpine.LSU.1.99.0905132316141.24313@acrux.dbai.tuwien.ac.at>
Message-ID: <78a7dad00905140040u4f8d1eafja346c59b1b3fee66@mail.gmail.com>

On Wed, May 13, 2009 at 4:18 PM, Gerald Pfeifer <gerald at pfeifer.com> wrote:
> Most straightforward, I hope. :-)
>
> Gerald
>
> ChangeLog:
> Avoid duplicate assignment in WINHELP_GetWindowInfo().
>
> diff --git a/programs/winhlp32/winhelp.c b/programs/winhlp32/winhelp.c
> index 7f74d8b..d1980e5 100644
> --- a/programs/winhlp32/winhelp.c
> +++ b/programs/winhlp32/winhelp.c
> @@ -278,7 +278,7 @@ HLPFILE_WINDOWINFO* ? ? WINHELP_GetWindowInfo(HLPFILE* hlpfile, LPCSTR name)
> ? ? ? ? mwi.origin.x = mwi.origin.y = mwi.size.cx = mwi.size.cy = CW_USEDEFAULT;
> ? ? ? ? mwi.style = SW_SHOW;
> ? ? ? ? mwi.win_style = WS_OVERLAPPEDWINDOW;
> - ? ? ? ?mwi.sr_color = mwi.sr_color = 0xFFFFFF;
> + ? ? ? ?mwi.sr_color = 0xFFFFFF;
> ? ? }
> ? ? return &mwi;
> ?}
>

Maybe one of was intended to be nsr_color?


From thunderbird2k at gmail.com  Thu May 14 02:52:28 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Thu, 14 May 2009 09:52:28 +0200
Subject: wined3d: Updated NVIDIA mobile GT GPUs
In-Reply-To: <1242230617-21728-1-git-send-email-lukasz.wojnilowicz@gmail.com>
References: <1242230617-21728-1-git-send-email-lukasz.wojnilowicz@gmail.com>
Message-ID: <c8485d470905140052o9980234h12ad7ab25b25f1c@mail.gmail.com>

Hi,

In order to not let the card database become too long I group a lot of
boards together. That should be doable for the 96xx / 97xx / 98xx
boards you added below and then I use the lowest number of video
memory (512MB). This should be fine for apps as they only need a
reasonable estimate of the card. Further we can't use all video memory
anyway. In the near future I plan to add a better mechanism which will
detect the actual card using nv-control.

Roderick

2009/5/13 ?ukasz Wojni?owicz <lukasz.wojnilowicz at gmail.com>:
> ---
> ?dlls/wined3d/directx.c ? ?| ? 42 ++++++++++++++++++++++++++++++++++++++++++
> ?dlls/wined3d/wined3d_gl.h | ? ?7 +++++++
> ?2 files changed, 49 insertions(+), 0 deletions(-)
>
> diff --git a/dlls/wined3d/directx.c b/dlls/wined3d/directx.c
> index f5d4d3e..989ab7f 100644
> --- a/dlls/wined3d/directx.c
> +++ b/dlls/wined3d/directx.c
> @@ -1112,11 +1112,46 @@ static BOOL IWineD3DImpl_FillGLCaps(WineD3D_GL_Info *gl_info) {
> ? ? ? ? ? ? ? ? ? ? gl_info->gl_card = CARD_NVIDIA_GEFORCE_9800GT;
> ? ? ? ? ? ? ? ? ? ? vidmem = 512;
> ? ? ? ? ? ? ? ? }
> + ? ? ? ? ? ? ? ?/* Geforce9800M GTX - highend */
> + ? ? ? ? ? ? ? ?else if(strstr(gl_info->gl_renderer, "9800M GTX")) {
> + ? ? ? ? ? ? ? ? ? ?gl_info->gl_card = CARD_NVIDIA_GEFORCE_9800MGTX;
> + ? ? ? ? ? ? ? ? ? ?vidmem = 1024; /* The 9800M GTX has 1024MB */
> + ? ? ? ? ? ? ? ?}
> + ? ? ? ? ? ? ? ?/* Geforce9800M GTS - highend */
> + ? ? ? ? ? ? ? ?else if(strstr(gl_info->gl_renderer, "9800M GTS")) {
> + ? ? ? ? ? ? ? ? ? ?gl_info->gl_card = CARD_NVIDIA_GEFORCE_9800MGTS;
> + ? ? ? ? ? ? ? ? ? ?vidmem = 1024; /* The 9800M GTS has 1024MB */
> + ? ? ? ? ? ? ? ?}
> + ? ? ? ? ? ? ? ?/* Geforce9800M GT - highend */
> + ? ? ? ? ? ? ? ?else if(strstr(gl_info->gl_renderer, "9800M GT")) {
> + ? ? ? ? ? ? ? ? ? ?gl_info->gl_card = CARD_NVIDIA_GEFORCE_9800MGT;
> + ? ? ? ? ? ? ? ? ? ?vidmem = 512; /* The 9800M GT has 512MB */
> + ? ? ? ? ? ? ? ?}
> ? ? ? ? ? ? ? ? /* Geforce9 - midend */
> ? ? ? ? ? ? ? ? else if(strstr(gl_info->gl_renderer, "9600")) {
> ? ? ? ? ? ? ? ? ? ? gl_info->gl_card = CARD_NVIDIA_GEFORCE_9600GT;
> ? ? ? ? ? ? ? ? ? ? vidmem = 384; /* The 9600GSO has 384MB, the 9600GT has 512-1024MB */
> ? ? ? ? ? ? ? ? }
> + ? ? ? ? ? ? ? ?/* Geforce9700M GTS - midend */
> + ? ? ? ? ? ? ? ?else if(strstr(gl_info->gl_renderer, "9700M GTS")) {
> + ? ? ? ? ? ? ? ? ? ?gl_info->gl_card = CARD_NVIDIA_GEFORCE_9700MGTS;
> + ? ? ? ? ? ? ? ? ? ?vidmem = 512; /* The 9700M GTS has 512MB */
> + ? ? ? ? ? ? ? ?}
> + ? ? ? ? ? ? ? ?/* Geforce9700M GT - midend */
> + ? ? ? ? ? ? ? ?else if(strstr(gl_info->gl_renderer, "9700M GT")) {
> + ? ? ? ? ? ? ? ? ? ?gl_info->gl_card = CARD_NVIDIA_GEFORCE_9700MGT;
> + ? ? ? ? ? ? ? ? ? ?vidmem = 512; /* The 9700M GT has 512MB */
> + ? ? ? ? ? ? ? ?}
> + ? ? ? ? ? ? ? ?/* Geforce9650M GT - midend */
> + ? ? ? ? ? ? ? ?else if(strstr(gl_info->gl_renderer, "9650M GT")) {
> + ? ? ? ? ? ? ? ? ? ?gl_info->gl_card = CARD_NVIDIA_GEFORCE_9650MGT;
> + ? ? ? ? ? ? ? ? ? ?vidmem = 512; /* The 9650M GT has 512-1024MB */
> + ? ? ? ? ? ? ? ?}
> + ? ? ? ? ? ? ? ?/* Geforce9600M GT - midend */
> + ? ? ? ? ? ? ? ?else if(strstr(gl_info->gl_renderer, "9600M GT")) {
> + ? ? ? ? ? ? ? ? ? ?gl_info->gl_card = CARD_NVIDIA_GEFORCE_9600MGT;
> + ? ? ? ? ? ? ? ? ? ?vidmem = 512; /* The 9600M GT has 512-1024MB */
> + ? ? ? ? ? ? ? ?}
> ? ? ? ? ? ? ? ? /* Geforce9 - midend low / Geforce 200 - low*/
> ? ? ? ? ? ? ? ? else if(strstr(gl_info->gl_renderer, "9500") ||
> ? ? ? ? ? ? ? ? ? ? ? ? strstr(gl_info->gl_renderer, "GT 120") ||
> @@ -3991,7 +4026,14 @@ static const struct driver_version_information driver_version_table[] = {
> ? ? {VENDOR_NVIDIA, ? ? CARD_NVIDIA_GEFORCE_9400GT, ? ? "NVIDIA GeForce 9400 GT", ? ? ? ? ? 7, ?15, 11, 8044 ? },
> ? ? {VENDOR_NVIDIA, ? ? CARD_NVIDIA_GEFORCE_9500GT, ? ? "NVIDIA GeForce 9500 GT", ? ? ? ? ? 7, ?15, 11, 8044 ? },
> ? ? {VENDOR_NVIDIA, ? ? CARD_NVIDIA_GEFORCE_9600GT, ? ? "NVIDIA GeForce 9600 GT", ? ? ? ? ? 7, ?15, 11, 8044 ? },
> + ? ?{VENDOR_NVIDIA, ? ? CARD_NVIDIA_GEFORCE_9600MGT, ? ?"NVIDIA GeForce 9600M GT", ? ? ? ? ?7, ?15, 11, 8044 ? },
> + ? ?{VENDOR_NVIDIA, ? ? CARD_NVIDIA_GEFORCE_9650MGT, ? ?"NVIDIA GeForce 9650M GT", ? ? ? ? ?7, ?15, 11, 8044 ? },
> + ? ?{VENDOR_NVIDIA, ? ? CARD_NVIDIA_GEFORCE_9700MGT, ? ?"NVIDIA GeForce 9700M GT", ? ? ? ? ?7, ?15, 11, 8044 ? },
> + ? ?{VENDOR_NVIDIA, ? ? CARD_NVIDIA_GEFORCE_9700MGTS, ? "NVIDIA GeForce 9700M GTS", ? ? ? ? 7, ?15, 11, 8044 ? },
> ? ? {VENDOR_NVIDIA, ? ? CARD_NVIDIA_GEFORCE_9800GT, ? ? "NVIDIA GeForce 9800 GT", ? ? ? ? ? 7, ?15, 11, 8044 ? },
> + ? ?{VENDOR_NVIDIA, ? ? CARD_NVIDIA_GEFORCE_9800MGT, ? ?"NVIDIA GeForce 9800M GT", ? ? ? ? ?7, ?15, 11, 8044 ? },
> + ? ?{VENDOR_NVIDIA, ? ? CARD_NVIDIA_GEFORCE_9800MGTS, ? "NVIDIA GeForce 9800M GTS", ? ? ? ? 7, ?15, 11, 8044 ? },
> + ? ?{VENDOR_NVIDIA, ? ? CARD_NVIDIA_GEFORCE_9800MGTX, ? "NVIDIA GeForce 9800M GTX", ? ? ? ? 7, ?15, 11, 8044 ? },
> ? ? {VENDOR_NVIDIA, ? ? CARD_NVIDIA_GEFORCE_GTX260, ? ? "NVIDIA GeForce GTX 260", ? ? ? ? ? 7, ?15, 11, 8044 ? },
> ? ? {VENDOR_NVIDIA, ? ? CARD_NVIDIA_GEFORCE_GTX275, ? ? "NVIDIA GeForce GTX 275", ? ? ? ? ? 7, ?15, 11, 8044 ? },
> ? ? {VENDOR_NVIDIA, ? ? CARD_NVIDIA_GEFORCE_GTX280, ? ? "NVIDIA GeForce GTX 280", ? ? ? ? ? 7, ?15, 11, 8044 ? },
> diff --git a/dlls/wined3d/wined3d_gl.h b/dlls/wined3d/wined3d_gl.h
> index 1a9c925..4f3542d 100644
> --- a/dlls/wined3d/wined3d_gl.h
> +++ b/dlls/wined3d/wined3d_gl.h
> @@ -3330,7 +3330,14 @@ typedef enum _GL_Cards {
> ? CARD_NVIDIA_GEFORCE_9400GT ? ? ?= 0x042c,
> ? CARD_NVIDIA_GEFORCE_9500GT ? ? ?= 0x0640,
> ? CARD_NVIDIA_GEFORCE_9600GT ? ? ?= 0x0622,
> + ?CARD_NVIDIA_GEFORCE_9600MGT ? ? = 0x0649,
> + ?CARD_NVIDIA_GEFORCE_9650MGT ? ? = 0x064C,
> + ?CARD_NVIDIA_GEFORCE_9700MGT ? ? = 0x064A,
> + ?CARD_NVIDIA_GEFORCE_9700MGTS ? ?= 0x062A,
> ? CARD_NVIDIA_GEFORCE_9800GT ? ? ?= 0x0614,
> + ?CARD_NVIDIA_GEFORCE_9800MGT ? ? = 0x060B,
> + ?CARD_NVIDIA_GEFORCE_9800MGTS ? ?= 0x0628,
> + ?CARD_NVIDIA_GEFORCE_9800MGTX ? ?= 0x0608,
> ? CARD_NVIDIA_GEFORCE_GTX260 ? ? ?= 0x05e2,
> ? CARD_NVIDIA_GEFORCE_GTX275 ? ? ?= 0x05e6,
> ? CARD_NVIDIA_GEFORCE_GTX280 ? ? ?= 0x05e1,
> --
> 1.6.0.6
>
>
>
>


From thunderbird2k at gmail.com  Thu May 14 02:55:45 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Thu, 14 May 2009 09:55:45 +0200
Subject: Fix ATI HD4800 being reported as ATI 9500
In-Reply-To: <200905140108.33759.hpestilence@gmail.com>
References: <200905140108.33759.hpestilence@gmail.com>
Message-ID: <c8485d470905140055x676a161eq2d07153433399446@mail.gmail.com>

I would recommend to add a new if-statement for hd48xx cards (detect
the 4830, 4850, 4870, 4890) and set those cards to the pci id of the
4830 and set the video memory to let say 512MB for now.

Roderick

On Thu, May 14, 2009 at 7:08 AM, Robert Key <hpestilence at gmail.com> wrote:
> Changelog:
> * Add HD4800 series to be detected in graphics card table.
> ?This makes it so that the ati dx9 quirks aren't applied.
>
> ? Also added the pci id of HD4850 to wined3d_gl.h
>
>
>
>


From max at veneto.com  Thu May 14 04:01:17 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Thu, 14 May 2009 11:01:17 +0200
Subject: DIB Engine - first set of fixings agains wine test suite
In-Reply-To: <4a0bb5f3.0405560a.56b8.2ee3@mx.google.com>
References: <gufn2k$rt$1@ger.gmane.org>
	<4a0bb5f3.0405560a.56b8.2ee3@mx.google.com>
Message-ID: <gugmkv$64t$1@ger.gmane.org>

Giuseppe Bilotta ha scritto:
> On Thursday 14 May 2009 02:02, Massimo Del Fedele wrote:
> 
>> I started fixing failures against test suite.
>> Most of bitmap ones are fixed, remaining are due
>> to still stubbed funcs.
>>
>> Now the problem is that it fixed also most todo_wines on bitmap suite....
>>
>> As usual, on bug 421 page for who wants to test it.
> 
> I noticed that you patches are not created with git format-patch (and
> thus cannot be applied with git am). Which tool are you using to
> maintain them? Maybe you could set up a public git repository with
> your patches applied on top of official Wine.
> 

I use stacked git to maintaint my patches.
Instructions are on bug 421 page, but I'll repeat them here :

1) Install stacked git if you don't already have it :
sudo apt-get install stgit  (or whathever your distro needs)

2) switch to a new branch (stgit operates on branches, not on origin)
git checkout -b dibeng-max

3) init stacked git branch (needed only first time)
stg init

4) import the patchset
stg import -s /path/to/patchset/series

5) if you want to get rid of stgit data, just commit the patchset
    that's not needed if you want to continue using stgit to push/pop/rebase the patchset
stg commit  (this one will leave you with a standard git tree again)

6) run autoconf -- that's needed because 'configure' file is NOT included in my
    patchset, as it changes too much from git releases and it is usually quite big patch
autoconf

7) build as usual
./configure && make depend && make

8) enable the engine before running apps
export WINEDIB=ON
*or*
fiddle with registry, as explained on bug 421 page if you want it permanent

Ciao

Max



From fgouget at free.fr  Thu May 14 04:22:58 2009
From: fgouget at free.fr (Francois Gouget)
Date: Thu, 14 May 2009 11:22:58 +0200 (CEST)
Subject: Unused functions in fusion.dll
Message-ID: <alpine.DEB.2.00.0905141118250.735@amboise.dolphin>


The following fusion.dll functions are unused: nobody calls them and 
they are not exported.

  CompareAssemblyIdentity()
  GetAssemblyIdentityFromFile()

I checked a Windows fusion.dll I have here and I did not see them being 
exported there either. Yet, the MSDN documents them and presumably 
there's a way a application can call them...

Does anyone know what's up?

-- 
Francois Gouget <fgouget at free.fr>              http://fgouget.free.fr/
A particle is an irreducible representation of the Poincar? Group - Eugene Wigner

From paul.vriens.wine at gmail.com  Thu May 14 04:29:21 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Thu, 14 May 2009 11:29:21 +0200
Subject: Unused functions in fusion.dll
In-Reply-To: <alpine.DEB.2.00.0905141118250.735@amboise.dolphin>
References: <alpine.DEB.2.00.0905141118250.735@amboise.dolphin>
Message-ID: <4A0BE471.10805@gmail.com>

Francois Gouget wrote:
> The following fusion.dll functions are unused: nobody calls them and 
> they are not exported.
> 
>   CompareAssemblyIdentity()
>   GetAssemblyIdentityFromFile()
> 
> I checked a Windows fusion.dll I have here and I did not see them being 
> exported there either. Yet, the MSDN documents them and presumably 
> there's a way a application can call them...
> 
> Does anyone know what's up?
> 
> 
> 
> ------------------------------------------------------------------------
> 
> 
What version of the .NET framework do you have? It looks like these came 
with 2.0

-- 
Cheers,

Paul.


From paul.vriens.wine at gmail.com  Thu May 14 05:29:14 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Thu, 14 May 2009 12:29:14 +0200
Subject: Unused functions in fusion.dll
In-Reply-To: <4A0BE471.10805@gmail.com>
References: <alpine.DEB.2.00.0905141118250.735@amboise.dolphin>
	<4A0BE471.10805@gmail.com>
Message-ID: <4A0BF27A.5030305@gmail.com>

Paul Vriens wrote:
> Francois Gouget wrote:
>> The following fusion.dll functions are unused: nobody calls them and 
>> they are not exported.
>>
>>   CompareAssemblyIdentity()
>>   GetAssemblyIdentityFromFile()
>>
>> I checked a Windows fusion.dll I have here and I did not see them 
>> being exported there either. Yet, the MSDN documents them and 
>> presumably there's a way a application can call them...
>>
>> Does anyone know what's up?
>>
>>
>>
>> ------------------------------------------------------------------------
>>
>>
> What version of the .NET framework do you have? It looks like these came 
> with 2.0
> 
Forget that remark. Just checked both fusion and mscoree on .NET 1.1 and 
3.5 and neither have these exports.

So, no clue ;)

-- 
Cheers,

Paul.


From paul.vriens.wine at gmail.com  Thu May 14 06:49:47 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Thu, 14 May 2009 13:49:47 +0200
Subject: Unused functions in fusion.dll
In-Reply-To: <d04858af0905140344i24a077c7s8a053d698302441d@mail.gmail.com>
References: <alpine.DEB.2.00.0905141118250.735@amboise.dolphin>	
	<4A0BE471.10805@gmail.com> <4A0BF27A.5030305@gmail.com>
	<d04858af0905140344i24a077c7s8a053d698302441d@mail.gmail.com>
Message-ID: <4A0C055B.4090202@gmail.com>

Luke Benstead wrote:
> 2009/5/14 Paul Vriens <paul.vriens.wine at gmail.com>:
>> Paul Vriens wrote:
>>> Francois Gouget wrote:
>>>> The following fusion.dll functions are unused: nobody calls them and they
>>>> are not exported.
>>>>
>>>>  CompareAssemblyIdentity()
>>>>  GetAssemblyIdentityFromFile()
>>>>
>>>> I checked a Windows fusion.dll I have here and I did not see them being
>>>> exported there either. Yet, the MSDN documents them and presumably there's a
>>>> way a application can call them...
>>>>
>>>> Does anyone know what's up?
>>>>
>>>>
>>>>
>>>> ------------------------------------------------------------------------
>>>>
>>>>
>>> What version of the .NET framework do you have? It looks like these came
>>> with 2.0
>>>
>> Forget that remark. Just checked both fusion and mscoree on .NET 1.1 and 3.5
>> and neither have these exports.
>>
>> So, no clue ;)
>>
>> --
>> Cheers,
>>
>> Paul.
>>
>>
>>
> 
> Just a pure guess, but Googling for CompareAssemblyIdentity returns
> this: http://forums.iis.net/t/1149942.aspx which shows:
> 
> mscorwks!CompareAssemblyIdentity+b04a
> 
> Is it possible that the actual exported CompareAssemblyIdentity (and
> the one documented on MSDN) should be in mscorwks.dll and NOT in
> fusion.dll?
> 
> Just thinking aloud.
> 
> Luke.
Spot on:

(Vista with .NET3.5SP1):

winedump -v -j export mscorwks.dll | grep -e CompareAssemblyIdentity -e 
GetAssemblyIdentityFromFile

   002FF322    48 CompareAssemblyIdentity
   00300A41    69 GetAssemblyIdentityFromFile

(W2K3 with .NET1.1):

not present

(W2K3 with .NET2.0):

   000F3C2F    47 CompareAssemblyIdentity
   002DE14F    68 GetAssemblyIdentityFromFile

(W2K3 / .NET 2.0SP1/3.0/3.0SP1/3.5):

   0013A67D    47 CompareAssemblyIdentity
   003277D3    68 GetAssemblyIdentityFromFile

(W2K3 with .NET 3.5SP1):

   002FF132    48 CompareAssemblyIdentity
   00300851    69 GetAssemblyIdentityFromFile

-- 
Cheers,

Paul.


From paulc at voip.null.ro  Thu May 14 06:53:09 2009
From: paulc at voip.null.ro (Paul Chitescu)
Date: Thu, 14 May 2009 14:53:09 +0300
Subject: Unused functions in fusion.dll
In-Reply-To: <4A0BF27A.5030305@gmail.com>
References: <alpine.DEB.2.00.0905141118250.735@amboise.dolphin>
	<4A0BE471.10805@gmail.com> <4A0BF27A.5030305@gmail.com>
Message-ID: <200905141453.09767.paulc@voip.null.ro>

On Thursday 14 May 2009 13:29:14 Paul Vriens wrote:
> Paul Vriens wrote:
> > Francois Gouget wrote:
> >> The following fusion.dll functions are unused: nobody calls them and
> >> they are not exported.
> >>
> >>   CompareAssemblyIdentity()
> >>   GetAssemblyIdentityFromFile()
> >>
> >> I checked a Windows fusion.dll I have here and I did not see them
> >> being exported there either. Yet, the MSDN documents them and
> >> presumably there's a way a application can call them...
> >>
> >> Does anyone know what's up?
> >>
> >>
> >>
> >> ------------------------------------------------------------------------
> >
> > What version of the .NET framework do you have? It looks like these came
> > with 2.0
>
> Forget that remark. Just checked both fusion and mscoree on .NET 1.1 and
> 3.5 and neither have these exports.
>
> So, no clue ;)

Those functions are exported normally from the implementation mscorwks.dll 
(but noone guarantees that) and no executable or DLL is linked directly to 
it, instead they call GetRealProcAddress in mscoree.dll

http://msdn.microsoft.com/en-us/library/ms233292.aspx


From paulc at voip.null.ro  Thu May 14 07:13:19 2009
From: paulc at voip.null.ro (Paul Chitescu)
Date: Thu, 14 May 2009 15:13:19 +0300
Subject: Unused functions in fusion.dll
In-Reply-To: <200905141453.09767.paulc@voip.null.ro>
References: <alpine.DEB.2.00.0905141118250.735@amboise.dolphin>
	<4A0BF27A.5030305@gmail.com>
	<200905141453.09767.paulc@voip.null.ro>
Message-ID: <200905141513.19967.paulc@voip.null.ro>

On Thursday 14 May 2009 14:53:09 Paul Chitescu wrote:
> [...]
> > 
> Those functions are exported normally from the implementation mscorwks.dll
> (but noone guarantees that) and no executable or DLL is linked directly to
> it, instead they call GetRealProcAddress in mscoree.dll
>
> http://msdn.microsoft.com/en-us/library/ms233292.aspx

Forgot to add that on Windows Server mscorsrv.dll is loaded instead of 
mscorwks.

No idea why m$ created two implementations for those functions and classes, 
one for workstation and one for server. Could be a $$$ issue?

/me wonders if there's a mscor3apps.dll for windows starter edition.


From fgouget at free.fr  Thu May 14 08:45:50 2009
From: fgouget at free.fr (Francois Gouget)
Date: Thu, 14 May 2009 15:45:50 +0200 (CEST)
Subject: Unused functions in fusion.dll
In-Reply-To: <4A0C055B.4090202@gmail.com>
References: <alpine.DEB.2.00.0905141118250.735@amboise.dolphin>
	<4A0BE471.10805@gmail.com> <4A0BF27A.5030305@gmail.com>
	<d04858af0905140344i24a077c7s8a053d698302441d@mail.gmail.com>
	<4A0C055B.4090202@gmail.com>
Message-ID: <alpine.DEB.2.00.0905141532320.5154@amboise.dolphin>

On Thu, 14 May 2009, Paul Vriens wrote:
[...]
> Spot on:
> 
> (Vista with .NET3.5SP1):
> 
> winedump -v -j export mscorwks.dll | grep -e CompareAssemblyIdentity -e
> GetAssemblyIdentityFromFile
> 
>   002FF322    48 CompareAssemblyIdentity
>   00300A41    69 GetAssemblyIdentityFromFile

So given that we don't have an mscorwks implementation and that these 
are just stubs, it seems like they should be removed from fusion.dll.

I'll send a patch.

-- 
Francois Gouget <fgouget at free.fr>              http://fgouget.free.fr/
  Good judgment comes from experience, and experience comes from bad judgment
                               -- Barry LePatner


From Paul.Hampson at Pobox.com  Thu May 14 08:56:34 2009
From: Paul.Hampson at Pobox.com (Paul TBBle Hampson)
Date: Thu, 14 May 2009 23:56:34 +1000
Subject: Unused functions in fusion.dll
In-Reply-To: <200905141513.19967.paulc@voip.null.ro>
References: <alpine.DEB.2.00.0905141118250.735@amboise.dolphin>
	<4A0BF27A.5030305@gmail.com>
	<200905141453.09767.paulc@voip.null.ro>
	<200905141513.19967.paulc@voip.null.ro>
Message-ID: <20090514135633.GA4257@keitarou.watson.bubblesworth.net>

On Thu, May 14, 2009 at 03:13:19PM +0300, Paul Chitescu wrote:
> No idea why m$ created two implementations for those functions and classes, 
> one for workstation and one for server. Could be a $$$ issue?

I have vague recollection it's to do with threading models and somesuch.

I came across a discussion of it while doing XNA stuff, which is
actually compact framework so different again. ^_^

-- 
-----------------------------------------------------------
Paul "TBBle" Hampson, B.Sc, LPI, MCSE
Very-later-year Asian Studies student, ANU
The Boss, Bubblesworth Pty Ltd (ABN: 51 095 284 361)
Paul.Hampson at Pobox.com

Of course Pacman didn't influence us as kids. If it did,
we'd be running around in darkened rooms, popping pills and
listening to repetitive music.
 -- Marcus Brigstocke
http://www.marcusbrigstocke.com/pacman.asp

License: http://creativecommons.org/licenses/by/2.5/au/
-----------------------------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090514/475f7af1/attachment.pgp>

From zgold at bluesata.com  Thu May 14 10:43:48 2009
From: zgold at bluesata.com (Zachary Goldberg)
Date: Thu, 14 May 2009 11:43:48 -0400
Subject: DIB Engine - first set of fixings agains wine test suite
In-Reply-To: <gugmkv$64t$1@ger.gmane.org>
References: <gufn2k$rt$1@ger.gmane.org>
	<4a0bb5f3.0405560a.56b8.2ee3@mx.google.com>
	<gugmkv$64t$1@ger.gmane.org>
Message-ID: <b050a5e70905140843o1702f0fbpd6d1deb0f4e35802@mail.gmail.com>

On Thu, May 14, 2009 at 5:01 AM, Massimo Del Fedele <max at veneto.com> wrote:
> Giuseppe Bilotta ha scritto:
>>
>> On Thursday 14 May 2009 02:02, Massimo Del Fedele wrote:
>>
>>> I started fixing failures against test suite.
>>> Most of bitmap ones are fixed, remaining are due
>>> to still stubbed funcs.
>>>
>>> Now the problem is that it fixed also most todo_wines on bitmap suite....
>>>
>>> As usual, on bug 421 page for who wants to test it.
>>
>> I noticed that you patches are not created with git format-patch (and
>> thus cannot be applied with git am). Which tool are you using to
>> maintain them? Maybe you could set up a public git repository with
>> your patches applied on top of official Wine.
>>
>
> I use stacked git to maintaint my patches.
> Instructions are on bug 421 page, but I'll repeat them here :
>
> 1) Install stacked git if you don't already have it :
> sudo apt-get install stgit ?(or whathever your distro needs)
>
> 2) switch to a new branch (stgit operates on branches, not on origin)
> git checkout -b dibeng-max
>
> 3) init stacked git branch (needed only first time)
> stg init
>
> 4) import the patchset
> stg import -s /path/to/patchset/series
>
> 5) if you want to get rid of stgit data, just commit the patchset
> ? that's not needed if you want to continue using stgit to push/pop/rebase
> the patchset
> stg commit ?(this one will leave you with a standard git tree again)
>
> 6) run autoconf -- that's needed because 'configure' file is NOT included in
> my
> ? patchset, as it changes too much from git releases and it is usually quite
> big patch
> autoconf
>
> 7) build as usual
> ./configure && make depend && make
>
> 8) enable the engine before running apps
> export WINEDIB=ON
> *or*
> fiddle with registry, as explained on bug 421 page if you want it permanent
>
> Ciao
>
> Max
>
>
>
>

Max,

Would it be possible to please make a wiki page with all of this
information?  Theres something like 250 comments on bug 421 and its
difficult to find the posts you refer to sometimes :)

Thanks!
-Zach


From nerv at dawncrow.de  Thu May 14 10:45:32 2009
From: nerv at dawncrow.de (=?ISO-8859-15?Q?Andr=E9_Hentschel?=)
Date: Thu, 14 May 2009 17:45:32 +0200
Subject: Request for update of the AUTHORS-file
Message-ID: <4A0C3C9C.5070302@dawncrow.de>

The Authors file wasnt updated since 2008-06-16.
I maybe would send a patch but i bet Julliard has a Script :)


From max at veneto.com  Thu May 14 11:56:59 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Thu, 14 May 2009 18:56:59 +0200
Subject: DIB Engine - first set of fixings agains wine test suite
In-Reply-To: <b050a5e70905140843o1702f0fbpd6d1deb0f4e35802@mail.gmail.com>
References: <gufn2k$rt$1@ger.gmane.org>	<4a0bb5f3.0405560a.56b8.2ee3@mx.google.com>	<gugmkv$64t$1@ger.gmane.org>
	<b050a5e70905140843o1702f0fbpd6d1deb0f4e35802@mail.gmail.com>
Message-ID: <guhigs$4e6$1@ger.gmane.org>

Zachary Goldberg ha scritto:
> On Thu, May 14, 2009 at 5:01 AM, Massimo Del Fedele <max at veneto.com> wrote:
>> Giuseppe Bilotta ha scritto:
>>> On Thursday 14 May 2009 02:02, Massimo Del Fedele wrote:
>>>
>>>> I started fixing failures against test suite.
>>>> Most of bitmap ones are fixed, remaining are due
>>>> to still stubbed funcs.
>>>>
>>>> Now the problem is that it fixed also most todo_wines on bitmap suite....
>>>>
>>>> As usual, on bug 421 page for who wants to test it.
>>> I noticed that you patches are not created with git format-patch (and
>>> thus cannot be applied with git am). Which tool are you using to
>>> maintain them? Maybe you could set up a public git repository with
>>> your patches applied on top of official Wine.
>>>
>> I use stacked git to maintaint my patches.
>> Instructions are on bug 421 page, but I'll repeat them here :
>>
>> 1) Install stacked git if you don't already have it :
>> sudo apt-get install stgit  (or whathever your distro needs)
>>
>> 2) switch to a new branch (stgit operates on branches, not on origin)
>> git checkout -b dibeng-max
>>
>> 3) init stacked git branch (needed only first time)
>> stg init
>>
>> 4) import the patchset
>> stg import -s /path/to/patchset/series
>>
>> 5) if you want to get rid of stgit data, just commit the patchset
>>   that's not needed if you want to continue using stgit to push/pop/rebase
>> the patchset
>> stg commit  (this one will leave you with a standard git tree again)
>>
>> 6) run autoconf -- that's needed because 'configure' file is NOT included in
>> my
>>   patchset, as it changes too much from git releases and it is usually quite
>> big patch
>> autoconf
>>
>> 7) build as usual
>> ./configure && make depend && make
>>
>> 8) enable the engine before running apps
>> export WINEDIB=ON
>> *or*
>> fiddle with registry, as explained on bug 421 page if you want it permanent
>>
>> Ciao
>>
>> Max
>>
>>
>>
>>
> 
> Max,
> 
> Would it be possible to please make a wiki page with all of this
> information?  Theres something like 250 comments on bug 421 and its
> difficult to find the posts you refer to sometimes :)
> 
> Thanks!
> -Zach
> 
> 
> 

Eh, sorry but I've got no time now.... But if some volunteer wants to do it for me is ok :-)

Ciao

Max



From r.kalbermatter at hccnet.nl  Thu May 14 18:18:56 2009
From: r.kalbermatter at hccnet.nl (Rolf Kalbermatter)
Date: Fri, 15 May 2009 01:18:56 +0200
Subject: Fiddling with EnumServicesStatusExW
In-Reply-To: <4A0AB272.6000009@gmail.com>
References: <4A0AB272.6000009@gmail.com>
Message-ID: <1B0180DA41BE480F8FEF1ECC706A72FC@NATERS>

> From: Paul Vriens [mailto:paul.vriens.wine at gmail.com] 
> 
> How can I make sure the pointers to the strings are correctly 
> passed back as well? Should the RPC stuff take care of these 
> pointers and 'translate' them?

Those pointers are not really pointers but byte offsets from the start
of the buffer. It's been a long time that I have looked into this but
I believe that this is even the case on the client side (e.g. the
caller). So there should be no problem with this, as RPC simply would
need to copy the entire buffer including the strings section.

> We could of course teach EnumServicesStatusExW to change the 
> pointers to the appropriate ones. We know exactly where there 
> strings are so it should be fairly trivial to change those 
> pointers. This however seems like a hack.

Well the original MS service control API has separate RPC calls for
the A and W calls and the offsets are therefore calculated by the
service control service itself correctly.
If you want to implement the A call on top of the W call as is
currently done for the other servicecontrol APIs too, you will
probably have to adjust those offsets accordingly in the W to A
translation of the strings.

In the interest of a really compatible RPC interface to the MS
service control service however, it would be better to implement
the separate RPC calls for the A and W version.

Currently an MS Window client trying to call the Wine service
control service over RPC will fail for the A calls (but there
are also other RPC problems that make Windows-Wine RPC not work
well).

Rolf Kalbermatter



From thunderbird2k at gmail.com  Fri May 15 03:09:44 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Fri, 15 May 2009 10:09:44 +0200
Subject: (try2)Fix ATI HD4800 being reported as ATI 9500
In-Reply-To: <200905142029.08035.hpestilence@gmail.com>
References: <200905142029.08035.hpestilence@gmail.com>
Message-ID: <c8485d470905150109x7f0be469n34560a677be6a352@mail.gmail.com>

The patch itself is correct but the comment regarding the X2 4800 is
incorrect. Those cards indeed have 2GB of video memory (and the PR
people mention that to you) but the boards contain two GPUs and both
need a have a copy of textures and other resources (though the GPUs
can communicate using a high speed bus). Effectively the amount of
video memory is still 1GB.

Roderick

On Fri, May 15, 2009 at 2:29 AM, Robert Key <hpestilence at gmail.com> wrote:
> Changelog:
> * Added support for the ATI HD 4800 series (should be all of them).
> ? Used a HD4830 device id for HD4800 cards in wined3d_gl.h.
>
>
>
>
-------------- next part --------------
From 8034f52551451a8db2440ac4908ff325bae7b04d Mon Sep 17 00:00:00 2001
From: Robert Key <hpestilence at gmail.com>
Date: Thu, 14 May 2009 19:14:02 -0400
Subject: Fix ATI HD4800 being reported as ATI 9500

---
 dlls/wined3d/directx.c    |   17 ++++++++++++++---
 dlls/wined3d/wined3d_gl.h |    1 +
 2 files changed, 15 insertions(+), 3 deletions(-)

diff --git a/dlls/wined3d/directx.c b/dlls/wined3d/directx.c
index 8e3c807..ad192c0 100644
--- a/dlls/wined3d/directx.c
+++ b/dlls/wined3d/directx.c
@@ -1271,10 +1271,20 @@ static BOOL IWineD3DImpl_FillGLCaps(WineD3D_GL_Info *gl_info) {
             break;
         case VENDOR_ATI:
             if(WINE_D3D9_CAPABLE(gl_info)) {
+                /* Radeon R7xx HD4800 - highend */
+                if (strstr(gl_info->gl_renderer, "HD 4800") ||
+                    strstr(gl_info->gl_renderer, "HD 4830") ||
+                    strstr(gl_info->gl_renderer, "HD 4850") ||
+                    strstr(gl_info->gl_renderer, "HD 4870") ||
+                    strstr(gl_info->gl_renderer, "HD 4890"))
+                {
+                    gl_info->gl_card = CARD_ATI_RADEON_HD4800;
+                    vidmem = 512; /* HD4800 cards use 512-1024MB, up to 2048MB for X2 version */
+                }
                 /* Radeon R6xx HD2900/HD3800 - highend */
-                if (strstr(gl_info->gl_renderer, "HD 2900") ||
-                    strstr(gl_info->gl_renderer, "HD 3870") ||
-                    strstr(gl_info->gl_renderer, "HD 3850"))
+                else if (strstr(gl_info->gl_renderer, "HD 2900") ||
+                         strstr(gl_info->gl_renderer, "HD 3870") ||
+                         strstr(gl_info->gl_renderer, "HD 3850"))
                 {
                     gl_info->gl_card = CARD_ATI_RADEON_HD2900;
                     vidmem = 512; /* HD2900/HD3800 uses 256-1024MB */
@@ -4007,6 +4017,7 @@ static const struct driver_version_information driver_version_table[] = {
     {VENDOR_ATI,        CARD_ATI_RADEON_HD2300,         "ATI Mobility Radeon HD 2300",      6,  14, 10, 6764    },
     {VENDOR_ATI,        CARD_ATI_RADEON_HD2600,         "ATI Mobility Radeon HD 2600",      6,  14, 10, 6764    },
     {VENDOR_ATI,        CARD_ATI_RADEON_HD2900,         "ATI Radeon HD 2900 XT",            6,  14, 10, 6764    },
+    {VENDOR_ATI,        CARD_ATI_RADEON_HD4800,         "ATI Radeon HD 4800 Series",        6,  14, 10, 6764    },
 
     /* TODO: Add information about legacy ATI hardware, Intel and other cards */
 };
diff --git a/dlls/wined3d/wined3d_gl.h b/dlls/wined3d/wined3d_gl.h
index 1a9c925..615d914 100644
--- a/dlls/wined3d/wined3d_gl.h
+++ b/dlls/wined3d/wined3d_gl.h
@@ -3302,6 +3302,7 @@ typedef enum _GL_Cards {
   CARD_ATI_RADEON_HD2600          = 0x9581,
   CARD_ATI_RADEON_HD2900          = 0x9400,
   CARD_ATI_RADEON_HD3200          = 0x9620,
+  CARD_ATI_RADEON_HD4800          = 0x944c,
 
   CARD_NVIDIA_RIVA_128            = 0x0018,
   CARD_NVIDIA_RIVA_TNT            = 0x0020,
-- 
1.6.3

From paul.vriens.wine at gmail.com  Fri May 15 03:43:11 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Fri, 15 May 2009 10:43:11 +0200
Subject: Fiddling with EnumServicesStatusExW
In-Reply-To: <1B0180DA41BE480F8FEF1ECC706A72FC@NATERS>
References: <4A0AB272.6000009@gmail.com>
	<1B0180DA41BE480F8FEF1ECC706A72FC@NATERS>
Message-ID: <4A0D2B1F.6070400@gmail.com>

Rolf Kalbermatter wrote:
>> From: Paul Vriens [mailto:paul.vriens.wine at gmail.com] 
>>
>> How can I make sure the pointers to the strings are correctly 
>> passed back as well? Should the RPC stuff take care of these 
>> pointers and 'translate' them?
> 
> Those pointers are not really pointers but byte offsets from the start
> of the buffer. It's been a long time that I have looked into this but
> I believe that this is even the case on the client side (e.g. the
> caller). So there should be no problem with this, as RPC simply would
> need to copy the entire buffer including the strings section.
> 

Sure, RPC does return the structs and the strings but the pointers (byte 
offsets) are wrong. How can I teach RPC to respect (change) those pointers?

>> We could of course teach EnumServicesStatusExW to change the 
>> pointers to the appropriate ones. We know exactly where there 
>> strings are so it should be fairly trivial to change those 
>> pointers. This however seems like a hack.
> 
> Well the original MS service control API has separate RPC calls for
> the A and W calls and the offsets are therefore calculated by the
> service control service itself correctly.
> If you want to implement the A call on top of the W call as is
> currently done for the other servicecontrol APIs too, you will
> probably have to adjust those offsets accordingly in the W to A
> translation of the strings.

Yeah, I know. I have the thing working with this (and that mentioned 
hack) but I'm obviously looking for the best (read correct) solution.

> 
> In the interest of a really compatible RPC interface to the MS
> service control service however, it would be better to implement
> the separate RPC calls for the A and W version.
> 
> Currently an MS Window client trying to call the Wine service
> control service over RPC will fail for the A calls (but there
> are also other RPC problems that make Windows-Wine RPC not work
> well).

More things to fix then ;)

-- 
Cheers,

Paul.


From julliard at winehq.org  Fri May 15 04:33:32 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Fri, 15 May 2009 11:33:32 +0200
Subject: [1/2] winetest: malloc() & co are encapsulated,
	so encapsulate free() too.
In-Reply-To: <alpine.DEB.2.00.0905150156100.4631@amboise.dolphin> (Francois
	Gouget's message of "Fri, 15 May 2009 01:57:42 +0200 (CEST)")
References: <alpine.DEB.2.00.0905150156100.4631@amboise.dolphin>
Message-ID: <87vdo2aexf.fsf@wine.dyndns.org>

Francois Gouget <fgouget at free.fr> writes:

> It's not very clean to encapsulate malloc() & co with xmalloc(), etc, 
> but to then call free() directly. It means if the implementation of 
> xmalloc() is changed to call HeapAlloc() all the free() have to be 
> changed. So encapsulate free() too.

xmalloc() is clearly a wrapper around malloc(), so there's no need to
rename free(). If you want to change the allocation you should rename
both to heap_alloc/heap_free or something like that.

-- 
Alexandre Julliard
julliard at winehq.org


From stefandoesinger at gmx.at  Fri May 15 07:30:23 2009
From: stefandoesinger at gmx.at (Stefan =?iso-8859-1?q?D=F6singer?=)
Date: Fri, 15 May 2009 14:30:23 +0200
Subject: Add tests for DirectDraw surface reference counting
In-Reply-To: <d04858af0905150452i2d25254cu14ce76a65af2becd@mail.gmail.com>
References: <d04858af0905150452i2d25254cu14ce76a65af2becd@mail.gmail.com>
Message-ID: <200905151430.23832.stefandoesinger@gmx.at>

Am Freitag, 15. Mai 2009 13:52:23 schrieb Luke Benstead:
> Reference counts are wrong in Wine which causes some games to fail.
> I'm working patches to make these tests pass so we can remove the
> todo_wine's.
>
> Luke.

The patch adds trailing whitespeaces in a few lines. Please remove them. 
Otherwise the code looks good to me.


From kazade at gmail.com  Fri May 15 07:36:17 2009
From: kazade at gmail.com (Luke Benstead)
Date: Fri, 15 May 2009 13:36:17 +0100
Subject: Add tests for DirectDraw surface reference counting
In-Reply-To: <200905151430.23832.stefandoesinger@gmx.at>
References: <d04858af0905150452i2d25254cu14ce76a65af2becd@mail.gmail.com>
	<200905151430.23832.stefandoesinger@gmx.at>
Message-ID: <d04858af0905150536h2fe41ccep5ece75d4d3aad1ad@mail.gmail.com>

2009/5/15 Stefan D?singer <stefandoesinger at gmx.at>:
> Am Freitag, 15. Mai 2009 13:52:23 schrieb Luke Benstead:
>> Reference counts are wrong in Wine which causes some games to fail.
>> I'm working patches to make these tests pass so we can remove the
>> todo_wine's.
>>
>> Luke.
>
> The patch adds trailing whitespeaces in a few lines. Please remove them.
> Otherwise the code looks good to me.
>

Oops, same patch without the trailing whitespace.

Luke.
-------------- next part --------------
From b0bfef71be54d66471ce53751c568c67258dfdd3 Mon Sep 17 00:00:00 2001
From: Luke Benstead <kazade at gmail.com>
Date: Fri, 15 May 2009 13:33:21 +0100
Subject: Add a test for DirectDraw surface reference counting

---
 dlls/ddraw/tests/dsurface.c |  114 +++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 114 insertions(+), 0 deletions(-)

diff --git a/dlls/ddraw/tests/dsurface.c b/dlls/ddraw/tests/dsurface.c
index a0f69b1..43979fe 100644
--- a/dlls/ddraw/tests/dsurface.c
+++ b/dlls/ddraw/tests/dsurface.c
@@ -26,6 +26,7 @@
 #include <assert.h>
 #include "wine/test.h"
 #include "ddraw.h"
+#include "d3d.h"
 #include "unknwn.h"
 
 static LPDIRECTDRAW lpDD = NULL;
@@ -966,6 +967,118 @@ static void GetDDInterface_7(void)
     IDirectDrawSurface7_Release(dsurface7);
 }
 
+static unsigned long getRefcount(IUnknown *iface)
+{
+    IUnknown_AddRef(iface);
+    return IUnknown_Release(iface);
+}
+
+static void IFaceRefCount(void)
+{
+    LPDIRECTDRAWSURFACE surf;
+    DDSURFACEDESC surface;
+    HRESULT ret;
+    IDirectDrawSurface2 *surf2;
+    IDirectDrawSurface2 *surf2a;
+    IDirectDrawSurface4 *surf4;
+    IDirectDrawSurface7 *surf7a;
+    IDirectDrawSurface7 *surf7b;
+    IDirect3DTexture* tex;
+    IDirect3DTexture2* tex2;
+    IDirectDrawGammaControl* gamma;
+    unsigned long ref;
+
+    /* Create a surface */
+    ZeroMemory(&surface, sizeof(surface));
+    surface.dwSize = sizeof(surface);
+    surface.dwFlags = DDSD_CAPS;
+    surface.ddsCaps.dwCaps = DDSCAPS_PRIMARYSURFACE;
+    ret = IDirectDraw_CreateSurface(lpDD, &surface, &surf, NULL);
+
+    if (ret != DD_OK) 
+    {
+        ok(FALSE, "Could not create surface, skipping test\n");
+        return;
+    }
+    
+    ref = getRefcount((IUnknown *) surf);
+    ok(ref == 1, "Refcount is %ld, expected 1\n", ref); /* Check the ref count is one */
+        
+    IDirectDrawSurface_QueryInterface(surf, &IID_IDirectDrawSurface2, (void **) &surf2);
+    ref = getRefcount((IUnknown *) surf);
+    todo_wine ok(ref == 1, "Refcount is %ld, expected 1\n", ref); /* Check the ref count is one */
+    ref = getRefcount((IUnknown *) surf2);
+    todo_wine ok(ref == 1, "Refcount is %ld, expected 1\n", ref); /* This should also be one */
+    
+    IDirectDrawSurface_QueryInterface(surf, &IID_IDirectDrawSurface2, (void **) &surf2a);
+    ref = getRefcount((IUnknown *) surf2);
+    todo_wine ok(ref == 2, "Refcount is %ld, expected 2\n", ref);   /* Surf2's refcount should be 2 now, but surf should be 1 */
+    ref = getRefcount((IUnknown *) surf);
+    todo_wine ok(ref == 1, "Refcount is %ld, expected 1\n", ref);
+    
+    IDirectDrawSurface_QueryInterface(surf, &IID_IDirectDrawSurface4, (void **) &surf4);
+    ref = getRefcount((IUnknown *) surf4);
+    todo_wine ok(ref == 1, "Refcount is %ld, expected 1\n", ref);
+    
+    IDirectDrawSurface_QueryInterface(surf, &IID_IDirectDrawSurface7, (void **) &surf7a);
+    ref = getRefcount((IUnknown *) surf7a);
+    todo_wine ok(ref == 1, "Refcount is %ld, expected 1\n", ref);
+
+    IDirectDrawSurface_QueryInterface(surf, &IID_IDirectDrawSurface7, (void **) &surf7b);
+    ref = getRefcount((IUnknown *) surf7b);
+    todo_wine ok(ref == 2, "Refcount is %ld, expected 2\n", ref);
+
+    /* IDirect3DTexture interface (unlike the others) alters the original IDirectDrawSurface ref count */
+    IDirectDrawSurface_QueryInterface(surf, &IID_IDirect3DTexture, (void **) &tex);
+    ref = getRefcount((IUnknown *) tex);
+    todo_wine ok(ref == 2, "Refcount is %ld, expected 2\n", ref);
+    ref = getRefcount((IUnknown *) surf);
+    todo_wine ok(ref == 2, "Refcount is %ld, expected 2\n", ref);
+
+    IDirectDrawSurface_QueryInterface(surf, &IID_IDirect3DTexture2, (void **) &tex2);
+    ref = getRefcount((IUnknown *) tex);
+    todo_wine ok(ref == 3, "Refcount is %ld, expected 3\n", ref);
+    ref = getRefcount((IUnknown *) tex2);
+    todo_wine ok(ref == 3, "Refcount is %ld, expected 3\n", ref);
+    ref = getRefcount((IUnknown *) surf);
+    todo_wine ok(ref == 3, "Refcount is %ld, expected 3\n", ref);
+
+    IDirectDrawSurface_QueryInterface(surf, &IID_IDirectDrawGammaControl, (void **) &gamma);
+    ref = getRefcount((IUnknown *) gamma);
+    todo_wine ok(ref == 1, "Refcount is %ld, expected 1\n", ref);
+
+    ref = IDirect3DTexture2_Release(tex2); /* Release the texture */
+    todo_wine ok(ref == 2, "Refcount is %ld, expected 2\n", ref);
+    ref = getRefcount((IUnknown *) surf);
+    todo_wine ok(ref == 2, "Refcount is %ld, expected 2\n", ref);
+
+    ref = IDirect3DTexture_Release(tex); /* Release the texture */
+    todo_wine ok(ref == 1, "Refcount is %ld, expected 1\n", ref);
+    ref = getRefcount((IUnknown *) surf);
+    todo_wine ok(ref == 1, "Refcount is %ld, expected 1\n", ref);
+
+    ref = IDirectDrawGammaControl_Release(gamma); /* Release the gamma control */
+    todo_wine ok(ref == 0, "Refcount is %ld, expected 0\n", ref);
+
+    ref = IDirectDrawSurface2_Release(surf2); /* Release one of the 2 surf2 interfaces */
+    todo_wine ok(ref == 1, "Refcount is %ld, expected 1\n", ref);
+
+    ref = IDirectDrawSurface2_Release(surf2a); /* Release the other */
+    todo_wine ok(ref == 0, "Refcount is %ld, expected 0\n", ref);
+
+    ref = IDirectDrawSurface4_Release(surf4);
+    todo_wine ok(ref == 0, "Refcount is %ld, expected 0\n", ref);
+    
+    ref = IDirectDrawSurface7_Release(surf7a);
+    todo_wine ok(ref == 1, "Refcount is %ld, expected 1\n", ref);
+
+    ref = IDirectDrawSurface7_Release(surf7b);
+    todo_wine ok(ref == 0, "Refcount is %ld, expected 0\n", ref);
+
+    ref = IDirectDrawSurface_Release(surf);
+    ok(ref == 0, "Refcount is %ld, expected 0\n", ref);
+}
+
 #define MAXEXPECTED 8  /* Can match up to 8 expected surfaces */
 struct enumstruct
 {
@@ -2908,6 +3021,7 @@ START_TEST(dsurface)
     GetDDInterface_2();
     GetDDInterface_4();
     GetDDInterface_7();
+    IFaceRefCount();
     EnumTest();
     AttachmentTest();
     AttachmentTest7();
-- 
1.6.0.4

From nerv at dawncrow.de  Fri May 15 09:56:11 2009
From: nerv at dawncrow.de (=?ISO-8859-15?Q?Andr=E9_Hentschel?=)
Date: Fri, 15 May 2009 16:56:11 +0200
Subject: AppDB and Distributions
Message-ID: <4A0D828B.2090607@dawncrow.de>

Hi,
It's getting more and more strange in our AppDB.
If a user is running Ubuntu 9.04, he has 14 options which distribution 
called Ubuntu 9.04 to choose.
14?
There only should be two, the 32-Bit and the 64-Bit Version.
If we don't stop that we get more and more chaos in our DB.
So why this mess? I guess the users choose one and then see a way deeper 
some fields called "Distribution Name:" and "Distribution URL:", but 
they don't read the headline "New Distribution".
Maybe we should do something like "IF (choosen distribution) THEN (dont 
allow to make new one)".
Or maybe hide the "New Distribution"-Fields a bit more or make the "New" 
bigger.
Beside clones like "Ubuntu 9.04 Jaunty x86_64" and "Ubuntu 9.04 "Jaunty" 
x86_64 (+ variants like Kubuntu)" there are also old Alphas which should 
be removed, same thing for other Versions.

see also Bug 17401

Thanks for reading
Best regards Andr? Hentschel


From ricardojdfilipe at gmail.com  Fri May 15 12:28:51 2009
From: ricardojdfilipe at gmail.com (Ricardo Filipe)
Date: Fri, 15 May 2009 18:28:51 +0100
Subject: (try3)Fix ATI HD4800 being reported as ATI 9500
In-Reply-To: <200905150749.09447.hpestilence@gmail.com>
References: <200905150749.09447.hpestilence@gmail.com>
Message-ID: <bc8cede80905151028o607d5a2mac91175d08704b98@mail.gmail.com>

2009/5/15 Robert Key <hpestilence at gmail.com>

> Same patch but with the 2048MB X2 comment removed, thanks
> Roderick.
>
>
the previous try has been commited today... so if you want to fix the
comment you have to send another patch, or leave it like it is.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090515/afeae630/attachment.htm>

From sidnioulz at gmail.com  Fri May 15 12:47:28 2009
From: sidnioulz at gmail.com (Steve Dodier)
Date: Fri, 15 May 2009 19:47:28 +0200
Subject: wine-devel Digest, Vol 46, Issue 55
In-Reply-To: <mailman.7.1242406799.14536.wine-devel@winehq.org>
References: <mailman.7.1242406799.14536.wine-devel@winehq.org>
Message-ID: <2b98522e0905151047j1d11b12bu789921d040a544ab@mail.gmail.com>

Hello,

If it's clear the distro list is quite messed, I think the distinction
between Ubuntu Kubuntu and Xubuntu must be kept, because for install, Ubuntu
ships with PulseAudio and Compiz by default, which cause a lot of problems,
while Xubuntu is free of that and has its compositor shutdown by default.
Another way to get rid of that would be to add a few checkboxes for the
known problematic bits of the tests (ie. kind of GPU / Presence of
Pulse/Compiz / use of winetricks), which would result in easier work for the
bug triagers.

Anyways, I don't want my post to be a "severity levels" 2, so let me know if
you think there's interest in digging into this and i'll post on the forum.

Cordially, SD.

PS : this is the first time i post on this list. I'm merely an user,
sometimes helping other ones on #winehq and in launchpad. I'm also the
self-appointed part-time apprentice of the guru Scott Ritchie :p

-- 
Steve Dodier
OpenPGP : 0E5E4ECB
IRC : SiDi on irc.freenode.net
Jabber : sidi at im.apinc.org
steve.dodier at gmail.com
https://launchpad.net/~sidi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090515/7e82c5f0/attachment.htm>

From fgouget at free.fr  Fri May 15 18:32:11 2009
From: fgouget at free.fr (Francois Gouget)
Date: Sat, 16 May 2009 01:32:11 +0200 (CEST)
Subject: [shell32] Improve the Dutch 'about' message box
In-Reply-To: <3f4fd2640905120256y72cf9843j32d8941ceca96db3@mail.gmail.com>
References: <4A09344E.9090603@gmail.com>
	<3f4fd2640905120142u777bd5f1i8050f2a4abb71c2a@mail.gmail.com>
	<4A093BC6.8090801@gmail.com> <4A093E4D.9080402@gmail.com>
	<3f4fd2640905120256y72cf9843j32d8941ceca96db3@mail.gmail.com>
Message-ID: <alpine.DEB.2.00.0905160125100.19866@amboise.dolphin>

On Tue, 12 May 2009, Reece Dunn wrote:
[...]
> What I would like to do is get an automated (or semi-automated) tool,
> ideally with a GUI interface to it. That would ultimately put the
> designer in charge. Hopefully, this would also mean that you have a
> base resource file that produces the English resources and generate
> the others using the standard po files - thus making it easier to
> translate.

Yes, handling the translation of Wine's resource files would be really 
nice. It would let us leverage a lot of the po tools, especially the 
website based ones. This would make it much easier for users to 
contribute to the translations (right now it's pretty intimidating). I'm 
not sure how to handle the widget layout though.

But I have just stumbled on this pair of tools from the 
translate-toolkit packag (on Debian) that seem to be made just for this 
purpose:

 * po2rc
   convert Gettext PO localization files to Windows Resource (.rc) files
   http://translate.sourceforge.net/wiki/toolkit/rc2po

 * rc2po
   convert .rc files to Gettext PO localization files
   http://translate.sourceforge.net/wiki/toolkit/rc2po


I don't have time to play with them but with luck someone else does. 
Getting it going with Wine would be really great.


-- 
Francois Gouget <fgouget at free.fr>              http://fgouget.free.fr/
           Cahn's Axiom: When all else fails, read the instructions.


From jjmckenzie51 at earthlink.net  Fri May 15 21:08:39 2009
From: jjmckenzie51 at earthlink.net (James McKenzie)
Date: Fri, 15 May 2009 19:08:39 -0700
Subject: Add tests for DirectDraw surface reference counting
In-Reply-To: <d04858af0905150536h2fe41ccep5ece75d4d3aad1ad@mail.gmail.com>
References: <d04858af0905150452i2d25254cu14ce76a65af2becd@mail.gmail.com>	<200905151430.23832.stefandoesinger@gmx.at>
	<d04858af0905150536h2fe41ccep5ece75d4d3aad1ad@mail.gmail.com>
Message-ID: <4A0E2027.4030704@earthlink.net>

Luke Benstead wrote:
> 2009/5/15 Stefan D?singer <stefandoesinger at gmx.at>:
>   
>> Am Freitag, 15. Mai 2009 13:52:23 schrieb Luke Benstead:
>>     
>>> Reference counts are wrong in Wine which causes some games to fail.
>>> I'm working patches to make these tests pass so we can remove the
>>> todo_wine's.
>>>
>>> Luke.
>>>       
>> The patch adds trailing whitespeaces in a few lines. Please remove them.
>> Otherwise the code looks good to me.
>>
>>     
>
> Oops, same patch without the trailing whitespace.
>
>   
Send it to wine-patches as (try 2) with a comment about removing the
white spaces :)

James McKenzie



From dmitry at codeweavers.com  Sat May 16 11:14:06 2009
From: dmitry at codeweavers.com (Dmitry Timoshkov)
Date: Sun, 17 May 2009 01:14:06 +0900
Subject: ole32: process all sent and some posted messages
	inCoWaitForMultipleHandles
References: <33F6268AA99B6C448F07F03B2B6497D32C2065@taz.CodeWeavers.local>
Message-ID: <87988486921443D7945EA973F88F3F31@DMITRY>

"Vincent Povirk" <vincent at codeweavers.com> wrote:

> With a test program that uses CoWaitForMultipleHandles in a single-thread
> apartment as a main loop, I found that on Windows all sent messages were
> processed, the program's window did redraw, keyboard and mouse input was
>ignored, and only posted messsages from 0x3e0 through 0x3e8 were processed.
> This brings Wine's behavior in line with what I observed.

That's WM_DDE_FIRST and WM_DDE_LAST.

-- 
Dmitry.


From doffle.alain at yahoo.fr  Sat May 16 12:07:28 2009
From: doffle.alain at yahoo.fr (Doffle Alain)
Date: Sat, 16 May 2009 10:07:28 -0700 (PDT)
Subject: Error in a shader compilation
Message-ID: <422345.47756.qm@web24604.mail.ird.yahoo.com>

Hi,

I'm trying to get rid of an error I observe in a wine trace (cf. attachement).

fixme:d3d_shader:print_glsl_info_log Error received from GLSL shader #32: "0(37) : error C1068: array index out of bounds\n"

In my understanding, it comes from an incompatibility between the two lines : 

trace:d3d_shader:shader_vaddline GL HW (2, 13) : uniform vec4 VC[253];

and 

trace:d3d_shader:shader_vaddline GL HW (37, 1057) : gl_Position.zw = (VC[254].xy);


Can you please give me some help/hint/advice about the correct way to solve this problem please ?


      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090516/c8e01c59/attachment.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Trace
Type: application/octet-stream
Size: 4908 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090516/c8e01c59/attachment.obj>

From paul.vriens.wine at gmail.com  Sat May 16 12:18:01 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Sat, 16 May 2009 19:18:01 +0200
Subject: Detecting an invalid handle in setupapi
Message-ID: <4A0EF549.3020109@gmail.com>

Hi,

I'm trying to install Microsoft's MMC (W2K3) and it crashes every now 
and then with different symptoms.

I've tracked it down to what I think is a fault in the application that 
triggers a bug in Wine. All inf files that are read are closed with 
SetupCloseInfFile but the app is still trying to use the handle in a 
call to SetupFindFirstLineA.

On Windows (tested on W2K3) this will lead to a failure of 
SetupFindFirstLineA with a last error of ERROR_INVALID_HANDLE. On Wine 
we don't check the handle and thus the outcome cannot be predicted 
(mostly crash).

What ways do we have to detect invalid handles or better yet how can 
this be solved?

-- 
Cheers,

Paul.


From juan.lang at gmail.com  Sat May 16 12:31:31 2009
From: juan.lang at gmail.com (Juan Lang)
Date: Sat, 16 May 2009 10:31:31 -0700
Subject: Detecting an invalid handle in setupapi
In-Reply-To: <4A0EF549.3020109@gmail.com>
References: <4A0EF549.3020109@gmail.com>
Message-ID: <3a768c550905161031q2f18ea2eiaa1e59858751821d@mail.gmail.com>

Hi Paul,

> On Windows (tested on W2K3) this will lead to a failure of
> SetupFindFirstLineA with a last error of ERROR_INVALID_HANDLE. On Wine we
> don't check the handle and thus the outcome cannot be predicted (mostly
> crash).
>
> What ways do we have to detect invalid handles or better yet how can this be
> solved?

When we detect application usage like this, the usual approach is to
avoid returning pointers as handles, and instead introduce the use of
a handle table.  Then closed handles can be detected.
--Juan


From jjmckenzie51 at earthlink.net  Sat May 16 16:36:07 2009
From: jjmckenzie51 at earthlink.net (James Mckenzie)
Date: Sat, 16 May 2009 14:36:07 -0700 (GMT-07:00)
Subject: comdlg32: Optimize german Find and FindReplace Dialog(try2)
Message-ID: <25786477.1242509767852.JavaMail.root@mswamui-blood.atl.sa.earthlink.net>

Dawncrow:

Your fix does not match what is displayed in W2K.  What does this dialog look like in WindowsXP?

James McKenzie


-----Original Message-----
>From: Dawncrow <webmaster at dawncrow.de>
>Sent: May 15, 2009 11:14 AM
>To: wine-patches <wine-patches at winehq.org>
>Subject: comdlg32: Optimize german Find and FindReplace Dialog(try2)
>
>compare can be found here:
>http://www.dritimage.de/uploads/bilder/124241122145_comdlg32winepatch.jpeg
>---
>  dlls/comdlg32/cdlg_De.rc |   14 +++++++-------
>  1 files changed, 7 insertions(+), 7 deletions(-)
>
>



From jjmckenzie51 at earthlink.net  Sat May 16 22:23:36 2009
From: jjmckenzie51 at earthlink.net (James McKenzie)
Date: Sat, 16 May 2009 20:23:36 -0700
Subject: News on Wine 1.1.21/MacOSX/XQuartz 2.3.3
Message-ID: <4A0F8338.5020708@earthlink.net>

The news is good. 

First, if you are using Tiger, X11 is still broken and probably will
remain so.
Second, you do not need to upgrade to Leopard 10.5.7 to use XQuartz
2.3.3, the installer was fixed so it would install on 10.5.6.
Third, Graphical games that depend on GLSL functions work.  I tried
dOOm, the Windows95 version, and it is definitely playable.  Frame rates
drop whenever you pick something up, but this also happens with
CrossOver Games for Mac.  This does not happen with Crossover Pro for
Mac 7.1.

I do not have any other programs that depend on GLSL functionality, but
I suspect they will work on this combination.

BTW, the version of Wine for Mac that I used for testing was built using
Mike Kronenberg's Build Environment 1.1.5.

James McKenzie



From scott at open-vote.org  Sun May 17 03:28:41 2009
From: scott at open-vote.org (Scott Ritchie)
Date: Sun, 17 May 2009 01:28:41 -0700
Subject: SoC 2009 / Application Test Suite Update
In-Reply-To: <b6bb06270905131027m5c4bd9bbo34723d48e8c39d10@mail.gmail.com>
References: <b6bb06270905131027m5c4bd9bbo34723d48e8c39d10@mail.gmail.com>
Message-ID: <4A0FCAB9.6080805@open-vote.org>

Austin English wrote:
> Howdy all,
> 
> I've been working on the test suite. I've got a few basic tests set up
> with notepad, and I'm currently working on setting up the framework,
> using AutoHotKey to both run all the tests and parse the logs for
> failures/passing todo's.
> 

You may have already had this idea, but today I was just thinking of the 
concept of running performance tests alongside Wine's conformance tests. 
  Your test suite would be a great place for that - just integrate 
scripts for the various benchmarking tools.  Bonus points if you can put 
the output from the benchmark programs themselves into some sort of 
machine parseable format.  Then we could have a rough chart of 
performance data on various things as development continues; in 
particular we'd catch bugs that still behave correctly but are 
drastically inefficient.

Thanks,
Scott Ritchie


From imamdxl8805 at gmail.com  Sun May 17 04:17:43 2009
From: imamdxl8805 at gmail.com (MD.IMAM HOSSAIN)
Date: Sun, 17 May 2009 15:17:43 +0600
Subject: WINE Intel
Message-ID: <24a90ebe0905170217q46de36f7q641c822c62714a71@mail.gmail.com>

Dear WINE Developers,

Good morning. A great journey to WINE's Direct3D support since the beginning
of its life time.
Now it is so mature that I can play big games like FIFA 2006-2009, Need For
Speed ProStreet, Need For Speed Undercover, Hitman Blood Money and so many
easily.
It already has Shader Model 1, Shader Model 2, Shader Model 3 support.
What is I am going to say is that all of the bits of 3D it has are only and
fully supported on nVidia based graphics card due to their superior Linux
driver.
But nVidia is not alone in the graphics card building field. There are other
manufacturer around them.
Majority of the C.P.U comes up with the INTEL integrated graphics card. We
all very well know that their Linux driver lack most of the modern 3D bits.
But most of the user do not know about that. They just get frustrated with
WINE.

Some DirectX 7 games runs very well in nVidia graphics card but not in
INTEL. Same thing is for some DirectX8, DirectX8.1.

I do not know but I suspect that WINE's various Direct3D code utilizes
OpenGL nVidia Extension or higher level OpenGL ARB Extension rather that
lower one.

That's why while INTEL OpenGL driver does support DirectX7, DirectX8 level
3D wine does not able to run many games on INTEL Linux graphics driver.
While those many games run on nVidia Linux driver.

I hope WINE will someday have better INTEL OpenGL support.

Your sincerely,
MD. IMAM HOSSAIN
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090517/6e3e24e0/attachment-0001.htm>

From shacklein at gmail.com  Sun May 17 04:33:59 2009
From: shacklein at gmail.com (Ben Klein)
Date: Sun, 17 May 2009 19:33:59 +1000
Subject: WINE Intel
In-Reply-To: <24a90ebe0905170217q46de36f7q641c822c62714a71@mail.gmail.com>
References: <24a90ebe0905170217q46de36f7q641c822c62714a71@mail.gmail.com>
Message-ID: <d7e40be30905170233t961dc01sad043e108ddc365f@mail.gmail.com>

2009/5/17 MD.IMAM HOSSAIN <imamdxl8805 at gmail.com>:
> Majority of the C.P.U comes up with the INTEL integrated graphics card.

No CPU comes with integrated GPU (yet). Most (all?) Intel-based
motherboards (including those for laptops) that have integrated
graphics use Intel-brand graphics. This does not constitute "most"
motherboards, as there are no Intel-brand GPUs on AMD CPU-compatible
motherboards, and there are even Intel CPU-compatible motherboards
that have nVidia graphics chips.

> We
> all very well know that their Linux driver lack most of the modern 3D bits.
> But most of the user do not know about that. They just get frustrated with
> WINE.

Also make sure the the hardware supports the "missing" features. Intel
cards are designed to be integrated into motherboards, not to compete
with high-end nVidia or AMD/ATI discrete cards.

> Some DirectX 7 games runs very well in nVidia graphics card but not in
> INTEL. Same thing is for some DirectX8, DirectX8.1.
>
> I do not know but I suspect that WINE's various Direct3D code utilizes
> OpenGL nVidia Extension or higher level OpenGL ARB Extension rather that
> lower one.

You can (and should have) research this yourself. Wine is 100% opensource.

> That's why while INTEL OpenGL driver does support DirectX7, DirectX8 level
> 3D wine does not able to run many games on INTEL Linux graphics driver.
> While those many games run on nVidia Linux driver.

Note that no Linux video driver supports any form of DirectX. Wine
translates DirectX calls to OpenGL etc. calls.

> I hope WINE will someday have better INTEL OpenGL support.

Most likely, improved drivers would fix this, however reporting bugs
regarding Intel graphics and proposing patches to Wine (assuming they
are well-formed and proper, and don't break support with other cards)
are more than welcome.


From thunderbird2k at gmail.com  Sun May 17 06:16:01 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Sun, 17 May 2009 13:16:01 +0200
Subject: WINE Intel
In-Reply-To: <24a90ebe0905170217q46de36f7q641c822c62714a71@mail.gmail.com>
References: <24a90ebe0905170217q46de36f7q641c822c62714a71@mail.gmail.com>
Message-ID: <c8485d470905170416xcfb1a0dmc50f7c1b9c7188eb@mail.gmail.com>

> I do not know but I suspect that WINE's various Direct3D code utilizes
> OpenGL nVidia Extension or higher level OpenGL ARB Extension rather that
> lower one.
>
> That's why while INTEL OpenGL driver does support DirectX7, DirectX8 level
> 3D wine does not able to run many games on INTEL Linux graphics driver.
> While those many games run on nVidia Linux driver.
>
> I hope WINE will someday have better INTEL OpenGL support.

Wine is doing nothing wrong we use generic OpenGL extensions all
through Wine. The issue is that the intel drivers don't offer all
opengl extensions we need for decent d3d9 support, if the gl support
isn't there we can't support it. Second the quality of the intel
drivers still isn't very good, sure recent versions support GLSL, FBOs
and other things but the drivers are first of all buggy and second
very slow for those purposes. Further ATI works reasonably well with
Wine as well these days (it used to be crap). Intel needs to fix their
drivers.

Roderick


From sedwards at bordeauxgroup.com  Sun May 17 06:49:43 2009
From: sedwards at bordeauxgroup.com (Steven Edwards)
Date: Sun, 17 May 2009 07:49:43 -0400
Subject: News on Wine 1.1.21/MacOSX/XQuartz 2.3.3
In-Reply-To: <4A0F8338.5020708@earthlink.net>
References: <4A0F8338.5020708@earthlink.net>
Message-ID: <19e31a080905170449k77959ac5g82a2b13132b85c30@mail.gmail.com>

On Sat, May 16, 2009 at 11:23 PM, James McKenzie
<jjmckenzie51 at earthlink.net> wrote:
> BTW, the version of Wine for Mac that I used for testing was built using
> Mike Kronenberg's Build Environment 1.1.5.

I tested this last night myself and am running winetest now. I still
get a few d3d texture failures but that could be because my mini's a
POS with the Intel GMA card. I'm interested in seeing other results so
if you get a chance could you (or anyone else lurking with OS X) do a
winetest run?

Thanks
-- 
Steven Edwards

"There is one thing stronger than all the armies in the world, and
that is an idea whose time has come." - Victor Hugo


From max at veneto.com  Sun May 17 10:35:18 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Sun, 17 May 2009 17:35:18 +0200
Subject: DIB Engine - Mostly fixed against test suite
Message-ID: <guparm$l51$1@ger.gmane.org>

Remaining bugs are related to :

1) Some color on monochrome bitmaps.... here I guess nobody knows how to do it right. I fixed some todo wine (most) but have 2 failures which wine does right.
Seldom used anyways, and happens only on weird palettes. I guess not ever Microsoft knows what they did on this respect :-)

2) an AlphaBlend() call which should fail and doesn't. Here I really don't
know why it should fail..... Uninfluent, anyways.

3) GetDIBits on a source DIB with BPP <= 8 fails to retrieve the original DIB palette, and synthesizes a new one instead.
For the moment I found no simple way to grab the palette from inside GetDIBits without maintaining a linked list
of HBITMAP <--> internal bitmaps. Not worth the effort for the moment anyways.
If somebody notices weird colors due to it, I'll try to fix.....

There are still some missing/buggy features rarely used that aren't spotted by testsuite;
by now I've no time to fix them, anyways no one felt into them up to now :-)

Austin, could you please retest it against test suite ?

(code on Bug421 page)

Ciao

Max



From nerv at dawncrow.de  Sun May 17 11:18:58 2009
From: nerv at dawncrow.de (=?UTF-8?B?QW5kcsOpIEhlbnRzY2hlbA==?=)
Date: Sun, 17 May 2009 18:18:58 +0200
Subject: SourceForge 2009 Community Choice Award
Message-ID: <4A1038F2.9070302@dawncrow.de>

Last Year we got a funny award, lets nominate Wine for some serios 
things at http://sourceforge.net/community/cca09
-------------- next part --------------
An embedded message was scrubbed...
From: "SourceForge.net" <noreply at sourceforge.net>
Subject: SourceForge 2009 Community Choice Awards Confirmation
Date: Sun, 17 May 2009 16:15:36 +0000
Size: 1365
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090517/c8c973e7/attachment.eml>

From stefandoesinger at gmx.at  Sun May 17 11:40:34 2009
From: stefandoesinger at gmx.at (Stefan =?iso-8859-1?q?D=F6singer?=)
Date: Sun, 17 May 2009 18:40:34 +0200
Subject: WINE Intel
In-Reply-To: <c8485d470905170416xcfb1a0dmc50f7c1b9c7188eb@mail.gmail.com>
References: <24a90ebe0905170217q46de36f7q641c822c62714a71@mail.gmail.com>
	<c8485d470905170416xcfb1a0dmc50f7c1b9c7188eb@mail.gmail.com>
Message-ID: <200905171840.34626.stefandoesinger@gmx.at>

Am Sonntag, 17. Mai 2009 13:16:01 schrieb Roderick Colenbrander:
> Intel needs to fix their drivers.
Note that the intel drivers are open source, so you(The thread starter) can 
speed up this process by testing games, isolating the problems and filing bug 
reports in the Mesa or DRI bugzilla. I am pretty sure the developers could 
use extra manpower too.


From mikolaj at zalewski.pl  Sun May 17 15:44:52 2009
From: mikolaj at zalewski.pl (=?UTF-8?B?TWlrb8WCYWogWmFsZXdza2k=?=)
Date: Sun, 17 May 2009 22:44:52 +0200
Subject: [shell32] Improve the Dutch 'about' message box
In-Reply-To: <alpine.DEB.2.00.0905160125100.19866@amboise.dolphin>
References: <4A09344E.9090603@gmail.com>	<3f4fd2640905120142u777bd5f1i8050f2a4abb71c2a@mail.gmail.com>	<4A093BC6.8090801@gmail.com>
	<4A093E4D.9080402@gmail.com>	<3f4fd2640905120256y72cf9843j32d8941ceca96db3@mail.gmail.com>
	<alpine.DEB.2.00.0905160125100.19866@amboise.dolphin>
Message-ID: <4A107744.6000605@zalewski.pl>


> Yes, handling the translation of Wine's resource files would be really 
> nice. It would let us leverage a lot of the po tools, especially the 
> website based ones. This would make it much easier for users to 
> contribute to the translations (right now it's pretty intimidating). I'm 
> not sure how to handle the widget layout though.
>   
  I also think I would be better to use po files (without them, our 
translations get out-of-sync - e.g. in start a new /Unix switch was 
intruduced, but only 7 out of 16 languages has it in the help message. 
For the users of the other 9 languages, we are providing an incorrect 
help message. This is adding a new line to an existing message, so wrc 
--verify-translation won't notice it).
  I was thinking about the widget layout that may need to be different 
in a translation and I think this can be solved by adding a possibility 
to add some transformations of controls relative to the English ones. 
Something like:

msgid "transform.dialog.133"
msgstr ""
"control 12 resize by (10, 10)"
"control 13 move by (10, 10)"

  Making the transformations relative should make updating such 
resources not very common (and in most cases there will be even no need 
for this). There may still be cases when it looks ugly if e.g. one adds 
a new button to the English dialog while the localized ones are enlarged 
and takes a place where the new button is added, but we could be solved 
by adding to msgid e.g. a hash of the English resource with localizable 
stirngs removed, so that the translation will be fuzzy after a merge.
  I could try to look into po2rc and rc2po if they work and can be 
augmented with such a functionality, but I'm not sure if I will have 
time soon.

Miko?aj


From austinenglish at gmail.com  Sun May 17 15:45:31 2009
From: austinenglish at gmail.com (Austin English)
Date: Sun, 17 May 2009 15:45:31 -0500
Subject: News on Wine 1.1.21/MacOSX/XQuartz 2.3.3
In-Reply-To: <19e31a080905170449k77959ac5g82a2b13132b85c30@mail.gmail.com>
References: <4A0F8338.5020708@earthlink.net>
	<19e31a080905170449k77959ac5g82a2b13132b85c30@mail.gmail.com>
Message-ID: <b6bb06270905171345v537e4ce1n4bda0b6f9eb396f2@mail.gmail.com>

On Sun, May 17, 2009 at 6:49 AM, Steven Edwards
<sedwards at bordeauxgroup.com> wrote:
> On Sat, May 16, 2009 at 11:23 PM, James McKenzie
> <jjmckenzie51 at earthlink.net> wrote:
>> BTW, the version of Wine for Mac that I used for testing was built using
>> Mike Kronenberg's Build Environment 1.1.5.
>
> I tested this last night myself and am running winetest now. I still
> get a few d3d texture failures but that could be because my mini's a
> POS with the Intel GMA card. I'm interested in seeing other results so
> if you get a chance could you (or anyone else lurking with OS X) do a
> winetest run?

Ideally, against a more recent wine version.

Shameless plug:
I've got a script to do it, but no one that I know of is testing it on
OS X. If someone could test it, I'll add any needed fixes:
http://winezeug.googlecode.com/svn/trunk/build_script/daily.sh

-- 
-Austin


From austinenglish at gmail.com  Sun May 17 15:47:21 2009
From: austinenglish at gmail.com (Austin English)
Date: Sun, 17 May 2009 15:47:21 -0500
Subject: SoC 2009 / Application Test Suite Update
In-Reply-To: <4A0FCAB9.6080805@open-vote.org>
References: <b6bb06270905131027m5c4bd9bbo34723d48e8c39d10@mail.gmail.com>
	<4A0FCAB9.6080805@open-vote.org>
Message-ID: <b6bb06270905171347t383fd351wb285f2d7595d91ab@mail.gmail.com>

On Sun, May 17, 2009 at 3:28 AM, Scott Ritchie <scott at open-vote.org> wrote:
> Austin English wrote:
>>
>> Howdy all,
>>
>> I've been working on the test suite. I've got a few basic tests set up
>> with notepad, and I'm currently working on setting up the framework,
>> using AutoHotKey to both run all the tests and parse the logs for
>> failures/passing todo's.
>>
>
> You may have already had this idea, but today I was just thinking of the
> concept of running performance tests alongside Wine's conformance tests.
> ?Your test suite would be a great place for that - just integrate scripts
> for the various benchmarking tools. ?Bonus points if you can put the output
> from the benchmark programs themselves into some sort of machine parseable
> format. ?Then we could have a rough chart of performance data on various
> things as development continues; in particular we'd catch bugs that still
> behave correctly but are drastically inefficient.

Possibly, I may look into doing that.

My current plan is to gather all the low hanging fruit. Small, simple
applications give us a large range of stuff to test, without adding
much difficulty/complexity. Once all that is done, more complex stuff
can be added.

-- 
-Austin


From rwoodsmall at mac.com  Sun May 17 16:33:22 2009
From: rwoodsmall at mac.com (ryan woodsmall)
Date: Sun, 17 May 2009 16:33:22 -0500
Subject: News on Wine 1.1.21/MacOSX/XQuartz 2.3.3
In-Reply-To: <b6bb06270905171345v537e4ce1n4bda0b6f9eb396f2@mail.gmail.com>
References: <4A0F8338.5020708@earthlink.net>
	<19e31a080905170449k77959ac5g82a2b13132b85c30@mail.gmail.com>
	<b6bb06270905171345v537e4ce1n4bda0b6f9eb396f2@mail.gmail.com>
Message-ID: <007E21DB-ACD9-4B73-90DE-D1BDEEAC0383@mac.com>

On May 17, 2009, at 3:45 PM, Austin English wrote:

> Ideally, against a more recent wine version.
>
> Shameless plug:
> I've got a script to do it, but no one that I know of is testing it on
> OS X. If someone could test it, I'll add any needed fixes:
> http://winezeug.googlecode.com/svn/trunk/build_script/daily.sh

I have (yet another) build script, but OS X requires a number of deps  
to be compiled and installed as Apple doesn't ship some libraries,  
headers, or ships incomplete packages here and there.  This is all  
pretty bare bones stuff.

I can vouch for functionality with Mac OS X 10.5.7 + XQuartz 2.3.3.1 +  
Wine 1.1.21 (from source).  If and when I can find some time IRL, I  
can get the entire Wine compile and install with deps scripted up.   
This of course depends on free time, which is always somewhat lacking.

Your script looks good, Austin - lots of functionality there!

   ryan woodsmall
     rwoodsmall at mac.com


"Be well, do good work, and keep in touch." - Garrison Keillor


From scott at open-vote.org  Sun May 17 17:08:28 2009
From: scott at open-vote.org (Scott Ritchie)
Date: Sun, 17 May 2009 15:08:28 -0700
Subject: DIB Engine - Mostly fixed against test suite
In-Reply-To: <guparm$l51$1@ger.gmane.org>
References: <guparm$l51$1@ger.gmane.org>
Message-ID: <4A108ADC.3050002@open-vote.org>

Massimo Del Fedele wrote:
> There are still some missing/buggy features rarely used that aren't 
> spotted by testsuite;
> by now I've no time to fix them, anyways no one felt into them up to now 
> :-)

Hey Max,

It sounds like you're in a better position than most to write a 
conformance test for these missing/buggy features, since you're aware of 
them.  That might help everyone, and also make your DIB engine more 
attractive since it'll be passing even more tests that current Wine may 
not be.

Keep up the good work :)

Thanks,
Scott Ritchie


From saturn_systems at yahoo.com  Sun May 17 17:46:37 2009
From: saturn_systems at yahoo.com (nn)
Date: Sun, 17 May 2009 15:46:37 -0700 (PDT)
Subject: [Article] WINE and the importance of application compatibility
Message-ID: <77023.25989.qm@web39705.mail.mud.yahoo.com>




WINE and the importance of application compatibility

http://community.zdnet.co.uk/blog/0,1000000567,10012751o-2000630136b,00.htm



      Need a Holiday? Win a $10,000 Holiday of your choice. Enter now.http://us.lrd.yahoo.com/_ylc=X3oDMTJxN2x2ZmNpBF9zAzIwMjM2MTY2MTMEdG1fZG1lY2gDVGV4dCBMaW5rBHRtX2xuawNVMTEwMzk3NwR0bV9uZXQDWWFob28hBHRtX3BvcwN0YWdsaW5lBHRtX3BwdHkDYXVueg--/SIG=14600t3ni/**http%3A//au.rd.yahoo.com/mail/tagline/creativeholidays/*http%3A//au.docs.yahoo.com/homepageset/%3Fp1=other%26p2=au%26p3=mailtagline


From scott at open-vote.org  Sun May 17 18:21:19 2009
From: scott at open-vote.org (Scott Ritchie)
Date: Sun, 17 May 2009 16:21:19 -0700
Subject: [Article] WINE and the importance of application compatibility
In-Reply-To: <77023.25989.qm@web39705.mail.mud.yahoo.com>
References: <77023.25989.qm@web39705.mail.mud.yahoo.com>
Message-ID: <4A109BEF.6060405@open-vote.org>

nn wrote:
> 
> 
> WINE and the importance of application compatibility
> 
> http://community.zdnet.co.uk/blog/0,1000000567,10012751o-2000630136b,00.htm
> 
> 

It's a good article, though it's sad to see a mention of "WineX" as a 
serious alternative to Wine.  WineX was obsolete years ago (and the 
consensus about its successor Cedega on the various web forums seems to 
be that it's often substantially behind Crossover Games).

Codeweavers, you need to do a better job letting people know Crossover 
Games exists.

Thanks,
Scott Ritchie


From jjmckenzie51 at earthlink.net  Sun May 17 18:43:20 2009
From: jjmckenzie51 at earthlink.net (James McKenzie)
Date: Sun, 17 May 2009 16:43:20 -0700
Subject: News on Wine 1.1.21/MacOSX/XQuartz 2.3.3
In-Reply-To: <b6bb06270905171345v537e4ce1n4bda0b6f9eb396f2@mail.gmail.com>
References: <4A0F8338.5020708@earthlink.net>	
	<19e31a080905170449k77959ac5g82a2b13132b85c30@mail.gmail.com>
	<b6bb06270905171345v537e4ce1n4bda0b6f9eb396f2@mail.gmail.com>
Message-ID: <4A10A118.4050704@earthlink.net>

Austin English wrote:
> On Sun, May 17, 2009 at 6:49 AM, Steven Edwards
> <sedwards at bordeauxgroup.com> wrote:
>   
>> On Sat, May 16, 2009 at 11:23 PM, James McKenzie
>> <jjmckenzie51 at earthlink.net> wrote:
>>     
>>> BTW, the version of Wine for Mac that I used for testing was built using
>>> Mike Kronenberg's Build Environment 1.1.5.
>>>       
>> I tested this last night myself and am running winetest now. I still
>> get a few d3d texture failures but that could be because my mini's a
>> POS with the Intel GMA card. I'm interested in seeing other results so
>> if you get a chance could you (or anyone else lurking with OS X) do a
>> winetest run?
>>     
>
> Ideally, against a more recent wine version.
>
> Shameless plug:
> I've got a script to do it, but no one that I know of is testing it on
> OS X. If someone could test it, I'll add any needed fixes:
> http://winezeug.googlecode.com/svn/trunk/build_script/daily.sh
>
>   
Austin:

Contact Mike Kronenberg or Zach Drayer and see what they currently
have.  I know that Mike's builds add all of the necessary libraries to
the Application Object.  That keeps the system clean and allows for
'Drag and Drop' installation/removal of Wine for MacOSX.  Your script
seems to be clean as well, but has no MacOSX functionality added to it. 
Would be nice if it were there.

James McKenzie



From jjmckenzie51 at earthlink.net  Sun May 17 18:56:02 2009
From: jjmckenzie51 at earthlink.net (James McKenzie)
Date: Sun, 17 May 2009 16:56:02 -0700
Subject: [Article] WINE and the importance of application compatibility
In-Reply-To: <4A109BEF.6060405@open-vote.org>
References: <77023.25989.qm@web39705.mail.mud.yahoo.com>
	<4A109BEF.6060405@open-vote.org>
Message-ID: <4A10A412.1060807@earthlink.net>

Scott Ritchie wrote:
> nn wrote:
>>
>>
>> WINE and the importance of application compatibility
>>
>> http://community.zdnet.co.uk/blog/0,1000000567,10012751o-2000630136b,00.htm
>>
>>
>>
>
> It's a good article, though it's sad to see a mention of "WineX" as a
> serious alternative to Wine.  WineX was obsolete years ago (and the
> consensus about its successor Cedega on the various web forums seems
> to be that it's often substantially behind Crossover Games).
>
The article stated that most of it was a few years old.
> Codeweavers, you need to do a better job letting people know Crossover
> Games exists.
>
WE need to get to the point where most of the common business type
applications will run in Wine without a bunch of twiddling and fixes.
The average "Joe" user will not put up with this.  I've been on this
mantra for a long time.  Build a better mousetrap built on an OS that is
more robust and market it correctly and you will have the world at your
fingertips.  Witness the comparision between Windows and OS/2.  OS/2 was
technically superior but had problems running most of the current
software.  It 'died' and Windows lived on.  The same could be said about
Linux/Wine at its current state.   I need Wine to run a few Windows
applications, one of which will not be made for either Linux or Mac. 
Thus, I have to have Windows compatibility or Windows itself.  I don't
feel like 'polluting' my system, so I need API compatibilty.  Wine
delivers this for me.  The problem is that I need another Windows
program to run.  I'm going to work on it and report bugs as they
occur.   I may also start running Winetest to see what works and what
does not.  Hopefully, with the recent release of XQuartz 2.3.3, most of
the problems have gone away.

James McKenzie

> Thanks,
> Scott Ritchie
>
>
>




From dank at kegel.com  Sun May 17 19:09:07 2009
From: dank at kegel.com (Dan Kegel)
Date: Sun, 17 May 2009 17:09:07 -0700
Subject: [Article] WINE and the importance of application compatibility
Message-ID: <a71bd89a0905171709s4284b37cw2fa210cf3a00edc8@mail.gmail.com>

James McKensie wrote:
> WE need to get to the point where most of the common business type
> applications will run in Wine without a bunch of twiddling and fixes.

Well, yes.  That was one of my goals during my big Wine push
( http://www.winehq.org/pipermail/wine-devel/2008-February/062550.html ),
and I think we made a lot of progress.  Still lots to do, as you know.

Sure would be nice if we could convince the DoD they needed
a second source for Windows :-)
- Dan


From winehacker at gmail.com  Sun May 17 19:55:45 2009
From: winehacker at gmail.com (Steven Edwards)
Date: Sun, 17 May 2009 20:55:45 -0400
Subject: [Article] WINE and the importance of application compatibility
In-Reply-To: <a71bd89a0905171709s4284b37cw2fa210cf3a00edc8@mail.gmail.com>
References: <a71bd89a0905171709s4284b37cw2fa210cf3a00edc8@mail.gmail.com>
Message-ID: <19e31a080905171755v64086635x5a4fee93ab756bbd@mail.gmail.com>

On Sun, May 17, 2009 at 8:09 PM, Dan Kegel <dank at kegel.com> wrote:
> Sure would be nice if we could convince the DoD they needed
> a second source for Windows :-)

Maybe a big customer like the DoD would help but I am starting to
doubt it. The situation I face with my day job, is that we can't even
get support for certain applications in VMware. As soon as we say "we
have a virtualized cluster" they balk. And we are talking about
situations where we are spending millions of dollars on our software
and are going to be supporting it in house. With that sort of
reaction, it leads me to think we are never going to make major
inroads except for the end users at home or the people buying Linux
netbooks.

Thanks
-- 
Steven Edwards

"There is one thing stronger than all the armies in the world, and
that is an idea whose time has come." - Victor Hugo


From austinenglish at gmail.com  Sun May 17 19:57:04 2009
From: austinenglish at gmail.com (Austin English)
Date: Sun, 17 May 2009 19:57:04 -0500
Subject: DIB Engine - Mostly fixed against test suite
In-Reply-To: <guparm$l51$1@ger.gmane.org>
References: <guparm$l51$1@ger.gmane.org>
Message-ID: <b6bb06270905171757k5b447eb2pec241ee9943c6b18@mail.gmail.com>

On Sun, May 17, 2009 at 10:35 AM, Massimo Del Fedele <max at veneto.com> wrote:
> Austin, could you please retest it against test suite ?

I've ran it, but it doesn't appear to be showing up on
test.winehq.org. I'll investigate why when I get a bit more time.

P.S., there's now a crash in user32/cursoricon.

-- 
-Austin


From austinenglish at gmail.com  Sun May 17 19:59:49 2009
From: austinenglish at gmail.com (Austin English)
Date: Sun, 17 May 2009 19:59:49 -0500
Subject: News on Wine 1.1.21/MacOSX/XQuartz 2.3.3
In-Reply-To: <4A10A118.4050704@earthlink.net>
References: <4A0F8338.5020708@earthlink.net>
	<19e31a080905170449k77959ac5g82a2b13132b85c30@mail.gmail.com>
	<b6bb06270905171345v537e4ce1n4bda0b6f9eb396f2@mail.gmail.com>
	<4A10A118.4050704@earthlink.net>
Message-ID: <b6bb06270905171759h4eefb16t68aca74505ea1874@mail.gmail.com>

On Sun, May 17, 2009 at 6:43 PM, James McKenzie
<jjmckenzie51 at earthlink.net> wrote:
> Austin English wrote:
>> On Sun, May 17, 2009 at 6:49 AM, Steven Edwards
>> <sedwards at bordeauxgroup.com> wrote:
>>
>>> On Sat, May 16, 2009 at 11:23 PM, James McKenzie
>>> <jjmckenzie51 at earthlink.net> wrote:
>>>
>>>> BTW, the version of Wine for Mac that I used for testing was built using
>>>> Mike Kronenberg's Build Environment 1.1.5.
>>>>
>>> I tested this last night myself and am running winetest now. I still
>>> get a few d3d texture failures but that could be because my mini's a
>>> POS with the Intel GMA card. I'm interested in seeing other results so
>>> if you get a chance could you (or anyone else lurking with OS X) do a
>>> winetest run?
>>>
>>
>> Ideally, against a more recent wine version.
>>
>> Shameless plug:
>> I've got a script to do it, but no one that I know of is testing it on
>> OS X. If someone could test it, I'll add any needed fixes:
>> http://winezeug.googlecode.com/svn/trunk/build_script/daily.sh
>>
>>
> Austin:
>
> Contact Mike Kronenberg or Zach Drayer and see what they currently
> have. ?I know that Mike's builds add all of the necessary libraries to
> the Application Object. ?That keeps the system clean and allows for
> 'Drag and Drop' installation/removal of Wine for MacOSX. ?Your script
> seems to be clean as well, but has no MacOSX functionality added to it.
> Would be nice if it were there.

It's not really made to install all the needed dependencies (there is
install-wine-deps.sh for that).

The Mac platform is so different in many ways that it's a bit hard to
do. Does the user want to use fink/macports? Or install each from
source? Do we install to /usr/local/bin? Or to a custom directory
elsewhere? It's a big mess...

There is an OS X code path in place, but it is untested.

-- 
-Austin


From jjmckenzie51 at earthlink.net  Sun May 17 20:53:58 2009
From: jjmckenzie51 at earthlink.net (James McKenzie)
Date: Sun, 17 May 2009 18:53:58 -0700
Subject: [Article] WINE and the importance of application compatibility
In-Reply-To: <19e31a080905171755v64086635x5a4fee93ab756bbd@mail.gmail.com>
References: <a71bd89a0905171709s4284b37cw2fa210cf3a00edc8@mail.gmail.com>
	<19e31a080905171755v64086635x5a4fee93ab756bbd@mail.gmail.com>
Message-ID: <4A10BFB6.2070803@earthlink.net>

Steven Edwards wrote:
> On Sun, May 17, 2009 at 8:09 PM, Dan Kegel <dank at kegel.com> wrote:
>   
>> Sure would be nice if we could convince the DoD they needed
>> a second source for Windows :-)
>>     
>
> Maybe a big customer like the DoD would help but I am starting to
> doubt it. The situation I face with my day job, is that we can't even
> get support for certain applications in VMware. As soon as we say "we
> have a virtualized cluster" they balk. And we are talking about
> situations where we are spending millions of dollars on our software
> and are going to be supporting it in house. With that sort of
> reaction, it leads me to think we are never going to make major
> inroads except for the end users at home or the people buying Linux
> netbooks.
>   
Stephen:

Many companies don't trust Open Source.  They just don't have the assets
to do a proper code sweep and to see that we do not want to swipe their
secrets, but give them something better.  Of course, we all know the
outcome of the Windows versus OS/2 wars:  Windows won and the best
product went home (it is still available by the way.)

James McKenzie



From winehacker at gmail.com  Sun May 17 22:36:02 2009
From: winehacker at gmail.com (Steven Edwards)
Date: Sun, 17 May 2009 23:36:02 -0400
Subject: [Article] WINE and the importance of application compatibility
In-Reply-To: <4A10BFB6.2070803@earthlink.net>
References: <a71bd89a0905171709s4284b37cw2fa210cf3a00edc8@mail.gmail.com>
	<19e31a080905171755v64086635x5a4fee93ab756bbd@mail.gmail.com>
	<4A10BFB6.2070803@earthlink.net>
Message-ID: <19e31a080905172036w3555ef65v88161ae9e29dc3c3@mail.gmail.com>

On Sun, May 17, 2009 at 9:53 PM, James McKenzie
<jjmckenzie51 at earthlink.net> wrote:
> Many companies don't trust Open Source. ?They just don't have the assets
> to do a proper code sweep and to see that we do not want to swipe their
> secrets, but give them something better. ?Of course, we all know the
> outcome of the Windows versus OS/2 wars: ?Windows won and the best
> product went home (it is still available by the way.)

Its not even Open Source though, I mean that's another strike but the
VMware example shows, any sort of legacy solution, virtualized or
otherwise is a major show stopper. Hell, I have enough trouble with
vendors and JVM versions. Try getting support for an application
running under BEAs JVM verses Sun and the vendor balks.

Wine problem is a chicken and egg problem. Most won't support Wine and
so most won't run Wine. The vendors won't support it because most
won't run Wine. And the cycle of life repeats. That compounded with
the fact that as Linux gets better, there is no need for Wine as the
vendor will just target apps directly. Facing both of these situations
I've started to believe Wine won't ever become much more than it is.
It's going to be hit or miss even if it installs, its always going to
be playing catch up.

That's not a bad thing, a niche market is fine as everything has its
place. The wine project just needs to be a bit more flexible as far as
integration goes. I think for a long time we've tried to be too
generic, distro agnostic, etc. For Wine to get more adoption we need
to do a better on that end. Scott and others have been working a lot
to solve this problem with the associations, XDG stuff, etc. We need a
lot more work on the OS X side and that will help us tremendously due
to the size of the market.

OK I'm done ranting.

Thanks
-- 
Steven Edwards

"There is one thing stronger than all the armies in the world, and
that is an idea whose time has come." - Victor Hugo


From dmitry at codeweavers.com  Sun May 17 23:56:54 2009
From: dmitry at codeweavers.com (Dmitry Timoshkov)
Date: Mon, 18 May 2009 13:56:54 +0900
Subject: News on Wine 1.1.21/MacOSX/XQuartz 2.3.3
References: <4A0F8338.5020708@earthlink.net>	<19e31a080905170449k77959ac5g82a2b13132b85c30@mail.gmail.com><b6bb06270905171345v537e4ce1n4bda0b6f9eb396f2@mail.gmail.com>
	<4A10A118.4050704@earthlink.net>
Message-ID: <8325218A80FB4DC998C373979F3C3710@DMITRY>

"James McKenzie" <jjmckenzie51 at earthlink.net> wrote:

> Austin:
> 
> Contact Mike Kronenberg or Zach Drayer and see what they currently
> have.

IMHO since they haven't even bothered so far to change the license from
GPL to LGPL to match Wine, and clarify what exactly is so much different
in their builds so that they insist on different naming (Darwine vs. Wine),
they shouldn't be even considered as partners to the Wine project.

If we could have our own Wine builds for Intel Macs, that would finally
help to avoid this confusion Darwine adds, and remove it from our Wiki
altogether (since it's apparently where the users coming to them from).

-- 
Dmitry.


From karcher at physik.fu-berlin.de  Sun May 17 16:21:22 2009
From: karcher at physik.fu-berlin.de (Michael Karcher)
Date: Sun, 17 May 2009 23:21:22 +0200
Subject: DIB Engine - Mostly fixed against test suite
In-Reply-To: <guparm$l51$1@ger.gmane.org>
References: <guparm$l51$1@ger.gmane.org>
Message-ID: <1242595282.5709.4.camel@hermes2.karcher.local>

Am Sonntag, den 17.05.2009, 17:35 +0200 schrieb Massimo Del Fedele:
> 1) Some color on monochrome bitmaps.... here I guess nobody knows how to do it right. I fixed some todo wine (most) but have 2 failures which wine does right.
> Seldom used anyways, and happens only on weird palettes. I guess not ever Microsoft knows what they did on this respect :-)
Be careful with such statements. Look at bug 6519 for example.

Regards,
  Michael Karcher
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Dies ist ein digital signierter Nachrichtenteil
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090517/bc1250e8/attachment.pgp>

From mstefani at redhat.com  Mon May 18 03:52:43 2009
From: mstefani at redhat.com (Michael Stefaniuc)
Date: Mon, 18 May 2009 10:52:43 +0200
Subject: [shell32] Improve the Dutch 'about' message box
In-Reply-To: <4A107744.6000605@zalewski.pl>
References: <4A09344E.9090603@gmail.com>	<3f4fd2640905120142u777bd5f1i8050f2a4abb71c2a@mail.gmail.com>	<4A093BC6.8090801@gmail.com>	<4A093E4D.9080402@gmail.com>	<3f4fd2640905120256y72cf9843j32d8941ceca96db3@mail.gmail.com>	<alpine.DEB.2.00.0905160125100.19866@amboise.dolphin>
	<4A107744.6000605@zalewski.pl>
Message-ID: <4A1121DB.2050505@redhat.com>

Miko?aj Zalewski wrote:
> 
>> Yes, handling the translation of Wine's resource files would be really
>> nice. It would let us leverage a lot of the po tools, especially the
>> website based ones. This would make it much easier for users to
>> contribute to the translations (right now it's pretty intimidating).
>> I'm not sure how to handle the widget layout though.
>>   
>  I also think I would be better to use po files (without them, our
> translations get out-of-sync - e.g. in start a new /Unix switch was
> intruduced, but only 7 out of 16 languages has it in the help message.
> For the users of the other 9 languages, we are providing an incorrect
> help message. This is adding a new line to an existing message, so wrc
> --verify-translation won't notice it).
>  I was thinking about the widget layout that may need to be different in
> a translation and I think this can be solved by adding a possibility to
> add some transformations of controls relative to the English ones.
> Something like:
> 
> msgid "transform.dialog.133"
> msgstr ""
> "control 12 resize by (10, 10)"
> "control 13 move by (10, 10)"
> 
>  Making the transformations relative should make updating such resources
> not very common (and in most cases there will be even no need for this).
> There may still be cases when it looks ugly if e.g. one adds a new
> button to the English dialog while the localized ones are enlarged and
> takes a place where the new button is added, but we could be solved by
> adding to msgid e.g. a hash of the English resource with localizable
> stirngs removed, so that the translation will be fuzzy after a merge.
>  I could try to look into po2rc and rc2po if they work and can be
They work, sort of. I tried them out (though not the latest version) and
run into a problem where the MENUs where ignored. That is a known
problem with complex MENUs according to the description of the tools on
their web page.

> augmented with such a functionality, but I'm not sure if I will have
> time soon.

bye
	michael


From msclrhd at googlemail.com  Mon May 18 04:51:42 2009
From: msclrhd at googlemail.com (Reece Dunn)
Date: Mon, 18 May 2009 10:51:42 +0100
Subject: [shell32] Improve the Dutch 'about' message box
In-Reply-To: <alpine.DEB.2.00.0905160125100.19866@amboise.dolphin>
References: <4A09344E.9090603@gmail.com>
	<3f4fd2640905120142u777bd5f1i8050f2a4abb71c2a@mail.gmail.com>
	<4A093BC6.8090801@gmail.com> <4A093E4D.9080402@gmail.com>
	<3f4fd2640905120256y72cf9843j32d8941ceca96db3@mail.gmail.com>
	<alpine.DEB.2.00.0905160125100.19866@amboise.dolphin>
Message-ID: <3f4fd2640905180251n44e18f6araf089d09378bcfc5@mail.gmail.com>

2009/5/16 Francois Gouget <fgouget at free.fr>:
> On Tue, 12 May 2009, Reece Dunn wrote:
> [...]
>> What I would like to do is get an automated (or semi-automated) tool,
>> ideally with a GUI interface to it. That would ultimately put the
>> designer in charge. Hopefully, this would also mean that you have a
>> base resource file that produces the English resources and generate
>> the others using the standard po files - thus making it easier to
>> translate.
>
> Yes, handling the translation of Wine's resource files would be really
> nice. It would let us leverage a lot of the po tools, especially the
> website based ones. This would make it much easier for users to
> contribute to the translations (right now it's pretty intimidating). I'm
> not sure how to handle the widget layout though.

I was thinking of some sort of auto-layout logic, using bounding box
calculations and metric information fed from Windows guidelines. The
idea here is to give a consistent layout and make it easier to add new
controls.

I am aware that this is very complex, and I don't yet know how to
transform the flat layout to a hierarchical layout that contains the
box information necessary to do the reflow calculations.

> But I have just stumbled on this pair of tools from the
> translate-toolkit packag (on Debian) that seem to be made just for this
> purpose:
>
> ?* po2rc
> ? convert Gettext PO localization files to Windows Resource (.rc) files
> ? http://translate.sourceforge.net/wiki/toolkit/rc2po
>
> ?* rc2po
> ? convert .rc files to Gettext PO localization files
> ? http://translate.sourceforge.net/wiki/toolkit/rc2po
>
>
> I don't have time to play with them but with luck someone else does.
> Getting it going with Wine would be really great.

Nor do I, and others are probably better qualified than me to answer.

- Reece


From fgouget at free.fr  Mon May 18 05:22:47 2009
From: fgouget at free.fr (Francois Gouget)
Date: Mon, 18 May 2009 12:22:47 +0200 (CEST)
Subject: [shell32] Improve the Dutch 'about' message box
In-Reply-To: <3f4fd2640905180251n44e18f6araf089d09378bcfc5@mail.gmail.com>
References: <4A09344E.9090603@gmail.com>
	<3f4fd2640905120142u777bd5f1i8050f2a4abb71c2a@mail.gmail.com>
	<4A093BC6.8090801@gmail.com> <4A093E4D.9080402@gmail.com>
	<3f4fd2640905120256y72cf9843j32d8941ceca96db3@mail.gmail.com>
	<alpine.DEB.2.00.0905160125100.19866@amboise.dolphin>
	<3f4fd2640905180251n44e18f6araf089d09378bcfc5@mail.gmail.com>
Message-ID: <alpine.DEB.2.00.0905181215180.25649@amboise.dolphin>

On Mon, 18 May 2009, Reece Dunn wrote:
[...]
> I was thinking of some sort of auto-layout logic, using bounding box
> calculations and metric information fed from Windows guidelines. The
> idea here is to give a consistent layout and make it easier to add new
> controls.
> 
> I am aware that this is very complex, and I don't yet know how to
> transform the flat layout to a hierarchical layout that contains the
> box information necessary to do the reflow calculations.

If we go that route, we should probably start from a bounding box-based 
description of the dialogs, and then generate both the English and the 
localized dialogs.

For instance the glade format seems to be bounding-box based. It also 
probably already has tools to handle localization. So we could probably 
start from a English glade file describing a dialog, generate localized 
versions of that file, and then, for each language, pass the dialog 
through our bounding-box calculator to convert that to coordinates and 
generate the corresponding rc files.


-- 
Francois Gouget <fgouget at free.fr>              http://fgouget.free.fr/
                            1 + e ^ ( i * pi ) = 0


From julliard at winehq.org  Mon May 18 06:36:10 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Mon, 18 May 2009 13:36:10 +0200
Subject: [PATCH] winhttp: avoid NULL ptr dereference (Coverity 927)
In-Reply-To: Marcus Meissner's message of "Sat\, 16 May 2009 21\:55\:36 +0200"
Message-ID: <87tz3i8wyd.fsf@wine.dyndns.org>

Marcus Meissner <marcus at jet.franken.de> writes:

> Not sure if we need to set these values in all error paths,
> but definitely not in the NULL lpwhr. (lpwhdr?)

There's no reason to have NULL checks in internal functions.

-- 
Alexandre Julliard
julliard at winehq.org


From max at veneto.com  Mon May 18 06:39:28 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Mon, 18 May 2009 13:39:28 +0200
Subject: DIB Engine - Mostly fixed against test suite
In-Reply-To: <b6bb06270905171757k5b447eb2pec241ee9943c6b18@mail.gmail.com>
References: <guparm$l51$1@ger.gmane.org>
	<b6bb06270905171757k5b447eb2pec241ee9943c6b18@mail.gmail.com>
Message-ID: <gurhdh$vh6$1@ger.gmane.org>

Austin English ha scritto:
> On Sun, May 17, 2009 at 10:35 AM, Massimo Del Fedele <max at veneto.com> wrote:
>> Austin, could you please retest it against test suite ?
> 
> I've ran it, but it doesn't appear to be showing up on
> test.winehq.org. I'll investigate why when I get a bit more time.
> 
> P.S., there's now a crash in user32/cursoricon.
> 

Crash "fixed" on latest post. The fix is partial, as it depends on getting the
right color table of a DIB from inside GetDIBits.
That can't be done using GetDIBColorTable() as it requires the DIB to be selected
into a DC, which is exactly the opposite requirement og GetDIBits.
I guess I have to resort to a list of DIB <---> physical bitmaps to do it reliably,
as windows doesn't bring any reliable other way to do it.
Concluding : crash fixed but a couple of failures in tests/bitmap.c in addition to
remaining 4. Total, 6, which is not bad :-)

Ciao

Max



From max at veneto.com  Mon May 18 06:41:23 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Mon, 18 May 2009 13:41:23 +0200
Subject: DIB Engine - Mostly fixed against test suite
In-Reply-To: <1242595282.5709.4.camel@hermes2.karcher.local>
References: <guparm$l51$1@ger.gmane.org>
	<1242595282.5709.4.camel@hermes2.karcher.local>
Message-ID: <gurhh3$vh6$2@ger.gmane.org>

Michael Karcher ha scritto:
> Am Sonntag, den 17.05.2009, 17:35 +0200 schrieb Massimo Del Fedele:
>> 1) Some color on monochrome bitmaps.... here I guess nobody knows how to do it right. I fixed some todo wine (most) but have 2 failures which wine does right.
>> Seldom used anyways, and happens only on weird palettes. I guess not ever Microsoft knows what they did on this respect :-)
> Be careful with such statements. Look at bug 6519 for example.
> 
> Regards,
>   Michael Karcher
> 
> 
> ------------------------------------------------------------------------
> 
> 

Yep, I've seen the bug :-)
Anyways, most failures are fixed by now, also for monochrome bitmaps.
Did you test it on bug's 6519 app ?

Ciao

Max



From julliard at winehq.org  Mon May 18 07:46:23 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Mon, 18 May 2009 14:46:23 +0200
Subject: [4/4]msctf: starting implementation of
	ITfContext::RequestEditSession and ITextStoreACPSink::OnLockGranted
In-Reply-To: <4A0DBE2A.1050606@codeweavers.com> (Aric Stewart's message of
	"Fri, 15 May 2009 14:10:34 -0500")
References: <4A0DBE2A.1050606@codeweavers.com>
Message-ID: <87pre68tpc.fsf@wine.dyndns.org>

Aric Stewart <aric at codeweavers.com> writes:

> ---
>  dlls/msctf/context.c              |   68
> ++++++++++++++++++++++++++++++++++--
>  dlls/msctf/tests/inputprocessor.c |   29 +++++++++++-----
>  include/textstor.idl              |    2 +
>  3 files changed, 86 insertions(+), 13 deletions(-)

It doesn't work here:

../../../tools/runtest -q -P wine -M msctf.dll -T ../../.. -p msctf_test.exe.so inputprocessor.c && touch inputprocessor.ok
inputprocessor.c:155: Test succeeded inside todo block: GetStatus called too many times
make[2]: *** [inputprocessor.ok] Error 1

-- 
Alexandre Julliard
julliard at winehq.org


From wine at mkarcher.dialup.fu-berlin.de  Mon May 18 07:52:09 2009
From: wine at mkarcher.dialup.fu-berlin.de (Michael Karcher)
Date: Mon, 18 May 2009 14:52:09 +0200
Subject: DIB Engine - Mostly fixed against test suite
In-Reply-To: <gurhh3$vh6$2@ger.gmane.org>
References: <guparm$l51$1@ger.gmane.org>
	<1242595282.5709.4.camel@hermes2.karcher.local>
	<gurhh3$vh6$2@ger.gmane.org>
Message-ID: <1242651129.5709.21.camel@hermes2.karcher.local>

Am Montag, den 18.05.2009, 13:41 +0200 schrieb Massimo Del Fedele:
> > Be careful with such statements. Look at bug 6519 for example.
> Yep, I've seen the bug :-)
> Anyways, most failures are fixed by now, also for monochrome bitmaps.
> Did you test it on bug's 6519 app ?

No, I don't really care. I just fixed that bug and your statement:
"Color on monochrome bitmap is seldomly used anyway" sounded an alarming
bell in my head. This mail was just a warning to not disregard the issue
and no specific problem report.

Regards,
  Michael Karcher



From msclrhd at googlemail.com  Mon May 18 07:56:51 2009
From: msclrhd at googlemail.com (Reece Dunn)
Date: Mon, 18 May 2009 13:56:51 +0100
Subject: [shell32] Improve the Dutch 'about' message box
In-Reply-To: <alpine.DEB.2.00.0905181215180.25649@amboise.dolphin>
References: <4A09344E.9090603@gmail.com>
	<3f4fd2640905120142u777bd5f1i8050f2a4abb71c2a@mail.gmail.com>
	<4A093BC6.8090801@gmail.com> <4A093E4D.9080402@gmail.com>
	<3f4fd2640905120256y72cf9843j32d8941ceca96db3@mail.gmail.com>
	<alpine.DEB.2.00.0905160125100.19866@amboise.dolphin>
	<3f4fd2640905180251n44e18f6araf089d09378bcfc5@mail.gmail.com>
	<alpine.DEB.2.00.0905181215180.25649@amboise.dolphin>
Message-ID: <3f4fd2640905180556u4a394210ic8e9e8e0fb101e0d@mail.gmail.com>

2009/5/18 Francois Gouget <fgouget at free.fr>:
> On Mon, 18 May 2009, Reece Dunn wrote:
> [...]
>> I was thinking of some sort of auto-layout logic, using bounding box
>> calculations and metric information fed from Windows guidelines. The
>> idea here is to give a consistent layout and make it easier to add new
>> controls.
>>
>> I am aware that this is very complex, and I don't yet know how to
>> transform the flat layout to a hierarchical layout that contains the
>> box information necessary to do the reflow calculations.
>
> If we go that route, we should probably start from a bounding box-based
> description of the dialogs, and then generate both the English and the
> localized dialogs.
>
> For instance the glade format seems to be bounding-box based. It also
> probably already has tools to handle localization. So we could probably
> start from a English glade file describing a dialog, generate localized
> versions of that file, and then, for each language, pass the dialog
> through our bounding-box calculator to convert that to coordinates and
> generate the corresponding rc files.

Yes. That would be a better way for storing the information.

The advantage of choosing something like the Glade format is that we
could then take advantage of the editors for the format, so the Wine
developers can edit the dialogs visually. A similar thing for the
menus.

The question here (which applies to any direction that is taken) is
whether the format that is chosen can represent all the information in
the RC file.

The first step would be getting the RC <==> Box format conversion
working reliably. Then adding the translation on top of that using the
PO/gettext framework.

- Reece


From paul.vriens.wine at gmail.com  Mon May 18 10:54:39 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Mon, 18 May 2009 17:54:39 +0200
Subject: [PATCH 2/2] ole32/tests: Add tests to show the
	WdtpInterfacePointer
	marshal data looks like the result of CoMarshalInterface.
In-Reply-To: <4a096194.160bca0a.753c.ffffbdefSMTPIN_ADDED@mx.google.com>
References: <4a096194.160bca0a.753c.ffffbdefSMTPIN_ADDED@mx.google.com>
Message-ID: <4A1184BF.5080502@gmail.com>

Huw Davies wrote:
> ---
>  dlls/ole32/tests/usrmarshal.c |   38 +++++++++++++++++++++-----------------
>  1 files changed, 21 insertions(+), 17 deletions(-)
> 
> 
> ------------------------------------------------------------------------
> 
> 
Hi Huw,

Could you have a look at the test results are test.winehq.org> This 
patch and the other one against usrmarshall.c introduced some test 
failures on several platforms.

-- 
Cheers,

Paul.


From stefandoesinger at gmx.at  Mon May 18 12:43:16 2009
From: stefandoesinger at gmx.at (Stefan =?iso-8859-1?q?D=F6singer?=)
Date: Mon, 18 May 2009 19:43:16 +0200
Subject: [2/3] d3dx9: Add utility functions for loading files and
	resources into memory
In-Reply-To: <4A118251.7080607@freenet.de>
References: <4A118251.7080607@freenet.de>
Message-ID: <200905181943.16439.stefandoesinger@gmx.at>

Am Montag, 18. Mai 2009 17:44:17 schrieb Tony Wasserka:

> +HRESULT LoadFileIntoMemoryA(LPCSTR filename, LPVOID *buffer, DWORD *length)
Do you need this function? Woudn't it be better to wrap A->W at the API level 
and have all internal functions W only?

> +    handle = CreateFileW(filename, GENERIC_READ, FILE_SHARE_READ, 0, 
OPEN_EXISTING, 0, 0);
> +    if(handle == INVALID_HANDLE_VALUE) return D3DERR_INVALIDCALL;
> +
> +    *length = GetFileSize(handle, NULL);
>+    if(*length == INVALID_FILE_SIZE) return D3DERR_INVALIDCALL;
> +
> +    *buffer = HeapAlloc(GetProcessHeap(), HEAP_ZERO_MEMORY, *length);
Is there a particular reason not to use mmap, or whatever the Windows 
equivalent is?



From stefandoesinger at gmx.at  Mon May 18 12:57:56 2009
From: stefandoesinger at gmx.at (Stefan =?iso-8859-1?q?D=F6singer?=)
Date: Mon, 18 May 2009 19:57:56 +0200
Subject: Gecko installation broken?
Message-ID: <200905181957.57085.stefandoesinger@gmx.at>

Hi,
Is my setup broken, or does the gecko installation fail? In a new wine prefix, 
when I open builtin iexplore, I get the installation dialog. The download 
runs successfully, but after installation iexplore still says that HTML 
rendering is currently disabled. When I run iexplore again, I again see the 
Wine Gecko installer dialog box.

My hacky nightly game tests ran into this problem. The last successfull Team 
Fotress 2 test run is from May 14, 2009. After that my Gecko setup script 
failed and did not even try to start up Steam.

Cheers,
Stefan


From thestig at google.com  Mon May 18 13:20:50 2009
From: thestig at google.com (Lei Zhang)
Date: Mon, 18 May 2009 11:20:50 -0700
Subject: Gecko installation broken?
In-Reply-To: <200905181957.57085.stefandoesinger@gmx.at>
References: <200905181957.57085.stefandoesinger@gmx.at>
Message-ID: <558b2f5c0905181120t3bff84a4j84d089a4d210c909@mail.gmail.com>

On Mon, May 18, 2009 at 10:57 AM, Stefan D?singer
<stefandoesinger at gmx.at> wrote:
> Hi,
> Is my setup broken, or does the gecko installation fail? In a new wine prefix,
> when I open builtin iexplore, I get the installation dialog. The download
> runs successfully, but after installation iexplore still says that HTML
> rendering is currently disabled. When I run iexplore again, I again see the
> Wine Gecko installer dialog box.
>
> My hacky nightly game tests ran into this problem. The last successfull Team
> Fotress 2 test run is from May 14, 2009. After that my Gecko setup script
> failed and did not even try to start up Steam.

Same problem here. Grr. Time for a regression test.


From thestig at google.com  Mon May 18 14:13:11 2009
From: thestig at google.com (Lei Zhang)
Date: Mon, 18 May 2009 12:13:11 -0700
Subject: Gecko installation broken?
In-Reply-To: <558b2f5c0905181120t3bff84a4j84d089a4d210c909@mail.gmail.com>
References: <200905181957.57085.stefandoesinger@gmx.at>
	<558b2f5c0905181120t3bff84a4j84d089a4d210c909@mail.gmail.com>
Message-ID: <558b2f5c0905181213o33418fe5wff9b9fed8cf39f20@mail.gmail.com>

On Mon, May 18, 2009 at 11:20 AM, Lei Zhang <thestig at google.com> wrote:
> On Mon, May 18, 2009 at 10:57 AM, Stefan D?singer
> <stefandoesinger at gmx.at> wrote:
>> Hi,
>> Is my setup broken, or does the gecko installation fail? In a new wine prefix,
>> when I open builtin iexplore, I get the installation dialog. The download
>> runs successfully, but after installation iexplore still says that HTML
>> rendering is currently disabled. When I run iexplore again, I again see the
>> Wine Gecko installer dialog box.
>>
>> My hacky nightly game tests ran into this problem. The last successfull Team
>> Fotress 2 test run is from May 14, 2009. After that my Gecko setup script
>> failed and did not even try to start up Steam.
>
> Same problem here. Grr. Time for a regression test.
>

Regression test says:

commit 24d6c88d16c46f00d99fd8529196590aca88b0f4
Author: Nikolay Sivov <bunglehead at gmail.com>
Date:   Wed May 13 23:23:57 2009 +0400

    comctl32/tab: Fix TabCtrl_* macros.

Will file bug after lunch.


From bunglehead at gmail.com  Mon May 18 14:29:24 2009
From: bunglehead at gmail.com (Nikolay Sivov)
Date: Mon, 18 May 2009 23:29:24 +0400
Subject: Gecko installation broken?
In-Reply-To: <558b2f5c0905181213o33418fe5wff9b9fed8cf39f20@mail.gmail.com>
References: <200905181957.57085.stefandoesinger@gmx.at>	
	<558b2f5c0905181120t3bff84a4j84d089a4d210c909@mail.gmail.com>
	<558b2f5c0905181213o33418fe5wff9b9fed8cf39f20@mail.gmail.com>
Message-ID: <4A11B714.2070000@gmail.com>

Lei Zhang wrote:
> On Mon, May 18, 2009 at 11:20 AM, Lei Zhang <thestig at google.com> wrote:
>   
>> On Mon, May 18, 2009 at 10:57 AM, Stefan D?singer
>> <stefandoesinger at gmx.at> wrote:
>>     
>>> Hi,
>>> Is my setup broken, or does the gecko installation fail? In a new wine prefix,
>>> when I open builtin iexplore, I get the installation dialog. The download
>>> runs successfully, but after installation iexplore still says that HTML
>>> rendering is currently disabled. When I run iexplore again, I again see the
>>> Wine Gecko installer dialog box.
>>>
>>> My hacky nightly game tests ran into this problem. The last successfull Team
>>> Fotress 2 test run is from May 14, 2009. After that my Gecko setup script
>>> failed and did not even try to start up Steam.
>>>       
>> Same problem here. Grr. Time for a regression test.
>>
>>     
>
> Regression test says:
>
> commit 24d6c88d16c46f00d99fd8529196590aca88b0f4
> Author: Nikolay Sivov <bunglehead at gmail.com>
> Date:   Wed May 13 23:23:57 2009 +0400
>
>     comctl32/tab: Fix TabCtrl_* macros.
>
> Will file bug after lunch.
>
>   
Only Oleview and Taskmanager use these macros in Wine tree. So can't be 
a cause I suppose.


From wine.dev at web.de  Mon May 18 15:23:19 2009
From: wine.dev at web.de (Detlef Riekenberg)
Date: Mon, 18 May 2009 22:23:19 +0200
Subject: winspool.drv: implement semi-stub of EnumJobsW
In-Reply-To: <200905181930.22968.vitperov@etersoft.ru>
References: <200905181930.22968.vitperov@etersoft.ru>
Message-ID: <1242678199.14341.30.camel@p4.lan>

On Mo, 2009-05-18 at 19:30 +0400, Vitaly Perov wrote:
> ---
>  dlls/winspool.drv/info.c |   36 +++++++++++++++++++++++++++++++++++-
>  1 files changed, 35 insertions(+), 1 deletions(-)


The correct location for an implementation is localspl.dll
For which Application did you changed the stub?

The important thing to decide first, what Wine is allowed to return:
a) Informations from Wine and from Host-OS
b) Informations from Wine only (will be empty most of the time)

The current code is using "b", but your Patch added:
c) Informations from the Host-OS only
which is not correct.

I'm fine to migrate from "b" to "a".


Thanks for working on printing.

-- 
 
By by ... Detlef



From brian.vincent at gmail.com  Mon May 18 15:45:05 2009
From: brian.vincent at gmail.com (Brian Vincent)
Date: Mon, 18 May 2009 14:45:05 -0600
Subject: [Article] WINE and the importance of application compatibility
In-Reply-To: <19e31a080905171755v64086635x5a4fee93ab756bbd@mail.gmail.com>
References: <a71bd89a0905171709s4284b37cw2fa210cf3a00edc8@mail.gmail.com>
	<19e31a080905171755v64086635x5a4fee93ab756bbd@mail.gmail.com>
Message-ID: <3010968c0905181345v26952868ufc901de183b016f1@mail.gmail.com>

On Sun, May 17, 2009 at 6:55 PM, Steven Edwards <winehacker at gmail.com>wrote:

> doubt it. The situation I face with my day job, is that we can't even
> get support for certain applications in VMware. As soon as we say "we
> have a virtualized cluster" they balk. And we are talking about
> situations where we are spending millions of dollars on our software
> and are going to be supporting it in house. With that sort of
> reaction, it leads me to think we are never going to make major
> inroads except for the end users at home or the people buying Linux
> netbooks.


Kind of a tangent.. but I've thought for a long time Google did something
really right with Picasa: they packaged a canned version of Wine alongside a
canned version of their app.  These days, hard drives space is cheap and no
one notices an extra 20MB of Wine libraries with a set up program.

Which leads me to my $.02: I wonder if there's a sweet spot for Wine
adoption somewhere in the middle-tier of the software application popularity
contest.  For instance, rather than going after Photoshop or Photoshop
Elements (which is still a noble goal), what about approaching Paintshop Pro
about their Photo x2 product.  Or, what about approaching the ISV that
created Home Depot's freeware CD for laying out your home design?
Specifically, I think there's a lot of proprietary applications without a
good alternative (think more of the Home Depot or Sysco's "Rio", etc ).  I
think there's $$$ to be made for someone who can QA apps with Wine, fix
minor issues, package Wine alongside the app, and finally deliver the
product to an ISV.  I don't think this is something the Wine community
itself would be interested in, but I suspect there's someone in the Wine
community who's capable of pulling it off.  I think there's a lot of angles
to the idea that could work.

-Brian
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090518/ff4b2f5f/attachment.htm>

From thestig at google.com  Mon May 18 15:46:59 2009
From: thestig at google.com (Lei Zhang)
Date: Mon, 18 May 2009 13:46:59 -0700
Subject: Gecko installation broken?
In-Reply-To: <4A11B714.2070000@gmail.com>
References: <200905181957.57085.stefandoesinger@gmx.at>
	<558b2f5c0905181120t3bff84a4j84d089a4d210c909@mail.gmail.com>
	<558b2f5c0905181213o33418fe5wff9b9fed8cf39f20@mail.gmail.com>
	<4A11B714.2070000@gmail.com>
Message-ID: <558b2f5c0905181346r33f46d6bse6893cc026c2252@mail.gmail.com>

On Mon, May 18, 2009 at 12:29 PM, Nikolay Sivov <bunglehead at gmail.com> wrote:
> Lei Zhang wrote:
>>
>> On Mon, May 18, 2009 at 11:20 AM, Lei Zhang <thestig at google.com> wrote:
>>
>>>
>>> On Mon, May 18, 2009 at 10:57 AM, Stefan D?singer
>>> <stefandoesinger at gmx.at> wrote:
>>>
>>>>
>>>> Hi,
>>>> Is my setup broken, or does the gecko installation fail? In a new wine
>>>> prefix,
>>>> when I open builtin iexplore, I get the installation dialog. The
>>>> download
>>>> runs successfully, but after installation iexplore still says that HTML
>>>> rendering is currently disabled. When I run iexplore again, I again see
>>>> the
>>>> Wine Gecko installer dialog box.
>>>>
>>>> My hacky nightly game tests ran into this problem. The last successfull
>>>> Team
>>>> Fotress 2 test run is from May 14, 2009. After that my Gecko setup
>>>> script
>>>> failed and did not even try to start up Steam.
>>>>
>>>
>>> Same problem here. Grr. Time for a regression test.
>>>
>>>
>>
>> Regression test says:
>>
>> commit 24d6c88d16c46f00d99fd8529196590aca88b0f4
>> Author: Nikolay Sivov <bunglehead at gmail.com>
>> Date: ? Wed May 13 23:23:57 2009 +0400
>>
>> ? ?comctl32/tab: Fix TabCtrl_* macros.
>>
>> Will file bug after lunch.
>>
>>
>
> Only Oleview and Taskmanager use these macros in Wine tree. So can't be a
> cause I suppose.
>

It didn't think so either, so I even double checked. Upon further
investigation, it seems the problem is simply the gecko cab download
is failing. Either one of the Sourceforge servers is down/flaky, or
source.winehq.org is taking too long to do the redirect and wininet
doesn't handle that well.


From dgerard at gmail.com  Mon May 18 15:48:43 2009
From: dgerard at gmail.com (David Gerard)
Date: Mon, 18 May 2009 21:48:43 +0100
Subject: [Article] WINE and the importance of application compatibility
In-Reply-To: <3010968c0905181345v26952868ufc901de183b016f1@mail.gmail.com>
References: <a71bd89a0905171709s4284b37cw2fa210cf3a00edc8@mail.gmail.com>
	<19e31a080905171755v64086635x5a4fee93ab756bbd@mail.gmail.com>
	<3010968c0905181345v26952868ufc901de183b016f1@mail.gmail.com>
Message-ID: <fbad4e140905181348l1fee9821t11b8a6d2f549d995@mail.gmail.com>

2009/5/18 Brian Vincent <brian.vincent at gmail.com>:

> Which leads me to my $.02: I wonder if there's a sweet spot for Wine
> adoption somewhere in the middle-tier of the software application popularity
> contest.? For instance, rather than going after Photoshop or Photoshop
> Elements (which is still a noble goal), what about approaching Paintshop Pro
> about their Photo x2 product.? Or, what about approaching the ISV that
> created Home Depot's freeware CD for laying out your home design?
> Specifically, I think there's a lot of proprietary applications without a
> good alternative (think more of the Home Depot or Sysco's "Rio", etc ).? I
> think there's $$$ to be made for someone who can QA apps with Wine, fix
> minor issues, package Wine alongside the app, and finally deliver the
> product to an ISV.? I don't think this is something the Wine community
> itself would be interested in, but I suspect there's someone in the Wine
> community who's capable of pulling it off.? I think there's a lot of angles
> to the idea that could work.


1. Find apps that work pretty much perfectly in Wine.
2. Ask them to declare Wine officially supported.
3. Add them to http://wiki.winehq.org/AppsThatSupportWine
4. Use 3. to add more to 2.


- d.


From austinenglish at gmail.com  Mon May 18 15:51:47 2009
From: austinenglish at gmail.com (Austin English)
Date: Mon, 18 May 2009 15:51:47 -0500
Subject: [Article] WINE and the importance of application compatibility
In-Reply-To: <fbad4e140905181348l1fee9821t11b8a6d2f549d995@mail.gmail.com>
References: <a71bd89a0905171709s4284b37cw2fa210cf3a00edc8@mail.gmail.com>
	<19e31a080905171755v64086635x5a4fee93ab756bbd@mail.gmail.com>
	<3010968c0905181345v26952868ufc901de183b016f1@mail.gmail.com>
	<fbad4e140905181348l1fee9821t11b8a6d2f549d995@mail.gmail.com>
Message-ID: <b6bb06270905181351g6d114fa1o3e5374e80282fc72@mail.gmail.com>

On Mon, May 18, 2009 at 3:48 PM, David Gerard <dgerard at gmail.com> wrote:
> 1. Find apps that work pretty much perfectly in Wine.
> 2. Ask them to declare Wine officially supported.
> 3. Add them to http://wiki.winehq.org/AppsThatSupportWine
> 4. Use 3. to add more to 2.

You forgot:
5. ????
6. Profit!

:-)

-- 
-Austin


From wine.dev at web.de  Mon May 18 15:53:27 2009
From: wine.dev at web.de (Detlef Riekenberg)
Date: Mon, 18 May 2009 22:53:27 +0200
Subject: [wintrust/tests] Add some basic CryptCATOpen tests
In-Reply-To: <4A116B86.9090604@gmail.com>
References: <4A116B86.9090604@gmail.com>
Message-ID: <1242680007.14341.39.camel@p4.lan>

On Mo, 2009-05-18 at 16:07 +0200, Paul Vriens wrote:
> +    hcat = pCryptCATOpen(emptyW, 0, 0, 0, 0);
> +    todo_wine
> +    {
> +    ok(hcat != NULL && hcat != INVALID_HANDLE_VALUE, "Expected a
> correct handle\n");
> +    ok(GetLastError() == ERROR_SUCCESS,
> +       "Expected ERROR_SUCCESS, got %08x\n", GetLastError());
> +    }

MSDN documents INVALID_HANDLE_VALUE on failure.
When NULL is valid result, then a comment about the MSDN error would be
nice.

Did you have an application, that need ERROR_SUCCESS?
The result of GetLastError() should only be tested, when the function
failed,
or when GetLastError is documented to be valid on success.


-- 
 
By by ... Detlef



From bunglehead at gmail.com  Mon May 18 17:17:39 2009
From: bunglehead at gmail.com (Nikolay Sivov)
Date: Tue, 19 May 2009 02:17:39 +0400
Subject: gdiplus: implement GdipTransformPoints
In-Reply-To: <33F6268AA99B6C448F07F03B2B6497D32C20C3@taz.CodeWeavers.local>
References: <33F6268AA99B6C448F07F03B2B6497D32C20C3@taz.CodeWeavers.local>
Message-ID: <4A11DE83.7070904@gmail.com>

Vincent Povirk wrote:


From madewokherd+8cd9 at gmail.com  Mon May 18 17:34:33 2009
From: madewokherd+8cd9 at gmail.com (Vincent Povirk)
Date: Mon, 18 May 2009 17:34:33 -0500
Subject: gdiplus: implement GdipTransformPoints
In-Reply-To: <4A11DE83.7070904@gmail.com>
References: <33F6268AA99B6C448F07F03B2B6497D32C20C3@taz.CodeWeavers.local>
	<4A11DE83.7070904@gmail.com>
Message-ID: <ced95fe0905181534k513afaa6v849e71921b18e949@mail.gmail.com>

It's odd, but it seems like the simplest way to write this.

I've tried what I think was your suggestion, and that's attached. I
don't think it's an improvement.

Vincent Povirk



On Mon, May 18, 2009 at 5:17 PM, Nikolay Sivov <bunglehead at gmail.com> wrote:
> Vincent Povirk wrote:
>
> From 1de9b2291bf9a5617ca1e3b0cba5f1260889c259 Mon Sep 17 00:00:00 2001
> From: Vincent Povirk <vincent at codeweavers.com>
> Date: Mon, 23 Mar 2009 16:34:12 -0500
> Subject: [PATCH] gdiplus: implement GdipTransformPoints
>
>
> It's a strange way to check enumeration with integer comparison, isn't it?
> And not clear in this particular case.
>
>> + ? ?if (stat == Ok)
>> + ? ?{
>> + ? ? ? ?unitscale = convert_unit(graphics->hdc, graphics->unit);
>> +
>> + ? ? ? ?if(graphics->unit != UnitDisplay)
>> + ? ? ? ? ? ?unitscale *= graphics->scale;
>> +
>> + ? ? ? ?if (src_space <= CoordinateSpaceWorld && dst_space >=
>> CoordinateSpacePage)
>> + ? ? ? ? ? ?GdipMultiplyMatrix(matrix, graphics->worldtrans,
>> MatrixOrderAppend);
>> + ? ? ? ?if (src_space <= CoordinateSpacePage && dst_space >=
>> CoordinateSpaceDevice)
>> + ? ? ? ? ? ?GdipScaleMatrix(matrix, unitscale, unitscale,
>> MatrixOrderAppend);
>> +
>> + ? ? ? ?if (dst_space <= CoordinateSpacePage && src_space >=
>> CoordinateSpaceDevice)
>> + ? ? ? ? ? ?GdipScaleMatrix(matrix, 1.0/unitscale, 1.0/unitscale,
>> MatrixOrderAppend);
>> + ? ? ? ?if (dst_space <= CoordinateSpaceWorld && src_space >=
>> CoordinateSpacePage)
>> + ? ? ? ?{
>> + ? ? ? ? ? ?GpMatrix *inverted_transform;
>> + ? ? ? ? ? ?stat = GdipCloneMatrix(graphics->worldtrans,
>> &inverted_transform);
>> + ? ? ? ? ? ?if (stat == Ok)
>> + ? ? ? ? ? ?{
>> + ? ? ? ? ? ? ? ?GdipInvertMatrix(inverted_transform);
>> + ? ? ? ? ? ? ? ?GdipMultiplyMatrix(matrix, inverted_transform,
>> MatrixOrderAppend);
>> + ? ? ? ? ? ? ? ?GdipDeleteMatrix(inverted_transform);
>> + ? ? ? ? ? ?}
>> +
>
> Maybe it's better to use 'switch' for source coords with falling and ifs
> inside cases for destination.
>
> <= CoordinateSpaceWorld is just CoordinateSpaceWorld
>>= CoordinateSpaceDevice - is CoordinateSpaceDevice.
>
>
>
>
-------------- next part --------------
diff --git a/dlls/gdiplus/graphics.c b/dlls/gdiplus/graphics.c
index 5e5883f..0ade037 100644
--- a/dlls/gdiplus/graphics.c
+++ b/dlls/gdiplus/graphics.c
@@ -3592,15 +3592,66 @@ GpStatus WINGDIPAPI GdipGetClip(GpGraphics *graphics, GpRegion *region)
 GpStatus WINGDIPAPI GdipTransformPoints(GpGraphics *graphics, GpCoordinateSpace dst_space,
                                         GpCoordinateSpace src_space, GpPointF *points, INT count)
 {
+    GpMatrix *matrix;
+    GpStatus stat;
+    REAL unitscale;
+
     if(!graphics || !points || count <= 0)
         return InvalidParameter;
 
     if(graphics->busy)
         return ObjectBusy;
 
-    FIXME("(%p, %d, %d, %p, %d): stub\n", graphics, dst_space, src_space, points, count);
+    TRACE("(%p, %d, %d, %p, %d)\n", graphics, dst_space, src_space, points, count);
 
-    return NotImplemented;
+    stat = GdipCreateMatrix(&matrix);
+    if (stat == Ok)
+    {
+        unitscale = convert_unit(graphics->hdc, graphics->unit);
+
+        if(graphics->unit != UnitDisplay)
+            unitscale *= graphics->scale;
+
+        switch (src_space)
+        {
+        case CoordinateSpaceWorld:
+            if (dst_space == CoordinateSpaceWorld)
+                break;
+            GdipMultiplyMatrix(matrix, graphics->worldtrans, MatrixOrderAppend);
+        case CoordinateSpacePage:
+            if (dst_space == CoordinateSpaceDevice)
+                GdipScaleMatrix(matrix, unitscale, unitscale, MatrixOrderAppend);
+        default: break;
+        }
+
+        switch (src_space)
+        {
+        case CoordinateSpaceDevice:
+            if (dst_space == CoordinateSpaceDevice)
+                break;
+            GdipScaleMatrix(matrix, 1.0/unitscale, 1.0/unitscale, MatrixOrderAppend);
+        case CoordinateSpacePage:
+            if (dst_space == CoordinateSpaceWorld)
+            {
+                GpMatrix *inverted_transform;
+                stat = GdipCloneMatrix(graphics->worldtrans, &inverted_transform);
+                if (stat == Ok)
+                {
+                    GdipInvertMatrix(inverted_transform);
+                    GdipMultiplyMatrix(matrix, inverted_transform, MatrixOrderAppend);
+                    GdipDeleteMatrix(inverted_transform);
+                }
+            }
+        default: break;
+        }
+
+        if (stat == Ok)
+            stat = GdipTransformMatrixPoints(matrix, points, count);
+
+        GdipDeleteMatrix(matrix);
+    }
+
+    return stat;
 }
 
 GpStatus WINGDIPAPI GdipTransformPointsI(GpGraphics *graphics, GpCoordinateSpace dst_space,
diff --git a/dlls/gdiplus/tests/graphics.c b/dlls/gdiplus/tests/graphics.c
index 7199151..510a148 100644
--- a/dlls/gdiplus/tests/graphics.c
+++ b/dlls/gdiplus/tests/graphics.c
@@ -22,8 +22,10 @@
 #include "gdiplus.h"
 #include "wingdi.h"
 #include "wine/test.h"
+#include <math.h>
 
 #define expect(expected, got) ok(got == expected, "Expected %.8x, got %.8x\n", expected, got)
+#define expectf(expected, got) ok(fabs(expected - got) < 0.0001, "Expected %.2f, got %.2f\n", expected, got)
 #define TABLE_LEN (23)
 
 static void test_constructor_destructor(void)
@@ -767,17 +769,11 @@ static void test_transformpoints(void)
     GpStatus status;
     GpGraphics *graphics = NULL;
     HDC hdc = GetDC(0);
-    GpPointF ptf[5];
-    INT i;
+    GpPointF ptf[2];
 
     status = GdipCreateFromHDC(hdc, &graphics);
     expect(Ok, status);
 
-    for(i = 0; i < 5; i++){
-        ptf[i].X = 200.0 + i * 50.0 * (i % 2);
-        ptf[i].Y = 200.0 + i * 50.0 * !(i % 2);
-    }
-
     /* NULL arguments */
     status = GdipTransformPoints(NULL, CoordinateSpacePage, CoordinateSpaceWorld, NULL, 0);
     expect(InvalidParameter, status);
@@ -788,6 +784,90 @@ static void test_transformpoints(void)
     status = GdipTransformPoints(graphics, CoordinateSpacePage, CoordinateSpaceWorld, ptf, -1);
     expect(InvalidParameter, status);
 
+    ptf[0].X = 1.0;
+    ptf[0].Y = 0.0;
+    ptf[1].X = 0.0;
+    ptf[1].Y = 1.0;
+    status = GdipTransformPoints(graphics, CoordinateSpaceDevice, CoordinateSpaceWorld, ptf, 2);
+    expect(Ok, status);
+    expectf(1.0, ptf[0].X);
+    expectf(0.0, ptf[0].Y);
+    expectf(0.0, ptf[1].X);
+    expectf(1.0, ptf[1].Y);
+
+    status = GdipTranslateWorldTransform(graphics, 5.0, 5.0, MatrixOrderAppend);
+    expect(Ok, status);
+    status = GdipSetPageUnit(graphics, UnitPixel);
+    expect(Ok, status);
+    status = GdipSetPageScale(graphics, 3.0);
+    expect(Ok, status);
+
+    ptf[0].X = 1.0;
+    ptf[0].Y = 0.0;
+    ptf[1].X = 0.0;
+    ptf[1].Y = 1.0;
+    status = GdipTransformPoints(graphics, CoordinateSpaceDevice, CoordinateSpaceWorld, ptf, 2);
+    expect(Ok, status);
+    expectf(18.0, ptf[0].X);
+    expectf(15.0, ptf[0].Y);
+    expectf(15.0, ptf[1].X);
+    expectf(18.0, ptf[1].Y);
+
+    ptf[0].X = 1.0;
+    ptf[0].Y = 0.0;
+    ptf[1].X = 0.0;
+    ptf[1].Y = 1.0;
+    status = GdipTransformPoints(graphics, CoordinateSpacePage, CoordinateSpaceWorld, ptf, 2);
+    expect(Ok, status);
+    expectf(6.0, ptf[0].X);
+    expectf(5.0, ptf[0].Y);
+    expectf(5.0, ptf[1].X);
+    expectf(6.0, ptf[1].Y);
+
+    ptf[0].X = 1.0;
+    ptf[0].Y = 0.0;
+    ptf[1].X = 0.0;
+    ptf[1].Y = 1.0;
+    status = GdipTransformPoints(graphics, CoordinateSpaceDevice, CoordinateSpacePage, ptf, 2);
+    expect(Ok, status);
+    expectf(3.0, ptf[0].X);
+    expectf(0.0, ptf[0].Y);
+    expectf(0.0, ptf[1].X);
+    expectf(3.0, ptf[1].Y);
+
+    ptf[0].X = 18.0;
+    ptf[0].Y = 15.0;
+    ptf[1].X = 15.0;
+    ptf[1].Y = 18.0;
+    status = GdipTransformPoints(graphics, CoordinateSpaceWorld, CoordinateSpaceDevice, ptf, 2);
+    expect(Ok, status);
+    expectf(1.0, ptf[0].X);
+    expectf(0.0, ptf[0].Y);
+    expectf(0.0, ptf[1].X);
+    expectf(1.0, ptf[1].Y);
+
+    ptf[0].X = 6.0;
+    ptf[0].Y = 5.0;
+    ptf[1].X = 5.0;
+    ptf[1].Y = 6.0;
+    status = GdipTransformPoints(graphics, CoordinateSpaceWorld, CoordinateSpacePage, ptf, 2);
+    expect(Ok, status);
+    expectf(1.0, ptf[0].X);
+    expectf(0.0, ptf[0].Y);
+    expectf(0.0, ptf[1].X);
+    expectf(1.0, ptf[1].Y);
+
+    ptf[0].X = 3.0;
+    ptf[0].Y = 0.0;
+    ptf[1].X = 0.0;
+    ptf[1].Y = 3.0;
+    status = GdipTransformPoints(graphics, CoordinateSpacePage, CoordinateSpaceDevice, ptf, 2);
+    expect(Ok, status);
+    expectf(1.0, ptf[0].X);
+    expectf(0.0, ptf[0].Y);
+    expectf(0.0, ptf[1].X);
+    expectf(1.0, ptf[1].Y);
+
     GdipDeleteGraphics(graphics);
     ReleaseDC(0, hdc);
 }

From bunglehead at gmail.com  Mon May 18 17:46:26 2009
From: bunglehead at gmail.com (Nikolay Sivov)
Date: Tue, 19 May 2009 02:46:26 +0400
Subject: gdiplus: implement GdipTransformPoints
In-Reply-To: <ced95fe0905181534k513afaa6v849e71921b18e949@mail.gmail.com>
References: <33F6268AA99B6C448F07F03B2B6497D32C20C3@taz.CodeWeavers.local>	
	<4A11DE83.7070904@gmail.com>
	<ced95fe0905181534k513afaa6v849e71921b18e949@mail.gmail.com>
Message-ID: <4A11E542.7010007@gmail.com>

Vincent Povirk wrote:
> It's odd, but it seems like the simplest way to write this.
>
> I've tried what I think was your suggestion, and that's attached. I
> don't think it's an improvement.
>
> Vincent Povirk
>
>   
Could be a single switch maybe. Don't know, looks better for me.
Comparisons were really ugly here - a strict comparison should be used 
instead if you don't like
switches.

Anyway it's just my thoughts.



From scott at open-vote.org  Mon May 18 18:45:14 2009
From: scott at open-vote.org (Scott Ritchie)
Date: Mon, 18 May 2009 16:45:14 -0700
Subject: [Article] WINE and the importance of application compatibility
In-Reply-To: <fbad4e140905181348l1fee9821t11b8a6d2f549d995@mail.gmail.com>
References: <a71bd89a0905171709s4284b37cw2fa210cf3a00edc8@mail.gmail.com>	<19e31a080905171755v64086635x5a4fee93ab756bbd@mail.gmail.com>	<3010968c0905181345v26952868ufc901de183b016f1@mail.gmail.com>
	<fbad4e140905181348l1fee9821t11b8a6d2f549d995@mail.gmail.com>
Message-ID: <4A11F30A.1040907@open-vote.org>

David Gerard wrote:
> 2009/5/18 Brian Vincent <brian.vincent at gmail.com>:
> 
>> Which leads me to my $.02: I wonder if there's a sweet spot for Wine
>> adoption somewhere in the middle-tier of the software application popularity
>> contest.  For instance, rather than going after Photoshop or Photoshop
>> Elements (which is still a noble goal), what about approaching Paintshop Pro
>> about their Photo x2 product.  Or, what about approaching the ISV that
>> created Home Depot's freeware CD for laying out your home design?
>> Specifically, I think there's a lot of proprietary applications without a
>> good alternative (think more of the Home Depot or Sysco's "Rio", etc ).  I
>> think there's $$$ to be made for someone who can QA apps with Wine, fix
>> minor issues, package Wine alongside the app, and finally deliver the
>> product to an ISV.  I don't think this is something the Wine community
>> itself would be interested in, but I suspect there's someone in the Wine
>> community who's capable of pulling it off.  I think there's a lot of angles
>> to the idea that could work.
> 
> 
> 1. Find apps that work pretty much perfectly in Wine.
> 2. Ask them to declare Wine officially supported.
> 3. Add them to http://wiki.winehq.org/AppsThatSupportWine
> 4. Use 3. to add more to 2.
> 
> 

I don't think we'll get much traction with this unless we can reasonably 
tell them they only need to test the stable Wine release.  But 1.0 is 
pretty old these days, so they probably won't bother.

I'll add it to my list of evangelism to do after Wine 1.2 hits.  And 
also not-so-subtly suggest this is another reason Wine 1.2 needs to 
happen sooner ;)

Thanks,
Scott Ritchie


From shacklein at gmail.com  Mon May 18 21:28:45 2009
From: shacklein at gmail.com (Ben Klein)
Date: Tue, 19 May 2009 12:28:45 +1000
Subject: [Article] WINE and the importance of application compatibility
In-Reply-To: <b6bb06270905181351g6d114fa1o3e5374e80282fc72@mail.gmail.com>
References: <a71bd89a0905171709s4284b37cw2fa210cf3a00edc8@mail.gmail.com> 
	<19e31a080905171755v64086635x5a4fee93ab756bbd@mail.gmail.com> 
	<3010968c0905181345v26952868ufc901de183b016f1@mail.gmail.com> 
	<fbad4e140905181348l1fee9821t11b8a6d2f549d995@mail.gmail.com> 
	<b6bb06270905181351g6d114fa1o3e5374e80282fc72@mail.gmail.com>
Message-ID: <d7e40be30905181928h7ad742f9o7538e5d3f08355ac@mail.gmail.com>

2009/5/19 Austin English <austinenglish at gmail.com>:
> On Mon, May 18, 2009 at 3:48 PM, David Gerard <dgerard at gmail.com> wrote:
>> 1. Find apps that work pretty much perfectly in Wine.
>> 2. Ask them to declare Wine officially supported.
>> 3. Add them to http://wiki.winehq.org/AppsThatSupportWine
>> 4. Use 3. to add more to 2.
>
> You forgot:
> 5. ????
> 6. Profit!

Off-topic, but that only works with 3-stage plans, thus:
1. Find apps that work pretty much perfectly in Wine
2. ?
3. Profit!

"Time to go to work, work on Wine, work on opensource today! We won't
stop until we've got opensource, yum yum yummy yum yay!"

Back on topic, do we really take such strongly biased blog crap from
zdnet seriously? The author has done little to no research:
"Which brings us to today. Linux desktops have reached a point of
maturity, polish and sophistication which rivals that found in Windows
2000. Yes, it's not as integrated as XP nor as glittering as Mac OS X.
But it's Good Enough?. What Linux cannot offer to most potential
users, that critical attribute which presently holds Linux back from
much broader adoption on the desktop, is that magical ingredient which
Windows offered to DOS users; being able to all your important
applications within the new environment."
^^ missing a word here ("being able to all your important
applications"). Note that MacOSX also fails to bring this
functionality, but it's not being hammered like Linux is.

I've recently seen the OpenSUSE 11.1 installer in action and, although
Debian is still my preferred distro, I am very impressed. It's all
pretty and snazzy, and YAST has come a long way since I first tried
SUSE. Maybe this is just because Novell bought it, but it's certainly
way beyond the "Windows 2000" level he's claiming.

"Wine is still a work-in-progress and a pain to configure. It
therefore pays to purchase a nicely-packaged form of this open source
technology from one of two vendors: for business apps, CrossOver
Office from Codeweavers, and for gamers, WineX from Transgaming, Cost
is maybe $50, but it will make installing and managing all those
Windows apps under Linux a snap."

For a start, *Cedega* is a subscription service ...

"How to make the vineyard bloom? There are four major industry players
(IBM, Sun, Red Hat and Novell) who have a vested interest in desktop
Linux's success, and therefore much to gain by cultivating the open
source developer community which produces Wine. At the moment Wine is
growing organically; slow and steady. With some well directed nutrient
booster, say in the form of $10 million apiece, Wine will be running
99% of all those thousands of Windows apps within a year."

This makes me LOL. Somehow I don't think money is the problem.

First comment too, only way to go forward is for someone to buy
Codeweavers (and potentially taint Crossover/Wine for the purposes of
getting things to work).


From paul.vriens.wine at gmail.com  Tue May 19 00:57:38 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Tue, 19 May 2009 07:57:38 +0200
Subject: [wintrust/tests] Add some basic CryptCATOpen tests
In-Reply-To: <1242680007.14341.39.camel@p4.lan>
References: <4A116B86.9090604@gmail.com> <1242680007.14341.39.camel@p4.lan>
Message-ID: <4A124A52.6040109@gmail.com>

Detlef Riekenberg wrote:
> On Mo, 2009-05-18 at 16:07 +0200, Paul Vriens wrote:
>> +    hcat = pCryptCATOpen(emptyW, 0, 0, 0, 0);
>> +    todo_wine
>> +    {
>> +    ok(hcat != NULL && hcat != INVALID_HANDLE_VALUE, "Expected a
>> correct handle\n");
>> +    ok(GetLastError() == ERROR_SUCCESS,
>> +       "Expected ERROR_SUCCESS, got %08x\n", GetLastError());
>> +    }
> 
> MSDN documents INVALID_HANDLE_VALUE on failure.
> When NULL is valid result, then a comment about the MSDN error would be
> nice.

NULL is not supposed to be valid it was just to show that hcat changed. 
I guess just checking for INVALID_HANDLE_VALUE will do.

> 
> Did you have an application, that need ERROR_SUCCESS?
> The result of GetLastError() should only be tested, when the function
> failed,
> or when GetLastError is documented to be valid on success.

Well, I actually don't know. Our implementation is wrong so this one is 
hard to check. I will remove it from the test.

-- 
Cheers,

Paul.


From kai.blin at gmail.com  Tue May 19 02:47:07 2009
From: kai.blin at gmail.com (Kai Blin)
Date: Tue, 19 May 2009 09:47:07 +0200
Subject: [Article] WINE and the importance of application compatibility
In-Reply-To: <4A11F30A.1040907@open-vote.org>
References: <a71bd89a0905171709s4284b37cw2fa210cf3a00edc8@mail.gmail.com>
	<fbad4e140905181348l1fee9821t11b8a6d2f549d995@mail.gmail.com>
	<4A11F30A.1040907@open-vote.org>
Message-ID: <200905190947.13439.kai.blin@gmail.com>

On Tuesday 19 May 2009 01:45:14 Scott Ritchie wrote:

> I don't think we'll get much traction with this unless we can reasonably
> tell them they only need to test the stable Wine release.  But 1.0 is
> pretty old these days, so they probably won't bother.
>
> I'll add it to my list of evangelism to do after Wine 1.2 hits.  And
> also not-so-subtly suggest this is another reason Wine 1.2 needs to
> happen sooner ;)

There's two sides to this, though. From an ISV perspective, there's something 
as "release too often". I've heard fom many distros that they're not too 
happy about Samba doing a minor version bump twice a year these days. Of 
course I guess a Wine stable release once a year is reasonable, assuming we 
try really hard to not regress between stable releases. That depends on being 
able to test a lot of applications, though.

Cheers,
Kai

-- 
Kai Blin
WorldForge developer  http://www.worldforge.org/
Wine developer        http://wiki.winehq.org/KaiBlin
Samba team member     http://www.samba.org/samba/team/
--
Will code for cotton.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part.
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090519/4ad53d95/attachment.pgp>

From stefandoesinger at gmx.at  Tue May 19 04:52:38 2009
From: stefandoesinger at gmx.at (Stefan =?iso-8859-1?q?D=F6singer?=)
Date: Tue, 19 May 2009 11:52:38 +0200
Subject: Gecko installation broken?
In-Reply-To: <558b2f5c0905181346r33f46d6bse6893cc026c2252@mail.gmail.com>
References: <200905181957.57085.stefandoesinger@gmx.at>
	<4A11B714.2070000@gmail.com>
	<558b2f5c0905181346r33f46d6bse6893cc026c2252@mail.gmail.com>
Message-ID: <200905191152.38593.stefandoesinger@gmx.at>

Am Montag, 18. Mai 2009 22:46:59 schrieb Lei Zhang:
> It didn't think so either, so I even double checked. Upon further
> investigation, it seems the problem is simply the gecko cab download
> is failing. Either one of the Sourceforge servers is down/flaky, or
> source.winehq.org is taking too long to do the redirect and wininet
> doesn't handle that well.
That might explain why the HL2 test ran successfully yesterday, but not the 
TF2 test(which does the same Gecko setup). Today both failed again. On the 
other hand, it seems that the download succeeds - the progress bar runs to 
the end, and the dialog box says "installing" for about a second.


From julliard at winehq.org  Tue May 19 04:56:26 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Tue, 19 May 2009 11:56:26 +0200
Subject: [PATCH 8/8] urlmon: Added binding with MIME filter tests.
In-Reply-To: <4A118EB3.6020902@codeweavers.com> (Jacek Caban's message of
	"Mon, 18 May 2009 18:37:07 +0200")
References: <4A118EB3.6020902@codeweavers.com>
Message-ID: <87k54d8lh1.fsf@wine.dyndns.org>

Jacek Caban <jacek at codeweavers.com> writes:

> ---
>  dlls/urlmon/tests/url.c |  782
> ++++++++++++++++++++++++++++++++++++++---------
>  1 files changed, 636 insertions(+), 146 deletions(-)

This is failing here:

../../../tools/runtest -q -P wine -M urlmon.dll -T ../../.. -p urlmon_test.exe.so url.c && touch url.ok
url.c:2939: Test failed: mon should be destroyed here
url.c:2940: Test failed: bctx should be destroyed here
make: *** [url.ok] Error 2

-- 
Alexandre Julliard
julliard at winehq.org


From paul.vriens.wine at gmail.com  Tue May 19 06:08:19 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Tue, 19 May 2009 13:08:19 +0200
Subject: [PATCH 2/2] ole32/tests: Add tests to show the
	WdtpInterfacePointer
	marshal data looks like the result of CoMarshalInterface.
In-Reply-To: <4A1184BF.5080502@gmail.com>
References: <4a096194.160bca0a.753c.ffffbdefSMTPIN_ADDED@mx.google.com>
	<4A1184BF.5080502@gmail.com>
Message-ID: <4A129323.5070206@gmail.com>

Paul Vriens wrote:
> Huw Davies wrote:
>> ---
>>  dlls/ole32/tests/usrmarshal.c |   38 
>> +++++++++++++++++++++-----------------
>>  1 files changed, 21 insertions(+), 17 deletions(-)
>>
>>
>> ------------------------------------------------------------------------
>>
>>
> Hi Huw,
> 
> Could you have a look at the test results are test.winehq.org> This 
> patch and the other one against usrmarshall.c introduced some test 
> failures on several platforms.
> 
Thanks for looking into this, Huw.

-- 
Cheers,

Paul.


From paul.vriens.wine at gmail.com  Tue May 19 06:46:19 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Tue, 19 May 2009 13:46:19 +0200
Subject: ntdll/tests: Mark return value of RtlUnicodeStringToInteger("",
	16) as broken for nt4.
In-Reply-To: <4a129b35.080bca0a.38a5.ffffebb0SMTPIN_ADDED@mx.google.com>
References: <4a129b35.080bca0a.38a5.ffffebb0SMTPIN_ADDED@mx.google.com>
Message-ID: <4A129C0B.5060301@gmail.com>

Huw Davies wrote:
> ---
>  dlls/ntdll/tests/rtlstr.c |    3 ++-
>  1 files changed, 2 insertions(+), 1 deletions(-)
> 
> 
> ------------------------------------------------------------------------
> 
> 
Hi,

I don't think this is correct. This test has always succeeded until 
March 9th. There haven't been any changes to the test in that period, 
but I remember an upgrade of winehq in that weekend.

In other words, there is more to it. Testing a simple cross compiled 
version of this test doesn't yield an error on NT4.

-- 
Cheers,

Paul.


From paul.vriens.wine at gmail.com  Tue May 19 06:46:31 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Tue, 19 May 2009 13:46:31 +0200
Subject: [PATCH] winhttp: avoid NULL ptr dereference (Coverity 927)
In-Reply-To: <4a0f1afb.0c1e640a.52b7.5059SMTPIN_ADDED@mx.google.com>
References: <4a0f1afb.0c1e640a.52b7.5059SMTPIN_ADDED@mx.google.com>
Message-ID: <4A129C17.5070601@gmail.com>

Marcus Meissner wrote:
> Hi,
> 
> Not sure if we need to set these values in all error paths,
> but definitely not in the NULL lpwhr. (lpwhdr?)
> 
> Ciao, Marcus
> ---
>  dlls/wininet/http.c |    4 +++-
>  1 files changed, 3 insertions(+), 1 deletions(-)
> 
> diff --git a/dlls/wininet/http.c b/dlls/wininet/http.c
> index 212ff9f..53c3743 100644
> --- a/dlls/wininet/http.c
> +++ b/dlls/wininet/http.c
> @@ -3831,8 +3831,9 @@ static BOOL HTTP_OpenConnection(LPWININETHTTPREQW lpwhr)
>  
>      TRACE("-->\n");
>  
> +    if (!lpwhr) goto lend2;
>  
> -    if (NULL == lpwhr ||  lpwhr->hdr.htype != WH_HHTTPREQ)
> +    if (lpwhr->hdr.htype != WH_HHTTPREQ)
>      {
>          INTERNET_SetLastError(ERROR_INVALID_PARAMETER);
>          goto lend;
> @@ -3894,6 +3895,7 @@ lend:
>      lpwhr->read_pos = lpwhr->read_size = 0;
>      lpwhr->read_chunked = FALSE;
>  
> +lend2:
>      TRACE("%d <--\n", bSuccess);
>      return bSuccess;
>  }
Hi Marcus,

After AJ's remark you marked this Coverity one as "lpwhr can not be 
NULL". Should we thus delete the "NULL == lpwhr" altogether?

-- 
Cheers,

Paul.


From julliard at winehq.org  Tue May 19 08:24:02 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Tue, 19 May 2009 15:24:02 +0200
Subject: gdiplus: implement GdipTransformPoints
In-Reply-To: <ced95fe0905181534k513afaa6v849e71921b18e949@mail.gmail.com>
	(Vincent Povirk's message of "Mon, 18 May 2009 17:34:33 -0500")
References: <33F6268AA99B6C448F07F03B2B6497D32C20C3@taz.CodeWeavers.local>
	<4A11DE83.7070904@gmail.com>
	<ced95fe0905181534k513afaa6v849e71921b18e949@mail.gmail.com>
Message-ID: <87fxf18bv1.fsf@wine.dyndns.org>

Vincent Povirk <madewokherd+8cd9 at gmail.com> writes:

> It's odd, but it seems like the simplest way to write this.
>
> I've tried what I think was your suggestion, and that's attached. I
> don't think it's an improvement.

You should short-circuit the src_space == dst_space case, that would
simplify things a lot. Then you can probably have two switch statements,
one to do src_space -> Page and then Page -> dst_space.

-- 
Alexandre Julliard
julliard at winehq.org


From julliard at winehq.org  Tue May 19 08:39:07 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Tue, 19 May 2009 15:39:07 +0200
Subject: ntdll/tests: Mark return value of RtlUnicodeStringToInteger("",
	16) as broken for nt4.
In-Reply-To: <4A129C0B.5060301@gmail.com> (Paul Vriens's message of "Tue, 19
	May 2009 13:46:19 +0200")
References: <4a129b35.080bca0a.38a5.ffffebb0SMTPIN_ADDED@mx.google.com>
	<4A129C0B.5060301@gmail.com>
Message-ID: <87bppp8b5w.fsf@wine.dyndns.org>

Paul Vriens <paul.vriens.wine at gmail.com> writes:

> I don't think this is correct. This test has always succeeded until
> March 9th. There haven't been any changes to the test in that period,
> but I remember an upgrade of winehq in that weekend.
>
> In other words, there is more to it. Testing a simple cross compiled
> version of this test doesn't yield an error on NT4.

My feeling is that it's returning uninitialized data, so the results
depend on the stack layout that the compiler is using. There's probably
no sense in checking for a specific value, just consider this case
broken no matter what it returns.

-- 
Alexandre Julliard
julliard at winehq.org


From huw at codeweavers.com  Tue May 19 08:47:00 2009
From: huw at codeweavers.com (Huw Davies)
Date: Tue, 19 May 2009 14:47:00 +0100
Subject: ntdll/tests: Mark return value of
	RtlUnicodeStringToInteger("", 16) as broken for nt4.
In-Reply-To: <87bppp8b5w.fsf@wine.dyndns.org>
References: <4a129b35.080bca0a.38a5.ffffebb0SMTPIN_ADDED@mx.google.com>
	<4A129C0B.5060301@gmail.com> <87bppp8b5w.fsf@wine.dyndns.org>
Message-ID: <20090519134659.GG6809@merlot.physics.ox.ac.uk>

On Tue, May 19, 2009 at 03:39:07PM +0200, Alexandre Julliard wrote:
> Paul Vriens <paul.vriens.wine at gmail.com> writes:
> 
> > I don't think this is correct. This test has always succeeded until
> > March 9th. There haven't been any changes to the test in that period,
> > but I remember an upgrade of winehq in that weekend.
> >
> > In other words, there is more to it. Testing a simple cross compiled
> > version of this test doesn't yield an error on NT4.
> 
> My feeling is that it's returning uninitialized data, so the results
> depend on the stack layout that the compiler is using. There's probably
> no sense in checking for a specific value, just consider this case
> broken no matter what it returns.

Ok, I'll resend without the test on the returned value.

Huw.


From austinenglish at gmail.com  Tue May 19 09:52:41 2009
From: austinenglish at gmail.com (Austin English)
Date: Tue, 19 May 2009 09:52:41 -0500
Subject: Gecko installation broken?
In-Reply-To: <200905191152.38593.stefandoesinger@gmx.at>
References: <200905181957.57085.stefandoesinger@gmx.at>
	<4A11B714.2070000@gmail.com>
	<558b2f5c0905181346r33f46d6bse6893cc026c2252@mail.gmail.com>
	<200905191152.38593.stefandoesinger@gmx.at>
Message-ID: <b6bb06270905190752v2fb6201byb4e347bdacc6ea6d@mail.gmail.com>

On Tue, May 19, 2009 at 4:52 AM, Stefan D?singer <stefandoesinger at gmx.at> wrote:
> Am Montag, 18. Mai 2009 22:46:59 schrieb Lei Zhang:
>> It didn't think so either, so I even double checked. Upon further
>> investigation, it seems the problem is simply the gecko cab download
>> is failing. Either one of the Sourceforge servers is down/flaky, or
>> source.winehq.org is taking too long to do the redirect and wininet
>> doesn't handle that well.
> That might explain why the HL2 test ran successfully yesterday, but not the
> TF2 test(which does the same Gecko setup). Today both failed again. On the
> other hand, it seems that the download succeeds - the progress bar runs to
> the end, and the dialog box says "installing" for about a second.
>
>
>

You could always do a local install, and avoid the problem altogether
http://wiki.winehq.org/Gecko.

-- 
-Austin


From austinenglish at gmail.com  Tue May 19 09:56:29 2009
From: austinenglish at gmail.com (Austin English)
Date: Tue, 19 May 2009 09:56:29 -0500
Subject: [Article] WINE and the importance of application compatibility
In-Reply-To: <200905190947.13439.kai.blin@gmail.com>
References: <a71bd89a0905171709s4284b37cw2fa210cf3a00edc8@mail.gmail.com>
	<fbad4e140905181348l1fee9821t11b8a6d2f549d995@mail.gmail.com>
	<4A11F30A.1040907@open-vote.org>
	<200905190947.13439.kai.blin@gmail.com>
Message-ID: <b6bb06270905190756t7ad5f0dwe498663d5099f5d9@mail.gmail.com>

On Tue, May 19, 2009 at 2:47 AM, Kai Blin <kai.blin at gmail.com> wrote:
> That depends on being able to test a lot of applications, though.

I'm working on it :-)

-- 
-Austin


From paul.vriens.wine at gmail.com  Tue May 19 12:16:09 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Tue, 19 May 2009 19:16:09 +0200
Subject: winemaker: add include-directory parsing
In-Reply-To: <4A12E1FF.30905@dawncrow.de>
References: <4A12E1FF.30905@dawncrow.de>
Message-ID: <4A12E959.8070101@gmail.com>

Andr? Hentschel wrote:
> ---
>  tools/winemaker |    7 +++++--
>  1 files changed, 5 insertions(+), 2 deletions(-)
> 
> 
> 
> ------------------------------------------------------------------------
> 
> 
Hi Andr?,

Not a comment on the patch itself but this is the third time you tried 
with the same patch.

We usually add a 'resend' to the subject of a patch that is, uuh resend. 
If it's another revision we add 'try x'.

In your case you should probably ask (on wine-devel) for comments or 
contact AJ directly on irc.

-- 
Cheers,

Paul.


From paul.vriens.wine at gmail.com  Tue May 19 12:46:38 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Tue, 19 May 2009 19:46:38 +0200
Subject: [PATCH 7/8] urlmon: Added MIME filter handling in BindProtocol
	tests.
In-Reply-To: <4A118E88.90406@codeweavers.com>
References: <4A118E88.90406@codeweavers.com>
Message-ID: <4A12F07E.9030903@gmail.com>

Jacek Caban wrote:
> ---
>  dlls/urlmon/tests/protocol.c |  723 
> +++++++++++++++++++++++++++++++++++-------
>  1 files changed, 608 insertions(+), 115 deletions(-)
> 
> 
> 
> ------------------------------------------------------------------------
> 
> 
Hi Jacek,

This introduces extra failures on what seems to be mostly on IE7 and 
higher; see test.winehq.org.

Could you have a look?

-- 
Cheers,

Paul.


From javatroubadour at yahoo.com  Tue May 19 17:00:03 2009
From: javatroubadour at yahoo.com (Daniel Santos)
Date: Tue, 19 May 2009 15:00:03 -0700 (PDT)
Subject: Detecting an invalid handle in setupapi
Message-ID: <49510.82513.qm@web45912.mail.sp1.yahoo.com>

oops, I meant to reply-all on this.

--- On Mon, 5/18/09, Daniel Santos <javatroubadour at yahoo.com> wrote:

From: Daniel Santos <javatroubadour at yahoo.com>
Subject: Re: Detecting an invalid handle in setupapi
To: "Paul Vriens" <paul.vriens.wine at gmail.com>
Date: Monday, May 18, 2009, 5:43 PM

I'm so very glad you brought this up Paul.? I'm new to wine development
and I've been working on Lord of the Rings Online issues and I have
discovered and validated that the root cause of two of my problems are
related (http://bugs.winehq.org/show_bug.cgi?id=18371).? There are numerous places in Wine where the validity of
handles are not checked.? If the handle turns out to be invalid, then a NULL pointer is simply passed instead (which sometimes has an alternate meaning).? Worse yet, in the code I was working with
(dlls/kernel32/global16.c) the type of object the handle refers to is
not stored!? I see this as a critical flaw in Wine and I hope I can come up with a viable solution.? I'm planning on setting up some test programs to examine the bit-data of some windows objects (starting with user32 -- where my issue lies) as any solution will have to be bit-compatibile with windows since apps like paint shop pro de-reference handles and examine the data of the underlying objects.

In truth, if the LOTRO app didn't destroy objects it was still using and then try to use them, the problem wouldn't exist -- this part of wine will work perfectly if the app behaved responsibly.? But development timelines and pressures frequently lead to code that works, but is incorrect and is a part of reality.

Daniel

--- On Sat, 5/16/09, Paul Vriens <paul.vriens.wine at gmail.com> wrote:

From: Paul
 Vriens <paul.vriens.wine at gmail.com>
Subject: Detecting an invalid handle in setupapi
To: "wine-devel at winehq.org" <wine-devel at winehq.org>
Date: Saturday, May 16, 2009, 12:18 PM

Hi,

I'm trying to install Microsoft's MMC (W2K3) and it crashes every now and then with different symptoms.

I've tracked it down to what I think is a fault in the application that triggers a bug in Wine. All inf files that are read are closed with SetupCloseInfFile but the app is still trying to use the handle in a call to SetupFindFirstLineA.

On Windows (tested on W2K3) this will lead to a failure of SetupFindFirstLineA with a last error of ERROR_INVALID_HANDLE. On Wine we don't check the handle and thus the outcome cannot be predicted (mostly crash).

What ways do we have to detect invalid handles or better yet how can this be solved?

--
 Cheers,

Paul.





      


      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090519/e80b7833/attachment.htm>

From max at veneto.com  Tue May 19 17:13:02 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Wed, 20 May 2009 00:13:02 +0200
Subject: DIB Engine - Mostly fixed against test suite
In-Reply-To: <guparm$l51$1@ger.gmane.org>
References: <guparm$l51$1@ger.gmane.org>
Message-ID: <guvatf$vi3$1@ger.gmane.org>

Well, it seems that the engine fixes some unrelated bugs too :-)
Bugs 15146 and 10408, as reported by a tester.

BTW In a couple of weeks all (few) remaining failing tests should be fixed.
Then I'll try to optimize somehow the mixed blitting, which is the only
stuff that remains slower than original.

Then, last but not least, I guess I'll setup a machine for weekly packaging
for ubuntu.... many people are asking me for autocad usage.

Ciao

Max



From javatroubadour at yahoo.com  Tue May 19 21:29:52 2009
From: javatroubadour at yahoo.com (Daniel Santos)
Date: Tue, 19 May 2009 19:29:52 -0700 (PDT)
Subject: user32: improvements
Message-ID: <807533.36670.qm@web45914.mail.sp1.yahoo.com>

In the process of working on this bug (http://bugs.winehq.org/show_bug.cgi?id=18371), I have discovered that user32's SetCursor function does not ensure that the the handle passed is valid or that it is even a handle to a cursor object (and it seems that the lingo for user32 objects is "resources").? The root cause of this problem is that the app attempts to use a cursor after it already destroyed it.? At first, this just causes the cursor to be blank.? Then, it would appear that the handle is re-used for a different type of resource, which leads to the gibberish image & subsequent hang.? When this app runs on windows, I presume that the SetCursor calls just fail and the app resumes harmlessly ignoring the failure (or correcting it, either way).? In general, this flaw will affect applications which use the user32 api irresponsibly, and I'm certain that a great number of windows apps out there, to some extent, do.

My 1st step is to write some tests that illustrate/prove this problem (and that it works on windows) and I'm building the tests now so I can start on that.? However, I've been reading up and considering how to implement a solution.? I presume that this problem affects every user32 handle & function related to them, but I have only thoroughly examined mousecursor.c, so please forgive any incorrect assumptions I still have at this point (and let me know if I'm way off!).? There was a quaint MSDN? article on how the windows GDI32 dll manages GDI objects that even gave the internal structure, etc. (http://msdn.microsoft.com/en-us/magazine/cc188782.aspx).? Although this only covers gdi32, I'm getting the idea that what needs to happen in user32 isn't too much different.

Essentially, it would seem that user32 needs to associate a handle with a type and it would *appear* at this point that would be sufficient.? However, I need to gain a better understanding of the nuisances of user32 objects..? From reading this ms kb article (http://support.microsoft.com/kb/184802), it seems that the windows user32 maintains 3 different types of heaps, a global one, one for each desktop and a different (differently sized?) one for non-interactive desktops.? Windows' "global heap" is where user32 stores it's handle table, presumably which, simply associates a kernel32 handle with appropriate information for user32 objects, similar to the way GDI does (as illustrated in the above referenced MSDN article).? Thus, if you create a thread, it can never have the same handle value as a cursor, icon, etc.

So I'm going to write my tests on my windows machine, starting with only the mousecursor.c stuff because there appears to be quite a lot of ground to cover.? If anybody has any feedback, corrections to anything I've said, etc. please do reply.

Daniel



      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090519/8388e13d/attachment.htm>

From austinenglish at gmail.com  Tue May 19 21:38:09 2009
From: austinenglish at gmail.com (Austin English)
Date: Tue, 19 May 2009 21:38:09 -0500
Subject: Bugzilla upgrade - opening attachments in browser
Message-ID: <b6bb06270905191938x607ef304g4a8fd35c90495be@mail.gmail.com>

It seems the bugzilla upgrade stopped allowing opening attachments in
browser. Not sure if that's by choice or just an unchanged setting,
but having to open .txt/.jpeg/.png files in outside applications is a
bit annoying...Any possibility of fixing that?

-- 
-Austin


From Nicklas.Borjesson at ws.se  Wed May 20 02:16:37 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Wed, 20 May 2009 09:16:37 +0200
Subject: Bugzilla upgrade - opening attachments in browser
In-Reply-To: <b6bb06270905191938x607ef304g4a8fd35c90495be@mail.gmail.com>
References: <b6bb06270905191938x607ef304g4a8fd35c90495be@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6D013D48AE@wsmail01.ws.se>

> It seems the bugzilla upgrade stopped allowing opening attachments in
> browser.

I can comfirm this on several platforms and browsers.

//Nicklas 




From marcus at jet.franken.de  Wed May 20 02:46:29 2009
From: marcus at jet.franken.de (Marcus Meissner)
Date: Wed, 20 May 2009 09:46:29 +0200
Subject: [PATCH] winhttp: avoid NULL ptr dereference (Coverity 927)
In-Reply-To: <4A129C17.5070601@gmail.com>
References: <4a0f1afb.0c1e640a.52b7.5059SMTPIN_ADDED@mx.google.com>
	<4A129C17.5070601@gmail.com>
Message-ID: <20090520074629.GA13779@galeere.jet.franken.de>

On Tue, May 19, 2009 at 01:46:31PM +0200, Paul Vriens wrote:
> Marcus Meissner wrote:
>>  +lend2:
>>      TRACE("%d <--\n", bSuccess);
>>      return bSuccess;
>>  }
> Hi Marcus,
>
> After AJ's remark you marked this Coverity one as "lpwhr can not be NULL". 
> Should we thus delete the "NULL == lpwhr" altogether?

Yes,

I just sent a patch doing this.

Ciao, Marcus


From mike.kronenberg at kronenberg.org  Mon May 18 04:05:49 2009
From: mike.kronenberg at kronenberg.org (Mike Kronenberg)
Date: Mon, 18 May 2009 11:05:49 +0200
Subject: News on Wine 1.1.21/MacOSX/XQuartz 2.3.3
In-Reply-To: <8325218A80FB4DC998C373979F3C3710@DMITRY>
References: <4A0F8338.5020708@earthlink.net>	<19e31a080905170449k77959ac5g82a2b13132b85c30@mail.gmail.com><b6bb06270905171345v537e4ce1n4bda0b6f9eb396f2@mail.gmail.com>
	<4A10A118.4050704@earthlink.net>
	<8325218A80FB4DC998C373979F3C3710@DMITRY>
Message-ID: <5805E10B-1598-4969-92D3-EC5C6938CAF7@kronenberg.org>

Hi,

It's not about being willing to, but plain lack of time.
I follow this list closely and work as time permits.
After half a year, it's been four weeks now that I am able again to  
build and test on a regular base again.

There are other components on OS X that need some love, like the  
winehelper.app into which I'm looking atm.

License and renaming is definitely on the list.
I thought to revamp the package, once the winehelper is replaced to  
not double the work.

As already mentioned, I build the dependencies and store them inside  
the apple .app package, which allows for drag'n'drop installation and  
removal.

Having the dependencies as frameworks would be even better, as there  
is a lot of trouble with PATHS, especially if multiple environments  
are on the system, like fink and macports.

But if the name-change is the most pressing issue, I will gladly do  
that for you.

Mike Kronenberg






On 18.05.2009, at 06:56, Dmitry Timoshkov wrote:

> "James McKenzie" <jjmckenzie51 at earthlink.net> wrote:
>
>> Austin:
>> Contact Mike Kronenberg or Zach Drayer and see what they currently
>> have.
>
> IMHO since they haven't even bothered so far to change the license  
> from
> GPL to LGPL to match Wine, and clarify what exactly is so much  
> different
> in their builds so that they insist on different naming (Darwine vs.  
> Wine),
> they shouldn't be even considered as partners to the Wine project.
>
> If we could have our own Wine builds for Intel Macs, that would  
> finally
> help to avoid this confusion Darwine adds, and remove it from our Wiki
> altogether (since it's apparently where the users coming to them  
> from).
>
> -- 
> Dmitry.
>
>



From mike.kronenberg at kronenberg.org  Tue May 19 11:41:07 2009
From: mike.kronenberg at kronenberg.org (Mike Kronenberg)
Date: Tue, 19 May 2009 18:41:07 +0200
Subject: News on Wine 1.1.21/MacOSX/XQuartz 2.3.3
In-Reply-To: <8325218A80FB4DC998C373979F3C3710@DMITRY>
References: <4A0F8338.5020708@earthlink.net>	<19e31a080905170449k77959ac5g82a2b13132b85c30@mail.gmail.com><b6bb06270905171345v537e4ce1n4bda0b6f9eb396f2@mail.gmail.com>
	<4A10A118.4050704@earthlink.net>
	<8325218A80FB4DC998C373979F3C3710@DMITRY>
Message-ID: <1D65C78F-B646-4E73-987C-DD56D45BD274@kronenberg.org>

On 18.05.2009, at 06:56, Dmitry Timoshkov wrote:

> "James McKenzie" <jjmckenzie51 at earthlink.net> wrote:
>
>> Austin:
>> Contact Mike Kronenberg or Zach Drayer and see what they currently
>> have.
>
> IMHO since they haven't even bothered so far to change the license  
> from
> GPL to LGPL to match Wine, and clarify what exactly is so much  
> different
> in their builds so that they insist on different naming (Darwine vs.  
> Wine),
> they shouldn't be even considered as partners to the Wine project.
>
> If we could have our own Wine builds for Intel Macs, that would  
> finally
> help to avoid this confusion Darwine adds, and remove it from our Wiki
> altogether (since it's apparently where the users coming to them  
> from).
>
> -- 
> Dmitry.
>
>



Hi,

(I hope I did not double-post, but somehow my mail from yesterday was  
eaten by filter-gnomes)

It's not about being willing to, but plain lack of time.
I follow this list closely and work on solutions as time permits.
After half a year, it's been four weeks now that I am able again to  
build and test on a regular base again.

There are other components on OS X that need some love, like the  
winehelper.app into which I'm looking atm.

License and renaming is definitely on the list.
I thought to revamp the package, once the winehelper is replaced, to  
not double do the work.

As already mentioned, I build the dependencies and store them inside  
the apple .app package, which allows for drag'n'drop installation and  
removal.

Having the dependencies as frameworks would be even better, as there  
is a lot of trouble with PATHS, especially if multiple environments  
are on the system, like fink and macports.

But if the name-change is the most pressing issue, I will gladly do  
that with this weekends release.

Mike Kronenberg


From fgouget at free.fr  Wed May 20 04:19:41 2009
From: fgouget at free.fr (Francois Gouget)
Date: Wed, 20 May 2009 11:19:41 +0200 (CEST)
Subject: malloc() use in rpcrt4/tests/server.c
Message-ID: <alpine.DEB.2.00.0905201117260.9395@amboise.dolphin>


Is there a specific reason for using malloc() in these tests?
Testing that rpcrt4 does not assume HeapAlloc pointers? (but why would 
it even care?)

Here are the relevant lines:

in midl_user_allocate():
dlls/rpcrt4/tests/server.c:56: use HeapXxx(): return malloc(n);

in array_tests():
dlls/rpcrt4/tests/server.c:1212: use HeapXxx(): dc = malloc(FIELD_OFFSET(doub_carr_t, a[2]));
dlls/rpcrt4/tests/server.c:1214: use HeapXxx(): dc->a[0] = malloc(FIELD_OFFSET(doub_carr_1_t, a[3]));
dlls/rpcrt4/tests/server.c:1219: use HeapXxx(): dc->a[1] = malloc(FIELD_OFFSET(doub_carr_1_t, a[2]));


-- 
Francois Gouget <fgouget at free.fr>              http://fgouget.free.fr/
           Cahn's Axiom: When all else fails, read the instructions.


From thunderbird2k at gmail.com  Wed May 20 04:46:49 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Wed, 20 May 2009 11:46:49 +0200
Subject: News on Wine 1.1.21/MacOSX/XQuartz 2.3.3
In-Reply-To: <1D65C78F-B646-4E73-987C-DD56D45BD274@kronenberg.org>
References: <4A0F8338.5020708@earthlink.net>
	<19e31a080905170449k77959ac5g82a2b13132b85c30@mail.gmail.com>
	<b6bb06270905171345v537e4ce1n4bda0b6f9eb396f2@mail.gmail.com>
	<4A10A118.4050704@earthlink.net>
	<8325218A80FB4DC998C373979F3C3710@DMITRY>
	<1D65C78F-B646-4E73-987C-DD56D45BD274@kronenberg.org>
Message-ID: <c8485d470905200246v3d35080ekbffb5f77772dabb@mail.gmail.com>

On Tue, May 19, 2009 at 6:41 PM, Mike Kronenberg
<mike.kronenberg at kronenberg.org> wrote:
> On 18.05.2009, at 06:56, Dmitry Timoshkov wrote:
>
>> "James McKenzie" <jjmckenzie51 at earthlink.net> wrote:
>>
>>> Austin:
>>> Contact Mike Kronenberg or Zach Drayer and see what they currently
>>> have.
>>
>> IMHO since they haven't even bothered so far to change the license from
>> GPL to LGPL to match Wine, and clarify what exactly is so much different
>> in their builds so that they insist on different naming (Darwine vs.
>> Wine),
>> they shouldn't be even considered as partners to the Wine project.
>>
>> If we could have our own Wine builds for Intel Macs, that would finally
>> help to avoid this confusion Darwine adds, and remove it from our Wiki
>> altogether (since it's apparently where the users coming to them from).
>>
>> --
>> Dmitry.
>>
>>
>
>
>
> Hi,
>
> (I hope I did not double-post, but somehow my mail from yesterday was eaten
> by filter-gnomes)
>
> It's not about being willing to, but plain lack of time.
> I follow this list closely and work on solutions as time permits.
> After half a year, it's been four weeks now that I am able again to build
> and test on a regular base again.
>
> There are other components on OS X that need some love, like the
> winehelper.app into which I'm looking atm.
>
> License and renaming is definitely on the list.
> I thought to revamp the package, once the winehelper is replaced, to not
> double do the work.
>
> As already mentioned, I build the dependencies and store them inside the
> apple .app package, which allows for drag'n'drop installation and removal.
>
> Having the dependencies as frameworks would be even better, as there is a
> lot of trouble with PATHS, especially if multiple environments are on the
> system, like fink and macports.
>
> But if the name-change is the most pressing issue, I will gladly do that
> with this weekends release.
>
> Mike Kronenberg
>
>
>

Could you also upload some docs / scripts on how to build 'DarWine'
from scratch? I have an app which I need to run on osx which I like to
package as well. I have time to help fixing osx issues (duplicating
the effort is not worth it).

Roderick


From jacek at codeweavers.com  Wed May 20 04:46:20 2009
From: jacek at codeweavers.com (Jacek Caban)
Date: Wed, 20 May 2009 11:46:20 +0200
Subject: [PATCH 7/8] urlmon: Added MIME filter handling in BindProtocol
	tests.
In-Reply-To: <4A12F07E.9030903@gmail.com>
References: <4A118E88.90406@codeweavers.com> <4A12F07E.9030903@gmail.com>
Message-ID: <4A13D16C.8010706@codeweavers.com>

Hi Paul,

Paul Vriens wrote:
> Jacek Caban wrote:
>> ---
>>  dlls/urlmon/tests/protocol.c |  723 
>> +++++++++++++++++++++++++++++++++++-------
>>  1 files changed, 608 insertions(+), 115 deletions(-)
>>
>>
>>
>> ------------------------------------------------------------------------
>>
>>
> Hi Jacek,
>
> This introduces extra failures on what seems to be mostly on IE7 and 
> higher; see test.winehq.org.
>
> Could you have a look?


Thanks for notification, I will send patches to fix them later today.


Jacek


From austinenglish at gmail.com  Wed May 20 09:04:24 2009
From: austinenglish at gmail.com (Austin English)
Date: Wed, 20 May 2009 09:04:24 -0500
Subject: News on Wine 1.1.21/MacOSX/XQuartz 2.3.3
In-Reply-To: <c8485d470905200246v3d35080ekbffb5f77772dabb@mail.gmail.com>
References: <4A0F8338.5020708@earthlink.net>
	<19e31a080905170449k77959ac5g82a2b13132b85c30@mail.gmail.com>
	<b6bb06270905171345v537e4ce1n4bda0b6f9eb396f2@mail.gmail.com>
	<4A10A118.4050704@earthlink.net>
	<8325218A80FB4DC998C373979F3C3710@DMITRY>
	<1D65C78F-B646-4E73-987C-DD56D45BD274@kronenberg.org>
	<c8485d470905200246v3d35080ekbffb5f77772dabb@mail.gmail.com>
Message-ID: <b6bb06270905200704l20f9eddfn333937809742d675@mail.gmail.com>

On Wed, May 20, 2009 at 4:46 AM, Roderick Colenbrander
<thunderbird2k at gmail.com> wrote:
> On Tue, May 19, 2009 at 6:41 PM, Mike Kronenberg
> <mike.kronenberg at kronenberg.org> wrote:
>> On 18.05.2009, at 06:56, Dmitry Timoshkov wrote:
>>
>>> "James McKenzie" <jjmckenzie51 at earthlink.net> wrote:
>>>
>>>> Austin:
>>>> Contact Mike Kronenberg or Zach Drayer and see what they currently
>>>> have.
>>>
>>> IMHO since they haven't even bothered so far to change the license from
>>> GPL to LGPL to match Wine, and clarify what exactly is so much different
>>> in their builds so that they insist on different naming (Darwine vs.
>>> Wine),
>>> they shouldn't be even considered as partners to the Wine project.
>>>
>>> If we could have our own Wine builds for Intel Macs, that would finally
>>> help to avoid this confusion Darwine adds, and remove it from our Wiki
>>> altogether (since it's apparently where the users coming to them from).
>>>
>>> --
>>> Dmitry.
>>>
>>>
>>
>>
>>
>> Hi,
>>
>> (I hope I did not double-post, but somehow my mail from yesterday was eaten
>> by filter-gnomes)
>>
>> It's not about being willing to, but plain lack of time.
>> I follow this list closely and work on solutions as time permits.
>> After half a year, it's been four weeks now that I am able again to build
>> and test on a regular base again.
>>
>> There are other components on OS X that need some love, like the
>> winehelper.app into which I'm looking atm.
>>
>> License and renaming is definitely on the list.
>> I thought to revamp the package, once the winehelper is replaced, to not
>> double do the work.
>>
>> As already mentioned, I build the dependencies and store them inside the
>> apple .app package, which allows for drag'n'drop installation and removal.
>>
>> Having the dependencies as frameworks would be even better, as there is a
>> lot of trouble with PATHS, especially if multiple environments are on the
>> system, like fink and macports.
>>
>> But if the name-change is the most pressing issue, I will gladly do that
>> with this weekends release.
>>
>> Mike Kronenberg
>>
>>
>>
>
> Could you also upload some docs / scripts on how to build 'DarWine'
> from scratch? I have an app which I need to run on osx which I like to
> package as well. I have time to help fixing osx issues (duplicating
> the effort is not worth it).
>
> Roderick
>
>
>

It's available under 'build env':
http://www.kronenberg.org/darwine/buildenv-1.1.5.zip

-- 
-Austin


From austinenglish at gmail.com  Wed May 20 09:11:35 2009
From: austinenglish at gmail.com (Austin English)
Date: Wed, 20 May 2009 09:11:35 -0500
Subject: [PATCH] Add missing classes for DOMDocument in msxml, and add 
	test-cases back it up.
In-Reply-To: <4E14472A22484EE0B9FE3551ACC3EA98@joe6aebqyzunro>
References: <4E14472A22484EE0B9FE3551ACC3EA98@joe6aebqyzunro>
Message-ID: <b6bb06270905200711i26d09b1nab48f0f28b4c58aa@mail.gmail.com>

On Tue, May 19, 2009 at 3:07 PM, Judy Devyak <judycarol at ameritech.net> wrote:
>
>
>
>

You forgot the patch.

-- 
-Austin


From austinenglish at gmail.com  Wed May 20 09:50:15 2009
From: austinenglish at gmail.com (Austin English)
Date: Wed, 20 May 2009 09:50:15 -0500
Subject: Bugzilla upgrade - opening attachments in browser
In-Reply-To: <2bcb95620905200405l496e97a8j79671b848329bf81@mail.gmail.com>
References: <b6bb06270905191938x607ef304g4a8fd35c90495be@mail.gmail.com>
	<2bcb95620905200405l496e97a8j79671b848329bf81@mail.gmail.com>
Message-ID: <b6bb06270905200750n5367eb38n106ecc1253b898c3@mail.gmail.com>

On Wed, May 20, 2009 at 6:05 AM, Igor Tarasov <tarasov.igor at gmail.com> wrote:
> attachment.cgi shows that it relies on allow_attachment_display
> parameter in bugzilla configuration. It has to be set to true.
>
> --
> Igor
>

Can a bugzilla admin please enable this?

-- 
-Austin


From jnewman at codeweavers.com  Wed May 20 10:49:01 2009
From: jnewman at codeweavers.com (Jeremy Newman)
Date: Wed, 20 May 2009 10:49:01 -0500
Subject: Bugzilla upgrade - opening attachments in browser
In-Reply-To: <b6bb06270905200750n5367eb38n106ecc1253b898c3@mail.gmail.com>
References: <b6bb06270905191938x607ef304g4a8fd35c90495be@mail.gmail.com>	<2bcb95620905200405l496e97a8j79671b848329bf81@mail.gmail.com>
	<b6bb06270905200750n5367eb38n106ecc1253b898c3@mail.gmail.com>
Message-ID: <4A14266D.9060507@codeweavers.com>

OK, it is now enabled.

-Newman

Austin English wrote:
> On Wed, May 20, 2009 at 6:05 AM, Igor Tarasov <tarasov.igor at gmail.com> wrote:
>> attachment.cgi shows that it relies on allow_attachment_display
>> parameter in bugzilla configuration. It has to be set to true.
>>
>> --
>> Igor
>>
> 
> Can a bugzilla admin please enable this?
> 


From ricardojdfilipe at gmail.com  Wed May 20 13:03:32 2009
From: ricardojdfilipe at gmail.com (Ricardo Filipe)
Date: Wed, 20 May 2009 19:03:32 +0100
Subject: Change BITS_IBackgroundCopyJob_SetPriority to a stub so the 
	EvE-Online patcher works.
In-Reply-To: <4A141506.8070504@splhi.com>
References: <4A141506.8070504@splhi.com>
Message-ID: <bc8cede80905201103h2e8101f9l71e83e87dbc36667@mail.gmail.com>

2009/5/20 Tim Wright <timw at splhi.com>

> The EvE-online updater blows up because it's trying to set the download
> priority in BITS (qmgr) and that isn't implemented. Simply stubbing it to
> return S_OK is sufficient to allow it to work.
>
> Third attempt at sending. For some reason, it isn't being posted from
> git-send-email even though the Cc: arrives just fine at another account.
> Patch against git repository. This is bug 18528/12312.
>
>
>
> ---
>  dlls/qmgr/job.c |    4 ++--
>  1 files changed, 2 insertions(+), 2 deletions(-)
>
> diff --git a/dlls/qmgr/job.c b/dlls/qmgr/job.c
> index 3baa893..09693a3 100644
> --- a/dlls/qmgr/job.c
> +++ b/dlls/qmgr/job.c
> @@ -334,8 +334,8 @@ static HRESULT WINAPI
> BITS_IBackgroundCopyJob_SetPriority(
>     IBackgroundCopyJob2 *iface,
>     BG_JOB_PRIORITY Val)
>  {
> -    FIXME("Not implemented\n");
> -    return E_NOTIMPL;
> +    FIXME("(%p,0x%08x) stub\n", iface, Val);
> +    return S_OK;
>  }
>
>  static HRESULT WINAPI BITS_IBackgroundCopyJob_GetPriority(
> --
> 1.6.0.4
>
>
>
>
> your previous patch was already commited. check git page the next day when
you send patches.
http://source.winehq.org/git/wine.git/?a=commit;h=cb26244adb4e15ab60e4d02b5bedf96c9da98685

;)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090520/21ce5c25/attachment.htm>

From wine.dev at web.de  Wed May 20 12:19:16 2009
From: wine.dev at web.de (Detlef Riekenberg)
Date: Wed, 20 May 2009 19:19:16 +0200
Subject: Entry point not found for GetDiskInfoA (wininet_crosstest.exe)
Message-ID: <1242839957.5756.18.camel@p4.lan>


In "dlls/wininet/tests/urlcache.c", GetDiskInfoA is called,
but wininet.dll (native and wine) export this function only by ordinal.

When I build the crosstest, my mingw
[i586-mingw32msvc-gcc (GCC) 4.2.1-sjlj (mingw32-2)] 
creates a named Import for GetDiskInfoA with an ordinal hint of 65.

Using that executable on Windows or Wine is not possible
(Entry point not found for GetDiskInfoA)

The wininet_test.exe on winehq has an ordinal Import of 102 in that
place.

How can we fix that?

(My patch to use an ordinal import in the test was dropped:
http://www.winehq.org/pipermail/wine-patches/2009-May/073130.html )



-- 
 
By by ... Detlef



From madewokherd+8cd9 at gmail.com  Wed May 20 13:54:27 2009
From: madewokherd+8cd9 at gmail.com (Vincent Povirk)
Date: Wed, 20 May 2009 13:54:27 -0500
Subject: gdiplus: implement partially transparent solid fill brushes
In-Reply-To: <33F6268AA99B6C448F07F03B2B6497D32C2127@taz.CodeWeavers.local>
References: <33F6268AA99B6C448F07F03B2B6497D32C2127@taz.CodeWeavers.local>
Message-ID: <ced95fe0905201154m1d2e1571md6db87e20d95b980@mail.gmail.com>

Don't commit this one. I forgot to pre-multiply the alpha.

Vincent Povirk



On Wed, May 20, 2009 at 11:33 AM, Vincent Povirk
<vincent at codeweavers.com> wrote:
>
>
>
>


From madewokherd+8cd9 at gmail.com  Wed May 20 13:54:27 2009
From: madewokherd+8cd9 at gmail.com (Vincent Povirk)
Date: Wed, 20 May 2009 13:54:27 -0500
Subject: gdiplus: implement partially transparent solid fill brushes
In-Reply-To: <33F6268AA99B6C448F07F03B2B6497D32C2127@taz.CodeWeavers.local>
References: <33F6268AA99B6C448F07F03B2B6497D32C2127@taz.CodeWeavers.local>
Message-ID: <ced95fe0905201154m1d2e1571md6db87e20d95b980@mail.gmail.com>

Don't commit this one. I forgot to pre-multiply the alpha.

Vincent Povirk



On Wed, May 20, 2009 at 11:33 AM, Vincent Povirk
<vincent at codeweavers.com> wrote:
>
>
>
>


From tarasov.igor at gmail.com  Wed May 20 14:20:50 2009
From: tarasov.igor at gmail.com (Igor Tarasov)
Date: Thu, 21 May 2009 00:20:50 +0500
Subject: Need help writing test
In-Reply-To: <2bcb95620904241720i52f08703i76c1cd458bcbde8d@mail.gmail.com>
References: <2bcb95620904241720i52f08703i76c1cd458bcbde8d@mail.gmail.com>
Message-ID: <2bcb95620905201220l1d4c5153ya9a5e8b7402d14ca@mail.gmail.com>

Hi!

I still need help on this case, any advice is appreciated.

2009/4/25 Igor Tarasov <tarasov.igor at gmail.com>:
> Hi!
>
> I've found few visual glitches in comctl32/toolbar, and now try to
> write this all down as conformance tests, but I have some problems. I
> see that there is bug, when I test it with control spy. But when I
> repeat it in testcase, it won't work. Here is how you can reproduce
> it:
>
> TB_SETBITMAPSIZE 20,20
> TB_SETBUTTONSIZE 30,30
> TB_SETBITMAPSIZE 10,10
>
> Now, if you do TB_SETBUTTONSIZE, you'll see the difference. builtin
> comctl will return 17,16. Native - 30,16. But when I write something
> like this:
>
> ? ?rebuild_toolbar_with_buttons(&hToolbar);
> ? ?himl = ImageList_LoadImage(GetModuleHandle(NULL),
> MAKEINTRESOURCE(IDB_BITMAP_80x15), 20, 2, CLR_NONE, IMAGE_BITMAP,
> LR_DEFAULTCOLOR);
> ? ?ok(SendMessageA(hToolbar, TB_SETIMAGELIST, 0, (LRESULT)himl) == 0,
> "TB_SETIMAGELIST failed\n");
> ? ?SendMessageA(hToolbar, TB_SETBITMAPSIZE, 0, MAKELONG(20, 20));
> ? ?SendMessageA(hToolbar, TB_SETBUTTONSIZE, 0, MAKELONG(30, 30));
> ? ?ok(SendMessageA(hToolbar, TB_GETBUTTONSIZE, 0, 0) == MAKELONG(30,
> 30), "Unexpected button size\n");
> ? ?SendMessageA(hToolbar, TB_SETBITMAPSIZE, 0, MAKELONG(10, 10));
> ? ?compare((int)SendMessageA(hToolbar, TB_GETBUTTONSIZE, 0, 0),
> MAKELONG(30, 16), "%x");
>
> This test fails, when I test it with native comctl32 (the size is
> 17,16). Why could this happen or what am I doing wrong?

-- 
Igor


From julliard at winehq.org  Thu May 21 05:05:32 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Thu, 21 May 2009 12:05:32 +0200
Subject: Entry point not found for GetDiskInfoA (wininet_crosstest.exe)
In-Reply-To: <1242839957.5756.18.camel@p4.lan> (Detlef Riekenberg's message of
	"Wed, 20 May 2009 19:19:16 +0200")
References: <1242839957.5756.18.camel@p4.lan>
Message-ID: <873aay7our.fsf@wine.dyndns.org>

Detlef Riekenberg <wine.dev at web.de> writes:

> Using that executable on Windows or Wine is not possible
> (Entry point not found for GetDiskInfoA)
>
> The wininet_test.exe on winehq has an ordinal Import of 102 in that
> place.
>
> How can we fix that?

You have to use the Wine import libs, not the Mingw ones.

-- 
Alexandre Julliard
julliard at winehq.org


From julliard at winehq.org  Thu May 21 05:46:55 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Thu, 21 May 2009 12:46:55 +0200
Subject: shell32: for FO_COPY, if the destination is an empty string,
	SHFileOperation should use the current directory.
In-Reply-To: <267994.26236.qm@web24503.mail.ird.yahoo.com> (lionel debroux's
	message of "Wed, 20 May 2009 13:00:15 +0000 (GMT)")
References: <267994.26236.qm@web24503.mail.ird.yahoo.com>
Message-ID: <87vdnu68dc.fsf@wine.dyndns.org>

lionel_debroux at yahoo.fr writes:

> @@ -1179,6 +1181,15 @@ static HRESULT copy_files(FILE_OPERATION *op, const FILE_LIST *flFrom, FILE_LIST
>      const FILE_ENTRY *entryToCopy;
>      const FILE_ENTRY *fileDest = &flTo->feFiles[0];
>  
> +    /* If the destination is empty, SHFileOperation should use the current directory */
> +    if (!fileDest)
> +    {
> +        WCHAR currd[MAX_PATH];
> +        GetCurrentDirectoryW(MAX_PATH, currd);
> +        parse_file_list(flTo, currd);
> +        fileDest = &flTo->feFiles[0];
> +    }

This can't possibly work. parse_file_list requires a null-terminated
list, and you will be overwriting the previous data. This needs more
thought.

-- 
Alexandre Julliard
julliard at winehq.org


From lionel_debroux at yahoo.fr  Thu May 21 07:21:37 2009
From: lionel_debroux at yahoo.fr (Lionel Debroux)
Date: Thu, 21 May 2009 14:21:37 +0200
Subject: shell32: for FO_COPY, if the destination is an empty string,
	SHFileOperation should use the current directory.
In-Reply-To: <87vdnu68dc.fsf@wine.dyndns.org>
References: <267994.26236.qm@web24503.mail.ird.yahoo.com>
	<87vdnu68dc.fsf@wine.dyndns.org>
Message-ID: <4A154751.50001@yahoo.fr>

Alexandre Julliard wrote:
> lionel_debroux at yahoo.fr writes:
> 
>> @@ -1179,6 +1181,15 @@ static HRESULT copy_files(FILE_OPERATION *op, const FILE_LIST *flFrom, FILE_LIST
>>      const FILE_ENTRY *entryToCopy;
>>      const FILE_ENTRY *fileDest = &flTo->feFiles[0];
>>  
>> +    /* If the destination is empty, SHFileOperation should use the current directory */
>> +    if (!fileDest)
>> +    {
>> +        WCHAR currd[MAX_PATH];
>> +        GetCurrentDirectoryW(MAX_PATH, currd);
>> +        parse_file_list(flTo, currd);
>> +        fileDest = &flTo->feFiles[0];
>> +    }
> 
> This can't possibly work. parse_file_list requires a null-terminated
> list, and you will be overwriting the previous data.
Well, AFAICS, there is no previous data in flTo, because of the early 
abort upon empty path in parse_file_list():
     if (!szFiles[0])
         return ERROR_ACCESS_DENIED;

right before

     flList->feFiles = HeapAlloc(GetProcessHeap(), HEAP_ZERO_MEMORY,
                                 flList->num_alloc*sizeof(FILE_ENTRY));

I checked it by adding a trace to the early exit of destroy_file_list():
     if (!flList || !flList->feFiles)
and calling destroy_file_list() before the call to parse_file_list() in 
copy_files() added by the patch.


I've updated the patch to add more comments and to check whether the 
destination file name is empty, instead of checking flTo->feFiles 
against NULL, though that should be equivalent due to
     ZeroMemory(&flTo, sizeof(FILE_LIST));
in SHFileOperationW.

Is this try2 closer to the correct way of doing things ?


Lionel.

From lionel_debroux at yahoo.fr  Thu May 21 07:05:40 2009
From: lionel_debroux at yahoo.fr (Lionel Debroux)
Date: Thu, 21 May 2009 14:05:40 +0200
Subject: shell32: for FO_COPY, if the destination is an empty string, SHFileOperation should use the current directory.
 Additionally, in parse_file_list, check result of HeapAlloc against NULL.
Message-ID: <mailman.543.1242908936.3319.wine-devel@winehq.org>

Based on a patch by Nikolay Sivov <bunglehead at gmail.com>.
---
 dlls/shell32/shlfileop.c       |   21 ++++++++++++++++++---
 dlls/shell32/tests/shlfileop.c |   13 +++++++++++++
 2 files changed, 31 insertions(+), 3 deletions(-)

diff --git a/dlls/shell32/shlfileop.c b/dlls/shell32/shlfileop.c
index b48e46d..b86b86a 100644
--- a/dlls/shell32/shlfileop.c
+++ b/dlls/shell32/shlfileop.c
@@ -1013,13 +1013,16 @@ static HRESULT parse_file_list(FILE_LIST *flList, LPCWSTR szFiles)
     flList->num_alloc = 32;
     flList->dwNumFiles = 0;
 
-    /* empty list */
+    /* Empty list: return without having allocated flList->feFiles. */
     if (!szFiles[0])
         return ERROR_ACCESS_DENIED;
         
     flList->feFiles = HeapAlloc(GetProcessHeap(), HEAP_ZERO_MEMORY,
                                 flList->num_alloc * sizeof(FILE_ENTRY));
 
+    if (!flList->feFiles)
+        return E_OUTOFMEMORY;
+
     while (*ptr)
     {
         if (i >= flList->num_alloc) grow_list( flList );
@@ -1177,8 +1180,20 @@ static HRESULT copy_files(FILE_OPERATION *op, const FILE_LIST *flFrom, FILE_LIST
 {
     DWORD i;
     const FILE_ENTRY *entryToCopy;
-    const FILE_ENTRY *fileDest = &flTo->feFiles[0];
+    const FILE_ENTRY *fileDest;
 
+    /* if the destination is empty, SHFileOperation should use the current directory */
+    if (op->req->pTo[0] == '\0') {
+        WCHAR currd[MAX_PATH];
+        GetCurrentDirectoryW(MAX_PATH, currd);
+        /* Due to the empty destination, a previous call to parse_file_list(), triggered
+           by SHFileOperationW, returned before allocating and filling flTo->feFiles.
+           => destroy_file_list() needn't be called. */
+        parse_file_list(flTo, currd);
+    }
+    
+    fileDest = &flTo->feFiles[0];
+    
     if (flFrom->bAnyDontExist)
         return ERROR_SHELL_INTERNAL_FILE_NOT_FOUND;
 
diff --git a/dlls/shell32/tests/shlfileop.c b/dlls/shell32/tests/shlfileop.c
index 540fd0d..0495b01 100644
--- a/dlls/shell32/tests/shlfileop.c
+++ b/dlls/shell32/tests/shlfileop.c
@@ -1673,6 +1673,19 @@ static void test_copy(void)
     ok(DeleteFileA("ab.txt"), "Expected file to exist\n");
     ok(RemoveDirectoryA("one"), "Expected dir to exist\n");
     ok(RemoveDirectoryA("two"), "Expected dir to exist\n");
+
+    /* pTo is an empty string  */
+    CreateDirectoryA("one", NULL);
+    createTestFile("one\\abcdefghi.abc");
+    shfo.pFrom = "one\\abcdefghi.abc\0";
+    shfo.pTo = "\0";
+    shfo.fFlags = FOF_NOCONFIRMATION | FOF_SILENT | FOF_NOERRORUI | FOF_FILESONLY |
+                  FOF_NOCONFIRMMKDIR;
+    retval = SHFileOperation(&shfo);
+    ok(retval == ERROR_SUCCESS, "Expected ERROR_SUCCESS, got %d\n", retval);
+    ok(DeleteFileA("abcdefghi.abc"), "Expected file to exist\n");
+    ok(DeleteFileA("one\\abcdefghi.abc"), "Expected file to exist\n");
+    ok(RemoveDirectoryA("one"), "Expected dir to exist\n");
 }
 
 /* tests the FO_MOVE action */
-- 
1.6.3.1.61.g065b0


--------------030308050403090406010208--


From giuseppe.bilotta at gmail.com  Thu May 21 07:30:59 2009
From: giuseppe.bilotta at gmail.com (Giuseppe Bilotta)
Date: Thu, 21 May 2009 14:30:59 +0200
Subject: DIB Engine - Mostly fixed against test suite
References: <guparm$l51$1@ger.gmane.org> <guvatf$vi3$1@ger.gmane.org>
Message-ID: <1242909059-24574-1-git-send-email-giuseppe.bilotta@gmail.com>

On Wednesday 20 May 2009 00:13, Massimo Del Fedele wrote:

> Well, it seems that the engine fixes some unrelated bugs too :-)
> Bugs 15146 and 10408, as reported by a tester.
> 
> BTW In a couple of weeks all (few) remaining failing tests should be fixed.
> Then I'll try to optimize somehow the mixed blitting, which is the only
> stuff that remains slower than original.
> 
> Then, last but not least, I guess I'll setup a machine for weekly packaging
> for ubuntu.... many people are asking me for autocad usage.

I've started testing your patches (btw, the 9th patch in your series
is missing the 0009- prefix although the 'series' file claims it
should have; also, it's a real pity that git am doesn't accept stgit
patches 8-/ but anyway, that's off topic).

An application that you might want to test your DIB engine against is
Opera. Although there IS an Opera for Linux, the 64-bit Flash plugin
has some subtle network bugs, and there is no Shockwave plugin at all,
so it is still necessary for me to use Opera for Windows under Wine in
a few cases.

Opera is a good test for your DIB engine because
  (1) it has problems with the current GDI32 stuff
  (2) it crashes with your DIB engine ;-)

There is currently a bug that makes the 'native' skin for Opera hard
to use because many widgets fail to display properly (invisible or
totally black: http://bugs.winehq.org/show_bug.cgi?id=18553 ). Also
the rendering of some Flash stuff is considerably buggy.

I was hoping to test Opera with your DIB engine to see if it works,
and I came across this crash as soon as I tried rendering a webpage:

=>0 0x7ee242c0 _CheckNotSysLevel+0x40(lock=0x7eaf8780) [/sources/wine/dlls/kernel32/../../include/winternl.h:1976] in kernel32 (0x0032e820)
  1 0x7eac7020 GDI_CheckNotLock+0x20() [/sources/wine/dlls/gdi32/gdiobj.c:743] in gdi32 (0x0032e830)
  2 0x7ea9c7f9 CreateCompatibleDC+0x19(hdc=(nil)) [/sources/wine/dlls/gdi32/dc.c:749] in gdi32 (0x0032e870)
  3 0x7e8c4b2c _DIBDRVBITMAP_InitFromHBITMAP+0x24c(bmp=0x32e9b4, hbmp=<register EDI not in topmost frame>, copyPixels=0) [/sources/wine/dlls/winedib.drv/dibdrvbitmap.c:421] in winedib (0x0032e910)
  4 0x7e8c257d DIBDRV_SetDIBits+0x1ed(physDev=0x19f478, hbitmap=<register EDI not in topmost frame>, startscan=<register ESI not in topmost frame>, lines=7, bits=0x67f97100, info=0x180528, coloruse=0) [/sources/wine/dlls/winedib.drv/dib.c:385] in winedib (0x0032ea60)
  5 0x7ea9ec54 SetDIBits+0xf4(hdc=0x6138, hbitmap=0x6148, startscan=0, lines=7, bits=0x67f97100, info=0x180528, coloruse=0) [/sources/wine/dlls/gdi32/dib.c:361] in gdi32 (0x0032eaa0)
  6 0x7eaa05a3 StretchDIBits+0x233(hdc=0x6124, xDst=0, yDst=0, widthDst=7, heightDst=7, xSrc=0, ySrc=0, widthSrc=7, heightSrc=7, bits=0x67f97100, info=<register EDI not in topmost frame>, wUsage=0, dwRop=13369376) [/sources/wine/dlls/gdi32/dib.c:295] in gdi32 (0x0032eb20)
  7 0x7eb5255b LoadImageW+0x88b(hinst=0x67830000, name=0x67f637f0, type=0, desiredx=7, desiredy=7, loadflags=8193) [/sources/wine/dlls/user32/cursoricon.c:2471] in user32 (0x0032ec40)
  8 0x67b60b57 in opera (+0x330b57) (0x0032ecc4)

I will try looking further into this, and provide any additional info
I can find.

-- 
Giuseppe "Oblomov" Bilotta


From mkanat at bugzilla.org  Wed May 20 15:27:18 2009
From: mkanat at bugzilla.org (Max Kanat-Alexander)
Date: Wed, 20 May 2009 13:27:18 -0700
Subject: Bugzilla upgrade - opening attachments in browser
In-Reply-To: <4A14266D.9060507@codeweavers.com>
References: <4A14266D.9060507@codeweavers.com>
Message-ID: <4A1467A6.2040603@bugzilla.org>

	Hey Jeremy. The allow_attachment_display parameter has a detailed 
description that notes that you are opening a security hole if you set 
it without setting another parameter (which you haven't set). Did you 
read the description of the parameter?

	-Max
-- 
http://www.everythingsolved.com/
Competent, Friendly Bugzilla and Perl Services. Everything Else, too.


From n8gray at n8gray.org  Wed May 20 21:52:12 2009
From: n8gray at n8gray.org (Nathan Gray)
Date: Wed, 20 May 2009 19:52:12 -0700
Subject: Mac OS X Joystick problem
Message-ID: <65a6e3960905201952q4f34fa3nfc4af9299c12cbd4@mail.gmail.com>

Hi all,

I was happy to see that you recently added support for joysticks in OS
X.  (As you may or may not recall, I started to work on that problem a
while back but never found time to finish it.)  In any case, I was
disappointed to find that my MS Sidewinder Precision Pro (USB) still
doesn't work in the two games I tried -- The IL-2 Sturmovik demo and
the Descent Freespace demo.  The joystick seems not to be detected at
all, from what I can tell.  I filed a bug a while back in bugzilla[1]
but it doesn't seem to have gotten any attention.  Does the joystick
code work for other people?  Does it require any special
configuration?  I'm using Mike Kronenberg's 1.1.20 build.

Thanks,
-n8

[1] http://bugs.winehq.org/show_bug.cgi?id=18424

-- 
http://n8gray.org


From max at veneto.com  Thu May 21 08:14:40 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Thu, 21 May 2009 15:14:40 +0200
Subject: DIB Engine - Mostly fixed against test suite
In-Reply-To: <1242909059-24574-1-git-send-email-giuseppe.bilotta@gmail.com>
References: <guparm$l51$1@ger.gmane.org> <guvatf$vi3$1@ger.gmane.org>
	<1242909059-24574-1-git-send-email-giuseppe.bilotta@gmail.com>
Message-ID: <gv3k40$j8v$1@ger.gmane.org>

Giuseppe Bilotta ha scritto:

> 
> I've started testing your patches (btw, the 9th patch in your series
> is missing the 0009- prefix although the 'series' file claims it
> should have; 

ops.... that was the hurry. stgit don't put the prefix, I added it manually
just for who don't want to use it

also, it's a real pity that git am doesn't accept stgit
> patches 8-/ but anyway, that's off topic).

well, never used git-am, but I feel quite comfortable with stgit... also
because it make easy to correct or integrate a commit
> 
> An application that you might want to test your DIB engine against is
> Opera. Although there IS an Opera for Linux, the 64-bit Flash plugin
> has some subtle network bugs, and there is no Shockwave plugin at all,
> so it is still necessary for me to use Opera for Windows under Wine in
> a few cases.

that's interesting.... I'll do it in short :-)
> 
> Opera is a good test for your DIB engine because
>   (1) it has problems with the current GDI32 stuff
>   (2) it crashes with your DIB engine ;-)

uhmmmmm.... see later, I'm afraid you didn't use the last posted engine...
> 
> There is currently a bug that makes the 'native' skin for Opera hard
> to use because many widgets fail to display properly (invisible or
> totally black: http://bugs.winehq.org/show_bug.cgi?id=18553 ). Also
> the rendering of some Flash stuff is considerably buggy.
> 
quite interesting and a good testfield.
As I'm restructurating a bit the code to solve the last 2 non conformity
on testsuite, I guess I'll check it shortly :-)

> I was hoping to test Opera with your DIB engine to see if it works,
> and I came across this crash as soon as I tried rendering a webpage:
> 
> =>0 0x7ee242c0 _CheckNotSysLevel+0x40(lock=0x7eaf8780) [/sources/wine/dlls/kernel32/../../include/winternl.h:1976] in kernel32 (0x0032e820)
>   1 0x7eac7020 GDI_CheckNotLock+0x20() [/sources/wine/dlls/gdi32/gdiobj.c:743] in gdi32 (0x0032e830)
>   2 0x7ea9c7f9 CreateCompatibleDC+0x19(hdc=(nil)) [/sources/wine/dlls/gdi32/dc.c:749] in gdi32 (0x0032e870)
>   3 0x7e8c4b2c _DIBDRVBITMAP_InitFromHBITMAP+0x24c(bmp=0x32e9b4, hbmp=<register EDI not in topmost frame>, copyPixels=0) [/sources/wine/dlls/winedib.drv/dibdrvbitmap.c:421] in winedib (0x0032e910)
>   4 0x7e8c257d DIBDRV_SetDIBits+0x1ed(physDev=0x19f478, hbitmap=<register EDI not in topmost frame>, startscan=<register ESI not in topmost frame>, lines=7, bits=0x67f97100, info=0x180528, coloruse=0) [/sources/wine/dlls/winedib.drv/dib.c:385] in winedib (0x0032ea60)
>   5 0x7ea9ec54 SetDIBits+0xf4(hdc=0x6138, hbitmap=0x6148, startscan=0, lines=7, bits=0x67f97100, info=0x180528, coloruse=0) [/sources/wine/dlls/gdi32/dib.c:361] in gdi32 (0x0032eaa0)
>   6 0x7eaa05a3 StretchDIBits+0x233(hdc=0x6124, xDst=0, yDst=0, widthDst=7, heightDst=7, xSrc=0, ySrc=0, widthSrc=7, heightSrc=7, bits=0x67f97100, info=<register EDI not in topmost frame>, wUsage=0, dwRop=13369376) [/sources/wine/dlls/gdi32/dib.c:295] in gdi32 (0x0032eb20)
>   7 0x7eb5255b LoadImageW+0x88b(hinst=0x67830000, name=0x67f637f0, type=0, desiredx=7, desiredy=7, loadflags=8193) [/sources/wine/dlls/user32/cursoricon.c:2471] in user32 (0x0032ec40)
>   8 0x67b60b57 in opera (+0x330b57) (0x0032ecc4)

That's the problem I'm solving with restructuration.
In short, using GetDIBits and SetDIBits with a DIB bitmap instead a DDB (as I believed was the only usage for it....)
I ran into problem of getting DIB color table. GetDIBColorTable() is useless because it needs the bimpap to be selected
on a DC, which is the opposite requirement for Get/SetDIBits; I can't create a temporary DC from inside them because
of the SysLevel error you ran into. I obviously can't also use GedDIBits to get the color table (!).... So I removed for
the moment DIB handling from both function, and I'm coding the true solution, which is somehow complicated but almost done.

In short, if you're interested, the solution is to keep a linked list of HBITMAP <--> Physical bitmap for all DIBs, which allow
accessing color table and other useful stuffs without resorting to GDI, which should be faster and less problem-prone.
I'll post the code in few days.
For then, I guess ALL non-conformities to test suite will be solved.

Ciao

Max



From julliard at winehq.org  Thu May 21 09:01:14 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Thu, 21 May 2009 16:01:14 +0200
Subject: shell32: for FO_COPY, if the destination is an empty string,
	SHFileOperation should use the current directory.
In-Reply-To: <4A154751.50001@yahoo.fr> (Lionel Debroux's message of "Thu, 21
	May 2009 14:21:37 +0200")
References: <267994.26236.qm@web24503.mail.ird.yahoo.com>
	<87vdnu68dc.fsf@wine.dyndns.org> <4A154751.50001@yahoo.fr>
Message-ID: <87pre25zdh.fsf@wine.dyndns.org>

Lionel Debroux <lionel_debroux at yahoo.fr> writes:

> I've updated the patch to add more comments and to check whether the
> destination file name is empty, instead of checking flTo->feFiles
> against NULL, though that should be equivalent due to
>     ZeroMemory(&flTo, sizeof(FILE_LIST));
> in SHFileOperationW.
>
> Is this try2 closer to the correct way of doing things ?

No, you are still not passing a valid list, and doing lots of extra
unneeded work. The first step would be to test what an empty string
means for the other cases, so that you can know where to put the
code. Then probably build a simple file list containing "." or something
like that at the appropriate place.

-- 
Alexandre Julliard
julliard at winehq.org


From dank at kegel.com  Thu May 21 09:37:51 2009
From: dank at kegel.com (Dan Kegel)
Date: Thu, 21 May 2009 07:37:51 -0700
Subject: annoying pkg-config problem on 64 bit Ubuntu 8.10
Message-ID: <a71bd89a0905210737q71c7fd0dn12268c7799b24041@mail.gmail.com>

On Ubuntu 8.10:

$ pkg-config --libs dbus-1
-L//lib -ldbus-1

This leads to

configure:13190: checking for dbus_connection_close in -ldbus-1
configure:13225: gcc -m32 -o conftest -g -O2
-DDBUS_API_SUBJECT_TO_CHANGE -I/usr/include/hal
-I/usr/include/dbus-1.0 -I/usr/lib/dbus-1.0/include    conftest.c
-ldbus-1 -L//lib -lhal -ldbus-1    >&5
/usr/bin/ld: //lib/libdbus-1.so: incompatible target
configure:13253: result: no

Also affects sane.

Haven't checked Jaunty yet to see if it's still busted.
We may need to postprocess pkg-config's output to add the missing 32
in some cases.  Not sure if it's worth it.


From jnewman at codeweavers.com  Thu May 21 09:58:02 2009
From: jnewman at codeweavers.com (Jeremy Newman)
Date: Thu, 21 May 2009 09:58:02 -0500
Subject: Bugzilla upgrade - opening attachments in browser
In-Reply-To: <4A1467A6.2040603@bugzilla.org>
References: <4A14266D.9060507@codeweavers.com> <4A1467A6.2040603@bugzilla.org>
Message-ID: <4A156BFA.5050307@codeweavers.com>

The parameter has been set, as well as the cookie domain param.

-Newman

Max Kanat-Alexander wrote:
>     Hey Jeremy. The allow_attachment_display parameter has a detailed 
> description that notes that you are opening a security hole if you set 
> it without setting another parameter (which you haven't set). Did you 
> read the description of the parameter?
> 
>     -Max


From aric at codeweavers.com  Thu May 21 12:45:21 2009
From: aric at codeweavers.com (Aric Stewart)
Date: Thu, 21 May 2009 12:45:21 -0500
Subject: Mac OS X Joystick problem
In-Reply-To: <65a6e3960905201952q4f34fa3nfc4af9299c12cbd4@mail.gmail.com>
References: <65a6e3960905201952q4f34fa3nfc4af9299c12cbd4@mail.gmail.com>
Message-ID: <4A159331.509@codeweavers.com>

Well the Mac OS X Joystick code will only work on Leopard.
So you will have to build and run it on  Leopard box using xcode3.

If you are good there then try building the winetests for dinput and run 
them with your joystick plugged in. You should get some status traces 
about your joystick (finding the name and status of the various axes and 
buttons)

If that is working then it may be how the games interact with dinput so 
it become not a mac specific issue.

-aric

Nathan Gray wrote:
> Hi all,
> 
> I was happy to see that you recently added support for joysticks in OS
> X.  (As you may or may not recall, I started to work on that problem a
> while back but never found time to finish it.)  In any case, I was
> disappointed to find that my MS Sidewinder Precision Pro (USB) still
> doesn't work in the two games I tried -- The IL-2 Sturmovik demo and
> the Descent Freespace demo.  The joystick seems not to be detected at
> all, from what I can tell.  I filed a bug a while back in bugzilla[1]
> but it doesn't seem to have gotten any attention.  Does the joystick
> code work for other people?  Does it require any special
> configuration?  I'm using Mike Kronenberg's 1.1.20 build.
> 
> Thanks,
> -n8
> 
> [1] http://bugs.winehq.org/show_bug.cgi?id=18424
> 


From mkanat at bugzilla.org  Thu May 21 13:56:45 2009
From: mkanat at bugzilla.org (Max Kanat-Alexander)
Date: Thu, 21 May 2009 11:56:45 -0700
Subject: Bugzilla upgrade - opening attachments in browser
In-Reply-To: <4A156BFA.5050307@codeweavers.com>
References: <4A14266D.9060507@codeweavers.com> <4A1467A6.2040603@bugzilla.org>
	<4A156BFA.5050307@codeweavers.com>
Message-ID: <4A15A3ED.2050708@bugzilla.org>

	Hey Jeremy. Which parameter, attachment_base or 
allow_attachment_display? And do you mean that you unset the 
cookiedomain parameter, or...? (Usually cookiedomain shouldn't be set at 
all.)

	-Max

Jeremy Newman wrote:
> The parameter has been set, as well as the cookie domain param.
> 
> -Newman
> 
> Max Kanat-Alexander wrote:
>>     Hey Jeremy. The allow_attachment_display parameter has a detailed 
>> description that notes that you are opening a security hole if you set 
>> it without setting another parameter (which you haven't set). Did you 
>> read the description of the parameter?
>>
>>     -Max


-- 
http://www.everythingsolved.com/
Competent, Friendly Bugzilla and Perl Services. Everything Else, too.



From tenortim at gmail.com  Thu May 21 13:57:46 2009
From: tenortim at gmail.com (Tim Wright)
Date: Thu, 21 May 2009 11:57:46 -0700
Subject: Change BITS_IBackgroundCopyJob_SetPriority to a stub so the 
	EvE-Online patcher works.
In-Reply-To: <bc8cede80905201103h2e8101f9l71e83e87dbc36667@mail.gmail.com>
References: <4A141506.8070504@splhi.com>
	<bc8cede80905201103h2e8101f9l71e83e87dbc36667@mail.gmail.com>
Message-ID: <b685cdc90905211157j2c53bde7m8276a7007559dfe2@mail.gmail.com>

Sorry to everyone for spamming the patch. I was checking "
http://www.winehq.org/pipermail/wine-patches/2009-May/date.html" and wasn't
seeing it show up so I assumed I had some kind of mail-sending problem at my
end. It won't happen again!

Regards,

Tim


On Wed, May 20, 2009 at 11:03 AM, Ricardo Filipe
<ricardojdfilipe at gmail.com>wrote:

>
>
> 2009/5/20 Tim Wright <timw at splhi.com>
>
>> The EvE-online updater blows up because it's trying to set the download
>> priority in BITS (qmgr) and that isn't implemented. Simply stubbing it to
>> return S_OK is sufficient to allow it to work.
>>
>> Third attempt at sending. For some reason, it isn't being posted from
>> git-send-email even though the Cc: arrives just fine at another account.
>> Patch against git repository. This is bug 18528/12312.
>>
>>
>>
>> ---
>>  dlls/qmgr/job.c |    4 ++--
>>  1 files changed, 2 insertions(+), 2 deletions(-)
>>
>> diff --git a/dlls/qmgr/job.c b/dlls/qmgr/job.c
>> index 3baa893..09693a3 100644
>> --- a/dlls/qmgr/job.c
>> +++ b/dlls/qmgr/job.c
>> @@ -334,8 +334,8 @@ static HRESULT WINAPI
>> BITS_IBackgroundCopyJob_SetPriority(
>>     IBackgroundCopyJob2 *iface,
>>     BG_JOB_PRIORITY Val)
>>  {
>> -    FIXME("Not implemented\n");
>> -    return E_NOTIMPL;
>> +    FIXME("(%p,0x%08x) stub\n", iface, Val);
>> +    return S_OK;
>>  }
>>
>>  static HRESULT WINAPI BITS_IBackgroundCopyJob_GetPriority(
>> --
>> 1.6.0.4
>>
>>
>>
>>
>> your previous patch was already commited. check git page the next day when
> you send patches.
>
> http://source.winehq.org/git/wine.git/?a=commit;h=cb26244adb4e15ab60e4d02b5bedf96c9da98685
>
> ;)
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090521/0bee5269/attachment.htm>

From tijnema at gmail.com  Thu May 21 15:18:10 2009
From: tijnema at gmail.com (Tijnema)
Date: Thu, 21 May 2009 22:18:10 +0200
Subject: annoying pkg-config problem on 64 bit Ubuntu 8.10
In-Reply-To: <a71bd89a0905210737q71c7fd0dn12268c7799b24041@mail.gmail.com>
References: <a71bd89a0905210737q71c7fd0dn12268c7799b24041@mail.gmail.com>
Message-ID: <d8269d910905211318n16dfaf44sb6393cbab3f9fdf1@mail.gmail.com>

(now to the list)

On Kubuntu 9.04 (amd64):

$ pkg-config --libs dbus-1
-L//lib -ldbus-1

So, still the same.

Matijn

On Thu, May 21, 2009 at 4:37 PM, Dan Kegel <dank at kegel.com> wrote:

> On Ubuntu 8.10:
>
> $ pkg-config --libs dbus-1
> -L//lib -ldbus-1
>
> This leads to
>
> configure:13190: checking for dbus_connection_close in -ldbus-1
> configure:13225: gcc -m32 -o conftest -g -O2
> -DDBUS_API_SUBJECT_TO_CHANGE -I/usr/include/hal
> -I/usr/include/dbus-1.0 -I/usr/lib/dbus-1.0/include    conftest.c
> -ldbus-1 -L//lib -lhal -ldbus-1    >&5
> /usr/bin/ld: //lib/libdbus-1.so: incompatible target
> configure:13253: result: no
>
> Also affects sane.
>
> Haven't checked Jaunty yet to see if it's still busted.
> We may need to postprocess pkg-config's output to add the missing 32
> in some cases.  Not sure if it's worth it.
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090521/d6fc0115/attachment.htm>

From joel at airwebreathe.org.uk  Thu May 21 17:24:22 2009
From: joel at airwebreathe.org.uk (Joel Holdsworth)
Date: Thu, 21 May 2009 23:24:22 +0100
Subject: annoying pkg-config problem on 64 bit Ubuntu 8.10
In-Reply-To: <d8269d910905211318n16dfaf44sb6393cbab3f9fdf1@mail.gmail.com>
References: <a71bd89a0905210737q71c7fd0dn12268c7799b24041@mail.gmail.com>
	<d8269d910905211318n16dfaf44sb6393cbab3f9fdf1@mail.gmail.com>
Message-ID: <1242944662.14409.33.camel@joel-desktop>

On Thu, 2009-05-21 at 22:18 +0200, Tijnema wrote:
>         Haven't checked Jaunty yet to see if it's still busted.
>         We may need to postprocess pkg-config's output to add the
>         missing 32
>         in some cases.  Not sure if it's worth it.
>         

On Jaunty I get

$ pkg-config --libs dbus-1
-L//lib -ldbus-1





From n8gray at n8gray.org  Thu May 21 22:05:55 2009
From: n8gray at n8gray.org (Nathan Gray)
Date: Thu, 21 May 2009 20:05:55 -0700
Subject: Mac OS X Joystick problem
In-Reply-To: <4A159331.509@codeweavers.com>
References: <65a6e3960905201952q4f34fa3nfc4af9299c12cbd4@mail.gmail.com>
	<4A159331.509@codeweavers.com>
Message-ID: <65a6e3960905212005gf5bb988u9c2c59072385443f@mail.gmail.com>

On Thu, May 21, 2009 at 10:45 AM, Aric Stewart <aric at codeweavers.com> wrote:
> Well the Mac OS X Joystick code will only work on Leopard.
> So you will have to build and run it on ?Leopard box using xcode3.

I'm certainly running on Leopard, but I can't say how Mike built it.

> If you are good there then try building the winetests for dinput and run
> them with your joystick plugged in. You should get some status traces about
> your joystick (finding the name and status of the various axes and buttons)

I guess I'll see if I can find time to set up a build environment.
The last time I tried I could never build a fully-functional wine
despite hours of effort.

Thanks,
-n8

-- 
http://n8gray.org


From tony.wasserka at freenet.de  Fri May 22 06:57:15 2009
From: tony.wasserka at freenet.de (Tony Wasserka)
Date: Fri, 22 May 2009 13:57:15 +0200
Subject: DXTn textures in D3DX9
Message-ID: <4A16931B.4010809@freenet.de>

Hi everyone,
I'm working on implementing D3DXLoadSurfaceFromFileInMemory right now,
but I've got a problem. The function
most convert a loaded surface's data to a user specified surface format
(I did not yet find a way to do it elsehow,
UpdateTexture and StretchRect are to limited for that task, suggestions
welcome if I missed anything).
Now, if the user specifies that D3DX9 needs to convert e.g. an R8G8B8
surface to DXT1 (or to save a surface to a
DXTn compressed DDS file), I'm not sure wether I can implement that
behavior; on #winehackers I was told that
the (de)compression part is coverered by S3's patents, but the Gimp DDS
plugin and this
(http://mollyrocket.com/forums/viewtopic.php?t=392) seem to provide OSS
solutions for it anways.
So... Can anybody tell me for sure wether I may implement this code or not?


Best regards, Tony



From shacklein at gmail.com  Fri May 22 07:08:49 2009
From: shacklein at gmail.com (Ben Klein)
Date: Fri, 22 May 2009 22:08:49 +1000
Subject: DXTn textures in D3DX9
In-Reply-To: <4A16931B.4010809@freenet.de>
References: <4A16931B.4010809@freenet.de>
Message-ID: <d7e40be30905220508m11156871q3ab72025c8a833fc@mail.gmail.com>

2009/5/22 Tony Wasserka <tony.wasserka at freenet.de>:
> Hi everyone,
> I'm working on implementing D3DXLoadSurfaceFromFileInMemory right now,
> but I've got a problem. The function
> most convert a loaded surface's data to a user specified surface format
> (I did not yet find a way to do it elsehow,
> UpdateTexture and StretchRect are to limited for that task, suggestions
> welcome if I missed anything).
> Now, if the user specifies that D3DX9 needs to convert e.g. an R8G8B8
> surface to DXT1 (or to save a surface to a
> DXTn compressed DDS file), I'm not sure wether I can implement that
> behavior; on #winehackers I was told that
> the (de)compression part is coverered by S3's patents, but the Gimp DDS
> plugin and this
> (http://mollyrocket.com/forums/viewtopic.php?t=392) seem to provide OSS
> solutions for it anways.
> So... Can anybody tell me for sure wether I may implement this code or not?
>
>
> Best regards, Tony

If it counts for anything, I'd like to see a converter going the other
way (bug 14939).


From thunderbird2k at gmail.com  Fri May 22 07:33:17 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Fri, 22 May 2009 14:33:17 +0200
Subject: DXTn textures in D3DX9
In-Reply-To: <d7e40be30905220508m11156871q3ab72025c8a833fc@mail.gmail.com>
References: <4A16931B.4010809@freenet.de>
	<d7e40be30905220508m11156871q3ab72025c8a833fc@mail.gmail.com>
Message-ID: <c8485d470905220533s3a2958afo960fb7c43f08d852@mail.gmail.com>

On Fri, May 22, 2009 at 2:08 PM, Ben Klein <shacklein at gmail.com> wrote:
> 2009/5/22 Tony Wasserka <tony.wasserka at freenet.de>:
>> Hi everyone,
>> I'm working on implementing D3DXLoadSurfaceFromFileInMemory right now,
>> but I've got a problem. The function
>> most convert a loaded surface's data to a user specified surface format
>> (I did not yet find a way to do it elsehow,
>> UpdateTexture and StretchRect are to limited for that task, suggestions
>> welcome if I missed anything).
>> Now, if the user specifies that D3DX9 needs to convert e.g. an R8G8B8
>> surface to DXT1 (or to save a surface to a
>> DXTn compressed DDS file), I'm not sure wether I can implement that
>> behavior; on #winehackers I was told that
>> the (de)compression part is coverered by S3's patents, but the Gimp DDS
>> plugin and this
>> (http://mollyrocket.com/forums/viewtopic.php?t=392) seem to provide OSS
>> solutions for it anways.
>> So... Can anybody tell me for sure wether I may implement this code or not?
>>
>>
>> Best regards, Tony
>
> If it counts for anything, I'd like to see a converter going the other
> way (bug 14939).
>
>
>

Note that there is some basic s3tc support in mesa these days which
you can activate using driconf. I forgot what its limitations are. I
believe it is enough for rendering.

Roderick


From javatroubadour at yahoo.com  Fri May 22 08:14:07 2009
From: javatroubadour at yahoo.com (Daniel Santos)
Date: Fri, 22 May 2009 06:14:07 -0700 (PDT)
Subject: Using TlsGetValue internally
Message-ID: <842118.66599.qm@web45907.mail.sp1.yahoo.com>

I'm playing with user32/cursoricon.c and winex11.drv/mouse.c and have noticed that one of the TODOs is that SetCursor (and probably lots others) clear the last error when they do not do so in windows.? I tracked down the cause and winex11.drv's primary function for retrieving its per-thread data, x11drv_thread_data() calls the public kernel32 function TlsGetValue, which must set the last error to zero by specification.

So, should we be using some internal function to get the TLS data that does not alter SetLastError or should we just save the last error in winex11.drv, call TlsGetValue and then restore the last error state?? The later seems hack-ish, but the former sounds like a pain.

Thanks,
Daniel



      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090522/711da366/attachment.htm>

From austinenglish at gmail.com  Fri May 22 09:38:54 2009
From: austinenglish at gmail.com (Austin English)
Date: Fri, 22 May 2009 09:38:54 -0500
Subject: annoying pkg-config problem on 64 bit Ubuntu 8.10
In-Reply-To: <1242944662.14409.33.camel@joel-desktop>
References: <a71bd89a0905210737q71c7fd0dn12268c7799b24041@mail.gmail.com>
	<d8269d910905211318n16dfaf44sb6393cbab3f9fdf1@mail.gmail.com>
	<1242944662.14409.33.camel@joel-desktop>
Message-ID: <b6bb06270905220738y3e3d57ew47fb9f1073aa2773@mail.gmail.com>

On Thu, May 21, 2009 at 5:24 PM, Joel Holdsworth
<joel at airwebreathe.org.uk> wrote:
> On Thu, 2009-05-21 at 22:18 +0200, Tijnema wrote:
>> ? ? ? ? Haven't checked Jaunty yet to see if it's still busted.
>> ? ? ? ? We may need to postprocess pkg-config's output to add the
>> ? ? ? ? missing 32
>> ? ? ? ? in some cases. ?Not sure if it's worth it.
>>
>
> On Jaunty I get
>
> $ pkg-config --libs dbus-1
> -L//lib -ldbus-1

I do as well, but './configure' and './configure --enable-win64' both work fine.

-- 
-Austin


From javatroubadour at yahoo.com  Fri May 22 09:43:39 2009
From: javatroubadour at yahoo.com (Daniel Santos)
Date: Fri, 22 May 2009 07:43:39 -0700 (PDT)
Subject: Handle Types: Big flaw in wine
Message-ID: <664507.41328.qm@web45907.mail.sp1.yahoo.com>

As I've been working with user32, adding tests & such, I've noticed that gdi32 also suffers from the same drawbacks: it appears to have no mechanism to track object types with handles.? Thus, the functions (that I've examined thus far) simply assume that the caller responsibly passed a handle to the correct object type and proceeds with that assumption.? This is the cause of at least one bug that I know of (18371).

Right now, I'm trying to determine the best way to implement a solution and I'm still green to wine's architecture.? My initial thought was a handle type table in user32 that would just contain a handle's type as a byte (or possibly two types packed in one byte since there are less than 16) using a huge ugly 64k table that directly mapped handle to entry (ugly but correct) and something more efficient later.? But I'm wondering if it wouldn't be more appropriate to put something like that in kernel32's global arena table.

Input appreciated.

Daniel





      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090522/efe67715/attachment.htm>

From Joerg-Cyril.Hoehle at t-systems.com  Fri May 22 04:39:46 2009
From: Joerg-Cyril.Hoehle at t-systems.com (Joerg-Cyril.Hoehle at t-systems.com)
Date: Fri, 22 May 2009 11:39:46 +0200
Subject: wine on MacOS 10.5.7: 3/4 success
In-Reply-To: <47CC5ABB01651443A88DB8EC5B4D657B740197@S4DE8PSAANK.mitte.t-com.de>
Message-ID: <47CC5ABB01651443A88DB8EC5B4D657B02C476BC@S4DE8PSAANK.mitte.t-com.de>

Hi,

here are my findings about compiling and using wine on an "early 2009"
Mac Mini with NVidia graphics, without Fink or Macports. I hope it'll help other people.
The good news first:
+ compilation essentially works.
+ Pharaoh (1.2 update, nocd) works in desktop mode.
- old (16bit?) apps cause winevdm to crash, e.g. PharaohDemo's setup.exe
Details follow.  Bugs will be submitted separately.

The setup is:
+ "early 2009" NVidia 9400 Mac Mini with OS 10.5.6
+ XCode from DVD install disk. I did not install the whole thing, just a few packages, e.g.
  + gcc4.2
  + DeveloperToolsCLI,
  + DevSDK, X11SDK, OpenGLSDK
  + CoreAudioSDK etc., without e.g.
  - gcc4.0
  - MacOSX10.5
  - DeveloperTools (actually, this one contains the Xcode.app but now complains that it cannot install into a non-empty directory - any ideas?)
+ Mac OS 10.5.7 update (includes X11 manpages)
+ XQuartz' X11.2.33.2

Not installing gcc-4.0, I changed the stale symlink
/usr/bin/gcc->gcc-4.0 to gcc-4.2.  I used neither Fink nor MacPorts.
I found /usr/bin/ in MacOS full of OSS already.  Like a Debian (hence
Ubuntu) system, every tool has its manpage!

Fink was not used because I was told it's obsolete. Macports was nuked
after it started to configure and compile software as root, which
violates my software acceptance policy.
Another time I'll try pre-compiled binaries from Mike Kronenberg to
see if that makes a difference, but as I plan to do as much regression
testing as on Linux, I'll stick with git and compiling myself.

---------------- Compiling

checking png.h usability... no
checking png.h presence... no
checking for png.h... no
png is in /usr/X11/include plus /usr/X11/lib/libpng*, not /usr/include
Alas, configure tests for png long before testing for X.
Will submit bug.


----
checking mach-o/dyld_images.h usability... no
checking mach-o/dyld_images.h presence... yes
configure: WARNING: mach-o/dyld_images.h: present but cannot be compiled
configure: WARNING: mach-o/dyld_images.h:     check for missing prerequisite headers?
configure: WARNING: mach-o/dyld_images.h: see the Autoconf documentation
configure: WARNING: mach-o/dyld_images.h:     section "Present But Cannot Be Compiled"
configure: WARNING: mach-o/dyld_images.h: proceeding with the preprocessor's result
configure: WARNING: mach-o/dyld_images.h: in the future, the compiler will take precedence
configure: WARNING:     ## ------------------------------------ ##
configure: WARNING:     ## Report this to wine-devel at winehq.org ##
configure: WARNING:     ## ------------------------------------ ##

Ruben Hillewaere already mentioned this in
http://www.winehq.org/pipermail/wine-devel/2009-May/075287.html

In file included from conftest.c:67:
/usr/include/mach-o/dyld_images.h:65: error: expected specifier-qualifier-list before 'bool'
Perhaps a mising bool typedef?


---- configure --verbose summary
configure: libhal 32-bit development files not found, no dynamic device support.
configure: libgnutls 32-bit development files not found, no schannel support.
configure: libsane 32-bit development files not found, scanners won't be supported.
configure: libgphoto2 32-bit development files not found, digital cameras won't be supported.
configure: liblcms 32-bit development files not found, Color Management won't be supported.
configure: libcapi20 32-bit development files not found, ISDN won't be supported.
configure: WARNING: libjpeg 32-bit development files not found, JPEG won't be supported.
configure: WARNING: libpng 32-bit development files not found, PNG won't be supported.
configure: Finished.  Do 'make depend && make' to compile Wine.

Pretty much what I know from Ubuntu (except for jpeg+hal), where I
never bothered to install the lcms or sane or SSL developer packages.


---- compilation warnings
In file included from opengl_ext.h:28,
                 from opengl_ext.c:5:
/usr/X11/include/GL/gl.h:1387:1: warning: "GL_GLEXT_PROTOTYPES" redefined
In file included from opengl_ext.c:5:
opengl_ext.h:27:1: warning: this is the location of the previous definition
Looks like a bug I'll submit to the XQuartz project.


audiounit.c: In function `SynthUnit_CreateDefaultSynthUnit':
audiounit.c:351: warning: `AUGraphNewNode' is deprecated (declared at /System/Library/Frameworks/AudioToolbox.framework/Headers/AUGraph.h:674)
This is bug #11242

Wine build complete.
---------------- Running
./wine winecfg
wine: created the configuration directory '/Users/xyz/.wine'

---- FreeType library issue resolved
Wine cannot find the FreeType font library.  To enable Wine to
use TrueType fonts please install a version of FreeType greater than
or equal to 2.0.5.
http://www.freetype.org
Building font metrics. This may take some time...
Font metrics: 0.0% done
fixme:font:LFD_InitFontInfo DBCS fonts like '-daewoo-gothic-medium-r-normal--16-120-100-100-c-160-ksc5601.1987-0' are not working correctly now.
[... hundreds of messages like this ...]
err:font:XFONT_BuildMetrics failed to load -misc-stheiti-medium-r-normal--100-*-100-100-p-0-ibm-cp866
Font metrics: 100.0% done
[... repeated anew for every process started ...]

"dlopen() searches the following the following until it finds a compatible Mach-O file: $LD_LIBRARY_PATH, $DYLD_LIBRARY_PATH, current working directory, $DYLD_FALLBACK_LIBRARY_PATH
Note: There are no configuration files to control dlopen searching."

Set one of those to /usr/X11/lib, because that's where libfreetype*
resides in MacOS. There's no need to turn to MacPorts.
LD_LIBRARY_PATH=/usr/X11/lib ./wine notepad
 lets wine finds hundreds of fonts.

BTW, Macports' wrapper uses DYLD_FALLBACK_LIBRARY_PATH
The ./wine wrapper itself sets DYLD_LIBRARY_PATH to its internal .so dir.

Maybe it would not be a good idea to add this directory to the
official ./wine wrapper, as it could cause conflicts with Fink or
Macports sets of libraries?


----
err:process:__wine_kernel_init boot event wait timed out
I get this one *sometimes* on a Linux box as well...


---- no 16 bit apps?
winevdm crashes with identical messages on:
- Pumuckl Klabauterjagd
- Minigolf 1997 (not in AppDB)
- Meine Traumburg (dito)
- PharaoDemo's setup.exe
PharaoDemo:setup.exe "The program winevdm.exe has encountered a serious error ..."
Unhandled exception: page fault on read access to 0xffffffff in 32-bit code (1017:00000c1d).
Probably a lot of installers will be affected. Is this caused by the
mach-o/dyld_images.h warning from configure?
Is there no 16bit support on Intel MacOS yet?


---- Pharaoh console log
Copying my Linux Pharaoh (1.2 update, nocd) directory over to the Mac,
I was pleased to see the title screen and the application running.


err:d3d_caps:IWineD3DImpl_FillGLCaps Invalid nVidia version string: "2.0 NVIDIA-1.5.44"
The string probably originates from XQuartz' X11.2.33.2. The wine
source code expects a space after NVIDIA. Is it actually meningful to
return the Apple 1.5 major+minor to a windows program? (On Linux, the
numbers are much higher, e.g. "2.1.2 NVIDIA 173.14.09" or "2.1.0
NVIDIA 97.55" -- 2 samples from Google).


fixme:d3d:IWineD3DImpl_FillGLCaps OpenGL implementation supports 16 vertex samplers and 16 total samplers
fixme:d3d:IWineD3DImpl_FillGLCaps Expected vertex samplers + MAX_TEXTURES(=8) > combined_samplers


fixme:win:EnumDisplayDevicesW ((null),0,0x32f664,0x00000000), stub!
fixme:x11drv:X11DRV_desktop_SetCurrentMode Cannot change screen BPP from 32 to 16
well known from Linux.


fixme:wave:wodDsCreate DirectSound not implemented
fixme:wave:wodDsCreate The (slower) DirectSound HEL mode will be used instead.
probably ok. Pharaoh plays the music.


---- full screen mode
Full-screen does not work with Pharaoh. The application exits after:
err:x11settings:X11DRV_ChangeDisplaySettingsEx No matching mode found 1024x768x16 @0! (NoRes)
err:x11settings:X11DRV_ChangeDisplaySettingsEx No matching mode found 800x600x16 @0! (NoRes)
err:x11settings:X11DRV_ChangeDisplaySettingsEx No matching mode found 640x480x16 @0! (NoRes)
The LCD's native resolution is higher than those.


Hope this helps,
	J?rg H?hle


From mike.kronenberg at kronenberg.org  Fri May 22 06:54:14 2009
From: mike.kronenberg at kronenberg.org (Mike Kronenberg)
Date: Fri, 22 May 2009 13:54:14 +0200
Subject: Mac OS X Joystick problem
In-Reply-To: <65a6e3960905212005gf5bb988u9c2c59072385443f@mail.gmail.com>
References: <65a6e3960905201952q4f34fa3nfc4af9299c12cbd4@mail.gmail.com>
	<4A159331.509@codeweavers.com>
	<65a6e3960905212005gf5bb988u9c2c59072385443f@mail.gmail.com>
Message-ID: <3A8D175C-2989-447E-89B7-F680849E936E@kronenberg.org>

On 22.05.2009, at 05:05, Nathan Gray wrote:

> On Thu, May 21, 2009 at 10:45 AM, Aric Stewart  
> <aric at codeweavers.com> wrote:
>> Well the Mac OS X Joystick code will only work on Leopard.
>> So you will have to build and run it on  Leopard box using xcode3.
>
> I'm certainly running on Leopard, but I can't say how Mike built it.
>
>> If you are good there then try building the winetests for dinput  
>> and run
>> them with your joystick plugged in. You should get some status  
>> traces about
>> your joystick (finding the name and status of the various axes and  
>> buttons)
>
> I guess I'll see if I can find time to set up a build environment.
> The last time I tried I could never build a fully-functional wine
> despite hours of effort.
>
> Thanks,
> -n8
>
> -- 
> http://n8gray.org
>
>


Hi Natahn,

I have a focus on simple enduser products :)
Thats why my downloadable builds are all made on Tiger (XCode 2.x) to  
have a single app running on both systems.
But the script from my building environment is made to build on  
Leopard (XCode 3.x) , too.

Mike


From stefandoesinger at gmx.at  Fri May 22 11:11:37 2009
From: stefandoesinger at gmx.at (Stefan =?iso-8859-1?q?D=F6singer?=)
Date: Fri, 22 May 2009 18:11:37 +0200
Subject: DXTn textures in D3DX9
In-Reply-To: <c8485d470905220533s3a2958afo960fb7c43f08d852@mail.gmail.com>
References: <4A16931B.4010809@freenet.de>
	<d7e40be30905220508m11156871q3ab72025c8a833fc@mail.gmail.com>
	<c8485d470905220533s3a2958afo960fb7c43f08d852@mail.gmail.com>
Message-ID: <200905221811.38054.stefandoesinger@gmx.at>

You may find this helpful:
http://code.google.com/p/nvidia-texture-tools/

Wrt the legalese check the last question here:
http://code.google.com/p/nvidia-texture-tools/wiki/FAQ

Using a proven library for s3tc handling is a good idea even without the legal 
troubles. s3tc decompression isn't rocket science, but s3tc compression is 
harder than it seems. Nvidia, ATI and Microsoft have fought a long battle for 
the best s3tc compression algorithm. For a long time s3tc was considered bad 
because there was no really good compressor - so I recommend not to reinvent 
the wheel here.


From winehacker at gmail.com  Fri May 22 11:30:35 2009
From: winehacker at gmail.com (Steven Edwards)
Date: Fri, 22 May 2009 12:30:35 -0400
Subject: wine on MacOS 10.5.7: 3/4 success
In-Reply-To: <47CC5ABB01651443A88DB8EC5B4D657B02C476BC@S4DE8PSAANK.mitte.t-com.de>
References: <47CC5ABB01651443A88DB8EC5B4D657B740197@S4DE8PSAANK.mitte.t-com.de>
	<47CC5ABB01651443A88DB8EC5B4D657B02C476BC@S4DE8PSAANK.mitte.t-com.de>
Message-ID: <19e31a080905220930h579174bfr6e68ccd103b13d62@mail.gmail.com>

On Fri, May 22, 2009 at 5:39 AM,  <Joerg-Cyril.Hoehle at t-systems.com> wrote:
> Set one of those to /usr/X11/lib, because that's where libfreetype*
> resides in MacOS. There's no need to turn to MacPorts.
> LD_LIBRARY_PATH=/usr/X11/lib ./wine notepad
> ?lets wine finds hundreds of fonts.
>
> BTW, Macports' wrapper uses DYLD_FALLBACK_LIBRARY_PATH
> The ./wine wrapper itself sets DYLD_LIBRARY_PATH to its internal .so dir.
>
> Maybe it would not be a good idea to add this directory to the
> official ./wine wrapper, as it could cause conflicts with Fink or
> Macports sets of libraries?

There is a reason you may want to roll your own freetype. I don't
believe the freetype that ships with even the latest Xorg dpkg
contains support for the patented bytecode stuff or subpixel rendering
enabled. I could be wrong about needing to do it (perhaps I have an
old version floating around), but I rolled my own freetype with it
enabled and enabled the proper keys in Wine and can hardly see a
difference in Safari or Wine iexplore rendering winehq.org

You should be legally covered on by virtue of being a Mac user as
Apple owns a nice patent chest and also owns one part of the patent
pie.
-- 
Steven Edwards

"There is one thing stronger than all the armies in the world, and
that is an idea whose time has come." - Victor Hugo


From thunderbird2k at gmail.com  Fri May 22 12:15:22 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Fri, 22 May 2009 19:15:22 +0200
Subject: DXTn textures in D3DX9
In-Reply-To: <200905221811.38054.stefandoesinger@gmx.at>
References: <4A16931B.4010809@freenet.de>
	<d7e40be30905220508m11156871q3ab72025c8a833fc@mail.gmail.com>
	<c8485d470905220533s3a2958afo960fb7c43f08d852@mail.gmail.com>
	<200905221811.38054.stefandoesinger@gmx.at>
Message-ID: <c8485d470905221015ve401244s46234d2863a5bd6a@mail.gmail.com>

On Fri, May 22, 2009 at 6:11 PM, Stefan D?singer <stefandoesinger at gmx.at> wrote:
> You may find this helpful:
> http://code.google.com/p/nvidia-texture-tools/
>
> Wrt the legalese check the last question here:
> http://code.google.com/p/nvidia-texture-tools/wiki/FAQ
>
> Using a proven library for s3tc handling is a good idea even without the legal
> troubles. s3tc decompression isn't rocket science, but s3tc compression is
> harder than it seems. Nvidia, ATI and Microsoft have fought a long battle for
> the best s3tc compression algorithm. For a long time s3tc was considered bad
> because there was no really good compressor - so I recommend not to reinvent
> the wheel here.
>

So what they are saying is that Nvidia has a license on the s3tc
patent for use in those tools but if we would rip their code out we
wouldn't be covered unless (but that is gray area) we put all their
image code in wine (which would be impossible since it is C++).
Perhaps if we want to be safe we could ask s3 for a license for use in
Wine?

Roderick


From thunderbird2k at gmail.com  Fri May 22 12:19:15 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Fri, 22 May 2009 19:19:15 +0200
Subject: News on Wine 1.1.21/MacOSX/XQuartz 2.3.3
In-Reply-To: <b6bb06270905200704l20f9eddfn333937809742d675@mail.gmail.com>
References: <4A0F8338.5020708@earthlink.net>
	<19e31a080905170449k77959ac5g82a2b13132b85c30@mail.gmail.com>
	<b6bb06270905171345v537e4ce1n4bda0b6f9eb396f2@mail.gmail.com>
	<4A10A118.4050704@earthlink.net>
	<8325218A80FB4DC998C373979F3C3710@DMITRY>
	<1D65C78F-B646-4E73-987C-DD56D45BD274@kronenberg.org>
	<c8485d470905200246v3d35080ekbffb5f77772dabb@mail.gmail.com>
	<b6bb06270905200704l20f9eddfn333937809742d675@mail.gmail.com>
Message-ID: <c8485d470905221019y25034674od1be1ec911ebe0b8@mail.gmail.com>

On Wed, May 20, 2009 at 4:04 PM, Austin English <austinenglish at gmail.com> wrote:
> On Wed, May 20, 2009 at 4:46 AM, Roderick Colenbrander
> <thunderbird2k at gmail.com> wrote:
>> On Tue, May 19, 2009 at 6:41 PM, Mike Kronenberg
>> <mike.kronenberg at kronenberg.org> wrote:
>>> On 18.05.2009, at 06:56, Dmitry Timoshkov wrote:
>>>
>>>> "James McKenzie" <jjmckenzie51 at earthlink.net> wrote:
>>>>
>>>>> Austin:
>>>>> Contact Mike Kronenberg or Zach Drayer and see what they currently
>>>>> have.
>>>>
>>>> IMHO since they haven't even bothered so far to change the license from
>>>> GPL to LGPL to match Wine, and clarify what exactly is so much different
>>>> in their builds so that they insist on different naming (Darwine vs.
>>>> Wine),
>>>> they shouldn't be even considered as partners to the Wine project.
>>>>
>>>> If we could have our own Wine builds for Intel Macs, that would finally
>>>> help to avoid this confusion Darwine adds, and remove it from our Wiki
>>>> altogether (since it's apparently where the users coming to them from).
>>>>
>>>> --
>>>> Dmitry.
>>>>
>>>>
>>>
>>>
>>>
>>> Hi,
>>>
>>> (I hope I did not double-post, but somehow my mail from yesterday was eaten
>>> by filter-gnomes)
>>>
>>> It's not about being willing to, but plain lack of time.
>>> I follow this list closely and work on solutions as time permits.
>>> After half a year, it's been four weeks now that I am able again to build
>>> and test on a regular base again.
>>>
>>> There are other components on OS X that need some love, like the
>>> winehelper.app into which I'm looking atm.
>>>
>>> License and renaming is definitely on the list.
>>> I thought to revamp the package, once the winehelper is replaced, to not
>>> double do the work.
>>>
>>> As already mentioned, I build the dependencies and store them inside the
>>> apple .app package, which allows for drag'n'drop installation and removal.
>>>
>>> Having the dependencies as frameworks would be even better, as there is a
>>> lot of trouble with PATHS, especially if multiple environments are on the
>>> system, like fink and macports.
>>>
>>> But if the name-change is the most pressing issue, I will gladly do that
>>> with this weekends release.
>>>
>>> Mike Kronenberg
>>>
>>>
>>>
>>
>> Could you also upload some docs / scripts on how to build 'DarWine'
>> from scratch? I have an app which I need to run on osx which I like to
>> package as well. I have time to help fixing osx issues (duplicating
>> the effort is not worth it).
>>
>> Roderick
>>
>>
>>
>
> It's available under 'build env':
> http://www.kronenberg.org/darwine/buildenv-1.1.5.zip
>
> --
> -Austin
>

Thanks, I used this to compile wine 1.1.21 for testing purposes this
week. I had to update the scripts a bit (e.g. use newere versions of
some libraries and tools because the old ones are offline). I can post
a patch against the old script. Further don't ship the opengl hack
anymore for new wine packages as you are aware it isn't needed for
xquartz 2.3.3 anymore. Everyone should move to the latest xquartz.
This might prevent some opengl bug reports which I have to close on
bugzilla as well ;)

Roderick


From stefandoesinger at gmx.at  Fri May 22 13:06:37 2009
From: stefandoesinger at gmx.at (Stefan =?iso-8859-1?q?D=F6singer?=)
Date: Fri, 22 May 2009 20:06:37 +0200
Subject: DXTn textures in D3DX9
In-Reply-To: <c8485d470905221015ve401244s46234d2863a5bd6a@mail.gmail.com>
References: <4A16931B.4010809@freenet.de>
	<200905221811.38054.stefandoesinger@gmx.at>
	<c8485d470905221015ve401244s46234d2863a5bd6a@mail.gmail.com>
Message-ID: <200905222006.38098.stefandoesinger@gmx.at>

Am Freitag, 22. Mai 2009 19:15:22 schrieb Roderick Colenbrander:
> So what they are saying is that Nvidia has a license on the s3tc
> patent for use in those tools but if we would rip their code out we
> wouldn't be covered unless (but that is gray area) we put all their
> image code in wine (which would be impossible since it is C++).
> Perhaps if we want to be safe we could ask s3 for a license for use in
> Wine?
Hmm. My idea would have been to link against this lib, but if it is C++ it 
makes troubles.


From wine.dev at web.de  Fri May 22 14:22:35 2009
From: wine.dev at web.de (Detlef Riekenberg)
Date: Fri, 22 May 2009 21:22:35 +0200
Subject: Entry point not found for GetDiskInfoA (wininet_crosstest.exe)
In-Reply-To: <873aay7our.fsf@wine.dyndns.org>
References: <1242839957.5756.18.camel@p4.lan> <873aay7our.fsf@wine.dyndns.org>
Message-ID: <1243020155.11149.19.camel@p4.lan>

On Do, 2009-05-21 at 12:05 +0200, Alexandre Julliard wrote:

> > Using that executable on Windows or Wine is not possible
> > (Entry point not found for GetDiskInfoA)
> >
> > The wininet_test.exe on winehq has an ordinal Import of 102 in that
> > place.
> > How can we fix that?
> 
> You have to use the Wine import libs, not the Mingw ones.

>From IRC:
<julliard> you haven't run make crosstest from the top level
<winspool> "make -C dlls/wininet/tests  crosstest" is different????
<julliard> yes it's different
<julliard> you need to build the import libs if you want them to be used
<winspool> Where is the rule to create all import libs?
<julliard> just do a make crosstest at the top level,
           it takes care of everything

Example for building an import-lib for mingw on demand:
  make -C dlls/wininet/  libwininet.a

-- 
 
By by ... Detlef



From jjmckenzie51 at earthlink.net  Fri May 22 15:31:35 2009
From: jjmckenzie51 at earthlink.net (James Mckenzie)
Date: Fri, 22 May 2009 13:31:35 -0700 (GMT-07:00)
Subject: News on Wine 1.1.21/MacOSX/XQuartz 2.3.3
Message-ID: <26411409.1243024295277.JavaMail.root@mswamui-blood.atl.sa.earthlink.net>

Roderick Colenbrander wrote about Re: News on Wine 1.1.21/MacOSX/XQuartz 2.3.3
>
>On Wed, May 20, 2009 at 4:04 PM, Austin English <austinenglish at gmail.com> wrote:
>> On Wed, May 20, 2009 at 4:46 AM, Roderick Colenbrander
>> <thunderbird2k at gmail.com> wrote:
>>> On Tue, May 19, 2009 at 6:41 PM, Mike Kronenberg
>>> <mike.kronenberg at kronenberg.org> wrote:
>>>> On 18.05.2009, at 06:56, Dmitry Timoshkov wrote:
>>>>
>>>>> "James McKenzie" <jjmckenzie51 at earthlink.net> wrote:
>>>>>
>>>>>> Austin:
>>>>>> Contact Mike Kronenberg or Zach Drayer and see what they currently
>>>>>> have.
>>>>>
>>>>> IMHO since they haven't even bothered so far to change the license from
>>>>> GPL to LGPL to match Wine, and clarify what exactly is so much different
>>>>> in their builds so that they insist on different naming (Darwine vs.
>>>>> Wine),
>>>>> they shouldn't be even considered as partners to the Wine project.
>>>>>
>>>>> If we could have our own Wine builds for Intel Macs, that would finally
>>>>> help to avoid this confusion Darwine adds, and remove it from our Wiki
>>>>> altogether (since it's apparently where the users coming to them from).
>>>>>
>>>>> --
>>>>> Dmitry.
>>>>>
>>>>>
>>>>
>>>>
>>>>
>>>> Hi,
>>>>
>>>> (I hope I did not double-post, but somehow my mail from yesterday was eaten
>>>> by filter-gnomes)
>>>>
>>>> It's not about being willing to, but plain lack of time.
>>>> I follow this list closely and work on solutions as time permits.
>>>> After half a year, it's been four weeks now that I am able again to build
>>>> and test on a regular base again.
>>>>
>>>> There are other components on OS X that need some love, like the
>>>> winehelper.app into which I'm looking atm.
>>>>
>>>> License and renaming is definitely on the list.
>>>> I thought to revamp the package, once the winehelper is replaced, to not
>>>> double do the work.
>>>>
>>>> As already mentioned, I build the dependencies and store them inside the
>>>> apple .app package, which allows for drag'n'drop installation and removal.
>>>>
>>>> Having the dependencies as frameworks would be even better, as there is a
>>>> lot of trouble with PATHS, especially if multiple environments are on the
>>>> system, like fink and macports.
>>>>
>>>> But if the name-change is the most pressing issue, I will gladly do that
>>>> with this weekends release.
>>>>
>>>> Mike Kronenberg
>>>>
>>>>
>>>>
>>>
>>> Could you also upload some docs / scripts on how to build 'DarWine'
>>> from scratch? I have an app which I need to run on osx which I like to
>>> package as well. I have time to help fixing osx issues (duplicating
>>> the effort is not worth it).
>>>
>>> Roderick
>>>
>>>
>>>
>>
>> It's available under 'build env':
>> http://www.kronenberg.org/darwine/buildenv-1.1.5.zip
>>
>> --
>> -Austin
>>
>
>Thanks, I used this to compile wine 1.1.21 for testing purposes this
>week. I had to update the scripts a bit (e.g. use newere versions of
>some libraries and tools because the old ones are offline). I can post
>a patch against the old script. Further don't ship the opengl hack
>anymore for new wine packages as you are aware it isn't needed for
>xquartz 2.3.3 anymore. Everyone should move to the latest xquartz.
>This might prevent some opengl bug reports which I have to close on
>bugzilla as well ;)
>
Does XQuartz 2.3.3 apply on Tiger systems?  The 'hack' is for both Tiger and Leopard
so that some missing functions will work.

Please list the updated libraries so that I can upgrade the script as well.

James McKenzie



From max at veneto.com  Fri May 22 18:31:07 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Sat, 23 May 2009 01:31:07 +0200
Subject: DIB Engine : passing all tests
Message-ID: <gv7cjr$rn5$1@ger.gmane.org>

I posted on bug 421 page (as usual) latest update of my engine.
It suld pass all tests in wine suite.... also all bitmap's todo_wines,
so expect some "false positive" signaled by tests.

Austin, could you please re-run it on your test machines ?

Ciao

Max



From shacklein at gmail.com  Fri May 22 19:33:07 2009
From: shacklein at gmail.com (Ben Klein)
Date: Sat, 23 May 2009 10:33:07 +1000
Subject: DXTn textures in D3DX9
In-Reply-To: <200905222006.38098.stefandoesinger@gmx.at>
References: <4A16931B.4010809@freenet.de>
	<200905221811.38054.stefandoesinger@gmx.at> 
	<c8485d470905221015ve401244s46234d2863a5bd6a@mail.gmail.com> 
	<200905222006.38098.stefandoesinger@gmx.at>
Message-ID: <d7e40be30905221733j6a7c3772k8a4fac42578c98de@mail.gmail.com>

2009/5/23 Stefan D?singer <stefandoesinger at gmx.at>:
> Am Freitag, 22. Mai 2009 19:15:22 schrieb Roderick Colenbrander:
>> So what they are saying is that Nvidia has a license on the s3tc
>> patent for use in those tools but if we would rip their code out we
>> wouldn't be covered unless (but that is gray area) we put all their
>> image code in wine (which would be impossible since it is C++).
>> Perhaps if we want to be safe we could ask s3 for a license for use in
>> Wine?
> Hmm. My idea would have been to link against this lib, but if it is C++ it
> makes troubles.
>

Interestingly enough, nvidia-texture-tools is MIT license and provides
no provision for patent protection. In theory, a fork of this project
to C would be linkable with Wine without legal issues.


From tony.wasserka at freenet.de  Sat May 23 04:13:01 2009
From: tony.wasserka at freenet.de (Tony Wasserka)
Date: Sat, 23 May 2009 11:13:01 +0200
Subject: DXTn textures in D3DX9
In-Reply-To: <d7e40be30905221733j6a7c3772k8a4fac42578c98de@mail.gmail.com>
References: <4A16931B.4010809@freenet.de>
	<200905221811.38054.stefandoesinger@gmx.at>
	<c8485d470905221015ve401244s46234d2863a5bd6a@mail.gmail.com>
	<200905222006.38098.stefandoesinger@gmx.at>
	<d7e40be30905221733j6a7c3772k8a4fac42578c98de@mail.gmail.com>
Message-ID: <4A17BE1D.7040505@freenet.de>

Ben Klein schrieb:
> 2009/5/23 Stefan D?singer <stefandoesinger at gmx.at>:
>   
>> Am Freitag, 22. Mai 2009 19:15:22 schrieb Roderick Colenbrander:
>>     
>>> So what they are saying is that Nvidia has a license on the s3tc
>>> patent for use in those tools but if we would rip their code out we
>>> wouldn't be covered unless (but that is gray area) we put all their
>>> image code in wine (which would be impossible since it is C++).
>>> Perhaps if we want to be safe we could ask s3 for a license for use in
>>> Wine?
>>>       
>> Hmm. My idea would have been to link against this lib, but if it is C++ it
>> makes troubles.
>>
>>     
>
> Interestingly enough, nvidia-texture-tools is MIT license and provides
> no provision for patent protection. In theory, a fork of this project
> to C would be linkable with Wine without legal issues.
>
>
>   
Their FAQ states that "[we] don't have to obtain a license of the S3TC
patent to use any of NVIDIA's products" but
it also adds that "certain uses of NVIDIA Texture Tools source code
cannot be considered NVIDIA products
anymore." Thus, forking the project and integrating it into Wine would
probably have the same legal status as
writing an own S3TC (de)compressor within Wine.
Seems like asking for a license or directly using the binaries of this
lib are the only options we have then. Forking NVIDIA TT and disable it
by default would probably not be accepted by AJ I guess...



From n8gray at n8gray.org  Fri May 22 11:25:58 2009
From: n8gray at n8gray.org (Nathan Gray)
Date: Fri, 22 May 2009 09:25:58 -0700
Subject: Mac OS X Joystick problem
In-Reply-To: <3A8D175C-2989-447E-89B7-F680849E936E@kronenberg.org>
References: <65a6e3960905201952q4f34fa3nfc4af9299c12cbd4@mail.gmail.com>
	<4A159331.509@codeweavers.com>
	<65a6e3960905212005gf5bb988u9c2c59072385443f@mail.gmail.com>
	<3A8D175C-2989-447E-89B7-F680849E936E@kronenberg.org>
Message-ID: <65a6e3960905220925j8bb7013hbeb5fb87525231b1@mail.gmail.com>

On Fri, May 22, 2009 at 4:54 AM, Mike Kronenberg
<mike.kronenberg at kronenberg.org> wrote:
> On 22.05.2009, at 05:05, Nathan Gray wrote:
>
>> On Thu, May 21, 2009 at 10:45 AM, Aric Stewart <aric at codeweavers.com>
>> wrote:
>>>
>>> Well the Mac OS X Joystick code will only work on Leopard.
>>> So you will have to build and run it on ?Leopard box using xcode3.
>>
>> I'm certainly running on Leopard, but I can't say how Mike built it.
>>
>>> If you are good there then try building the winetests for dinput and run
>>> them with your joystick plugged in. You should get some status traces
>>> about
>>> your joystick (finding the name and status of the various axes and
>>> buttons)
>>
>> I guess I'll see if I can find time to set up a build environment.
>> The last time I tried I could never build a fully-functional wine
>> despite hours of effort.
>>
>> Thanks,
>> -n8
>>
>> --
>> http://n8gray.org
>>
>>
>
>
> Hi Natahn,
>
> I have a focus on simple enduser products :)
> Thats why my downloadable builds are all made on Tiger (XCode 2.x) to have a
> single app running on both systems.
> But the script from my building environment is made to build on Leopard
> (XCode 3.x) , too.

I guess that explains it -- thanks for clarifying.  You may want to
add a note somewhere that joysticks won't work with your builds to
save some frustration.

Thanks,
-n8

-- 
http://n8gray.org


From n8gray at n8gray.org  Fri May 22 13:34:57 2009
From: n8gray at n8gray.org (Nathan Gray)
Date: Fri, 22 May 2009 11:34:57 -0700
Subject: Mac OS X Joystick problem
In-Reply-To: <4A159331.509@codeweavers.com>
References: <65a6e3960905201952q4f34fa3nfc4af9299c12cbd4@mail.gmail.com>
	<4A159331.509@codeweavers.com>
Message-ID: <65a6e3960905221134m6d4d6d38j95fe636f61526431@mail.gmail.com>

On Thu, May 21, 2009 at 10:45 AM, Aric Stewart <aric at codeweavers.com> wrote:
>
> If you are good there then try building the winetests for dinput and run
> them with your joystick plugged in. You should get some status traces about
> your joystick (finding the name and status of the various axes and buttons)

Ok, I built everything with Mike's build environment (after a bit of
updating URLs and such).  From within the build directory I can run
dinput_test.exe and I get output like this (moving the stick and
pushing some buttons):

[n8gray at golux]% wine programs/winetest/dinput_test.exe joystick
joystick.c:616: -- Testing Direct Input Version 0x0700 --
fixme:dinput:get_osx_device_elements Unhandled type 513
fixme:dinput:get_osx_device_elements Unhandled type 513
joystick.c:206: ---- Microsoft SideWinder Precision Pro (USB) ----
joystick.c:572:
joystick.c:591: X 1976 Y-1061 Z    0 Rx    0 Ry    0 Rz -323 S0-1056
S1    0 POV0 9000 POV1   -1 POV2   -1 POV3   -1 B 0 0 0 1 1 0 0 1 0 0
0 0

joystick.c:596:
joystick.c:616: -- Testing Direct Input Version 0x0500 --
fixme:dinput:get_osx_device_elements Unhandled type 513
fixme:dinput:get_osx_device_elements Unhandled type 513
joystick.c:206: ---- Microsoft SideWinder Precision Pro (USB) ----
joystick.c:572:
joystick.c:591: X 2000 Y-1101 Z    0 Rx    0 Ry    0 Rz -323 S0-1088
S1    0 POV0 9000 POV1   -1 POV2   -1 POV3   -1 B 0 0 0 1 1 0 0 1 0 0
0 0

joystick.c:596:
joystick.c:616: -- Testing Direct Input Version 0x0300 --
joystick: 251 tests executed (0 marked as todo, 0 failures), 0 skipped.

> If that is working then it may be how the games interact with dinput so it
> become not a mac specific issue.

However, I still don't get any axes detected in the IL2 demo.  During
launch it produces this output:

DirectX Joystick NOT created: DirectX joystick driver: device not attached

(Yes, the joystick is attached when I launch it.)

I also don't get any joysticks listed in the Descent Freespace demo's setup app.

Is there some other demo you can recommend that works for you?

Thanks,
-n8

-- 
http://n8gray.org


From fgouget at free.fr  Sat May 23 10:49:27 2009
From: fgouget at free.fr (Francois Gouget)
Date: Sat, 23 May 2009 17:49:27 +0200 (CEST)
Subject: Static-ify rsaenh/mpi?
Message-ID: <alpine.DEB.2.00.0905231746290.8500@amboise.dolphin>


So dlls/rsaenh/mpi.c defines 13 functions that are only used there. So 
they could be made static by tweaking mpi.c and tomcrypt.h.

However my understanding is that this files has been imported in Wine 
from another project so maybe it's not a good idea to diverge much from 
them.

What do you think?
Should we just leave them as is?

-- 
Francois Gouget <fgouget at free.fr>              http://fgouget.free.fr/
A particle is an irreducible representation of the Poincar? Group - Eugene Wigner

From Andrew.Talbot at talbotville.com  Sat May 23 11:29:55 2009
From: Andrew.Talbot at talbotville.com (Andrew Talbot)
Date: Sat, 23 May 2009 17:29:55 +0100
Subject: Static-ify rsaenh/mpi?
References: <alpine.DEB.2.00.0905231746290.8500@amboise.dolphin>
Message-ID: <gv98a4$jq4$1@ger.gmane.org>

Francois Gouget wrote:

> 
> So dlls/rsaenh/mpi.c defines 13 functions that are only used there. So
> they could be made static by tweaking mpi.c and tomcrypt.h.
> 
> However my understanding is that this files has been imported in Wine
> from another project so maybe it's not a good idea to diverge much from
> them.
> 
> What do you think?
> Should we just leave them as is?
> 

Hi Francois,

I made a few of the functions in mpi.c static a while back, but stopped when
there was a bug report (http://bugs.winehq.org/show_bug.cgi?id=17406)
that seemed consequential but turned out to be apparently due to a bug gcc.

Also one of my patches to this file was rejected, which I didn't follow up, 
but it may have been due to the fact that there are comments to each 
function in both tomcrypt.h and mpi.c, and I tried to form combined versions 
in the latter.

-- 
Andy.





From yumkam at mail.ru  Sat May 23 08:49:34 2009
From: yumkam at mail.ru (Yuriy Kaminskiy)
Date: Sat, 23 May 2009 17:49:34 +0400
Subject: [patch] segv on use-after-free in dsound/buffer.c
Message-ID: <gv8ute$ss0$1@ger.gmane.org>

Hello!
    One of games rarely crashed with segv in line 86 of dsound/buffer.c:
85:      IDirectSoundBuffer_Release((LPDIRECTSOUNDBUFFER)This->dsb);
86:      This->dsb->notify = NULL;
    (sorry, I failed to save actual backtrace at the time). This looks 
like typical assign-after-free bug. I've applied attached patch 
(wine-1.1.7, now on 1.1.19), no crashes so far (btw, similar 
*Secodary*Release method down in code uses proper order - 
assign-NULL-then-release).
-------------- next part --------------
A non-text attachment was scrubbed...
Name: wine-1.1.7-dsound-use-after-free.patch
Type: text/x-diff
Size: 555 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090523/e9ac16ac/attachment.patch>

From kennybobs at o2.co.uk  Sat May 23 13:05:36 2009
From: kennybobs at o2.co.uk (Ken Sharp)
Date: Sat, 23 May 2009 19:05:36 +0100
Subject: Updating bugs in Bugzilla
Message-ID: <4A183AF0.3030805@o2.co.uk>

Hi all,

Is there any way I can have access to update bugs that I did not open in 
Bugzilla?  I update a lot of bugs and some of them are not set correctly 
(incorrect component or incorrect URL).  Wrong URLs are a real pain 
because it can lead to testing the wrong version of an app (see Bug 13371).
At the moment I have to ask someone with access to make these changes 
for me, and they're not always done.  I don't want to ask them 
repeatedly because they have better things to do, I'm sure, and it would 
be easier if I could do it myself.

I have admin access on the AppDB for this reason.  Is there any way I 
could have a similar access on Bugzilla?

I had no idea where to send this email to...

Thanks,
Ken.


From austinenglish at gmail.com  Sat May 23 13:10:33 2009
From: austinenglish at gmail.com (Austin English)
Date: Sat, 23 May 2009 13:10:33 -0500
Subject: DIB Engine : passing all tests
In-Reply-To: <gv7cjr$rn5$1@ger.gmane.org>
References: <gv7cjr$rn5$1@ger.gmane.org>
Message-ID: <b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>

On Fri, May 22, 2009 at 6:31 PM, Massimo Del Fedele <max at veneto.com> wrote:
> I posted on bug 421 page (as usual) latest update of my engine.
> It suld pass all tests in wine suite.... also all bitmap's todo_wines,
> so expect some "false positive" signaled by tests.
>
> Austin, could you please re-run it on your test machines ?

Sorry for the delay. New residence has crappy wireless internet, need
to find a better solution.

Anywho, I've still got a failure:
palette.c:105: Test failed: getColor=00302010
http://test.winehq.org/data/b175a43fb8439a33a686512935597d4c43c19733/wine_ae-ub904-dib/gdi32:palette.html

Yep, several todo's are passing now:
http://test.winehq.org/data/b175a43fb8439a33a686512935597d4c43c19733/wine_ae-ub904-dib/gdi32:bitmap.html

Full report:
http://test.winehq.org/data/b175a43fb8439a33a686512935597d4c43c19733/wine_ae-ub904-dib/report.html
(The user32 failure can be ignored, I get that spuriously without DIB engine).

-- 
-Austin


From max at veneto.com  Sat May 23 14:16:49 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Sat, 23 May 2009 21:16:49 +0200
Subject: DIB Engine : passing all tests
In-Reply-To: <b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>
References: <gv7cjr$rn5$1@ger.gmane.org>
	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>
Message-ID: <gv9i31$bu4$1@ger.gmane.org>

Austin English ha scritto:
> On Fri, May 22, 2009 at 6:31 PM, Massimo Del Fedele <max at veneto.com> wrote:
>> I posted on bug 421 page (as usual) latest update of my engine.
>> It suld pass all tests in wine suite.... also all bitmap's todo_wines,
>> so expect some "false positive" signaled by tests.
>>
>> Austin, could you please re-run it on your test machines ?
> 
> Sorry for the delay. New residence has crappy wireless internet, need
> to find a better solution.
> 
> Anywho, I've still got a failure:
> palette.c:105: Test failed: getColor=00302010
> http://test.winehq.org/data/b175a43fb8439a33a686512935597d4c43c19733/wine_ae-ub904-dib/gdi32:palette.html
> 
Yep, I've seen it.... sorry, I checked out just the bitmap suite.
It's trivial to fix, will do on next release

> Yep, several todo's are passing now:
> http://test.winehq.org/data/b175a43fb8439a33a686512935597d4c43c19733/wine_ae-ub904-dib/gdi32:bitmap.html
> 
too bad that the suite marks them as failures :-)

> Full report:
> http://test.winehq.org/data/b175a43fb8439a33a686512935597d4c43c19733/wine_ae-ub904-dib/report.html
> (The user32 failure can be ignored, I get that spuriously without DIB engine).
> 

Thank you for report.
I still have to do a couple of optimizations, some font cleanups and then it'll be finished.
I guess I'll setup a build machine for debian/ubuntu packages shortly.

Ciao

Max



From austinenglish at gmail.com  Sat May 23 14:39:54 2009
From: austinenglish at gmail.com (Austin English)
Date: Sat, 23 May 2009 14:39:54 -0500
Subject: [patch] segv on use-after-free in dsound/buffer.c
In-Reply-To: <gv8ute$ss0$1@ger.gmane.org>
References: <gv8ute$ss0$1@ger.gmane.org>
Message-ID: <b6bb06270905231239ja14dcf4w96a99176909e5f9b@mail.gmail.com>

2009/5/23 Yuriy Kaminskiy <yumkam at mail.ru>:
> Hello!
> ? One of games rarely crashed with segv in line 86 of dsound/buffer.c:
> 85: ? ? ?IDirectSoundBuffer_Release((LPDIRECTSOUNDBUFFER)This->dsb);
> 86: ? ? ?This->dsb->notify = NULL;
> ? (sorry, I failed to save actual backtrace at the time). This looks like
> typical assign-after-free bug. I've applied attached patch (wine-1.1.7, now
> on 1.1.19), no crashes so far (btw, similar *Secodary*Release method down in
> code uses proper order - assign-NULL-then-release).

Please send patches to wine-patches at winehq.org

Thanks for helping Wine!
-- 
-Austin


From hverbeet at gmail.com  Sat May 23 15:48:29 2009
From: hverbeet at gmail.com (Henri Verbeet)
Date: Sat, 23 May 2009 22:48:29 +0200
Subject: DXTn textures in D3DX9
In-Reply-To: <4A16931B.4010809@freenet.de>
References: <4A16931B.4010809@freenet.de>
Message-ID: <d658b69e0905231348g2899e8bbnc1a09806ad2619fe@mail.gmail.com>

2009/5/22 Tony Wasserka <tony.wasserka at freenet.de>:
> Hi everyone,
> I'm working on implementing D3DXLoadSurfaceFromFileInMemory right now,
> but I've got a problem. The function
> most convert a loaded surface's data to a user specified surface format
> (I did not yet find a way to do it elsehow,
> UpdateTexture and StretchRect are to limited for that task, suggestions
> welcome if I missed anything).
> Now, if the user specifies that D3DX9 needs to convert e.g. an R8G8B8
> surface to DXT1 (or to save a surface to a
> DXTn compressed DDS file), I'm not sure wether I can implement that
> behavior; on #winehackers I was told that
> the (de)compression part is coverered by S3's patents, but the Gimp DDS
> plugin and this
> (http://mollyrocket.com/forums/viewtopic.php?t=392) seem to provide OSS
> solutions for it anways.
> So... Can anybody tell me for sure wether I may implement this code or not?
>

What it comes down to is that I don't think we want to take that risk,
so essentially "No".


From dank at kegel.com  Sat May 23 16:00:25 2009
From: dank at kegel.com (Dan Kegel)
Date: Sat, 23 May 2009 14:00:25 -0700
Subject: Updating bugs in Bugzilla
Message-ID: <a71bd89a0905231400p3cf9a362s8e13c00e05540108@mail.gmail.com>

Ken Sharp asked:
> [Can I have bugzilla privs?]

OK, you have them now.  Please them wisely.


From fgouget at free.fr  Sat May 23 16:18:59 2009
From: fgouget at free.fr (Francois Gouget)
Date: Sat, 23 May 2009 23:18:59 +0200 (CEST)
Subject: Static-ify rsaenh/mpi?
In-Reply-To: <gv98a4$jq4$1@ger.gmane.org>
References: <alpine.DEB.2.00.0905231746290.8500@amboise.dolphin>
	<gv98a4$jq4$1@ger.gmane.org>
Message-ID: <alpine.DEB.2.00.0905232315520.8500@amboise.dolphin>

On Sat, 23 May 2009, Andrew Talbot wrote:
[...]
> I made a few of the functions in mpi.c static a while back, but stopped when
> there was a bug report (http://bugs.winehq.org/show_bug.cgi?id=17406)
> that seemed consequential but turned out to be apparently due to a bug gcc.

The bug is with -O3 which is not the default and which I would not 
personally care about. I'd be more open about maintenance issues.



-- 
Francois Gouget <fgouget at free.fr>              http://fgouget.free.fr/
               RFC 2549: ftp://ftp.isi.edu/in-notes/rfc2549.txt
                IP over Avian Carriers with Quality of Service


From Andrew.Talbot at talbotville.com  Sat May 23 18:19:41 2009
From: Andrew.Talbot at talbotville.com (Andrew Talbot)
Date: Sun, 24 May 2009 00:19:41 +0100
Subject: Static-ify rsaenh/mpi?
References: <alpine.DEB.2.00.0905231746290.8500@amboise.dolphin>
	<gv98a4$jq4$1@ger.gmane.org>
	<alpine.DEB.2.00.0905232315520.8500@amboise.dolphin>
Message-ID: <gva0ae$bv4$1@ger.gmane.org>

Francois Gouget wrote:

> The bug is with -O3 which is not the default and which I would not
> personally care about. I'd be more open about maintenance issues.
> 

My inclination would be to make the functions static. However, how to handle
the comments is an issue to consider. Also, I probably made a mistake in
moving functions around at the same time in order to avoid unnecessary
forward references: perhaps that is best treated as a separate exercise.

-- 
Andy.





From kennybobs at o2.co.uk  Sat May 23 19:36:42 2009
From: kennybobs at o2.co.uk (Ken Sharp)
Date: Sun, 24 May 2009 01:36:42 +0100
Subject: Updating bugs in Bugzilla
In-Reply-To: <4A183AF0.3030805@o2.co.uk>
References: <4A183AF0.3030805@o2.co.uk>
Message-ID: <4A18969A.3030809@o2.co.uk>

Done without reply. :-p

Thanks.

Ken Sharp wrote:
> Hi all,
> 
> Is there any way I can have access to update bugs that I did not open in 
> Bugzilla?  I update a lot of bugs and some of them are not set correctly 
> (incorrect component or incorrect URL).  Wrong URLs are a real pain 
> because it can lead to testing the wrong version of an app (see Bug 13371).
> At the moment I have to ask someone with access to make these changes 
> for me, and they're not always done.  I don't want to ask them 
> repeatedly because they have better things to do, I'm sure, and it would 
> be easier if I could do it myself.
> 
> I have admin access on the AppDB for this reason.  Is there any way I 
> could have a similar access on Bugzilla?
> 
> I had no idea where to send this email to...
> 
> Thanks,
> Ken.
> 




From jjmckenzie51 at earthlink.net  Sat May 23 19:49:15 2009
From: jjmckenzie51 at earthlink.net (James McKenzie)
Date: Sat, 23 May 2009 17:49:15 -0700
Subject: News on Wine 1.1.21/MacOSX/XQuartz 2.3.3
In-Reply-To: <c8485d470905221019y25034674od1be1ec911ebe0b8@mail.gmail.com>
References: <4A0F8338.5020708@earthlink.net>	<19e31a080905170449k77959ac5g82a2b13132b85c30@mail.gmail.com>	<b6bb06270905171345v537e4ce1n4bda0b6f9eb396f2@mail.gmail.com>	<4A10A118.4050704@earthlink.net>	<8325218A80FB4DC998C373979F3C3710@DMITRY>	<1D65C78F-B646-4E73-987C-DD56D45BD274@kronenberg.org>	<c8485d470905200246v3d35080ekbffb5f77772dabb@mail.gmail.com>	<b6bb06270905200704l20f9eddfn333937809742d675@mail.gmail.com>
	<c8485d470905221019y25034674od1be1ec911ebe0b8@mail.gmail.com>
Message-ID: <4A18998B.3070303@earthlink.net>

Roderick Colenbrander wrote:
>
> Thanks, I used this to compile wine 1.1.21 for testing purposes this
> week. I had to update the scripts a bit (e.g. use newere versions of
> some libraries and tools because the old ones are offline). I can post
> a patch against the old script. Further don't ship the opengl hack
> anymore for new wine packages as you are aware it isn't needed for
> xquartz 2.3.3 anymore. Everyone should move to the latest xquartz.
> This might prevent some opengl bug reports which I have to close on
> bugzilla as well ;)
>
>   
Can you provide the updates to the scripts?  Since I am using Leopard,
the opengl fix is not needed anymore, but it may have to stay until
XQuartz 2.3.3 is backported for Tiger.

James McKenzie



From shacklein at gmail.com  Sat May 23 23:54:10 2009
From: shacklein at gmail.com (Ben Klein)
Date: Sun, 24 May 2009 14:54:10 +1000
Subject: DIB Engine : passing all tests
In-Reply-To: <gv9i31$bu4$1@ger.gmane.org>
References: <gv7cjr$rn5$1@ger.gmane.org>
	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com> 
	<gv9i31$bu4$1@ger.gmane.org>
Message-ID: <d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>

2009/5/24 Massimo Del Fedele <max at veneto.com>:
> Austin English ha scritto:
>>
>> On Fri, May 22, 2009 at 6:31 PM, Massimo Del Fedele <max at veneto.com>
>> wrote:
>>>
>>> I posted on bug 421 page (as usual) latest update of my engine.
>>> It suld pass all tests in wine suite.... also all bitmap's todo_wines,
>>> so expect some "false positive" signaled by tests.
>>>
>>> Austin, could you please re-run it on your test machines ?
>>
>> Sorry for the delay. New residence has crappy wireless internet, need
>> to find a better solution.
>>
>> Anywho, I've still got a failure:
>> palette.c:105: Test failed: getColor=00302010
>>
>> http://test.winehq.org/data/b175a43fb8439a33a686512935597d4c43c19733/wine_ae-ub904-dib/gdi32:palette.html
>>
> Yep, I've seen it.... sorry, I checked out just the bitmap suite.
> It's trivial to fix, will do on next release
>
>> Yep, several todo's are passing now:
>>
>> http://test.winehq.org/data/b175a43fb8439a33a686512935597d4c43c19733/wine_ae-ub904-dib/gdi32:bitmap.html
>>
> too bad that the suite marks them as failures :-)

Does that mean it's time to remove these todos (and make them full
tests) or are they still wanted for the case where Max's DIB engine is
not installed?

I'm looking forward to this hitting upstream :) Have the architectural
issues been solved yet?


From shacklein at gmail.com  Sun May 24 00:25:40 2009
From: shacklein at gmail.com (Ben Klein)
Date: Sun, 24 May 2009 15:25:40 +1000
Subject: annoying pkg-config problem on 64 bit Ubuntu 8.10
In-Reply-To: <b6bb06270905220738y3e3d57ew47fb9f1073aa2773@mail.gmail.com>
References: <a71bd89a0905210737q71c7fd0dn12268c7799b24041@mail.gmail.com> 
	<d8269d910905211318n16dfaf44sb6393cbab3f9fdf1@mail.gmail.com> 
	<1242944662.14409.33.camel@joel-desktop>
	<b6bb06270905220738y3e3d57ew47fb9f1073aa2773@mail.gmail.com>
Message-ID: <d7e40be30905232225h28f69504ue55bf26329afe403@mail.gmail.com>

2009/5/23 Austin English <austinenglish at gmail.com>:
> On Thu, May 21, 2009 at 5:24 PM, Joel Holdsworth
> <joel at airwebreathe.org.uk> wrote:
>> On Thu, 2009-05-21 at 22:18 +0200, Tijnema wrote:
>>> ? ? ? ? Haven't checked Jaunty yet to see if it's still busted.
>>> ? ? ? ? We may need to postprocess pkg-config's output to add the
>>> ? ? ? ? missing 32
>>> ? ? ? ? in some cases. ?Not sure if it's worth it.
>>>
>>
>> On Jaunty I get
>>
>> $ pkg-config --libs dbus-1
>> -L//lib -ldbus-1
>
> I do as well, but './configure' and './configure --enable-win64' both work fine.

Does it tell you you're missing dbus or HAL stuff when you're not?


From kai.blin at gmail.com  Sun May 24 02:09:53 2009
From: kai.blin at gmail.com (Kai Blin)
Date: Sun, 24 May 2009 09:09:53 +0200
Subject: DIB Engine : passing all tests
In-Reply-To: <d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>
References: <gv7cjr$rn5$1@ger.gmane.org> <gv9i31$bu4$1@ger.gmane.org>
	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>
Message-ID: <200905240909.56710.kai.blin@gmail.com>

On Sunday 24 May 2009 06:54:10 Ben Klein wrote:

> Does that mean it's time to remove these todos (and make them full
> tests) or are they still wanted for the case where Max's DIB engine is
> not installed?

They are full tests, they're just marked as not passing in wine. Which they 
don't. At least not until wine has a DIB engine.

> I'm looking forward to this hitting upstream :) Have the architectural
> issues been solved yet?

It seems like Max and Alexandre agreed to disagree. I wouldn't hold my breath 
for this code to be merged to the main tree. Unfortunately, Max seems to like 
using Bugzilla to let people track his patches, instead of dumping them into 
some git tree, which would make keeping track of updates easier. His call of 
course.

Cheers,
Kai

-- 
Kai Blin
WorldForge developer  http://www.worldforge.org/
Wine developer        http://wiki.winehq.org/KaiBlin
Samba team member     http://www.samba.org/samba/team/
--
Will code for cotton.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part.
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090524/dd235dae/attachment.pgp>

From max at veneto.com  Sun May 24 03:37:53 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Sun, 24 May 2009 10:37:53 +0200
Subject: DIB Engine : passing all tests
In-Reply-To: <d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>
References: <gv7cjr$rn5$1@ger.gmane.org>	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>
	<gv9i31$bu4$1@ger.gmane.org>
	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>
Message-ID: <gvb111$vrg$1@ger.gmane.org>

Ben Klein ha scritto:
> 2009/5/24 Massimo Del Fedele <max at veneto.com>:
>> Austin English ha scritto:
>>> On Fri, May 22, 2009 at 6:31 PM, Massimo Del Fedele <max at veneto.com>
>>> wrote:
>>>> I posted on bug 421 page (as usual) latest update of my engine.
>>>> It suld pass all tests in wine suite.... also all bitmap's todo_wines,
>>>> so expect some "false positive" signaled by tests.
>>>>
>>>> Austin, could you please re-run it on your test machines ?
>>> Sorry for the delay. New residence has crappy wireless internet, need
>>> to find a better solution.
>>>
>>> Anywho, I've still got a failure:
>>> palette.c:105: Test failed: getColor=00302010
>>>
>>> http://test.winehq.org/data/b175a43fb8439a33a686512935597d4c43c19733/wine_ae-ub904-dib/gdi32:palette.html
>>>
>> Yep, I've seen it.... sorry, I checked out just the bitmap suite.
>> It's trivial to fix, will do on next release
>>
>>> Yep, several todo's are passing now:
>>>
>>> http://test.winehq.org/data/b175a43fb8439a33a686512935597d4c43c19733/wine_ae-ub904-dib/gdi32:bitmap.html
>>>
>> too bad that the suite marks them as failures :-)
> 
> Does that mean it's time to remove these todos (and make them full
> tests) or are they still wanted for the case where Max's DIB engine is
> not installed?

I guess not, wine is not passing them, and it won't pass most of them without
a proper DIB engine. Some of them are independent of dib engine, indeed, and
could be fixed anyways.
> 
> I'm looking forward to this hitting upstream :) Have the architectural
> issues been solved yet?
> 
Nope, and I think they will not be solved soon. Not by me, anyways.
I made my engine because I was needing it, but Alexandre don't like
its architecture, so it won't be merged even if, IMHO of course, it
could be done as an "alternative experimental driver" in parallel to
current winex11 one, which could spread its usage and testing a lot
more. But Alexandre didn't like that solution, ever.

Ciao

Max



From max at veneto.com  Sun May 24 03:45:26 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Sun, 24 May 2009 10:45:26 +0200
Subject: DIB Engine : passing all tests
In-Reply-To: <200905240909.56710.kai.blin@gmail.com>
References: <gv7cjr$rn5$1@ger.gmane.org>
	<gv9i31$bu4$1@ger.gmane.org>	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>
	<200905240909.56710.kai.blin@gmail.com>
Message-ID: <gvb1f6$10b$1@ger.gmane.org>

Kai Blin ha scritto:
> On Sunday 24 May 2009 06:54:10 Ben Klein wrote:
> 
>> Does that mean it's time to remove these todos (and make them full
>> tests) or are they still wanted for the case where Max's DIB engine is
>> not installed?
> 
> They are full tests, they're just marked as not passing in wine. Which they 
> don't. At least not until wine has a DIB engine.

Most but not all of them. A few of them could be fixed anyways.
> 
>> I'm looking forward to this hitting upstream :) Have the architectural
>> issues been solved yet?
> 
> It seems like Max and Alexandre agreed to disagree. I wouldn't hold my breath 
> for this code to be merged to the main tree. Unfortunately, Max seems to like 
> using Bugzilla to let people track his patches, instead of dumping them into 
> some git tree, which would make keeping track of updates easier. His call of 
> course.

The problem here is that I've got no time to maintain an updated git tree with
my engine.... and I'm still fixing stuffs, so I prefere to manage my patchset
directly in order to avoid a 1000+ patches on my tree.
Dumping my patchset on a git tree wouldn't make its usage easier and would
make me loose time and bandwidth to maintain it.
People able to check out a git tree and build it are also able to apply the
patchset to a clean one. It makes them spare time, too, as they don't have to
maintain and build 2 different trees. With stacked git it's easy to add/remove
the patchset.
Anyways, if somebody wont take the (again, useless imho) job of maintain an
updated tree with it, feel free to do it :-)

Ciao

Max



From mrmessiah at gmail.com  Sun May 24 05:04:02 2009
From: mrmessiah at gmail.com (Chris Howe)
Date: Sun, 24 May 2009 11:04:02 +0100
Subject: DIB Engine : passing all tests
In-Reply-To: <gvb111$vrg$1@ger.gmane.org>
References: <gv7cjr$rn5$1@ger.gmane.org>
	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>
	<gv9i31$bu4$1@ger.gmane.org>
	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>
	<gvb111$vrg$1@ger.gmane.org>
Message-ID: <39c14e440905240304j571f63dah70167f133f0e2c52@mail.gmail.com>

2009/5/24 Massimo Del Fedele <max at veneto.com>


> I'm looking forward to this hitting upstream :) Have the architectural
>> issues been solved yet?
>>
>>  Nope, and I think they will not be solved soon. Not by me, anyways.
> I made my engine because I was needing it, but Alexandre don't like
> its architecture, so it won't be merged even if, IMHO of course, it
> could be done as an "alternative experimental driver" in parallel to
> current winex11 one, which could spread its usage and testing a lot
> more. But Alexandre didn't like that solution, ever.
>

I assume all this took place on IRC because unless I missed it,
Alexandre hasn't deigned to comment on here about what the
right architectural solution would be.

Sorry to sound like a stuck record but the Wine website still lists
"write a DIB engine" as a requirement, and every time someone
does, the patches dissapear down a hole because they're "not
right". Someone document what "would be right", or take "write
a DIB engine" off the list. I'd love to have a go at documenting it
myself, but I don't have the time to reverse engineer it from a
few years' worth of rejected solutions.

--
Chris
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090524/53cf09a3/attachment.htm>

From nerv at dawncrow.de  Sun May 24 05:23:42 2009
From: nerv at dawncrow.de (=?ISO-8859-1?Q?Andr=E9_Hentschel?=)
Date: Sun, 24 May 2009 12:23:42 +0200
Subject: DIB Engine : passing all tests
In-Reply-To: <gvb111$vrg$1@ger.gmane.org>
References: <gv7cjr$rn5$1@ger.gmane.org>	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>	<gv9i31$bu4$1@ger.gmane.org>	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>
	<gvb111$vrg$1@ger.gmane.org>
Message-ID: <4A19202E.3010300@dawncrow.de>

I dont know anything about that, but may it be possible to compile your code to a standalone driver for seperate download?
It would be great to just install a DIB-Driver for wine.
Sorry if that was a stupid idea.

>>
> Nope, and I think they will not be solved soon. Not by me, anyways.
> I made my engine because I was needing it, but Alexandre don't like
> its architecture, so it won't be merged even if, IMHO of course, it
> could be done as an "alternative experimental driver" in parallel to
> current winex11 one, which could spread its usage and testing a lot
> more. But Alexandre didn't like that solution, ever.
> 
> Ciao
> 
> Max
> 
> 
> 



From max at veneto.com  Sun May 24 10:06:45 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Sun, 24 May 2009 17:06:45 +0200
Subject: DIB Engine : passing all tests
In-Reply-To: <4A19202E.3010300@dawncrow.de>
References: <gv7cjr$rn5$1@ger.gmane.org>	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>	<gv9i31$bu4$1@ger.gmane.org>	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>	<gvb111$vrg$1@ger.gmane.org>
	<4A19202E.3010300@dawncrow.de>
Message-ID: <gvbnq5$in1$1@ger.gmane.org>

Andr? Hentschel ha scritto:
> I dont know anything about that, but may it be possible to compile your 
> code to a standalone driver for seperate download?
> It would be great to just install a DIB-Driver for wine.
> Sorry if that was a stupid idea.
> 
The idea is not stupid at all :-)
I was thinking to do it, but I don't know for how many
machines a separate compile would be needed.
I'm working on ubuntu64, and I tested just migrating the
2 DLLs on an ubuntu32 and it do work, so I guess it should
work on most linuxes.
No idea on what will happen with Mac or other unixes....

Max



From nerv at dawncrow.de  Sun May 24 10:32:46 2009
From: nerv at dawncrow.de (=?ISO-8859-1?Q?Andr=E9_Hentschel?=)
Date: Sun, 24 May 2009 17:32:46 +0200
Subject: DIB Engine : passing all tests
In-Reply-To: <gvbnq5$in1$1@ger.gmane.org>
References: <gv7cjr$rn5$1@ger.gmane.org>	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>	<gv9i31$bu4$1@ger.gmane.org>	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>	<gvb111$vrg$1@ger.gmane.org>	<4A19202E.3010300@dawncrow.de>
	<gvbnq5$in1$1@ger.gmane.org>
Message-ID: <4A19689E.4000406@dawncrow.de>

Massimo Del Fedele schrieb:
> Andr? Hentschel ha scritto:
>> I dont know anything about that, but may it be possible to compile 
>> your code to a standalone driver for seperate download?
>> It would be great to just install a DIB-Driver for wine.
>> Sorry if that was a stupid idea.
>>
> The idea is not stupid at all :-)
> I was thinking to do it, but I don't know for how many
> machines a separate compile would be needed.
> I'm working on ubuntu64, and I tested just migrating the
> 2 DLLs on an ubuntu32 and it do work, so I guess it should
> work on most linuxes.
> No idea on what will happen with Mac or other unixes....
> 
> Max
> 
> 
> 

would you provide your builds for us?


From dank at kegel.com  Sun May 24 10:53:45 2009
From: dank at kegel.com (Dan Kegel)
Date: Sun, 24 May 2009 08:53:45 -0700
Subject: urlmon: Cache binding notif window.
Message-ID: <a71bd89a0905240853i79882696n5c5126555fe058c2@mail.gmail.com>

Hi Jacek,
why do you have tls_list in
http://www.winehq.org/pipermail/wine-patches/2009-May/072833.html
?  The usual idiom is to just free each thread's data in THREAD_DETACH,
isn't it?

I ran into this while chasing a crash regression in Sketchup, see
Anastasius' comments in http://bugs.winehq.org/show_bug.cgi?id=18601
- Dan


From bunglehead at gmail.com  Sun May 24 11:14:48 2009
From: bunglehead at gmail.com (Nikolay Sivov)
Date: Sun, 24 May 2009 20:14:48 +0400
Subject: [comctl32] Test request
Message-ID: <1243181688.29346.6.camel@debianhome.localdomain>

Hi.

I've just prepared some simple MRU tests and I need test them on various native platfoms -
tested only on xp sp2 so this one could be skipped.

Could somebody do it?

From bunglehead at gmail.com  Sun May 24 11:09:53 2009
From: bunglehead at gmail.com (Nikolay Sivov)
Date: Sun, 24 May 2009 20:09:53 +0400
Subject: Some MRU tests
Message-ID: <mailman.557.1243181658.3319.wine-devel@winehq.org>

---
 dlls/comctl32/comctl32undoc.c |    4 +-
 dlls/comctl32/tests/mru.c     |  117 +++++++++++++++++++++++++++++++++++++++--
 2 files changed, 115 insertions(+), 6 deletions(-)

diff --git a/dlls/comctl32/comctl32undoc.c b/dlls/comctl32/comctl32undoc.c
index 7899068..194efe5 100644
--- a/dlls/comctl32/comctl32undoc.c
+++ b/dlls/comctl32/comctl32undoc.c
@@ -385,7 +385,7 @@ INT WINAPI FindMRUData (HANDLE hList, LPCVOID lpData, DWORD cbData,
     UINT i;
     LPSTR dataA = NULL;
 
-    if (!mp->extview.lpfnCompare)
+    if (!mp || !mp->extview.lpfnCompare)
 	return -1;
 
     if(!(mp->extview.dwFlags & MRUF_BINARY_LIST) && !mp->isUnicode) {
@@ -834,6 +834,7 @@ INT WINAPI EnumMRUListW (HANDLE hList, INT nItemPos, LPVOID lpBuffer,
     const WINEMRUITEM *witem;
     INT desired, datasize;
 
+    if (!mp) return -1;
     if ((nItemPos < 0) || !lpBuffer) return mp->cursize;
     if (nItemPos >= mp->cursize) return -1;
     desired = mp->realMRU[nItemPos];
@@ -860,6 +861,7 @@ INT WINAPI EnumMRUListA (HANDLE hList, INT nItemPos, LPVOID lpBuffer,
     INT desired, datasize;
     DWORD lenA;
 
+    if (!mp) return -1;
     if ((nItemPos < 0) || !lpBuffer) return mp->cursize;
     if (nItemPos >= mp->cursize) return -1;
     desired = mp->realMRU[nItemPos];
diff --git a/dlls/comctl32/tests/mru.c b/dlls/comctl32/tests/mru.c
index 8ebec86..9a70291 100644
--- a/dlls/comctl32/tests/mru.c
+++ b/dlls/comctl32/tests/mru.c
@@ -69,11 +69,27 @@ static HANDLE (WINAPI *pCreateMRUListA)(LPCREATEMRULISTA);
 static void   (WINAPI *pFreeMRUList)(HANDLE);
 static INT    (WINAPI *pAddMRUStringA)(HANDLE,LPCSTR);
 static INT    (WINAPI *pEnumMRUList)(HANDLE,INT,LPVOID,DWORD);
+static INT    (WINAPI *pEnumMRUListW)(HANDLE,INT,LPVOID,DWORD);
+static HANDLE (WINAPI *pCreateMRUListLazyA)(LPCREATEMRULISTA, DWORD, DWORD, DWORD);
+static INT    (WINAPI *pFindMRUData)(HANDLE, LPCVOID, DWORD, LPINT);
+static INT    (WINAPI *pAddMRUData)(HANDLE, LPCVOID, DWORD);
 /*
 static INT    (WINAPI *pFindMRUStringA)(HANDLE,LPCSTR,LPINT);
 */
 
 
+static void InitPointers(void)
+{
+    pCreateMRUListA = (void*)GetProcAddress(hComctl32,(LPCSTR)151);
+    pFreeMRUList    = (void*)GetProcAddress(hComctl32,(LPCSTR)152);
+    pAddMRUStringA  = (void*)GetProcAddress(hComctl32,(LPCSTR)153);
+    pEnumMRUList    = (void*)GetProcAddress(hComctl32,(LPCSTR)154);
+    pCreateMRUListLazyA = (void*)GetProcAddress(hComctl32,(LPCSTR)157);
+    pAddMRUData     = (void*)GetProcAddress(hComctl32,(LPCSTR)167);
+    pFindMRUData    = (void*)GetProcAddress(hComctl32,(LPCSTR)169);
+    pEnumMRUListW   = (void*)GetProcAddress(hComctl32,(LPCSTR)403);
+}
+
 /* Based on RegDeleteTreeW from dlls/advapi32/registry.c */
 static LSTATUS mru_RegDeleteTreeA(HKEY hKey, LPCSTR lpszSubKey)
 {
@@ -227,11 +243,6 @@ static void test_MRUListA(void)
     HKEY hKey;
     INT iRet;
 
-    pCreateMRUListA = (void*)GetProcAddress(hComctl32,(LPCSTR)151);
-    pFreeMRUList = (void*)GetProcAddress(hComctl32,(LPCSTR)152);
-    pAddMRUStringA = (void*)GetProcAddress(hComctl32,(LPCSTR)153);
-    pEnumMRUList = (void*)GetProcAddress(hComctl32,(LPCSTR)154);
-
     if (!pCreateMRUListA || !pFreeMRUList || !pAddMRUStringA || !pEnumMRUList)
     {
         skip("MRU entry points not found\n");
@@ -413,6 +424,96 @@ static void test_MRUListA(void)
     /* FreeMRUList(NULL) crashes on Win98 OSR0 */
 }
 
+static void test_CreateMRUListLazyA(void)
+{
+    HANDLE hMRU;
+    HKEY hKey;
+    CREATEMRULISTA listA = { 0 };
+
+    if (!pCreateMRUListLazyA)
+    {
+        win_skip("CreateMRUListLazyA entry point 157 not found\n");
+        return;
+    }
+
+    /* wrong size */
+    listA.cbSize = sizeof(listA) + 1;
+    hMRU = pCreateMRUListLazyA(&listA, 0, 0, 0);
+    ok(hMRU == NULL, "Expected NULL handle, got %p\n", hMRU);
+    listA.cbSize = 4;
+    hMRU = pCreateMRUListLazyA(&listA, 0, 0, 0);
+    ok(hMRU == NULL, "Expected NULL handle, got %p\n", hMRU);
+    /* NULL hKey */
+    listA.cbSize = sizeof(listA);
+    listA.hKey = NULL;
+    hMRU = pCreateMRUListLazyA(&listA, 0, 0, 0);
+    ok(hMRU == NULL, "Expected NULL handle, got %p\n", hMRU);
+    /* NULL subkey */
+    ok(!RegCreateKeyA(HKEY_CURRENT_USER, REG_TEST_KEYA, &hKey),
+       "Couldn't create test key \"%s\"\n", REG_TEST_KEYA);
+    listA.cbSize = sizeof(listA);
+    listA.hKey = hKey;
+    listA.lpszSubKey = NULL;
+    hMRU = pCreateMRUListLazyA(&listA, 0, 0, 0);
+    ok(hMRU == NULL, "Expected NULL handle, got %p\n", hMRU);
+}
+
+static void test_EnumMRUList(void)
+{
+    INT iRet;
+
+    if (!pEnumMRUList)
+    {
+        win_skip("EnumMRUListA entry point not found\n");
+    }
+    else
+    {
+        /* NULL handle */
+        iRet = pEnumMRUList(NULL, 0, NULL, 0);
+        ok(iRet == -1, "EnumMRUListA expected -1, got %d\n", iRet);
+    }
+    if (!pEnumMRUListW)
+    {
+        win_skip("EnumMRUListW entry point not found\n");
+    }
+    else
+    {
+        /* NULL handle */
+        iRet = pEnumMRUListW(NULL, 0, NULL, 0);
+        ok(iRet == -1, "EnumMRUListW expected -1, got %d\n", iRet);
+    }
+}
+
+static void test_FindMRUData(void)
+{
+    INT iRet;
+
+    if (!pFindMRUData)
+    {
+        win_skip("FindMRUData entry point not found\n");
+        return;
+    }
+
+    /* NULL handle */
+    iRet = pFindMRUData(NULL, NULL, 0, NULL);
+    ok(iRet == -1, "FindMRUData expected -1, got %d\n", iRet);
+}
+
+static void test_AddMRUData(void)
+{
+    INT iRet;
+
+    if (!pAddMRUData)
+    {
+        win_skip("AddMRUData entry point not found\n");
+        return;
+    }
+
+    /* NULL handle */
+    iRet = pFindMRUData(NULL, NULL, 0, NULL);
+    ok(iRet == -1, "AddMRUData expected -1, got %d\n", iRet);
+}
+
 START_TEST(mru)
 {
     hComctl32 = GetModuleHandleA("comctl32.dll");
@@ -421,7 +522,13 @@ START_TEST(mru)
     if (!create_reg_entries())
         return;
 
+    InitPointers();
+
     test_MRUListA();
+    test_CreateMRUListLazyA();
+    test_EnumMRUList();
+    test_FindMRUData();
+    test_AddMRUData();
 
     delete_reg_entries();
 }
-- 
1.5.6.5


--=-rZq4WBUjN6BnjOGc5M1J--



From jacek at codeweavers.com  Sun May 24 11:19:00 2009
From: jacek at codeweavers.com (Jacek Caban)
Date: Sun, 24 May 2009 18:19:00 +0200
Subject: urlmon: Cache binding notif window.
In-Reply-To: <a71bd89a0905240853i79882696n5c5126555fe058c2@mail.gmail.com>
References: <a71bd89a0905240853i79882696n5c5126555fe058c2@mail.gmail.com>
Message-ID: <4A197374.5000606@codeweavers.com>

Hi Dan,

Dan Kegel wrote:
> Hi Jacek,
> why do you have tls_list in
> http://www.winehq.org/pipermail/wine-patches/2009-May/072833.html
> ?  The usual idiom is to just free each thread's data in THREAD_DETACH,
> isn't it?
>   

THREAD_DETACH is called only if thread detaches before urlmon.dll is 
unloaded. When urlmon.dll is unloaded only PROCESS_DETACH is called and 
we have to free TLS resources of all threads to avoid leaks (I don't 
consider such leaks as a serious problem, but it's better to avoid them).

> I ran into this while chasing a crash regression in Sketchup, see
> Anastasius' comments in http://bugs.winehq.org/show_bug.cgi?id=18601
>   

I've attached a patch to the bug.


Thanks,
    Jacek



From max at veneto.com  Sun May 24 11:57:03 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Sun, 24 May 2009 18:57:03 +0200
Subject: DIB Engine : passing all tests
In-Reply-To: <4A19689E.4000406@dawncrow.de>
References: <gv7cjr$rn5$1@ger.gmane.org>	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>	<gv9i31$bu4$1@ger.gmane.org>	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>	<gvb111$vrg$1@ger.gmane.org>	<4A19202E.3010300@dawncrow.de>	<gvbnq5$in1$1@ger.gmane.org>
	<4A19689E.4000406@dawncrow.de>
Message-ID: <gvbu90$3iv$1@ger.gmane.org>

Andr? Hentschel ha scritto:
> Massimo Del Fedele schrieb:
>> Andr? Hentschel ha scritto:
>>> I dont know anything about that, but may it be possible to compile 
>>> your code to a standalone driver for seperate download?
>>> It would be great to just install a DIB-Driver for wine.
>>> Sorry if that was a stupid idea.
>>>
>> The idea is not stupid at all :-)
>> I was thinking to do it, but I don't know for how many
>> machines a separate compile would be needed.
>> I'm working on ubuntu64, and I tested just migrating the
>> 2 DLLs on an ubuntu32 and it do work, so I guess it should
>> work on most linuxes.
>> No idea on what will happen with Mac or other unixes....
>>
>> Max
>>
>>
>>
> 
> would you provide your builds for us?
> 
> 
> 

Can do on next days.
But I need some place on where to put the precompiled dlls... I guess
nor bug421 page nor here are good places for it.

Ciao

Max



From austinenglish at gmail.com  Sun May 24 12:28:40 2009
From: austinenglish at gmail.com (Austin English)
Date: Sun, 24 May 2009 12:28:40 -0500
Subject: [PATCH 01/10] msi/tests: Add tests for binary OBJECTS.
In-Reply-To: <a47100d40905240951s2edfab3fp47e8f1a59ef8d68a@mail.gmail.com>
References: <a47100d40905240951s2edfab3fp47e8f1a59ef8d68a@mail.gmail.com>
Message-ID: <b6bb06270905241028l271a94e0n793447385430a587@mail.gmail.com>

On Sun, May 24, 2009 at 11:51 AM, Hib Eris <hib at hiberis.nl> wrote:
> Hi,
>
> I will send 10 patches for msi.dll that will add support for OBJECT
> types in the Msi Database and that will allow you to merge in new
> tables.
>
> This will make the WiX (Windows Installer XML) toolkit work a lot better.
>
> Please review and provide feedback on what can be improved as this is
> my first substantial patch series to wine.
>
> Kind regards,
>
> Hib Eris
>
>
> ---
> ?dlls/msi/tests/db.c | ? 84 +++++++++++++++++++++++++++++++++++++++++++++++++++
> ?1 files changed, 84 insertions(+), 0 deletions(-)
>
>
>
>

Great work. Thanks for helping Wine!

-- 
-Austin


From austinenglish at gmail.com  Sun May 24 12:31:49 2009
From: austinenglish at gmail.com (Austin English)
Date: Sun, 24 May 2009 12:31:49 -0500
Subject: annoying pkg-config problem on 64 bit Ubuntu 8.10
In-Reply-To: <d7e40be30905232225h28f69504ue55bf26329afe403@mail.gmail.com>
References: <a71bd89a0905210737q71c7fd0dn12268c7799b24041@mail.gmail.com>
	<d8269d910905211318n16dfaf44sb6393cbab3f9fdf1@mail.gmail.com>
	<1242944662.14409.33.camel@joel-desktop>
	<b6bb06270905220738y3e3d57ew47fb9f1073aa2773@mail.gmail.com>
	<d7e40be30905232225h28f69504ue55bf26329afe403@mail.gmail.com>
Message-ID: <b6bb06270905241031l403c9b04xd2b50c94cee99979@mail.gmail.com>

On Sun, May 24, 2009 at 12:25 AM, Ben Klein <shacklein at gmail.com> wrote:
> 2009/5/23 Austin English <austinenglish at gmail.com>:
>> On Thu, May 21, 2009 at 5:24 PM, Joel Holdsworth
>> <joel at airwebreathe.org.uk> wrote:
>>> On Thu, 2009-05-21 at 22:18 +0200, Tijnema wrote:
>>>> ? ? ? ? Haven't checked Jaunty yet to see if it's still busted.
>>>> ? ? ? ? We may need to postprocess pkg-config's output to add the
>>>> ? ? ? ? missing 32
>>>> ? ? ? ? in some cases. ?Not sure if it's worth it.
>>>>
>>>
>>> On Jaunty I get
>>>
>>> $ pkg-config --libs dbus-1
>>> -L//lib -ldbus-1
>>
>> I do as well, but './configure' and './configure --enable-win64' both work fine.
>
> Does it tell you you're missing dbus or HAL stuff when you're not?
>

No, configure shows all dependencies as satisfied, for 32 and 64 bit.

-- 
-Austin


From thunderbird2k at gmail.com  Sun May 24 12:32:31 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Sun, 24 May 2009 19:32:31 +0200
Subject: News on Wine 1.1.21/MacOSX/XQuartz 2.3.3
In-Reply-To: <4A18998B.3070303@earthlink.net>
References: <4A0F8338.5020708@earthlink.net>
	<19e31a080905170449k77959ac5g82a2b13132b85c30@mail.gmail.com>
	<b6bb06270905171345v537e4ce1n4bda0b6f9eb396f2@mail.gmail.com>
	<4A10A118.4050704@earthlink.net>
	<8325218A80FB4DC998C373979F3C3710@DMITRY>
	<1D65C78F-B646-4E73-987C-DD56D45BD274@kronenberg.org>
	<c8485d470905200246v3d35080ekbffb5f77772dabb@mail.gmail.com>
	<b6bb06270905200704l20f9eddfn333937809742d675@mail.gmail.com>
	<c8485d470905221019y25034674od1be1ec911ebe0b8@mail.gmail.com>
	<4A18998B.3070303@earthlink.net>
Message-ID: <c8485d470905241032u4c535ec5kf0566b1082f3f765@mail.gmail.com>

On Sun, May 24, 2009 at 2:49 AM, James McKenzie
<jjmckenzie51 at earthlink.net> wrote:
> Roderick Colenbrander wrote:
>>
>> Thanks, I used this to compile wine 1.1.21 for testing purposes this
>> week. I had to update the scripts a bit (e.g. use newere versions of
>> some libraries and tools because the old ones are offline). I can post
>> a patch against the old script. Further don't ship the opengl hack
>> anymore for new wine packages as you are aware it isn't needed for
>> xquartz 2.3.3 anymore. Everyone should move to the latest xquartz.
>> This might prevent some opengl bug reports which I have to close on
>> bugzilla as well ;)
>>
>>
> Can you provide the updates to the scripts? ?Since I am using Leopard,
> the opengl fix is not needed anymore, but it may have to stay until
> XQuartz 2.3.3 is backported for Tiger.
>
> James McKenzie
>
>

Hi James,

This is the script I used. It mainly consists of some new servers and
updated version numbers because the original versions weren't
available anymore (sure they are useally in some 'old' directory).
Further I'm not building with the opengl patch.

Roderick
-------------- next part --------------
A non-text attachment was scrubbed...
Name: build_darwine_x86.sh.gz
Type: application/x-gzip
Size: 3100 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090524/cd4d51cb/attachment.bin>

From shacklein at gmail.com  Sun May 24 13:18:06 2009
From: shacklein at gmail.com (Ben Klein)
Date: Mon, 25 May 2009 04:18:06 +1000
Subject: DIB Engine : passing all tests
In-Reply-To: <gvbnq5$in1$1@ger.gmane.org>
References: <gv7cjr$rn5$1@ger.gmane.org>
	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com> 
	<gv9i31$bu4$1@ger.gmane.org>
	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com> 
	<gvb111$vrg$1@ger.gmane.org> <4A19202E.3010300@dawncrow.de> 
	<gvbnq5$in1$1@ger.gmane.org>
Message-ID: <d7e40be30905241118n319a6765h49535da41f6896fa@mail.gmail.com>

2009/5/25 Massimo Del Fedele <max at veneto.com>:
> Andr? Hentschel ha scritto:
>>
>> I dont know anything about that, but may it be possible to compile your
>> code to a standalone driver for seperate download?
>> It would be great to just install a DIB-Driver for wine.
>> Sorry if that was a stupid idea.
>>
> The idea is not stupid at all :-)
> I was thinking to do it, but I don't know for how many
> machines a separate compile would be needed.
> I'm working on ubuntu64, and I tested just migrating the
> 2 DLLs on an ubuntu32 and it do work, so I guess it should
> work on most linuxes.
> No idea on what will happen with Mac or other unixes....

To make this work and be as portable as possible, you'd need to
produce pure win32 DLLs (not ELF/PE hybrid .dll.so files). You would
then only need to distribute win32 and win64 variants, and not need to
worry about all the different kernels/libc's Wine is capable of
running on. :)


From mike.kaplinskiy at gmail.com  Sun May 24 14:11:27 2009
From: mike.kaplinskiy at gmail.com (Mike Kaplinskiy)
Date: Sun, 24 May 2009 15:11:27 -0400
Subject: DXTn textures in D3DX9
In-Reply-To: <d658b69e0905231348g2899e8bbnc1a09806ad2619fe@mail.gmail.com>
References: <4A16931B.4010809@freenet.de>
	<d658b69e0905231348g2899e8bbnc1a09806ad2619fe@mail.gmail.com>
Message-ID: <4d8b5aa80905241211r3019966y7af051b26aea9125@mail.gmail.com>

I believe mesa looks for libtxc_dxtn @
http://homepage.hispeed.ch/~rscheidegger/dri_experimental/s3tc_index.html
and then enables full s3tc support. The library itself is tiny and in
(ugly) C, so that is already good news. But as stated on the website,
you cannot use the code due to legality. Maybe there would be a way to
do on-demand loading as with mesa and output a warn/fixme if the
library is not found? It seems like the approach would be similar to
the way the font bytecode interpreter was handled (turn on if
available).

On a sidenote, I may not know what I'm talking about so feel free to
completely disagree.

Mike.

On Sat, May 23, 2009 at 4:48 PM, Henri Verbeet <hverbeet at gmail.com> wrote:
> 2009/5/22 Tony Wasserka <tony.wasserka at freenet.de>:
>> Hi everyone,
>> I'm working on implementing D3DXLoadSurfaceFromFileInMemory right now,
>> but I've got a problem. The function
>> most convert a loaded surface's data to a user specified surface format
>> (I did not yet find a way to do it elsehow,
>> UpdateTexture and StretchRect are to limited for that task, suggestions
>> welcome if I missed anything).
>> Now, if the user specifies that D3DX9 needs to convert e.g. an R8G8B8
>> surface to DXT1 (or to save a surface to a
>> DXTn compressed DDS file), I'm not sure wether I can implement that
>> behavior; on #winehackers I was told that
>> the (de)compression part is coverered by S3's patents, but the Gimp DDS
>> plugin and this
>> (http://mollyrocket.com/forums/viewtopic.php?t=392) seem to provide OSS
>> solutions for it anways.
>> So... Can anybody tell me for sure wether I may implement this code or not?
>>
>
> What it comes down to is that I don't think we want to take that risk,
> so essentially "No".
>
>
>


From ge at gse.nl  Sun May 24 14:35:29 2009
From: ge at gse.nl (Ge van Geldorp)
Date: Sun, 24 May 2009 21:35:29 +0200
Subject: [comctl32] Test request
In-Reply-To: <mailman.5.1243184399.8668.wine-devel@winehq.org>
References: <mailman.5.1243184399.8668.wine-devel@winehq.org>
Message-ID: <00cf01c9dca6$eba6aa60$c2f3ff20$@nl>

> From: Nikolay Sivov <bunglehead at gmail.com>
>
> I've just prepared some simple MRU tests and I need test them on various
native platfoms -
> tested only on xp sp2 so this one could be skipped.
>
> Could somebody do it?

Your tests pass on my W2K, XP, W2K3, Vista and W2K8 machines, but I get
crashes which were not there before on NT4 Workstation and NT4 Server (both
SP6). I haven't investigated further, I could probably determine the test
case that crashes if needed.

Ge.



From bunglehead at gmail.com  Sun May 24 14:44:06 2009
From: bunglehead at gmail.com (Nikolay Sivov)
Date: Sun, 24 May 2009 23:44:06 +0400
Subject: [comctl32] Test request
In-Reply-To: <00cf01c9dca6$eba6aa60$c2f3ff20$@nl>
References: <mailman.5.1243184399.8668.wine-devel@winehq.org>
	<00cf01c9dca6$eba6aa60$c2f3ff20$@nl>
Message-ID: <4A19A386.5020600@gmail.com>

Ge van Geldorp wrote:
>> From: Nikolay Sivov <bunglehead at gmail.com>
>>
>> I've just prepared some simple MRU tests and I need test them on various
>>     
> native platfoms -
>   
>> tested only on xp sp2 so this one could be skipped.
>>
>> Could somebody do it?
>>     
>
> Your tests pass on my W2K, XP, W2K3, Vista and W2K8 machines, but I get
> crashes which were not there before on NT4 Workstation and NT4 Server (both
> SP6). I haven't investigated further, I could probably determine the test
> case that crashes if needed.
>
> Ge.
Thanks for testing, Ge.

Yes, it will be nice if you tell me which tests crash. I'll comment them 
out then with some notes.

Nikolay S.



From ge at gse.nl  Sun May 24 16:31:21 2009
From: ge at gse.nl (Ge van Geldorp)
Date: Sun, 24 May 2009 23:31:21 +0200
Subject: [comctl32] Test request
In-Reply-To: <4A19A386.5020600@gmail.com>
References: <mailman.5.1243184399.8668.wine-devel@winehq.org>
	<00cf01c9dca6$eba6aa60$c2f3ff20$@nl> <4A19A386.5020600@gmail.com>
Message-ID: <00d001c9dcb7$160bfca0$4223f5e0$@nl>

Hi Nikolay,

>From: Nikolay Sivov [mailto:bunglehead at gmail.com] 
>
>Ge van Geldorp wrote:
>>> From: Nikolay Sivov <bunglehead at gmail.com>
>>>
>>> I've just prepared some simple MRU tests and I need test them on various
>>> native platfoms -
>>>   
>>> tested only on xp sp2 so this one could be skipped.
>>>
>>> Could somebody do it?
>>
>> Your tests pass on my W2K, XP, W2K3, Vista and W2K8 machines, but I get
>> crashes which were not there before on NT4 Workstation and NT4 Server
(both
>> SP6). I haven't investigated further, I could probably determine the test
>> case that crashes if needed.
>
>Thanks for testing, Ge.
>
>Yes, it will be nice if you tell me which tests crash. I'll comment them 
>out then with some notes.

Both the pEnumMRUList(NULL, 0, NULL, 0) and pEnumMRUListW(NULL, 0, NULL, 0)
calls in test_EnumMRUList() cause a crash. If I comment out these 2 tests
then the rest of the tests pass.

Ge.




From bunglehead at gmail.com  Sun May 24 16:44:04 2009
From: bunglehead at gmail.com (Nikolay Sivov)
Date: Mon, 25 May 2009 01:44:04 +0400
Subject: [comctl32] Test request
In-Reply-To: <00d001c9dcb7$160bfca0$4223f5e0$@nl>
References: <mailman.5.1243184399.8668.wine-devel@winehq.org>
	<00cf01c9dca6$eba6aa60$c2f3ff20$@nl> <4A19A386.5020600@gmail.com>
	<00d001c9dcb7$160bfca0$4223f5e0$@nl>
Message-ID: <4A19BFA4.90106@gmail.com>

Ge van Geldorp wrote:
> Hi Nikolay,
>
>   
>> From: Nikolay Sivov [mailto:bunglehead at gmail.com] 
>>
>> Ge van Geldorp wrote:
>>     
>>>> From: Nikolay Sivov <bunglehead at gmail.com>
>>>>
>>>> I've just prepared some simple MRU tests and I need test them on various
>>>> native platfoms -
>>>>   
>>>> tested only on xp sp2 so this one could be skipped.
>>>>
>>>> Could somebody do it?
>>>>         
>>> Your tests pass on my W2K, XP, W2K3, Vista and W2K8 machines, but I get
>>> crashes which were not there before on NT4 Workstation and NT4 Server
>>>       
> (both
>   
>>> SP6). I haven't investigated further, I could probably determine the test
>>> case that crashes if needed.
>>>       
>> Thanks for testing, Ge.
>>
>> Yes, it will be nice if you tell me which tests crash. I'll comment them 
>> out then with some notes.
>>     
>
> Both the pEnumMRUList(NULL, 0, NULL, 0) and pEnumMRUListW(NULL, 0, NULL, 0)
> calls in test_EnumMRUList() cause a crash. If I comment out these 2 tests
> then the rest of the tests pass.
>
> Ge.
>   
Ok. Thank you.



From winehacker at gmail.com  Sun May 24 20:20:47 2009
From: winehacker at gmail.com (Steven Edwards)
Date: Sun, 24 May 2009 21:20:47 -0400
Subject: DIB Engine : passing all tests
In-Reply-To: <gvbnq5$in1$1@ger.gmane.org>
References: <gv7cjr$rn5$1@ger.gmane.org>
	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>
	<gv9i31$bu4$1@ger.gmane.org>
	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>
	<gvb111$vrg$1@ger.gmane.org> <4A19202E.3010300@dawncrow.de>
	<gvbnq5$in1$1@ger.gmane.org>
Message-ID: <19e31a080905241820i3c516abp1088b736407c259e@mail.gmail.com>

On Sun, May 24, 2009 at 11:06 AM, Massimo Del Fedele <max at veneto.com> wrote:
> Andr? Hentschel ha scritto:
> No idea on what will happen with Mac or other unixes....

I am attempting a Mac build now. As with the rest of the discussion,
It would be nice if we could produce a PE version using something like
cygwin with X11 headers and the -mno-cygwin switch but I don't know if
this would really work. If did then it should work on everything.

Thanks
-- 
Steven Edwards

"There is one thing stronger than all the armies in the world, and
that is an idea whose time has come." - Victor Hugo


From jjmckenzie51 at earthlink.net  Sun May 24 20:23:34 2009
From: jjmckenzie51 at earthlink.net (James McKenzie)
Date: Sun, 24 May 2009 18:23:34 -0700
Subject: DIB Engine : passing all tests
In-Reply-To: <19e31a080905241820i3c516abp1088b736407c259e@mail.gmail.com>
References: <gv7cjr$rn5$1@ger.gmane.org>	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>	<gv9i31$bu4$1@ger.gmane.org>	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>	<gvb111$vrg$1@ger.gmane.org>
	<4A19202E.3010300@dawncrow.de>	<gvbnq5$in1$1@ger.gmane.org>
	<19e31a080905241820i3c516abp1088b736407c259e@mail.gmail.com>
Message-ID: <4A19F316.2090800@earthlink.net>

Steven Edwards wrote:
> On Sun, May 24, 2009 at 11:06 AM, Massimo Del Fedele <max at veneto.com> wrote:
>   
>> Andr? Hentschel ha scritto:
>> No idea on what will happen with Mac or other unixes....
>>     
>
> I am attempting a Mac build now. As with the rest of the discussion,
> It would be nice if we could produce a PE version using something like
> cygwin with X11 headers and the -mno-cygwin switch but I don't know if
> this would really work. If did then it should work on everything.
>   
Let me know how this goes.  I'm interested in improvements that will
help all *nixes, including MacOSX.

James McKenzie



From jjmckenzie51 at earthlink.net  Sun May 24 21:19:13 2009
From: jjmckenzie51 at earthlink.net (James McKenzie)
Date: Sun, 24 May 2009 19:19:13 -0700
Subject: DIB Engine : passing all tests
In-Reply-To: <19e31a080905241904r6e7493bdpdef6f0bd1fad1b27@mail.gmail.com>
References: <gv7cjr$rn5$1@ger.gmane.org>	
	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>	
	<gv9i31$bu4$1@ger.gmane.org>	
	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>	
	<gvb111$vrg$1@ger.gmane.org> <4A19202E.3010300@dawncrow.de>	
	<gvbnq5$in1$1@ger.gmane.org>	
	<19e31a080905241820i3c516abp1088b736407c259e@mail.gmail.com>	
	<4A19F316.2090800@earthlink.net>
	<19e31a080905241904r6e7493bdpdef6f0bd1fad1b27@mail.gmail.com>
Message-ID: <4A1A0021.7020905@earthlink.net>

Steven Edwards wrote:
> On Sun, May 24, 2009 at 9:23 PM, James McKenzie
> <jjmckenzie51 at earthlink.net> wrote:
>   
>> Let me know how this goes.  I'm interested in improvements that will
>> help all *nixes, including MacOSX.
>>     
>
> I think I am using the latest patch, its dibeng_max.zip thats got the
> 1-10 patches.
>
> There are some major graphical glitches, though it could be related to
> me having Quartz Extreme and Quartz2d enabled on unsupported hardware.
> It does seem much faster though. Sorry I don't have time right now to
> do a complete report. I'll try to upload information to bugzilla in
> the morning after I make my environment a little more sane.
>
>   
That's ugly.  Did you attempt to type in something in the Document area?

I don't have the time tonight to attempt to build and run the DIB stuff
to see what it does to the games and other programs that I work with.

Maybe, tomorrow afternoon after my bicycle ride.

James McKenzie



From winehacker at gmail.com  Mon May 25 01:06:07 2009
From: winehacker at gmail.com (Steven Edwards)
Date: Mon, 25 May 2009 02:06:07 -0400
Subject: DIB Engine : passing all tests
In-Reply-To: <4A1A0021.7020905@earthlink.net>
References: <gv7cjr$rn5$1@ger.gmane.org> <gv9i31$bu4$1@ger.gmane.org>
	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>
	<gvb111$vrg$1@ger.gmane.org> <4A19202E.3010300@dawncrow.de>
	<gvbnq5$in1$1@ger.gmane.org>
	<19e31a080905241820i3c516abp1088b736407c259e@mail.gmail.com>
	<4A19F316.2090800@earthlink.net>
	<19e31a080905241904r6e7493bdpdef6f0bd1fad1b27@mail.gmail.com>
	<4A1A0021.7020905@earthlink.net>
Message-ID: <19e31a080905242306r39134fam6c4b3c1bceb5b6e0@mail.gmail.com>

On Sun, May 24, 2009 at 10:19 PM, James McKenzie
<jjmckenzie51 at earthlink.net> wrote:
> That's ugly. ?Did you attempt to type in something in the Document area?

I've disabled all my Quartz hacks, the only thing sort of non-standard
I have is my custom FreeType with patented engine enabled and support
for SubPixel rendering turned on. Now that I think about it, that
could be a problem. I'll try another round of testing with that
disabled next.

Yes, it is MUCH faster rendering and scrolling and the like but there
are minor glitches with the font placement in the document area.
Notice how the word support and deployment overlap with the dib engine
and how the lines alternate color? The speed difference for editing is
like night and day. The header and footers for the document body
containing images renders fine. Installers such as ie6setup and msxml3
embedded images don't render properly, I'll try to upload images for
that as well in the morning. Bugzilla seems to be running quite slow
so I can't upload the images there. Comparison screenshots for Word
are here

http://steven-edwards.kicks-ass.org/~sedwards/Wine_1.1.22_Word2007_NO_DibEngine_OS_X.png
http://steven-edwards.kicks-ass.org/~sedwards/Wine_1.1.22_Word2007_With_DibEngine_OS_X.png

Since this is not likely to get merged in anytime soon, lets move the
rest of the OS X related discussions back to the bug when bugzilla
decides to stop munching on the pesticide. I'll try to file more
detailed reports as time permits.

Max this is wonderful progress, please keep up the good work!

Thanks
-- 
Steven Edwards

"There is one thing stronger than all the armies in the world, and
that is an idea whose time has come." - Victor Hugo


From max at veneto.com  Mon May 25 03:09:09 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Mon, 25 May 2009 10:09:09 +0200
Subject: DIB Engine : passing all tests
In-Reply-To: <19e31a080905242306r39134fam6c4b3c1bceb5b6e0@mail.gmail.com>
References: <gv7cjr$rn5$1@ger.gmane.org>
	<gv9i31$bu4$1@ger.gmane.org>	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>	<gvb111$vrg$1@ger.gmane.org>
	<4A19202E.3010300@dawncrow.de>	<gvbnq5$in1$1@ger.gmane.org>	<19e31a080905241820i3c516abp1088b736407c259e@mail.gmail.com>	<4A19F316.2090800@earthlink.net>	<19e31a080905241904r6e7493bdpdef6f0bd1fad1b27@mail.gmail.com>	<4A1A0021.7020905@earthlink.net>
	<19e31a080905242306r39134fam6c4b3c1bceb5b6e0@mail.gmail.com>
Message-ID: <gvdjn5$ph3$1@ger.gmane.org>

Steven Edwards ha scritto:
> On Sun, May 24, 2009 at 10:19 PM, James McKenzie
> <jjmckenzie51 at earthlink.net> wrote:
>> That's ugly.  Did you attempt to type in something in the Document area?
> 
> I've disabled all my Quartz hacks, the only thing sort of non-standard
> I have is my custom FreeType with patented engine enabled and support
> for SubPixel rendering turned on. Now that I think about it, that
> could be a problem. I'll try another round of testing with that
> disabled next.
> 
> Yes, it is MUCH faster rendering and scrolling and the like but there
> are minor glitches with the font placement in the document area.
> Notice how the word support and deployment overlap with the dib engine
> and how the lines alternate color? The speed difference for editing is
> like night and day. The header and footers for the document body
> containing images renders fine. Installers such as ie6setup and msxml3
> embedded images don't render properly, I'll try to upload images for
> that as well in the morning. Bugzilla seems to be running quite slow
> so I can't upload the images there. Comparison screenshots for Word
> are here
> 
> http://steven-edwards.kicks-ass.org/~sedwards/Wine_1.1.22_Word2007_NO_DibEngine_OS_X.png
> http://steven-edwards.kicks-ass.org/~sedwards/Wine_1.1.22_Word2007_With_DibEngine_OS_X.png
> 
> Since this is not likely to get merged in anytime soon, lets move the
> rest of the OS X related discussions back to the bug when bugzilla
> decides to stop munching on the pesticide. I'll try to file more
> detailed reports as time permits.
> 
> Max this is wonderful progress, please keep up the good work!
> 
> Thanks

He Steven,

Thank you for testing and for your words :-)
The engine has still some known bugs (known by me :-) ) which are not spotter
by wine testsuite, mostly related to coordinate spaces in xxxBlt functions.
There is also a small stuff in AlphaBlend() with DDB as source, which is still
not implemented, but should be trivial too.
Another stuff that needs to be "fixed" is font handling; by now is not complete
even if it's mostly functional: it does not kerning (you can see it easily on some
apps, autocad too) and font sizes sometimes are wrong.
All these stuffs should be trivial to fix, but I have really few time on these days,
so it will take some time.

Ciao

Max



From jandemooij at gmail.com  Mon May 25 04:06:38 2009
From: jandemooij at gmail.com (Jan de Mooij)
Date: Mon, 25 May 2009 11:06:38 +0200
Subject: DIB Engine : passing all tests
In-Reply-To: <39c14e440905240304j571f63dah70167f133f0e2c52@mail.gmail.com>
References: <gv7cjr$rn5$1@ger.gmane.org>
	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>
	<gv9i31$bu4$1@ger.gmane.org>
	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>
	<gvb111$vrg$1@ger.gmane.org>
	<39c14e440905240304j571f63dah70167f133f0e2c52@mail.gmail.com>
Message-ID: <f25439870905250206u2452865g9de2559c3fcbb9aa@mail.gmail.com>

On Sun, May 24, 2009 at 12:04 PM, Chris Howe <mrmessiah at gmail.com> wrote:
> 2009/5/24 Massimo Del Fedele <max at veneto.com>
>
> Sorry to sound like a stuck record but the Wine website still lists
> "write a DIB engine" as a requirement, and every time someone
> does, the patches dissapear down a hole because they're "not
> right". Someone document what "would be right", or take "write
> a DIB engine" off the list. I'd love to have a go at documenting it
> myself, but I don't have the time to reverse engineer it from a
> few years' worth of rejected solutions.
>
Agreed. I would be willing to invest some time this summer in a DIB
engine but it's impossible because of this. A wiki page describing the
"right design" and what is needed in which component would be a great
start. Maybe a goal for next WineConf?

I understand people are working on other important issues and that's
much appreciated, but it's frustrating that so much valuable time has
been spent on this (discussions and code) for years and see all
attempts hit the same brick wall.


From stefandoesinger at gmx.at  Mon May 25 04:31:22 2009
From: stefandoesinger at gmx.at (Stefan =?iso-8859-1?q?D=F6singer?=)
Date: Mon, 25 May 2009 11:31:22 +0200
Subject: DXTn textures in D3DX9
In-Reply-To: <4d8b5aa80905241211r3019966y7af051b26aea9125@mail.gmail.com>
References: <4A16931B.4010809@freenet.de>
	<d658b69e0905231348g2899e8bbnc1a09806ad2619fe@mail.gmail.com>
	<4d8b5aa80905241211r3019966y7af051b26aea9125@mail.gmail.com>
Message-ID: <200905251131.23204.stefandoesinger@gmx.at>

Am Sonntag, 24. Mai 2009 21:11:27 schrieb Mike Kaplinskiy:
> I believe mesa looks for libtxc_dxtn @
> http://homepage.hispeed.ch/~rscheidegger/dri_experimental/s3tc_index.html
> and then enables full s3tc support. The library itself is tiny and in
> (ugly) C, so that is already good news. But as stated on the website,
> you cannot use the code due to legality. Maybe there would be a way to
> do on-demand loading as with mesa and output a warn/fixme if the
> library is not found? It seems like the approach would be similar to
> the way the font bytecode interpreter was handled (turn on if
> available).
Wine did that a while ago, prior to my ddraw rewrite. However, from testing it 
seems that the S3TC decompression of that lib did not work properly(Gothic 2 
showed bad textures), and the compression code according to that site is 
ugly.

So my 2c is that we need a better library than this libtxc_dxtn stuff. Maybe 
we can get a C wrapper around the nvidia texture tools lib in place. The 
nvidia texture tools also have command line utilities - maybe that works.

Note that I don't think we can ship nvidia texture tools, but we can load the 
lib dynamically and enable / disable. Maybe we should require the Win32 
version, not the Linux version, and handle it similarily to gecko.


From martti.pitkanen at aplcomp.fi  Sun May 24 11:55:51 2009
From: martti.pitkanen at aplcomp.fi (martti)
Date: Sun, 24 May 2009 19:55:51 +0300
Subject: Using Windows ODBC drivers
Message-ID: <4A197C17.6090002@aplcomp.fi>

Types successfully tested under wine:

DB Type=PostgreSQL, Usefullness=100%

Wine use: 1.1.21
-------------- next part --------------
A non-text attachment was scrubbed...
Name: martti_pitkanen.vcf
Type: text/x-vcard
Size: 279 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090524/f4f80350/attachment-0001.vcf>

From mghughes at embarqmail.com  Sun May 24 17:49:55 2009
From: mghughes at embarqmail.com (Michael G Hughes)
Date: Sun, 24 May 2009 18:49:55 -0400
Subject: PowerPC MacOSX work...
Message-ID: <op.uughphrcvab5uc@psycodelic-fireball.local>

I have managed to get Wine compiling on a PowerMac G4, MacOSX 10.3.9, a  
while back...

What I know so far...  It does not work...  Who'd a thunk it?

Just trying to run winecfg gives me:

fixme:seh:RTLCaptureContext not implimented on PowerPC
fixme:seh:call_stack_handlers not implemented on PowerPC
wine: Unhandled alignment at address 0x44010788 (thread 000d), starting  
debugger...
err:process:__wine_kernel_init boot event wait timed out

So...  Some of my questions to from the people involved with chugging away  
at the PowerPC parts of the code...

What are the known issues faced in getting the project to work on PowerPC?
What critical pieces are known to be missing?
What is the problem(s) with X11 on 10.3.9?
How do I start testing parts of Wine on PowerPC?

RTLCaptureContext...
	I started to impliment RTLCaptureContext...
	Looks like this involves adding code to winebuild in addition to  
RTLCaptureContext itself...  Correct?
	Can RTLCaptureContext be implimented without mucking with the winebuild  
tool?

Michael


-- 
Using Opera's revolutionary e-mail client: http://www.opera.com/mail/



From winehacker at gmail.com  Sun May 24 21:04:34 2009
From: winehacker at gmail.com (Steven Edwards)
Date: Sun, 24 May 2009 22:04:34 -0400
Subject: DIB Engine : passing all tests
In-Reply-To: <4A19F316.2090800@earthlink.net>
References: <gv7cjr$rn5$1@ger.gmane.org>
	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>
	<gv9i31$bu4$1@ger.gmane.org>
	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>
	<gvb111$vrg$1@ger.gmane.org> <4A19202E.3010300@dawncrow.de>
	<gvbnq5$in1$1@ger.gmane.org>
	<19e31a080905241820i3c516abp1088b736407c259e@mail.gmail.com>
	<4A19F316.2090800@earthlink.net>
Message-ID: <19e31a080905241904r6e7493bdpdef6f0bd1fad1b27@mail.gmail.com>

On Sun, May 24, 2009 at 9:23 PM, James McKenzie
<jjmckenzie51 at earthlink.net> wrote:
> Let me know how this goes. ?I'm interested in improvements that will
> help all *nixes, including MacOSX.

I think I am using the latest patch, its dibeng_max.zip thats got the
1-10 patches.

There are some major graphical glitches, though it could be related to
me having Quartz Extreme and Quartz2d enabled on unsupported hardware.
It does seem much faster though. Sorry I don't have time right now to
do a complete report. I'll try to upload information to bugzilla in
the morning after I make my environment a little more sane.

Thanks
-- 
Steven Edwards

"There is one thing stronger than all the armies in the world, and
that is an idea whose time has come." - Victor Hugo
-------------- next part --------------
A non-text attachment was scrubbed...
Name: DibEngine-OSX.png
Type: image/png
Size: 601545 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090524/8c5e1017/attachment-0001.png>

From paul.vriens.wine at gmail.com  Mon May 25 05:41:12 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Mon, 25 May 2009 12:41:12 +0200
Subject: DIB Engine : passing all tests
In-Reply-To: <gvdjn5$ph3$1@ger.gmane.org>
References: <gv7cjr$rn5$1@ger.gmane.org>	<gv9i31$bu4$1@ger.gmane.org>	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>	<gvb111$vrg$1@ger.gmane.org>	<4A19202E.3010300@dawncrow.de>	<gvbnq5$in1$1@ger.gmane.org>	<19e31a080905241820i3c516abp1088b736407c259e@mail.gmail.com>	<4A19F316.2090800@earthlink.net>	<19e31a080905241904r6e7493bdpdef6f0bd1fad1b27@mail.gmail.com>	<4A1A0021.7020905@earthlink.net>	<19e31a080905242306r39134fam6c4b3c1bceb5b6e0@mail.gmail.com>
	<gvdjn5$ph3$1@ger.gmane.org>
Message-ID: <4A1A75C8.6070305@gmail.com>

Massimo Del Fedele wrote:
> The engine has still some known bugs (known by me :-) ) which are not 
> spotter
> by wine testsuite, mostly related to coordinate spaces in xxxBlt functions.

Are they not spotted because the tests don't cover these? If so, would 
you be able/willing to add some tests to the test suite?

-- 
Cheers,

Paul.


From julliard at winehq.org  Mon May 25 06:03:17 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Mon, 25 May 2009 13:03:17 +0200
Subject: DIB Engine : passing all tests
In-Reply-To: <f25439870905250206u2452865g9de2559c3fcbb9aa@mail.gmail.com> (Jan
	de Mooij's message of "Mon, 25 May 2009 11:06:38 +0200")
References: <gv7cjr$rn5$1@ger.gmane.org>
	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>
	<gv9i31$bu4$1@ger.gmane.org>
	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>
	<gvb111$vrg$1@ger.gmane.org>
	<39c14e440905240304j571f63dah70167f133f0e2c52@mail.gmail.com>
	<f25439870905250206u2452865g9de2559c3fcbb9aa@mail.gmail.com>
Message-ID: <871vqd5tsa.fsf@wine.dyndns.org>

Jan de Mooij <jandemooij at gmail.com> writes:

> On Sun, May 24, 2009 at 12:04 PM, Chris Howe <mrmessiah at gmail.com> wrote:
>> 2009/5/24 Massimo Del Fedele <max at veneto.com>
>>
>> Sorry to sound like a stuck record but the Wine website still lists
>> "write a DIB engine" as a requirement, and every time someone
>> does, the patches dissapear down a hole because they're "not
>> right". Someone document what "would be right", or take "write
>> a DIB engine" off the list. I'd love to have a go at documenting it
>> myself, but I don't have the time to reverse engineer it from a
>> few years' worth of rejected solutions.
>>
> Agreed. I would be willing to invest some time this summer in a DIB
> engine but it's impossible because of this. A wiki page describing the
> "right design" and what is needed in which component would be a great
> start. Maybe a goal for next WineConf?

Writing a DIB engine is not a fill-in-the-blanks exercise. A large part
of the task is precisely to come up with a good design, validate it with
a prototype, and then convince people (especially Huw and myself) that
your design is good, that you know what you are doing, that you have
anticipated the common objections and have good answers for them, that
you are willing to make requested changes, that you have good test
cases, etc.  Showing that it more or less works on a couple of apps, or
that it passes the (very few) existing gdi32 tests, is of course
necessary, but by no means enough. If you want to tackle this, it will
also help to have a good track record in getting simpler patches in
first.

Once all of this is done and the proper design is in place in the tree,
then there might be a number of fill-in-the-blanks tasks to implement
the less common graphics calls that would probably be stubbed out in the
first version. But we are nowhere near that point yet.

-- 
Alexandre Julliard
julliard at winehq.org


From mahanuu at free.fr  Mon May 25 06:23:51 2009
From: mahanuu at free.fr (Emmanuel Maillard)
Date: Mon, 25 May 2009 13:23:51 +0200
Subject: Does wine handle virtual midi ports correct on OSX?
In-Reply-To: <23419972.post@talk.nabble.com>
References: <23419972.post@talk.nabble.com>
Message-ID: <7144A943-F33D-4F2F-AD0F-2A7FD6C0B33D@free.fr>

Hi,

Sorry for the late answer.
The MIDI driver is very rudimentary : (by memory) it doesn't handle  
SysEx, doesn't handle notification from MIDIServer,
and poorly tested : just testing by reading few MIDI files, and few In/ 
Out tests with 2 virtuals application.

I think you first need is to add MIDINotifyProc, in MIDIClientCreate  
to track your MIDI setup changes.

Cheers
Emmanuel

Le 7 mai 09 ? 06:20, Dewdman42 a ?crit :

>
> Does anyone know if Darwine can be fixed to handle virtual midi ports
> correctly?  They work very sporadically right now.  It seems to be  
> related
> to getting the ports flushed or initialized or something.  When  
> there is a
> virtual midi port present (under OSX), Wine seems to see it and  
> lists it as
> an available midi port, but I have not been able to consistently get  
> that
> port to function correctly.  Sometimes it does and sometimes it  
> doesn't and
> it seems to related to switching it on and off in some fashion makes  
> it
> work, though I can't seem to find a pattern that will work  
> consistently.
>
> All I can figure is that somehow Wine is not handling midi ports in  
> a way
> that is compatible with OSX virtual midi ports.
>
> Anyone have any experience or knowledge in this area?
>
> Thanks
> -- 
> View this message in context: http://www.nabble.com/Does-wine-handle-virtual-midi-ports-correct-on-OSX--tp23419972p23419972.html
> Sent from the Wine - Devel mailing list archive at Nabble.com.
>
>
>



From stefandoesinger at gmx.at  Mon May 25 06:44:40 2009
From: stefandoesinger at gmx.at (Stefan =?iso-8859-1?q?D=F6singer?=)
Date: Mon, 25 May 2009 13:44:40 +0200
Subject: PowerPC MacOSX work...
In-Reply-To: <op.uughphrcvab5uc@psycodelic-fireball.local>
References: <op.uughphrcvab5uc@psycodelic-fireball.local>
Message-ID: <200905251344.40227.stefandoesinger@gmx.at>

Am Montag, 25. Mai 2009 00:49:55 schrieb Michael G Hughes:
> I have managed to get Wine compiling on a PowerMac G4, MacOSX 10.3.9, a
> while back...
>
> What I know so far...  It does not work...  Who'd a thunk it?
>
> Just trying to run winecfg gives me:
>
> fixme:seh:RTLCaptureContext not implimented on PowerPC
> fixme:seh:call_stack_handlers not implemented on PowerPC
> wine: Unhandled alignment at address 0x44010788 (thread 000d), starting
> debugger...
> err:process:__wine_kernel_init boot event wait timed out
The main trouble is that Windows apps are x86, so in order to run anything but 
builtin notepad you'll need a CPU emulator. In that case, just compile wine 
as x86 binary and run it in the emulator as well.



From nerv at dawncrow.de  Mon May 25 07:22:34 2009
From: nerv at dawncrow.de (=?ISO-8859-15?Q?Andr=E9_Hentschel?=)
Date: Mon, 25 May 2009 14:22:34 +0200
Subject: Bugzilla: I dont stay logged in
Message-ID: <4A1A8D8A.4090707@dawncrow.de>

Hi,
If i log in with both Checkboxes selected, i can do exactly one thing, and then i am logged out again.
For example: 	if i am on a bug and log in, i can write a comment and got logged out.
		if i log in and select "add an attachment" i can fill the form, but the next step doesnt work correct because i got logged out.
can someone fix it please?


From thunderbird2k at gmail.com  Mon May 25 07:51:27 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Mon, 25 May 2009 14:51:27 +0200
Subject: PowerPC MacOSX work...
In-Reply-To: <200905251344.40227.stefandoesinger@gmx.at>
References: <op.uughphrcvab5uc@psycodelic-fireball.local>
	<200905251344.40227.stefandoesinger@gmx.at>
Message-ID: <c8485d470905250551n2c74daderc425a2b89a8f9cdd@mail.gmail.com>

He might be wanting to use winelib and that should work. People used
it in the past.

Roderick

On Mon, May 25, 2009 at 1:44 PM, Stefan D?singer <stefandoesinger at gmx.at> wrote:
> Am Montag, 25. Mai 2009 00:49:55 schrieb Michael G Hughes:
>> I have managed to get Wine compiling on a PowerMac G4, MacOSX 10.3.9, a
>> while back...
>>
>> What I know so far... ?It does not work... ?Who'd a thunk it?
>>
>> Just trying to run winecfg gives me:
>>
>> fixme:seh:RTLCaptureContext not implimented on PowerPC
>> fixme:seh:call_stack_handlers not implemented on PowerPC
>> wine: Unhandled alignment at address 0x44010788 (thread 000d), starting
>> debugger...
>> err:process:__wine_kernel_init boot event wait timed out
> The main trouble is that Windows apps are x86, so in order to run anything but
> builtin notepad you'll need a CPU emulator. In that case, just compile wine
> as x86 binary and run it in the emulator as well.
>
>
>
>


From remco47 at gmail.com  Mon May 25 08:12:57 2009
From: remco47 at gmail.com (Remco)
Date: Mon, 25 May 2009 15:12:57 +0200
Subject: /. wants a fork
Message-ID: <36a11a3a0905250612w1768c4b9oefe73083b380ac5f@mail.gmail.com>

Oh great, now there is poison on slashdot:

http://tech.slashdot.org/article.pl?sid=09/05/24/2044239

Let's not fork, shall we?

Remco


From devine at ddevnet.net  Mon May 25 08:47:37 2009
From: devine at ddevnet.net (Daniel Devine)
Date: Mon, 25 May 2009 23:47:37 +1000
Subject: /. wants a fork
In-Reply-To: <36a11a3a0905250612w1768c4b9oefe73083b380ac5f@mail.gmail.com>
References: <36a11a3a0905250612w1768c4b9oefe73083b380ac5f@mail.gmail.com>
Message-ID: <200905252347.38192.devine@ddevnet.net>

On Monday 25 May 2009 23:12:57 Remco wrote:
> Oh great, now there is poison on slashdot:
>
> http://tech.slashdot.org/article.pl?sid=09/05/24/2044239
>
> Let's not fork, shall we?
>
> Remco

I saw the article. 

Anybody who thinks a fork is a good idea is quite frankly an idiot. However 
they are free to have their own GIT repo and play in their own corner.

At the end of the day anybody is able to write a patch and share it with 
whomever they like - it might even be extremely popular but that is no 
reason to spoil the main code base. Patching and compiling really is child's 
play - there is even automated scripts for Ubuntu so even your grandmother 
can do it. Stop whining and improve your code/design and try asking around 
for some help.

On the subject of the DIB engine I think that the parties involved need to 
just cool down, remember that they are on the same team and calmly and 
rationally work out the (full!) requirements.

I am not very well known to this list (but I hang in #winehq and -social quite 
a bit) so I'm not sure if I am right to submit my thoughts. Take whatever I 
have said wrong with a grain of salt. I love the Wine project and I hope to 
become a productive contributor eventually. 

Also take Slashdot with pinch... I mean BAG of salt. 


From hverbeet at gmail.com  Mon May 25 08:47:30 2009
From: hverbeet at gmail.com (Henri Verbeet)
Date: Mon, 25 May 2009 15:47:30 +0200
Subject: /. wants a fork
In-Reply-To: <36a11a3a0905250612w1768c4b9oefe73083b380ac5f@mail.gmail.com>
References: <36a11a3a0905250612w1768c4b9oefe73083b380ac5f@mail.gmail.com>
Message-ID: <d658b69e0905250647q6c28a6fl81188735e47ed4de@mail.gmail.com>

2009/5/25 Remco <remco47 at gmail.com>:
> Oh great, now there is poison on slashdot:
>
> http://tech.slashdot.org/article.pl?sid=09/05/24/2044239
>
> Let's not fork, shall we?
>
Out of pure curiosity, does anyone know if this "Elektroschock" guy
has a real name?
Personally I don't see a lot of "dissatisfaction of core developers
with the arbitrary project governance", but I guess it's been a while
since we had a "real" Governance thread.


From joel at airwebreathe.org.uk  Mon May 25 08:51:33 2009
From: joel at airwebreathe.org.uk (Joel Holdsworth)
Date: Mon, 25 May 2009 14:51:33 +0100
Subject: Icon Refresh News (and a question)
Message-ID: <1243259493.18424.16.camel@joel-desktop>

Hi All,

I've been working away little by little at my icons work, and I'm
beginning to make a little progress:
http://www.airwebreathe.org.uk/alpha-tango-icons.png

The screenshot montage shows my work on getting HICONs and HIMAGELISTs
to support the alpha channel, combined with a refreshed icon set from
Tango.

Right now, a lot of the changes I've made are rather bodged, but I'm
encouraged because at least here we see a proof of principle.

To get this to work, I've basically had to go through fixing places
where the alpha channel is incorrectly stripped or ignored. All of them
are relatively easily fixed, except the ones in the stretch blt
functions.

StretchBlt, StretchDIBits et al. seem to have a fast path and a slow
path. The fast path is active when no stretching or translation should
occur. The slow path performs all other cases, but my tests show that
only the fast path preserves the alpha channel. The reason must be that
the stretch is performed in X - but this is a problem, because I don't
know if it's possible for X to preserve alpha. Does anyone know?

My demo has replaced the offending StretchBlts with BitBlts, which works
fine, unless the icon has to be rescaled.

Does anyone have any thoughts or comments?

Thanks
Joel





From zgold at bluesata.com  Mon May 25 09:01:43 2009
From: zgold at bluesata.com (Zachary Goldberg)
Date: Mon, 25 May 2009 10:01:43 -0400
Subject: DIB Engine : passing all tests
In-Reply-To: <871vqd5tsa.fsf@wine.dyndns.org>
References: <gv7cjr$rn5$1@ger.gmane.org>
	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>
	<gv9i31$bu4$1@ger.gmane.org>
	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>
	<gvb111$vrg$1@ger.gmane.org>
	<39c14e440905240304j571f63dah70167f133f0e2c52@mail.gmail.com>
	<f25439870905250206u2452865g9de2559c3fcbb9aa@mail.gmail.com>
	<871vqd5tsa.fsf@wine.dyndns.org>
Message-ID: <b050a5e70905250701h3816ea9bk96764f09aca3c9ea@mail.gmail.com>

On Mon, May 25, 2009 at 7:03 AM, Alexandre Julliard <julliard at winehq.org> wrote:
>
> Writing a DIB engine is not a fill-in-the-blanks exercise. A large part
> of the task is precisely to come up with a good design, validate it with
> a prototype,

Would you, Alexandre, say we are at this point?  I.e. that Massimo's
design is probably an alright prototype but he just hasn't convinced
you/Huw yet and hasn't yet "anticipated common objections" etc.?


From tsalacinski at gmail.com  Mon May 25 09:32:57 2009
From: tsalacinski at gmail.com (Tommy)
Date: Mon, 25 May 2009 16:32:57 +0200
Subject: /. wants a fork
In-Reply-To: <d658b69e0905250647q6c28a6fl81188735e47ed4de@mail.gmail.com>
References: <36a11a3a0905250612w1768c4b9oefe73083b380ac5f@mail.gmail.com>
	<d658b69e0905250647q6c28a6fl81188735e47ed4de@mail.gmail.com>
Message-ID: <794e26b10905250732s342635fjfe12a79fb43b721c@mail.gmail.com>

Hello,

I'd like to ask why you can't include this engine until someone does
it the "right" way? If it doesn't do anything until user will manually
trigger it, it shouldn't do any harm. If it can't be possible, I can
provide a script to automatically download WINE from git, apply DIB
engine patches and compile, so maybe someone could post it on WINE
website for really DIB-engine-curious users.

2009/5/25 Henri Verbeet <hverbeet at gmail.com>:
> 2009/5/25 Remco <remco47 at gmail.com>:
>> Oh great, now there is poison on slashdot:
>>
>> http://tech.slashdot.org/article.pl?sid=09/05/24/2044239
>>
>> Let's not fork, shall we?
>>
> Out of pure curiosity, does anyone know if this "Elektroschock" guy
> has a real name?
> Personally I don't see a lot of "dissatisfaction of core developers
> with the arbitrary project governance", but I guess it's been a while
> since we had a "real" Governance thread.
>
>
>


From nerv at dawncrow.de  Mon May 25 09:34:01 2009
From: nerv at dawncrow.de (=?ISO-8859-1?Q?Andr=E9_Hentschel?=)
Date: Mon, 25 May 2009 16:34:01 +0200
Subject: Icon Refresh News (and a question)
In-Reply-To: <1243259493.18424.16.camel@joel-desktop>
References: <1243259493.18424.16.camel@joel-desktop>
Message-ID: <4A1AAC59.4000609@dawncrow.de>

Joel Holdsworth schrieb:
> 
> Does anyone have any thoughts or comments?
> 
> Thanks
> Joel
> 

Looks great, hope you get your code clean and soon can send patches.
Why the buttons on the right top of the open-dialog are empty?


From julliard at winehq.org  Mon May 25 09:49:07 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Mon, 25 May 2009 16:49:07 +0200
Subject: DIB Engine : passing all tests
In-Reply-To: <b050a5e70905250701h3816ea9bk96764f09aca3c9ea@mail.gmail.com>
	(Zachary Goldberg's message of "Mon, 25 May 2009 10:01:43 -0400")
References: <gv7cjr$rn5$1@ger.gmane.org>
	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>
	<gv9i31$bu4$1@ger.gmane.org>
	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>
	<gvb111$vrg$1@ger.gmane.org>
	<39c14e440905240304j571f63dah70167f133f0e2c52@mail.gmail.com>
	<f25439870905250206u2452865g9de2559c3fcbb9aa@mail.gmail.com>
	<871vqd5tsa.fsf@wine.dyndns.org>
	<b050a5e70905250701h3816ea9bk96764f09aca3c9ea@mail.gmail.com>
Message-ID: <87skit44rg.fsf@wine.dyndns.org>

Zachary Goldberg <zgold at bluesata.com> writes:

> On Mon, May 25, 2009 at 7:03 AM, Alexandre Julliard <julliard at winehq.org> wrote:
>>
>> Writing a DIB engine is not a fill-in-the-blanks exercise. A large part
>> of the task is precisely to come up with a good design, validate it with
>> a prototype,
>
> Would you, Alexandre, say we are at this point?  I.e. that Massimo's
> design is probably an alright prototype but he just hasn't convinced
> you/Huw yet and hasn't yet "anticipated common objections" etc.?

Well, the prototype doesn't show much evidence of a good design. Maybe
Massimo has one in mind, but he hasn't explained it so far.

-- 
Alexandre Julliard
julliard at winehq.org


From Joerg-Cyril.Hoehle at t-systems.com  Mon May 25 05:18:55 2009
From: Joerg-Cyril.Hoehle at t-systems.com (Joerg-Cyril.Hoehle at t-systems.com)
Date: Mon, 25 May 2009 12:18:55 +0200
Subject: failure to recognize "early 2009" Mac Mini nVidia 9400 OpenGL version
	string
Message-ID: <47CC5ABB01651443A88DB8EC5B4D657B02C47A1A@S4DE8PSAANK.mitte.t-com.de>

Hi,

as of wine-1.1.21, wine does not recognize the "early 2009" Mac Mini
OpenGL version string from nVidia:
err:d3d_caps:IWineD3DImpl_FillGLCaps Invalid nVidia version string: "2.0 NVIDIA-1.5.44"

The string probably originates from XQuartz' X11.2.3.3.2. The wine
source code expects a space after NVIDIA. On Linux, the numbers are
much higher, e.g. "2.1.2 NVIDIA 173.14.09" or "2.1.0 NVIDIA 97.55" -- 2 samples from Google.

Before I submit a patch to have wine recognize either space or "-" as
separator, I'd like to query the list whether it actually makes sense
to return major = 1, minor = 5, i.e. Apple numbers to a MS-Windows program?

Or should I not care about the useage and just parse the string (i.e. submit patch)?

Thanks,
	J?rg H?hle


From Joerg-Cyril.Hoehle at t-systems.com  Mon May 25 06:19:57 2009
From: Joerg-Cyril.Hoehle at t-systems.com (Joerg-Cyril.Hoehle at t-systems.com)
Date: Mon, 25 May 2009 13:19:57 +0200
Subject: wine on MacOS 10.5.7: 3/4 success
In-Reply-To: <19e31a080905220930h579174bfr6e68ccd103b13d62@mail.gmail.com>
Message-ID: <47CC5ABB01651443A88DB8EC5B4D657B02C47A94@S4DE8PSAANK.mitte.t-com.de>

Steven Edwards wrote:
>There is a reason you may want to roll your own freetype. I don't
>believe the freetype that ships with even the latest Xorg dpkg
>contains support for the patented bytecode stuff or subpixel rendering
>enabled. I could be wrong about needing to do it (perhaps I have an
>old version floating around), but I rolled my own freetype with it
>enabled and enabled the proper keys in Wine and can hardly see a
>difference in Safari or Wine iexplore rendering winehq.org

Very interesting. Indeed I forgot to mention that fonts do not look
good in regular wine GUI windows using my native compile and XQuartz'
FreeType. Putting two wine desktops side by side on the Mac display,
a) ssh -X to a linux box (i.e. wine running on Linux, X display on the Mac)
b) Mac native
shows the disaster, solely running winecfg:
- The Linux fonts in winecfg look sharp (1 pixel wide), while e.g. the
  Mac's 'W' looks bulky. Both the Tahoma sample text and the regular
  system text are affected.
- Text needs more horizontal room (is this lack of grid-fitting?), so
  e.g. the copyright text in winecfg overflows into the "registered owner"
  input box area as it needs one more line of text to display the same words.

OTOH, Mike Kronenberg's 1.1.20 winecfg looks as good as the Linux one.

What keys in Wine do you mean precisely? My Mac has subpixel rendering
disabled on my LCD, but it uses shades of grey (hinting or anti-aliasing?) for most fonts.
Neither Terminal.app use hinting, nor winecfg: plain black&white.
I don't have any particular registry key set in Linux.

Regards,
	J?rg H?hle


From nabble at bstage.com  Mon May 25 10:59:32 2009
From: nabble at bstage.com (Steve Schow)
Date: Mon, 25 May 2009 08:59:32 -0700 (PDT)
Subject: Does wine handle virtual midi ports correct on OSX?
In-Reply-To: <7144A943-F33D-4F2F-AD0F-2A7FD6C0B33D@free.fr>
References: <23419972.post@talk.nabble.com>
	<7144A943-F33D-4F2F-AD0F-2A7FD6C0B33D@free.fr>
Message-ID: <23709245.post@talk.nabble.com>


Thanks for responding.  I'm just sending midi notes around, no sysex. 
Sometimes the ports work and sometimes they don't.  I may be finding that
the problem is more related to Reaper bugs, I'm not sure yet.  Seems like it
will not work and then sometimes after a few minutes, it will suddenly start
working.  Seems possibly related to flushing, but I'm not sure.

I'm not a wine developer, so I will just note your comments about
MIDIClientCreate and keep testing from my end.




Emmanuel Maillard-3 wrote:
> 
> Hi,
> 
> Sorry for the late answer.
> The MIDI driver is very rudimentary : (by memory) it doesn't handle  
> SysEx, doesn't handle notification from MIDIServer,
> and poorly tested : just testing by reading few MIDI files, and few In/ 
> Out tests with 2 virtuals application.
> 
> I think you first need is to add MIDINotifyProc, in MIDIClientCreate  
> to track your MIDI setup changes.
> 
> Cheers
> Emmanuel
> 
> Le 7 mai 09 ? 06:20, Dewdman42 a ?crit :
> 
>>
>> Does anyone know if Darwine can be fixed to handle virtual midi ports
>> correctly?  They work very sporadically right now.  It seems to be  
>> related
>> to getting the ports flushed or initialized or something.  When  
>> there is a
>> virtual midi port present (under OSX), Wine seems to see it and  
>> lists it as
>> an available midi port, but I have not been able to consistently get  
>> that
>> port to function correctly.  Sometimes it does and sometimes it  
>> doesn't and
>> it seems to related to switching it on and off in some fashion makes  
>> it
>> work, though I can't seem to find a pattern that will work  
>> consistently.
>>
>> All I can figure is that somehow Wine is not handling midi ports in  
>> a way
>> that is compatible with OSX virtual midi ports.
>>
>> Anyone have any experience or knowledge in this area?
>>
>> Thanks
>> -- 
>> View this message in context:
>> http://www.nabble.com/Does-wine-handle-virtual-midi-ports-correct-on-OSX--tp23419972p23419972.html
>> Sent from the Wine - Devel mailing list archive at Nabble.com.
>>
>>
>>
> 
> 
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Does-wine-handle-virtual-midi-ports-correct-on-OSX--tp23419972p23709245.html
Sent from the Wine - Devel mailing list archive at Nabble.com.



From mike.kaplinskiy at gmail.com  Mon May 25 11:42:41 2009
From: mike.kaplinskiy at gmail.com (Mike Kaplinskiy)
Date: Mon, 25 May 2009 12:42:41 -0400
Subject: Bugzilla: I dont stay logged in
In-Reply-To: <4A1A8D8A.4090707@dawncrow.de>
References: <4A1A8D8A.4090707@dawncrow.de>
Message-ID: <4d8b5aa80905250942u2dd03734md2df1766c355cc7b@mail.gmail.com>

2009/5/25 Andr? Hentschel <nerv at dawncrow.de>:
> Hi,
> If i log in with both Checkboxes selected, i can do exactly one thing, and
> then i am logged out again.
> For example: ? ?if i am on a bug and log in, i can write a comment and got
> logged out.
> ? ? ? ? ? ? ? ?if i log in and select "add an attachment" i can fill the
> form, but the next step doesnt work correct because i got logged out.
> can someone fix it please?
>
>
>

I had this problem. I think the recent bugzilla config changes mess
with your browser. Just clear all the cookies from bugs.winehq.org .

Mike.


From mrmessiah at gmail.com  Mon May 25 12:12:12 2009
From: mrmessiah at gmail.com (Chris Howe)
Date: Mon, 25 May 2009 18:12:12 +0100
Subject: /. wants a fork
In-Reply-To: <36a11a3a0905250612w1768c4b9oefe73083b380ac5f@mail.gmail.com>
References: <36a11a3a0905250612w1768c4b9oefe73083b380ac5f@mail.gmail.com>
Message-ID: <39c14e440905251012g3fe2abdcq2076f43b5328d5a1@mail.gmail.com>

2009/5/25 Remco <remco47 at gmail.com>

> Oh great, now there is poison on slashdot:
>
> http://tech.slashdot.org/article.pl?sid=09/05/24/2044239
>
> Let's not fork, shall we?
>
> Remco
>
>
> Well, this is awkward.

For the record: I didn't intend to ambush anyone on here
with my frustrations, and I certainly wouldn't have chosen to
publicise them via Slashdot. Such is the nature of public
discourse, eh.

I don't think forking's the answer (and I'm certainly not putting
myself forward for that!) That said, there's only so long that
the issues of a proper DIB engine can go unadressed, and
I mean, it hasn't been addressed for some time, despite
the efforts of several people, latterly Massimo, to provide
at least proof of concept solutions. All that's really been
agreed upon is that what's there now can't be tweaked over
time to become the "right solution", but at the same time,
it can't be replaced wholesale as that might cause regression.
This would seem to be a logical impasse, and that's why
it needs a decision made, I think.

No one developer is going to be able to come out and write
the roadmap for it, because it needs broad input from a
lot of people, not just Alexandre. But certainly, as a starting
point, if it's so trivial to reject something on the grounds that
the architecture is WRONG it suggests that there is a
solution out there that's RIGHT, it just needs to be documented.

My intention was not to whine, (except that it's heartbreaking
to see good code go to waste over and over again) nor was it
my aim to throw stones, but to try and stimulate the required
discussion. If this list isn't the place for that,
then perhaps a section of the Wiki? Even just a timetable
for when it might be discussed? (As in, by release x.x.x, the
roadmap needs to have been agreed upon).

--
Chris
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090525/82789151/attachment.htm>

From stefandoesinger at gmx.at  Mon May 25 12:24:39 2009
From: stefandoesinger at gmx.at (Stefan =?iso-8859-1?q?D=F6singer?=)
Date: Mon, 25 May 2009 19:24:39 +0200
Subject: /. wants a fork
In-Reply-To: <d658b69e0905250647q6c28a6fl81188735e47ed4de@mail.gmail.com>
References: <36a11a3a0905250612w1768c4b9oefe73083b380ac5f@mail.gmail.com>
	<d658b69e0905250647q6c28a6fl81188735e47ed4de@mail.gmail.com>
Message-ID: <200905251924.41497.stefandoesinger@gmx.at>

Am Montag, 25. Mai 2009 15:47:30 schrieb Henri Verbeet:
> 2009/5/25 Remco <remco47 at gmail.com>:
> > Oh great, now there is poison on slashdot:
> >
> > http://tech.slashdot.org/article.pl?sid=09/05/24/2044239
> >
> > Let's not fork, shall we?
>
> Out of pure curiosity, does anyone know if this "Elektroschock" guy
> has a real name?
He posted similar slashdot stories in the past:
http://developers.slashdot.org/developers/07/10/08/0344231.shtml

> Personally I don't see a lot of "dissatisfaction of core developers
> with the arbitrary project governance", but I guess it's been a while
> since we had a "real" Governance thread.
I guess we had one on Sept. 27 or 28 2008. I guess the next one is not yet 
scheduled, but will be somewhen in the fall I guess.

On that subject, I think Dan Kegel's patchwatcher was a really, really good 
idea, and we should revive it. Not only to catch simple problems, but also to 
broaden the set of platforms patches are pre-tested before they are 
applied(/me thinks about different graphics drivers)


From thunderbird2k at gmail.com  Mon May 25 13:42:01 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Mon, 25 May 2009 20:42:01 +0200
Subject: failure to recognize "early 2009" Mac Mini nVidia 9400 OpenGL 
	version string
In-Reply-To: <47CC5ABB01651443A88DB8EC5B4D657B02C47A1A@S4DE8PSAANK.mitte.t-com.de>
References: <47CC5ABB01651443A88DB8EC5B4D657B02C47A1A@S4DE8PSAANK.mitte.t-com.de>
Message-ID: <c8485d470905251142q7d1c23eax8efb1e523bd2f25@mail.gmail.com>

On Mon, May 25, 2009 at 12:18 PM,  <Joerg-Cyril.Hoehle at t-systems.com> wrote:
> Hi,
>
> as of wine-1.1.21, wine does not recognize the "early 2009" Mac Mini
> OpenGL version string from nVidia:
> err:d3d_caps:IWineD3DImpl_FillGLCaps Invalid nVidia version string: "2.0 NVIDIA-1.5.44"
>
> The string probably originates from XQuartz' X11.2.3.3.2. The wine
> source code expects a space after NVIDIA. On Linux, the numbers are
> much higher, e.g. "2.1.2 NVIDIA 173.14.09" or "2.1.0 NVIDIA 97.55" -- 2 samples from Google.
>
> Before I submit a patch to have wine recognize either space or "-" as
> separator, I'd like to query the list whether it actually makes sense
> to return major = 1, minor = 5, i.e. Apple numbers to a MS-Windows program?
>
> Or should I not care about the useage and just parse the string (i.e. submit patch)?
>
> Thanks,
> ? ? ? ?J?rg H?hle
>
>
>

The version string parsing isn't that important. The version number we
return isn't based on this anymore. We use a lookup table in case of
nvidia.

Roderick


From mahanuu at free.fr  Mon May 25 13:47:58 2009
From: mahanuu at free.fr (Emmanuel Maillard)
Date: Mon, 25 May 2009 20:47:58 +0200
Subject: Does wine handle virtual midi ports correct on OSX?
In-Reply-To: <23709245.post@talk.nabble.com>
References: <23419972.post@talk.nabble.com>
	<7144A943-F33D-4F2F-AD0F-2A7FD6C0B33D@free.fr>
	<23709245.post@talk.nabble.com>
Message-ID: <E2A75C22-26DC-44ED-ADF5-3D64856BA086@free.fr>

Does notes play well when playing ?
Correct duration, correct tempo or other kind of timing issue ?

Have you see fixme about MOD_MIDIPORT in log  ?

Emmanuel

Le 25 mai 09 ? 17:59, Steve Schow a ?crit :

>
> Thanks for responding.  I'm just sending midi notes around, no sysex.
> Sometimes the ports work and sometimes they don't.  I may be finding  
> that
> the problem is more related to Reaper bugs, I'm not sure yet.  Seems  
> like it
> will not work and then sometimes after a few minutes, it will  
> suddenly start
> working.  Seems possibly related to flushing, but I'm not sure.
>
> I'm not a wine developer, so I will just note your comments about
> MIDIClientCreate and keep testing from my end.
>
>
>
>
> Emmanuel Maillard-3 wrote:
>>
>> Hi,
>>
>> Sorry for the late answer.
>> The MIDI driver is very rudimentary : (by memory) it doesn't handle
>> SysEx, doesn't handle notification from MIDIServer,
>> and poorly tested : just testing by reading few MIDI files, and few  
>> In/
>> Out tests with 2 virtuals application.
>>
>> I think you first need is to add MIDINotifyProc, in MIDIClientCreate
>> to track your MIDI setup changes.
>>
>> Cheers
>> Emmanuel
>>
>> Le 7 mai 09 ? 06:20, Dewdman42 a ?crit :
>>
>>>
>>> Does anyone know if Darwine can be fixed to handle virtual midi  
>>> ports
>>> correctly?  They work very sporadically right now.  It seems to be
>>> related
>>> to getting the ports flushed or initialized or something.  When
>>> there is a
>>> virtual midi port present (under OSX), Wine seems to see it and
>>> lists it as
>>> an available midi port, but I have not been able to consistently get
>>> that
>>> port to function correctly.  Sometimes it does and sometimes it
>>> doesn't and
>>> it seems to related to switching it on and off in some fashion makes
>>> it
>>> work, though I can't seem to find a pattern that will work
>>> consistently.
>>>
>>> All I can figure is that somehow Wine is not handling midi ports in
>>> a way
>>> that is compatible with OSX virtual midi ports.
>>>
>>> Anyone have any experience or knowledge in this area?
>>>
>>> Thanks
>>> -- 
>>> View this message in context:
>>> http://www.nabble.com/Does-wine-handle-virtual-midi-ports-correct-on-OSX--tp23419972p23419972.html
>>> Sent from the Wine - Devel mailing list archive at Nabble.com.
>>>
>>>
>>>
>>
>>
>>
>>
>>
>
> -- 
> View this message in context: http://www.nabble.com/Does-wine-handle-virtual-midi-ports-correct-on-OSX--tp23419972p23709245.html
> Sent from the Wine - Devel mailing list archive at Nabble.com.
>
>
>



From austinenglish at gmail.com  Mon May 25 13:49:46 2009
From: austinenglish at gmail.com (Austin English)
Date: Mon, 25 May 2009 13:49:46 -0500
Subject: PowerPC MacOSX work...
In-Reply-To: <c8485d470905250551n2c74daderc425a2b89a8f9cdd@mail.gmail.com>
References: <op.uughphrcvab5uc@psycodelic-fireball.local>
	<200905251344.40227.stefandoesinger@gmx.at>
	<c8485d470905250551n2c74daderc425a2b89a8f9cdd@mail.gmail.com>
Message-ID: <b6bb06270905251149i584d28b8h656b18ec78e378e@mail.gmail.com>

On 5/25/09, Roderick Colenbrander <thunderbird2k at gmail.com> wrote:
> He might be wanting to use winelib and that should work. People used
>  it in the past.

I tried it around December, and a lot of things were broken/missing. I
filed several bugs:
http://bugs.winehq.org/show_bug.cgi?id=16694
http://bugs.winehq.org/show_bug.cgi?id=16695
http://bugs.winehq.org/show_bug.cgi?id=16736
http://bugs.winehq.org/show_bug.cgi?id=16742
http://bugs.winehq.org/show_bug.cgi?id=16744
http://bugs.winehq.org/show_bug.cgi?id=16747
http://bugs.winehq.org/show_bug.cgi?id=16746
http://bugs.winehq.org/show_bug.cgi?id=16749
http://bugs.winehq.org/show_bug.cgi?id=16750
http://bugs.winehq.org/show_bug.cgi?id=16751
http://bugs.winehq.org/show_bug.cgi?id=16752
http://bugs.winehq.org/show_bug.cgi?id=16861

16695 is the deadly one, breaking everything, including notepad. I've
got a patch in there for it, not sure if it's right, however.

Of course, keep in mind all that stuff is 6 months old, but should
give you a starting point.

-- 
-Austin


From stefandoesinger at gmx.at  Mon May 25 13:55:04 2009
From: stefandoesinger at gmx.at (Stefan =?iso-8859-1?q?D=F6singer?=)
Date: Mon, 25 May 2009 20:55:04 +0200
Subject: failure to recognize "early 2009" Mac Mini nVidia 9400 OpenGL
	version string
In-Reply-To: <47CC5ABB01651443A88DB8EC5B4D657B02C47A1A@S4DE8PSAANK.mitte.t-com.de>
References: <47CC5ABB01651443A88DB8EC5B4D657B02C47A1A@S4DE8PSAANK.mitte.t-com.de>
Message-ID: <200905252055.04611.stefandoesinger@gmx.at>

Am Montag, 25. Mai 2009 12:18:55 schrieb Joerg-Cyril.Hoehle at t-systems.com:
> Before I submit a patch to have wine recognize either space or "-" as
> separator, I'd like to query the list whether it actually makes sense
> to return major = 1, minor = 5, i.e. Apple numbers to a MS-Windows program?
No, it doesn't, and I don't think we're doing anything useful right now with 
the parsed driver version. We only use the parsed OpenGL version, which is 
the same format everywhere.

Once upon a time we passed that version to the windows game, but as you said, 
this doesn't make sense. So these days we have a (PCI_VEN/PCI_DEV)->driver 
version mapping where we hardcode the latest known Windows driver 
version(that table needs an update).

I think the other idea to keep the driver version passing was to be able to 
work around known bugs, but currently there aren't and driver version 
dependent workarounds, and I don't know if there ever will be(we dislike 
hacks to workaround bugs).

So feel free to kill the whole driver version parsing.


From kai.blin at gmail.com  Mon May 25 14:18:05 2009
From: kai.blin at gmail.com (Kai Blin)
Date: Mon, 25 May 2009 21:18:05 +0200
Subject: Bugzilla: I dont stay logged in
In-Reply-To: <4A1A8D8A.4090707@dawncrow.de>
References: <4A1A8D8A.4090707@dawncrow.de>
Message-ID: <200905252118.05696.kai.blin@gmail.com>

On Monday 25 May 2009 14:22:34 Andr? Hentschel wrote:
> Hi,
> If i log in with both Checkboxes selected, i can do exactly one thing, and
> then i am logged out again. For example: 	if i am on a bug and log in, i
> can write a comment and got logged out. if i log in and select "add an
> attachment" i can fill the form, but the next step doesnt work correct
> because i got logged out. can someone fix it please?

I had that as well. Unchecking the "restrict to this IP address" seems to have 
fixed it for me.

Cheers,
Kai

-- 
Kai Blin
WorldForge developer  http://www.worldforge.org/
Wine developer        http://wiki.winehq.org/KaiBlin
Samba team member     http://www.samba.org/samba/team/
--
Will code for cotton.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part.
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090525/25f536f5/attachment.pgp>

From eric.pouech at orange.fr  Mon May 25 14:21:29 2009
From: eric.pouech at orange.fr (Eric Pouech)
Date: Mon, 25 May 2009 21:21:29 +0200
Subject: winhlp32: Avoid duplicate assignment in WINHELP_GetWindowInfo().
	(RESEND)
In-Reply-To: <alpine.LSU.1.99.0905232209410.24313@acrux.dbai.tuwien.ac.at>
References: <alpine.LSU.1.99.0905232209410.24313@acrux.dbai.tuwien.ac.at>
Message-ID: <4A1AEFB9.808@orange.fr>

Gerald Pfeifer a ?crit :
> Originally sent ten days ago; looks obvious to me?
>
> Gerald
>
> ChangeLog:
> Avoid duplicate assignment in WINHELP_GetWindowInfo().
>
> diff --git a/programs/winhlp32/winhelp.c b/programs/winhlp32/winhelp.c
> index 7f74d8b..d1980e5 100644
> --- a/programs/winhlp32/winhelp.c
> +++ b/programs/winhlp32/winhelp.c
> @@ -278,7 +278,7 @@ HLPFILE_WINDOWINFO*     WINHELP_GetWindowInfo(HLPFILE* hlpfile, LPCSTR name)
>          mwi.origin.x = mwi.origin.y = mwi.size.cx = mwi.size.cy = CW_USEDEFAULT;
>          mwi.style = SW_SHOW;
>          mwi.win_style = WS_OVERLAPPEDWINDOW;
> -        mwi.sr_color = mwi.sr_color = 0xFFFFFF;
> +        mwi.sr_color = 0xFFFFFF;
>      }
>      return &mwi;
>  }
>
>
>
>
>   
fix is wrong
the second should be nr_color instead of sr_color (hence the "double" 
assignment)
A+

-- 
Eric Pouech
"The problem with designing something completely foolproof is to underestimate the ingenuity of a complete idiot." (Douglas Adams)




From wine-devel at mohag.net  Mon May 25 14:52:53 2009
From: wine-devel at mohag.net (Gert van den Berg)
Date: Mon, 25 May 2009 21:52:53 +0200
Subject: PowerPC MacOSX work...
In-Reply-To: <200905251344.40227.stefandoesinger@gmx.at>
References: <op.uughphrcvab5uc@psycodelic-fireball.local>
	<200905251344.40227.stefandoesinger@gmx.at>
Message-ID: <79a63cc50905251252i4fe6f2abm1e309335df5adcc3@mail.gmail.com>

On Mon, May 25, 2009 at 13:44, Stefan D?singer <stefandoesinger at gmx.at> wrote:
> The main trouble is that Windows apps are x86, so in order to run anything but
> builtin notepad you'll need a CPU emulator. In that case, just compile wine
> as x86 binary and run it in the emulator as well.
>
Just a random question: Any chance that PowerPC Windows apps might
work on a PPC Wine build?

A PowerPC port of Windows NT (3.51 and 4 according to Wikipedia)
briefly existed.... Don't know if any apps more than those bundled
with Windows existed. (Here's one: http://www.jmcgowan.com/ppc.html )

Gert


From zgold at bluesata.com  Mon May 25 14:56:14 2009
From: zgold at bluesata.com (Zachary Goldberg)
Date: Mon, 25 May 2009 15:56:14 -0400
Subject: /. wants a fork
In-Reply-To: <200905251924.41497.stefandoesinger@gmx.at>
References: <36a11a3a0905250612w1768c4b9oefe73083b380ac5f@mail.gmail.com>
	<d658b69e0905250647q6c28a6fl81188735e47ed4de@mail.gmail.com>
	<200905251924.41497.stefandoesinger@gmx.at>
Message-ID: <b050a5e70905251256j44278e81v1c47eff76f5f83f5@mail.gmail.com>

On Mon, May 25, 2009 at 1:24 PM, Stefan D?singer <stefandoesinger at gmx.at> wrote:
> Am Montag, 25. Mai 2009 15:47:30 schrieb Henri Verbeet:
>> 2009/5/25 Remco <remco47 at gmail.com>:
>> > Oh great, now there is poison on slashdot:
>> >
>> > http://tech.slashdot.org/article.pl?sid=09/05/24/2044239
>> >
>> > Let's not fork, shall we?
>>
>> Out of pure curiosity, does anyone know if this "Elektroschock" guy
>> has a real name?
> He posted similar slashdot stories in the past:
> http://developers.slashdot.org/developers/07/10/08/0344231.shtml
>
>> Personally I don't see a lot of "dissatisfaction of core developers
>> with the arbitrary project governance", but I guess it's been a while
>> since we had a "real" Governance thread.
> I guess we had one on Sept. 27 or 28 2008. I guess the next one is not yet
> scheduled, but will be somewhen in the fall I guess.
>
> On that subject, I think Dan Kegel's patchwatcher was a really, really good
> idea, and we should revive it. Not only to catch simple problems, but also to
> broaden the set of platforms patches are pre-tested before they are
> applied(/me thinks about different graphics drivers)
>

Patchwatcher is coming back.  Look for something from me in the next
couple weeks either on wine-devel or in WWN.


From stefandoesinger at gmx.at  Mon May 25 15:06:03 2009
From: stefandoesinger at gmx.at (Stefan =?utf-8?q?D=C3=B6singer?=)
Date: Mon, 25 May 2009 22:06:03 +0200
Subject: PowerPC MacOSX work...
In-Reply-To: <79a63cc50905251252i4fe6f2abm1e309335df5adcc3@mail.gmail.com>
References: <op.uughphrcvab5uc@psycodelic-fireball.local>
	<200905251344.40227.stefandoesinger@gmx.at>
	<79a63cc50905251252i4fe6f2abm1e309335df5adcc3@mail.gmail.com>
Message-ID: <200905252206.04065.stefandoesinger@gmx.at>

Am Montag, 25. Mai 2009 21:52:53 schrieb Gert van den Berg:
> On Mon, May 25, 2009 at 13:44, Stefan D?singer <stefandoesinger at gmx.at> 
wrote:
> > The main trouble is that Windows apps are x86, so in order to run
> > anything but builtin notepad you'll need a CPU emulator. In that case,
> > just compile wine as x86 binary and run it in the emulator as well.
>
> Just a random question: Any chance that PowerPC Windows apps might
> work on a PPC Wine build?
If I remember and understand the Darwine site correctly, no, they won't work 
because WinPPC uses little endian while MacOS uses big endian. I am wondering 
how that would be possible though, can PPCs switch modes?



From joel at airwebreathe.org.uk  Mon May 25 15:25:30 2009
From: joel at airwebreathe.org.uk (Joel Holdsworth)
Date: Mon, 25 May 2009 21:25:30 +0100
Subject: Icon Refresh News (and a question)
In-Reply-To: <4A1AAC59.4000609@dawncrow.de>
References: <1243259493.18424.16.camel@joel-desktop>
	<4A1AAC59.4000609@dawncrow.de>
Message-ID: <1243283130.18424.22.camel@joel-desktop>

> Looks great, hope you get your code clean and soon can send patches.
> Why the buttons on the right top of the open-dialog are empty?

Answer: Hack n' slash. I have no reproduction of the mechanism for
checking which images *should* be alpha blended, and which should not -
the code assumes all icons should, and so in the case of 16-bit icons
the alpha channel is fixed at constant 0, and so will these icons are
drawn with 0% opacity!

This is one of many things that need to be finished in my work, but the
proof-of-concept is there.

Joel





From stefandoesinger at gmx.at  Mon May 25 15:27:31 2009
From: stefandoesinger at gmx.at (Stefan =?iso-8859-1?q?D=F6singer?=)
Date: Mon, 25 May 2009 22:27:31 +0200
Subject: PowerPC MacOSX work...
In-Reply-To: <52e1cff47bb75756cf1d91ae80ee5cd1@embarqmail.com>
References: <52e1cff47bb75756cf1d91ae80ee5cd1@embarqmail.com>
Message-ID: <200905252227.32143.stefandoesinger@gmx.at>

Am Montag, 25. Mai 2009 20:33:28 schrieb mghughes at embarqmail.com:
> No No No People...  Please read the messages before replying.
I did, but they were not clear to me. To be honest, I am still not sure what 
you want to achieve.

> For the record...  I am not looking to run another full out emulation.
> The best example of what I have in mind is what Apple did when they
> moved their processor base from 68K to PPC.  And I am wondering if the
> same could be done for Wine.  By the looks of things some of the
> framework to make that happen are already there in the form of thunk
> code...  Apple used what they called trampolines iirc.
Do you mean running the Windows app in an emulator, Wine on the native CPU and 
inserting trampolines or something else that switches in and out of the 
emulator whenever there's a call from the app to Wine code, or from Wine code 
back to the app?

Something like that exists - the Win16 support that switches the x86 CPU in 16 
bit or 32 bit mode whenever the control is passed between Wine and the app. 
It would probably be comparably easy to adopt this for Win16 on PPC.

There are a number of issues that make this much, much harder on Win32 vs PPC.

1) COM interfaces. They pass around function pointers, and there is no DLL 
entry point for a COM method. You'd have to write a thunk DLL for each DLL 
that uses COM objects.

You'll need a glue DLL that has some PPC code that knows how to convert 
parameters and call into the emulator. And you'll need glue x86 code that 
knows how to break out of the emulator and call the PPC side of the glue DLL.

2) Wine vs App call. If I understand things correctly, Wine never calls a 
Win16 entry point in Wine. There are many cases where a Wine DLL calls 
another Wine dll. E.g. WineD3D calls gdi32 and opengl32. You'll have to find 
a way to figure out where a call came from, and more important, figure out 
where a call is going to if you're calling a callback function.

3) API explosion: Back in the Win 3.1 day the Win16 API has been pretty 
compact. Nowadays there are hundreds of DLLs that have hundreds to thousands 
of functions or COM methods.

So running Win32 apps in an emulator on a PPC-native Wine is most likely 
possible from a technical point of view, but it is a very complex job. In 
terms of final usability the needed effort is probably spent more efficiently 
by improving the emulator, just run Wine in the emulator and thunk the 
comparably small Linux syscall interface(qemu already does that).

The advantages of Wine-level thunks is that the theoretical best performance 
is better. This is probably true especially with D3D rendering. E.g. instead 
of converting a A8R8G8B8 texture from big endian to little endian one might 
just replace the pixelformat with B8G8R8A8. A setup like that could also 
allow us to run 32 bit apps on Wine64, and end the "you guys need a proper 
ABI" whine from distro maintainers.

It's an open source project, so everybody is free to take the code and give it 
a try :-)


From winehacker at gmail.com  Mon May 25 15:41:58 2009
From: winehacker at gmail.com (Steven Edwards)
Date: Mon, 25 May 2009 16:41:58 -0400
Subject: wine on MacOS 10.5.7: 3/4 success
In-Reply-To: <47CC5ABB01651443A88DB8EC5B4D657B02C47A94@S4DE8PSAANK.mitte.t-com.de>
References: <19e31a080905220930h579174bfr6e68ccd103b13d62@mail.gmail.com>
	<47CC5ABB01651443A88DB8EC5B4D657B02C47A94@S4DE8PSAANK.mitte.t-com.de>
Message-ID: <19e31a080905251341v740da639g50b8ed7ba88f3833@mail.gmail.com>

Hi,

On Mon, May 25, 2009 at 7:19 AM,  <Joerg-Cyril.Hoehle at t-systems.com> wrote:
> What keys in Wine do you mean precisely? My Mac has subpixel rendering
> disabled on my LCD, but it uses shades of grey (hinting or anti-aliasing?) for most fonts.
> Neither Terminal.app use hinting, nor winecfg: plain black&white.
> I don't have any particular registry key set in Linux.

See bug 10342 for more information. Your freetype needs to be compiled with

#define FT_CONFIG_OPTION_SUBPIXEL_RENDERING

I did not bother to check with the existing FreeType in the latest
Xorg or Xcode or where ever it is, under OS X, I just assumed its not
enabled and I rolled my own for other reasons anyway. To enable
SubPixel support you need to change the value for HCU\Control
Panel\Desktop\FontSmoothing from 0 to 1(I think) or 2. Setting the
option to 1 seems to change the algorithm used, I think that's using
Gray Scale hinting, there is a lot of traffic on the bug so I might
have just missed where it clarifies. Setting the option to 2 (to me at
least) looks best.

http://steven-edwards.kicks-ass.org/~sedwards/Safari-vs-Wine-without-Subpixel.png
http://steven-edwards.kicks-ass.org/~sedwards/Safari-vs-Wine-with-Subpixel.png

-- 
Steven Edwards

"There is one thing stronger than all the armies in the world, and
that is an idea whose time has come." - Victor Hugo


From twickline at gmail.com  Mon May 25 15:43:09 2009
From: twickline at gmail.com (Tom Wickline)
Date: Mon, 25 May 2009 16:43:09 -0400
Subject: /. wants a fork
In-Reply-To: <d658b69e0905250647q6c28a6fl81188735e47ed4de@mail.gmail.com>
References: <36a11a3a0905250612w1768c4b9oefe73083b380ac5f@mail.gmail.com>
	<d658b69e0905250647q6c28a6fl81188735e47ed4de@mail.gmail.com>
Message-ID: <53e3a9930905251343h3254db85i9346d16d632aa503@mail.gmail.com>

On Mon, May 25, 2009 at 9:47 AM, Henri Verbeet <hverbeet at gmail.com> wrote:

> 2009/5/25 Remco <remco47 at gmail.com>:
> > Oh great, now there is poison on slashdot:
> >
> > http://tech.slashdot.org/article.pl?sid=09/05/24/2044239
> >
> > Let's not fork, shall we?
> >
> Out of pure curiosity, does anyone know if this "Elektroschock" guy
> has a real name?
>

Not sure, but I see the second time around was a success for him..

First attempt on the subject :
http://slashdot.org/firehose.pl?op=view&id=4193755

Tom

-- 
http://www.wine-reviews.net/
http://bordeauxgroup.com/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090525/d76d62cb/attachment.htm>

From jwhite at codeweavers.com  Mon May 25 16:02:20 2009
From: jwhite at codeweavers.com (Jeremy White)
Date: Mon, 25 May 2009 16:02:20 -0500
Subject: /. wants a fork
In-Reply-To: <53e3a9930905251343h3254db85i9346d16d632aa503@mail.gmail.com>
References: <36a11a3a0905250612w1768c4b9oefe73083b380ac5f@mail.gmail.com>	<d658b69e0905250647q6c28a6fl81188735e47ed4de@mail.gmail.com>
	<53e3a9930905251343h3254db85i9346d16d632aa503@mail.gmail.com>
Message-ID: <4A1B075C.7030700@codeweavers.com>

> Not sure, but I see the second time around was a success for him..
> 
> First attempt on the subject : 
> http://slashdot.org/firehose.pl?op=view&id=4193755
> <http://slashdot.org/firehose.pl?op=view&id=4193755>

Ah.  I see; he apparently believes that CrossOver has a DIB Engine
and we've been holding out all these years.  That's why he decided we were evil.

/me goes to review Huw's commits to find the one where he snuck
a DIB Engine into CrossOver without my knowing it <grin>.

Cheers,

Jeremy


From Nicklas.Borjesson at ws.se  Mon May 25 16:11:26 2009
From: Nicklas.Borjesson at ws.se (=?iso-8859-1?Q?Nicklas_B=F6rjesson?=)
Date: Mon, 25 May 2009 23:11:26 +0200
Subject: /. wants a fork
In-Reply-To: <53e3a9930905251343h3254db85i9346d16d632aa503@mail.gmail.com>
References: <36a11a3a0905250612w1768c4b9oefe73083b380ac5f@mail.gmail.com><d658b69e0905250647q6c28a6fl81188735e47ed4de@mail.gmail.com>
	<53e3a9930905251343h3254db85i9346d16d632aa503@mail.gmail.com>
Message-ID: <B73E4E48704A3A43B786A9078FF1BC6D013D48E2@wsmail01.ws.se>

> Not sure, but I see the second time around was a success for him.

Let's not look to hard. 
He (or her) does have the right to having an opinion and going out of one's way finding out and posting here would only appear vindictive and fuel interest.

//Nicklas


From nh2 at deditus.de  Mon May 25 16:19:13 2009
From: nh2 at deditus.de (=?ISO-8859-15?Q?Niklas_Hamb=FCchen?=)
Date: Mon, 25 May 2009 23:19:13 +0200
Subject: Regression in "ntdll: Free old memory"
Message-ID: <4A1B0B51.5050009@deditus.de>

There is something wrong with commit
13a33b73c349530b17347d3ec6a1f5bb268cc917 (ntdll: Free old memory block
when reallocating to a large block.).

Having this this patch applied (as it is in wine-1.1.22), some
applications show a strange behavior, for example Guild Wars does not
start up (it keeps "repairing" on and on).

git revert 13a33b73c349530b17347d3ec6a1f5bb268cc917 does the trick, but
most probably this is not the solution.


The regression test was:

13a33b73c349530b17347d3ec6a1f5bb268cc917 is first bad commit
commit 13a33b73c349530b17347d3ec6a1f5bb268cc917
Author: Alexandre Julliard <julliard at winehq.org>
Date:   Sat May 16 11:33:06 2009 +0200

    ntdll: Free old memory block when reallocating to a large block.

:040000 040000 e210ab3f16dee6da3a6b6b34d375737b103d5951
25abcf5a437d9a494593e654553dd2797066f616 M      dlls


Thank you!

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 260 bytes
Desc: OpenPGP digital signature
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090525/8f0e3c5c/attachment-0001.pgp>

From max at veneto.com  Mon May 25 16:38:10 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Mon, 25 May 2009 23:38:10 +0200
Subject: DIB Engine : passing all tests
In-Reply-To: <87skit44rg.fsf@wine.dyndns.org>
References: <gv7cjr$rn5$1@ger.gmane.org>	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>	<gv9i31$bu4$1@ger.gmane.org>	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>	<gvb111$vrg$1@ger.gmane.org>	<39c14e440905240304j571f63dah70167f133f0e2c52@mail.gmail.com>	<f25439870905250206u2452865g9de2559c3fcbb9aa@mail.gmail.com>	<871vqd5tsa.fsf@wine.dyndns.org>	<b050a5e70905250701h3816ea9bk96764f09aca3c9ea@mail.gmail.com>
	<87skit44rg.fsf@wine.dyndns.org>
Message-ID: <gvf342$al1$1@ger.gmane.org>

Alexandre Julliard ha scritto:
> 
> Well, the prototype doesn't show much evidence of a good design. Maybe
> Massimo has one in mind, but he hasn't explained it so far.
> 

Well, I still think that the "goodness" of a design is a matter of taste.
My design is *a* design, started because of a personal need and evoluted
by *my* personal taste, which was the only way I had without proper roadmap.

Btw, I thought to have explained enough the reasons of the choosen design,
but I may be wrong.... so I'll put again here the pursued goals :

1) Something usable. That means something that don't work "just for a couple
of apps" but that work in general at least as current driver do.
This goal il about 90% to be reached, imho. It'll be 100% in a couple of
monthes, if my job will let me enough spare time.

2) Something optional. There's no point, imo, to make a driver that breaks
even just one app without the ability to fall back to original gdi32/winex11.
Goal 100% reached.

3) Provide a working engine that allow in deep testing of speed difference.
We know that *some* apps do benefit of it (again, autocad speed gain on TT
fonts is something like 50x - 100x), but I've seen that recent thoughts were
those of a limited speed gain.... Well, I think that many important apps could
benefit of it. Goal 80% reached, as mixed blitting is something slower than
original driver. No simple way to make it as fast without touching winex11.drv.

4) "prepare the road" to a definitive migration to what I think should be the
"right final design", so DIBs handled by gdi32 double buffered by DDB inside
winex11.drv; mixed blitting done inside winex11. I think that one would be the
only viable way if we want blitting speed *and* DIB drawing speed.
My driver is doing the needed separation of 2 processes. Once completed, moving
them into gdi32/winex11.drv should be quite easy and could be done stepwise.

5) for fun. Ops, that one should be the n. 1 :-)

About point 4, which, I guess, is the most important for you, the next step would be
to make a winex11-2.drv on which DIB processing would be stripped away, and with
added DDB buffering of DIBs and mixed blit operations.
That driver could be connected to (and tested with) winedib.drv, always as an option
in registry/environment.
Once ready and stable enough it should be made permanently enabled and remaining part of
winedib.drv could be merged inside gdi32; that could also be made stepwise.
Of course this design would mean some duplication of code in gdi32 and winex11.drv, at least
if we don't want to change something in driver function tables.... which would be the
best solution if it's not imposed by Microsoft behaviour (I didn't check that one, nor
I think to do it for the moment).
A simple GetLine() * PutLine() that do translation between 32 bit RGBA <--> DDB inside
winex11.drv and callable by gdi32 would of course avoid all code duplication needed for
mixed blitting, keeping needed speed. That addition would be trivial.

I think my design has some advantages and some disadvantages to other ones, but it's
superior to the "double pointer approach" taken before, for reasons already explained.
The main "disadvantage", maybe the only one, is to have for some time 2 different
drivers in wine..... but OTOH it allows deep testing without breaking anything.

I hope I explained enough about it. Technical details are in (maybe too abundants...) code
comments.

Ciao

Max



From jjmckenzie51 at earthlink.net  Mon May 25 17:12:27 2009
From: jjmckenzie51 at earthlink.net (James McKenzie)
Date: Mon, 25 May 2009 15:12:27 -0700
Subject: DIB Engine : passing all tests
In-Reply-To: <4A1A75C8.6070305@gmail.com>
References: <gv7cjr$rn5$1@ger.gmane.org>	<gv9i31$bu4$1@ger.gmane.org>	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>	<gvb111$vrg$1@ger.gmane.org>	<4A19202E.3010300@dawncrow.de>	<gvbnq5$in1$1@ger.gmane.org>	<19e31a080905241820i3c516abp1088b736407c259e@mail.gmail.com>	<4A19F316.2090800@earthlink.net>	<19e31a080905241904r6e7493bdpdef6f0bd1fad1b27@mail.gmail.com>	<4A1A0021.7020905@earthlink.net>	<19e31a080905242306r39134fam6c4b3c1bceb5b6e0@mail.gmail.com>	<gvdjn5$ph3$1@ger.gmane.org>
	<4A1A75C8.6070305@gmail.com>
Message-ID: <4A1B17CB.3090302@earthlink.net>

Paul Vriens wrote:
> Massimo Del Fedele wrote:
>> The engine has still some known bugs (known by me :-) ) which are not
>> spotter
>> by wine testsuite, mostly related to coordinate spaces in xxxBlt
>> functions.
>
> Are they not spotted because the tests don't cover these? If so, would
> you be able/willing to add some tests to the test suite?
>
Paul:

Max knows about the problems and the tests.  He just does not have the
time right now to fix the problems and write the tests.  He has hinted
and asked others to help him.  I have no knowledge of the DIB engine nor
its processes, but I'd be willing to give it a go on the Mac, but I
don't have any programs that appear to use the functions.

James McKenzie



From ngompa13 at gmail.com  Mon May 25 17:48:02 2009
From: ngompa13 at gmail.com (King InuYasha)
Date: Mon, 25 May 2009 17:48:02 -0500
Subject: /. wants a fork
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6D013D48E2@wsmail01.ws.se>
References: <36a11a3a0905250612w1768c4b9oefe73083b380ac5f@mail.gmail.com>
	<d658b69e0905250647q6c28a6fl81188735e47ed4de@mail.gmail.com>
	<53e3a9930905251343h3254db85i9346d16d632aa503@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6D013D48E2@wsmail01.ws.se>
Message-ID: <8278b1b0905251548y1c8e2042i3420dc71298cd265@mail.gmail.com>

2009/5/25 Nicklas B?rjesson <Nicklas.Borjesson at ws.se>

> > Not sure, but I see the second time around was a success for him.
>
> Let's not look to hard.
> He (or her) does have the right to having an opinion and going out of one's
> way finding out and posting here would only appear vindictive and fuel
> interest.
>
> //Nicklas
>
>
>
I don't post on here very often, I don't even hang out in #winehq(-social)
very often either, so my opinion may not be considered too important, but by
just looking at the efforts of the Wine Project to address the DIB engine
over the years, I feel disheartened by the lack of real progress. There have
been patches regarding the DIB engine that goes all the way back to 2002
with TransGaming!

But the implementations are always stonewalled and left to die over
arbitrary architectural reasons. I say arbitrary because I don't have a clue
what the spec is for this supposed architecture that the DIB engine is
supposed to follow. Eventually, Bug #421 may just be like one of those
10-year-old bugs that live in the GNOME and Mozilla bugzillas, that are just
left there because people don't care enough anymore to do anything about it.

While it is true that the DIB engine isn't the One True Solution regarding
compatibility with many Windows applications, it helps a lot with
graphics-intensive ones. At this rate, the DIB engine will be reassigned to
the 1.4.0 milestone because nobody will accept any implementation.

And nobody say, "Patches welcome!" or "Patches accepted!" because there is
proof to the contrary. The fact people say that is also a problem. A vast
majority of people are not technically inclined to the level of being able
to produce such things. Even people that subscribe to mailing lists like I
do, are not capable of contributing like that. And really, code IS NOT the
most valuable form of contribution for any project. If anything, it is of
the LEAST value. Documentation, advice, testing, support people, moderators,
infrastructure management, all these are MUCH more valuable than code or
money. Now, this problem is not limited to the Wine Project. This problem is
all over the open source world. It bugs me a lot when I get rebuffed because
I'm not a programmer. Granted, most people that ask are whiny and demanding,
and they get on people's nerves. But, people are generally happier with an
explanation in a cordial manner. Being mean or sarcastic about it, or even
asking for something they can't give is not a good way to go about it.

But, I digress. The Wine Project is making great strides, and with the work
the ReactOS Project is doing alongside them, the work is a lot more
momentous than just a compatibility API/ABI layer for UNIX and Unix-like
systems.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090525/86ab6eef/attachment.htm>

From shacklein at gmail.com  Mon May 25 18:18:39 2009
From: shacklein at gmail.com (Ben Klein)
Date: Tue, 26 May 2009 09:18:39 +1000
Subject: /. wants a fork
In-Reply-To: <36a11a3a0905250612w1768c4b9oefe73083b380ac5f@mail.gmail.com>
References: <36a11a3a0905250612w1768c4b9oefe73083b380ac5f@mail.gmail.com>
Message-ID: <d7e40be30905251618x649c6e82r1f06f023392f1ac4@mail.gmail.com>

2009/5/25 Remco <remco47 at gmail.com>:
> Oh great, now there is poison on slashdot:
>
> http://tech.slashdot.org/article.pl?sid=09/05/24/2044239
>
> Let's not fork, shall we?


From jjmckenzie51 at earthlink.net  Mon May 25 19:08:20 2009
From: jjmckenzie51 at earthlink.net (James McKenzie)
Date: Mon, 25 May 2009 17:08:20 -0700
Subject: Does wine handle virtual midi ports correct on OSX?
In-Reply-To: <E2A75C22-26DC-44ED-ADF5-3D64856BA086@free.fr>
References: <23419972.post@talk.nabble.com>	<7144A943-F33D-4F2F-AD0F-2A7FD6C0B33D@free.fr>	<23709245.post@talk.nabble.com>
	<E2A75C22-26DC-44ED-ADF5-3D64856BA086@free.fr>
Message-ID: <4A1B32F4.1000508@earthlink.net>

Emmanuel Maillard wrote:
> Does notes play well when playing ?
> Correct duration, correct tempo or other kind of timing issue ?
>
> Have you see fixme about MOD_MIDIPORT in log  ?
Emmanuel:

Pardon my barging into this conversation, but music does not play
correctly with Doom.  Not the CD Music, but the background music.  I get
no error messages in the log file either about MOD_MIDIPORT.

MacOSX 10.5.7

James McKenzie



From chmorgan at gmail.com  Mon May 25 20:32:48 2009
From: chmorgan at gmail.com (Chris Morgan)
Date: Mon, 25 May 2009 21:32:48 -0400
Subject: DIB Engine : passing all tests
In-Reply-To: <87skit44rg.fsf@wine.dyndns.org>
References: <gv7cjr$rn5$1@ger.gmane.org>
	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>
	<gv9i31$bu4$1@ger.gmane.org>
	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>
	<gvb111$vrg$1@ger.gmane.org>
	<39c14e440905240304j571f63dah70167f133f0e2c52@mail.gmail.com>
	<f25439870905250206u2452865g9de2559c3fcbb9aa@mail.gmail.com>
	<871vqd5tsa.fsf@wine.dyndns.org>
	<b050a5e70905250701h3816ea9bk96764f09aca3c9ea@mail.gmail.com>
	<87skit44rg.fsf@wine.dyndns.org>
Message-ID: <f3f1b91a0905251832k3af9c535ob64864877e6b9094@mail.gmail.com>

On Mon, May 25, 2009 at 10:49 AM, Alexandre Julliard
<julliard at winehq.org> wrote:
> Zachary Goldberg <zgold at bluesata.com> writes:
>
>> On Mon, May 25, 2009 at 7:03 AM, Alexandre Julliard <julliard at winehq.org> wrote:
>>>
>>> Writing a DIB engine is not a fill-in-the-blanks exercise. A large part
>>> of the task is precisely to come up with a good design, validate it with
>>> a prototype,
>>
>> Would you, Alexandre, say we are at this point? ?I.e. that Massimo's
>> design is probably an alright prototype but he just hasn't convinced
>> you/Huw yet and hasn't yet "anticipated common objections" etc.?
>
> Well, the prototype doesn't show much evidence of a good design. Maybe
> Massimo has one in mind, but he hasn't explained it so far.
>
> --
> Alexandre Julliard
> julliard at winehq.org
>

Wouldn't a review of the proposed dib engine be useful? One that
included concerns, things that needed to be changed etc? Everyone
involved seems to be asking for leadership and guidance about how to
proceed, wouldn't a thorough review of the proposed design give
direction towards an "acceptable" design?

Chris


From chmorgan at gmail.com  Mon May 25 20:34:45 2009
From: chmorgan at gmail.com (Chris Morgan)
Date: Mon, 25 May 2009 21:34:45 -0400
Subject: DIB Engine : passing all tests
In-Reply-To: <f3f1b91a0905251832k3af9c535ob64864877e6b9094@mail.gmail.com>
References: <gv7cjr$rn5$1@ger.gmane.org> <gv9i31$bu4$1@ger.gmane.org>
	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>
	<gvb111$vrg$1@ger.gmane.org>
	<39c14e440905240304j571f63dah70167f133f0e2c52@mail.gmail.com>
	<f25439870905250206u2452865g9de2559c3fcbb9aa@mail.gmail.com>
	<871vqd5tsa.fsf@wine.dyndns.org>
	<b050a5e70905250701h3816ea9bk96764f09aca3c9ea@mail.gmail.com>
	<87skit44rg.fsf@wine.dyndns.org>
	<f3f1b91a0905251832k3af9c535ob64864877e6b9094@mail.gmail.com>
Message-ID: <f3f1b91a0905251834j2ec341bfnc5d81050250a26e0@mail.gmail.com>

On Mon, May 25, 2009 at 9:32 PM, Chris Morgan <chmorgan at gmail.com> wrote:
> On Mon, May 25, 2009 at 10:49 AM, Alexandre Julliard
> <julliard at winehq.org> wrote:
>> Zachary Goldberg <zgold at bluesata.com> writes:
>>
>>> On Mon, May 25, 2009 at 7:03 AM, Alexandre Julliard <julliard at winehq.org> wrote:
>>>>
>>>> Writing a DIB engine is not a fill-in-the-blanks exercise. A large part
>>>> of the task is precisely to come up with a good design, validate it with
>>>> a prototype,
>>>
>>> Would you, Alexandre, say we are at this point? ?I.e. that Massimo's
>>> design is probably an alright prototype but he just hasn't convinced
>>> you/Huw yet and hasn't yet "anticipated common objections" etc.?
>>
>> Well, the prototype doesn't show much evidence of a good design. Maybe
>> Massimo has one in mind, but he hasn't explained it so far.
>>
>> --
>> Alexandre Julliard
>> julliard at winehq.org
>>
>
> Wouldn't a review of the proposed dib engine be useful? One that
> included concerns, things that needed to be changed etc? Everyone
> involved seems to be asking for leadership and guidance about how to
> proceed, wouldn't a thorough review of the proposed design give
> direction towards an "acceptable" design?
>
> Chris
>


If it wasn't clear, I was suggesting that  AJ and/or Huw would do this
review since they have knowledge of the issue and an opinion of how it
should be done :-)

Chris


From shacklein at gmail.com  Mon May 25 20:37:32 2009
From: shacklein at gmail.com (Ben Klein)
Date: Tue, 26 May 2009 11:37:32 +1000
Subject: Regression in "ntdll: Free old memory"
In-Reply-To: <4A1B0B51.5050009@deditus.de>
References: <4A1B0B51.5050009@deditus.de>
Message-ID: <d7e40be30905251837o599b9db0hb0d23b6d414079b0@mail.gmail.com>

2009/5/26 Niklas Hamb?chen <nh2 at deditus.de>:
> There is something wrong with commit
> 13a33b73c349530b17347d3ec6a1f5bb268cc917 (ntdll: Free old memory block
> when reallocating to a large block.).
>
> Having this this patch applied (as it is in wine-1.1.22), some
> applications show a strange behavior, for example Guild Wars does not
> start up (it keeps "repairing" on and on).
>
> git revert 13a33b73c349530b17347d3ec6a1f5bb268cc917 does the trick, but
> most probably this is not the solution.
>
>
> The regression test was:
>
> 13a33b73c349530b17347d3ec6a1f5bb268cc917 is first bad commit
> commit 13a33b73c349530b17347d3ec6a1f5bb268cc917
> Author: Alexandre Julliard <julliard at winehq.org>
> Date: ? Sat May 16 11:33:06 2009 +0200
>
> ? ?ntdll: Free old memory block when reallocating to a large block.
>
> :040000 040000 e210ab3f16dee6da3a6b6b34d375737b103d5951
> 25abcf5a437d9a494593e654553dd2797066f616 M ? ? ?dlls

If you haven't done so already, please report this on bugs.winehq.org


From jjmckenzie51 at earthlink.net  Mon May 25 20:48:27 2009
From: jjmckenzie51 at earthlink.net (James McKenzie)
Date: Mon, 25 May 2009 18:48:27 -0700
Subject: /. wants a fork
In-Reply-To: <B73E4E48704A3A43B786A9078FF1BC6D013D48E2@wsmail01.ws.se>
References: <36a11a3a0905250612w1768c4b9oefe73083b380ac5f@mail.gmail.com><d658b69e0905250647q6c28a6fl81188735e47ed4de@mail.gmail.com>	<53e3a9930905251343h3254db85i9346d16d632aa503@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6D013D48E2@wsmail01.ws.se>
Message-ID: <4A1B4A6B.2040000@earthlink.net>

Nicklas B?rjesson wrote:
>> Not sure, but I see the second time around was a success for him.
>>     
>
> Let's not look to hard. 
> He (or her) does have the right to having an opinion and going out of one's way finding out and posting here would only appear vindictive and fuel interest.
>
>   
1.  I don't feel like creating a /. account just to reply.
2.  AJ has keep several bad patches from being applied to Wine since
I've been here.  Without this, we would have a project that supports a
couple of programs real well and others would be complete garbage..
3.  There should be a code style and submission guidance document. 
Something that explains coding style (four spaces vice tabs) and comment
style ('c' style vice C++/VC++/Java).  It would also be nice to have a
statement that a patch has to affect one and only one area or bug.   Oh,
fixes CANNOT break existing running programs, just to get your favorite
running, if you want them accepted.

Now with that being said, getting the DIB engine into Wine may take a
lot of shoehorning and for AJ to look over all of the code and
accept/reject it with good notes and reasons.  "You can do better" is
not, in my book, a good reason.  "Your code is not up to our standards"
is with a side comment of "look at what is accepted and what is
peer-rejected before resubmission".  Of course, AJ does take on projects
that a coder just cannot make work within the standards.  And this is a
good thing.  Sadly, Electroshock decided that he would take his toys and
go play in another sandbox. 

And lastly, I think there is a site at repo.cz that has all of the
unaccepted Wine code somewhere, that we all could look at and fix.

James McKenzie



From adys.wh at gmail.com  Mon May 25 21:43:19 2009
From: adys.wh at gmail.com (Jerome Leclanche)
Date: Tue, 26 May 2009 05:43:19 +0300
Subject: /. wants a fork
In-Reply-To: <4A1B4A6B.2040000@earthlink.net>
References: <36a11a3a0905250612w1768c4b9oefe73083b380ac5f@mail.gmail.com>
	<d658b69e0905250647q6c28a6fl81188735e47ed4de@mail.gmail.com>
	<53e3a9930905251343h3254db85i9346d16d632aa503@mail.gmail.com>
	<B73E4E48704A3A43B786A9078FF1BC6D013D48E2@wsmail01.ws.se>
	<4A1B4A6B.2040000@earthlink.net>
Message-ID: <41eceb530905251943i54313686i6437bdcb2cd82136@mail.gmail.com>

2009/5/26 James McKenzie <jjmckenzie51 at earthlink.net>:
> And lastly, I think there is a site at repo.cz that has all of the
> unaccepted Wine code somewhere, that we all could look at and fix.
>
> James McKenzie
>

All of it, definitely not. Only some of it (unless there IS one I'm
not aware of). It would be nice to have a repository of fixes that are
still in queue/have been rejected. Some patches do indeed just
disappear without any reason given, and the author never bothers to
fix what could be just a minor inconvenience in it. Seen years old
patches all of a sudden being fixed and resent in order to fix an
application that would have been running long before then.

It would probably be maintenance hell, though. Maybe patchwatcher could help?


-- 
Adys


From mghughes at embarqmail.com  Mon May 25 13:33:28 2009
From: mghughes at embarqmail.com (mghughes at embarqmail.com)
Date: Mon, 25 May 2009 14:33:28 -0400
Subject: PowerPC MacOSX work...
Message-ID: <52e1cff47bb75756cf1d91ae80ee5cd1@embarqmail.com>

No No No People...  Please read the messages before replying.

I know the difference betweeen my 6502, 6800, Z80, 68k, x86, 7400.  I 
know Wine is focused on running MSWindows based software on x86 
processors.  I also know there exists PowerPC code in the wine project 
because people were interested in bridging the gap to running x86 code 
via emulation...

For the record...  I am not looking to run another full out emulation.  
The best example of what I have in mind is what Apple did when they 
moved their processor base from 68K to PPC.  And I am wondering if the 
same could be done for Wine.  By the looks of things some of the 
framework to make that happen are already there in the form of thunk 
code...  Apple used what they called trampolines iirc.

I am not sure that WineLib is what I am looking to use as the wine 
script & loader seems to achieve much of what I am already looking to 
do.

My understanding is that Wine has run on PowerPC at some time via 
native and Qemu/Qemu-user.  Since the Darwine (PowerPC work) project 
went dormant, I have not been able to find much of the information I am 
looking for...  What was the last known Wine/Darwine version known to 
work on PowerPC?  I some had thoughts of getting that version and 
progressing forward to see what and where things break.

Am I mistaken that the connection between wine/server appears to be 
broken?

My previous statements in my first message still apply.

Michael



From nabble at bstage.com  Mon May 25 13:54:52 2009
From: nabble at bstage.com (Steve Schow)
Date: Mon, 25 May 2009 11:54:52 -0700 (PDT)
Subject: Does wine handle virtual midi ports correct on OSX?
In-Reply-To: <E2A75C22-26DC-44ED-ADF5-3D64856BA086@free.fr>
References: <23419972.post@talk.nabble.com>
	<7144A943-F33D-4F2F-AD0F-2A7FD6C0B33D@free.fr>
	<23709245.post@talk.nabble.com>
	<E2A75C22-26DC-44ED-ADF5-3D64856BA086@free.fr>
Message-ID: <23711488.post@talk.nabble.com>


it seems like what happens is that i select an IAC or virtual midi port from
some windows host inside Wine and everything looks ok, but no events are
sent.   Nothing.  But sometimes it works and sometimes it doesn't.  Once it
is working it works fine.  Sometimes I have started it up and it was not
working, then I forgot that i had set it up and 5-10 minutes later suddenly
it would start sending the data across.

Seems like somehow the windows host was not flushing the buffer or
something.  I had this problem with Reaper and the latest version of Reaper
seems to be working ok, so maybe this was a Reaper problem, not wine.

I didn't see that fixme you  mentioned.  Where can I find that?  I'm
actually using CrossOverGames for this, I was never able to get Wine to work
with JackOSX.


Emmanuel Maillard-3 wrote:
> 
> Does notes play well when playing ?
> Correct duration, correct tempo or other kind of timing issue ?
> 
> Have you see fixme about MOD_MIDIPORT in log  ?
> 
> Emmanuel
> 
> Le 25 mai 09 ? 17:59, Steve Schow a ?crit :
> 
>>
>> Thanks for responding.  I'm just sending midi notes around, no sysex.
>> Sometimes the ports work and sometimes they don't.  I may be finding  
>> that
>> the problem is more related to Reaper bugs, I'm not sure yet.  Seems  
>> like it
>> will not work and then sometimes after a few minutes, it will  
>> suddenly start
>> working.  Seems possibly related to flushing, but I'm not sure.
>>
>> I'm not a wine developer, so I will just note your comments about
>> MIDIClientCreate and keep testing from my end.
>>
>>
>>
>>
>> Emmanuel Maillard-3 wrote:
>>>
>>> Hi,
>>>
>>> Sorry for the late answer.
>>> The MIDI driver is very rudimentary : (by memory) it doesn't handle
>>> SysEx, doesn't handle notification from MIDIServer,
>>> and poorly tested : just testing by reading few MIDI files, and few  
>>> In/
>>> Out tests with 2 virtuals application.
>>>
>>> I think you first need is to add MIDINotifyProc, in MIDIClientCreate
>>> to track your MIDI setup changes.
>>>
>>> Cheers
>>> Emmanuel
>>>
>>> Le 7 mai 09 ? 06:20, Dewdman42 a ?crit :
>>>
>>>>
>>>> Does anyone know if Darwine can be fixed to handle virtual midi  
>>>> ports
>>>> correctly?  They work very sporadically right now.  It seems to be
>>>> related
>>>> to getting the ports flushed or initialized or something.  When
>>>> there is a
>>>> virtual midi port present (under OSX), Wine seems to see it and
>>>> lists it as
>>>> an available midi port, but I have not been able to consistently get
>>>> that
>>>> port to function correctly.  Sometimes it does and sometimes it
>>>> doesn't and
>>>> it seems to related to switching it on and off in some fashion makes
>>>> it
>>>> work, though I can't seem to find a pattern that will work
>>>> consistently.
>>>>
>>>> All I can figure is that somehow Wine is not handling midi ports in
>>>> a way
>>>> that is compatible with OSX virtual midi ports.
>>>>
>>>> Anyone have any experience or knowledge in this area?
>>>>
>>>> Thanks
>>>> -- 
>>>> View this message in context:
>>>> http://www.nabble.com/Does-wine-handle-virtual-midi-ports-correct-on-OSX--tp23419972p23419972.html
>>>> Sent from the Wine - Devel mailing list archive at Nabble.com.
>>>>
>>>>
>>>>
>>>
>>>
>>>
>>>
>>>
>>
>> -- 
>> View this message in context:
>> http://www.nabble.com/Does-wine-handle-virtual-midi-ports-correct-on-OSX--tp23419972p23709245.html
>> Sent from the Wine - Devel mailing list archive at Nabble.com.
>>
>>
>>
> 
> 
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Does-wine-handle-virtual-midi-ports-correct-on-OSX--tp23419972p23711488.html
Sent from the Wine - Devel mailing list archive at Nabble.com.



From nabble at bstage.com  Mon May 25 14:56:44 2009
From: nabble at bstage.com (Steve Schow)
Date: Mon, 25 May 2009 12:56:44 -0700 (PDT)
Subject: Does wine handle virtual midi ports correct on OSX?
Message-ID: <23711488.post@talk.nabble.com>


it seems like what happens is that i select an IAC or virtual midi port from
some windows host inside Wine and everything looks ok, but no events are
sent.   Nothing.  But sometimes it works and sometimes it doesn't.  Once it
is working it works fine.  Sometimes I have started it up and it was not
working, then I forgot that i had set it up and 5-10 minutes later suddenly
it would start sending the data across.

Seems like somehow the windows host was not flushing the buffer or
something.  I had this problem with Reaper and the latest version of Reaper
seems to be working ok, so maybe this was a Reaper problem, not wine.

I didn't see that fixme you  mentioned.  Where can I find that?  I'm
actually using CrossOverGames for this, I was never able to get Wine to work
with JackOSX.


Emmanuel Maillard-3 wrote:
> 
> Does notes play well when playing ?
> Correct duration, correct tempo or other kind of timing issue ?
> 
> Have you see fixme about MOD_MIDIPORT in log  ?
> 
> Emmanuel
> 
> Le 25 mai 09 ? 17:59, Steve Schow a ?crit :
> 
>>
>> Thanks for responding.  I'm just sending midi notes around, no sysex.
>> Sometimes the ports work and sometimes they don't.  I may be finding  
>> that
>> the problem is more related to Reaper bugs, I'm not sure yet.  Seems  
>> like it
>> will not work and then sometimes after a few minutes, it will  
>> suddenly start
>> working.  Seems possibly related to flushing, but I'm not sure.
>>
>> I'm not a wine developer, so I will just note your comments about
>> MIDIClientCreate and keep testing from my end.
>>
>>
>>
>>
>> Emmanuel Maillard-3 wrote:
>>>
>>> Hi,
>>>
>>> Sorry for the late answer.
>>> The MIDI driver is very rudimentary : (by memory) it doesn't handle
>>> SysEx, doesn't handle notification from MIDIServer,
>>> and poorly tested : just testing by reading few MIDI files, and few  
>>> In/
>>> Out tests with 2 virtuals application.
>>>
>>> I think you first need is to add MIDINotifyProc, in MIDIClientCreate
>>> to track your MIDI setup changes.
>>>
>>> Cheers
>>> Emmanuel
>>>
>>> Le 7 mai 09 ? 06:20, Dewdman42 a ?crit :
>>>
>>>>
>>>> Does anyone know if Darwine can be fixed to handle virtual midi  
>>>> ports
>>>> correctly?  They work very sporadically right now.  It seems to be
>>>> related
>>>> to getting the ports flushed or initialized or something.  When
>>>> there is a
>>>> virtual midi port present (under OSX), Wine seems to see it and
>>>> lists it as
>>>> an available midi port, but I have not been able to consistently get
>>>> that
>>>> port to function correctly.  Sometimes it does and sometimes it
>>>> doesn't and
>>>> it seems to related to switching it on and off in some fashion makes
>>>> it
>>>> work, though I can't seem to find a pattern that will work
>>>> consistently.
>>>>
>>>> All I can figure is that somehow Wine is not handling midi ports in
>>>> a way
>>>> that is compatible with OSX virtual midi ports.
>>>>
>>>> Anyone have any experience or knowledge in this area?
>>>>
>>>> Thanks
>>>> -- 
>>>> View this message in context:
>>>> http://www.nabble.com/Does-wine-handle-virtual-midi-ports-correct-on-OSX--tp23419972p23419972.html
>>>> Sent from the Wine - Devel mailing list archive at Nabble.com.
>>>>
>>>>
>>>>
>>>
>>>
>>>
>>>
>>>
>>
>> -- 
>> View this message in context:
>> http://www.nabble.com/Does-wine-handle-virtual-midi-ports-correct-on-OSX--tp23419972p23709245.html
>> Sent from the Wine - Devel mailing list archive at Nabble.com.
>>
>>
>>
> 
> 
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Does-wine-handle-virtual-midi-ports-correct-on-OSX--tp23419972p23711488.html
Sent from the Wine - Devel mailing list archive at Nabble.com.



From steve at bstage.com  Mon May 25 17:13:52 2009
From: steve at bstage.com (Steve Schow)
Date: Mon, 25 May 2009 15:13:52 -0700
Subject: Does wine handle virtual midi ports correct on OSX?
In-Reply-To: <E2A75C22-26DC-44ED-ADF5-3D64856BA086@free.fr>
References: <23419972.post@talk.nabble.com>
	<7144A943-F33D-4F2F-AD0F-2A7FD6C0B33D@free.fr>
	<23709245.post@talk.nabble.com>
	<E2A75C22-26DC-44ED-ADF5-3D64856BA086@free.fr>
Message-ID: <D7B7141D-B2FF-43FD-B479-DE2D25578731@bstage.com>

it seems like what happens is that i select an IAC or virtual midi  
port from some windows host inside Wine and everything looks ok, but  
no events are sent.   Nothing.  But sometimes it works and sometimes  
it doesn't.  Once it is working it works fine.  Sometimes I have  
started it up and it was not working, then I forgot that i had set it  
up and 5-10 minutes later suddenly it would start sending the data  
across.

Seems like somehow the windows host was not flushing the buffer or  
something.  I had this problem with Reaper and the latest version of  
Reaper seems to be working ok, so maybe this was a Reaper problem, not  
wine.

I didn't see that fixme you  mentioned.  Where can I find that?  I'm  
actually using CrossOverGames for this, I was never able to get Wine  
to work with JackOSX.
On May 25, 2009, at 11:47 AM, Emmanuel Maillard wrote:

> Does notes play well when playing ?
> Correct duration, correct tempo or other kind of timing issue ?
>
> Have you see fixme about MOD_MIDIPORT in log  ?
>
> Emmanuel
>
> Le 25 mai 09 ? 17:59, Steve Schow a ?crit :
>
>>





From mghughes at embarqmail.com  Mon May 25 20:27:01 2009
From: mghughes at embarqmail.com (Michael G Hughes)
Date: Mon, 25 May 2009 21:27:01 -0400
Subject: PowerPC MacOSX work...
References: <op.uughphrcvab5uc@psycodelic-fireball.local>
	<200905251344.40227.stefandoesinger@gmx.at>
	<79a63cc50905251252i4fe6f2abm1e309335df5adcc3@mail.gmail.com>
	<200905252206.04065.stefandoesinger@gmx.at>
Message-ID: <op.uuijnb1zvab5uc@psycodelic-fireball.local>

Yes and no...  I'll state that PPC processors have instructions to deal  
with endianness like:

lhbrx/sthbrx Load/Store half word (16-bits) byte reversed indexed
lwbrx/stwbrx Load/Store word (32-bit) byte reversed indexed

Michael

On Mon, 25 May 2009 16:06:03 -0400, Stefan D?singer  
<stefandoesinger at gmx.at> wrote:

> If I remember and understand the Darwine site correctly, no, they won't  
> work
> because WinPPC uses little endian while MacOS uses big endian. I am  
> wondering
> how that would be possible though, can PPCs switch modes?
>

-- 
Using Opera's revolutionary e-mail client: http://www.opera.com/mail/



