From bunglehead at gmail.com  Tue May 26 03:59:21 2009
From: bunglehead at gmail.com (Nikolay Sivov)
Date: Tue, 26 May 2009 12:59:21 +0400
Subject: comctl32:rebar: Don't store an empty string in REBAR_InsertBandT.
In-Reply-To: <4A1B6B75.4000803@gmail.com>
References: <4A1B6B75.4000803@gmail.com>
Message-ID: <4A1BAF69.3080300@gmail.com>

Sergey Khodych wrote:

> From a2bf101f7ede3937373b7b8f9e2a8ea032b7790d Mon Sep 17 00:00:00 2001
> From: Sergey Khodych <khodych at gmail.com>
> Date: Mon, 25 May 2009 02:21:39 +0300
> Subject: comctl32:rebar: Don't store an empty string in REBAR_InsertBandT.
>
> ---
>  dlls/comctl32/rebar.c       |   12 ++++++++----
>  dlls/comctl32/tests/rebar.c |    2 +-
>  2 files changed, 9 insertions(+), 5 deletions(-)
Where did you test that it isn't stored?



From julliard at winehq.org  Tue May 26 05:20:25 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Tue, 26 May 2009 12:20:25 +0200
Subject: DIB Engine : passing all tests
In-Reply-To: <gvf342$al1$1@ger.gmane.org> (Massimo Del Fedele's message of
	"Mon, 25 May 2009 23:38:10 +0200")
References: <gv7cjr$rn5$1@ger.gmane.org>
	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>
	<gv9i31$bu4$1@ger.gmane.org>
	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>
	<gvb111$vrg$1@ger.gmane.org>
	<39c14e440905240304j571f63dah70167f133f0e2c52@mail.gmail.com>
	<f25439870905250206u2452865g9de2559c3fcbb9aa@mail.gmail.com>
	<871vqd5tsa.fsf@wine.dyndns.org>
	<b050a5e70905250701h3816ea9bk96764f09aca3c9ea@mail.gmail.com>
	<87skit44rg.fsf@wine.dyndns.org> <gvf342$al1$1@ger.gmane.org>
Message-ID: <87hbz8413q.fsf@wine.dyndns.org>

Massimo Del Fedele <max at veneto.com> writes:

> About point 4, which, I guess, is the most important for you, the next step would be
> to make a winex11-2.drv on which DIB processing would be stripped away, and with
> added DDB buffering of DIBs and mixed blit operations.
> That driver could be connected to (and tested with) winedib.drv, always as an option
> in registry/environment.
> Once ready and stable enough it should be made permanently enabled and remaining part of
> winedib.drv could be merged inside gdi32; that could also be made stepwise.
> Of course this design would mean some duplication of code in gdi32 and winex11.drv, at least
> if we don't want to change something in driver function tables.... which would be the
> best solution if it's not imposed by Microsoft behaviour (I didn't check that one, nor
> I think to do it for the moment).
> A simple GetLine() * PutLine() that do translation between 32 bit RGBA <--> DDB inside
> winex11.drv and callable by gdi32 would of course avoid all code duplication needed for
> mixed blitting, keeping needed speed. That addition would be trivial.
>
> I think my design has some advantages and some disadvantages to other ones, but it's
> superior to the "double pointer approach" taken before, for reasons already explained.
> The main "disadvantage", maybe the only one, is to have for some time 2 different
> drivers in wine..... but OTOH it allows deep testing without breaking anything.

One of the main problems I see is that your design is based on the
premise that there's only one graphics driver, the X11 driver. That's
clearly not the case, DIBs can be used with any driver (and with
multiple drivers at the same time). This is also why you can't have the
DIB driver decide on when to forward/not forward to the X11 driver, it
should go in the other direction.

I'm also very skeptical about mirroring DIBs with a DDB. But even if you
do this that should be a purely internal x11drv decision, the DIB engine
shouldn't have any notion about this at all. This means you can't expose
DIB->DDB conversion routines, DDBs are entirely up to the graphics
driver.

-- 
Alexandre Julliard
julliard at winehq.org


From julliard at winehq.org  Tue May 26 05:27:48 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Tue, 26 May 2009 12:27:48 +0200
Subject: DIB Engine : passing all tests
In-Reply-To: <f3f1b91a0905251832k3af9c535ob64864877e6b9094@mail.gmail.com>
	(Chris Morgan's message of "Mon, 25 May 2009 21:32:48 -0400")
References: <gv7cjr$rn5$1@ger.gmane.org>
	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>
	<gv9i31$bu4$1@ger.gmane.org>
	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>
	<gvb111$vrg$1@ger.gmane.org>
	<39c14e440905240304j571f63dah70167f133f0e2c52@mail.gmail.com>
	<f25439870905250206u2452865g9de2559c3fcbb9aa@mail.gmail.com>
	<871vqd5tsa.fsf@wine.dyndns.org>
	<b050a5e70905250701h3816ea9bk96764f09aca3c9ea@mail.gmail.com>
	<87skit44rg.fsf@wine.dyndns.org>
	<f3f1b91a0905251832k3af9c535ob64864877e6b9094@mail.gmail.com>
Message-ID: <87d49w40rf.fsf@wine.dyndns.org>

Chris Morgan <chmorgan at gmail.com> writes:

> Wouldn't a review of the proposed dib engine be useful? One that
> included concerns, things that needed to be changed etc? Everyone
> involved seems to be asking for leadership and guidance about how to
> proceed, wouldn't a thorough review of the proposed design give
> direction towards an "acceptable" design?

Of course, but a thorough review takes time, lots of time. If you want
Huw or myself to invest that kind of time, you have to demonstrate that
it's worth it. That was my point about first establishing a track record
with simpler stuff.

The last time I rejected a simple patch from Massimo, he basically said
that he didn't have time to fix the patch and just dropped it. That
doesn't encourage me to spend more effort on reviewing his more complex
stuff.

-- 
Alexandre Julliard
julliard at winehq.org


From max at veneto.com  Tue May 26 05:42:05 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Tue, 26 May 2009 12:42:05 +0200
Subject: DIB Engine : passing all tests
In-Reply-To: <87hbz8413q.fsf@wine.dyndns.org>
References: <gv7cjr$rn5$1@ger.gmane.org>	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>	<gv9i31$bu4$1@ger.gmane.org>	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>	<gvb111$vrg$1@ger.gmane.org>	<39c14e440905240304j571f63dah70167f133f0e2c52@mail.gmail.com>	<f25439870905250206u2452865g9de2559c3fcbb9aa@mail.gmail.com>	<871vqd5tsa.fsf@wine.dyndns.org>	<b050a5e70905250701h3816ea9bk96764f09aca3c9ea@mail.gmail.com>	<87skit44rg.fsf@wine.dyndns.org>
	<gvf342$al1$1@ger.gmane.org> <87hbz8413q.fsf@wine.dyndns.org>
Message-ID: <gvgh1u$hmv$1@ger.gmane.org>

Alexandre Julliard ha scritto:

Hi Alexandre,

> 
> One of the main problems I see is that your design is based on the
> premise that there's only one graphics driver, the X11 driver.

Well, I guess I expressed myself not completely corrected.
My engine do load the winex11 exactly as gdi32 does.
That means that in must not be winex11, it can be any driver that
gdi32 would have loaded. The loading phase is like this :

GDI32  <-- load any driver and gets function pointers for DC and bitmap (ORIGINAL)

GDI32 <-- load winedib.drv <-- load any driver (etcetera) (MY WAY)

The driver loading mechanics is the gdi32 one duplicated in winedib.drv.
winedib.drv just intercept DIB calls and forward others to *any* other
driver. Again, in my thoughts that is a "transient" phase, at the end all
dib processing should go inside gdi32.

  That's
> clearly not the case, DIBs can be used with any driver (and with
> multiple drivers at the same time). This is also why you can't have the
> DIB driver decide on when to forward/not forward to the X11 driver, it
> should go in the other direction.
> 
> I'm also very skeptical about mirroring DIBs with a DDB.

Well, that was just a thought. I think that maintaining a mirrored DDB copy
would slow down just a bit drawing operations but would speed up a lot blitting.
But it's not a need.

  But even if you
> do this that should be a purely internal x11drv decision, the DIB engine
> shouldn't have any notion about this at all. This means you can't expose
> DIB->DDB conversion routines, DDBs are entirely up to the graphics
> driver.
> 
I was meaning exposing a "stripped-extended" version of GetDIBits and SetDIBits, allowing
partial image transfers. Again, that's not a need, it will just avoid code duplication
in gdi32 and winex11. That would allow gdi32 to read and write portions of DDB with a call
to winex11.
Like it is now, you need knowledge of different DIB formats both in winex11 AND in gdi32;
having this function would allow to move the "mixed blitting" stuffs almost completely inside
gdi32. That's also just a suggestion.
In my engine I have a bunch of PutLinexxx and GetLinexxx that do conversion from any format
do 32 bit RGBA and vice versa; the functions I spoke about are just extensions of them
for handling DDB conversion to/from 32 bit RGBA, and should reside, of course, in winex11.

I agree with you that the DDB caching of DIBs should be a winex11 stuff and totally transparent
to gdi32.

Thanx for answers

Max



From max at veneto.com  Tue May 26 06:01:56 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Tue, 26 May 2009 13:01:56 +0200
Subject: DIB Engine : passing all tests
In-Reply-To: <87d49w40rf.fsf@wine.dyndns.org>
References: <gv7cjr$rn5$1@ger.gmane.org>	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>	<gv9i31$bu4$1@ger.gmane.org>	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>	<gvb111$vrg$1@ger.gmane.org>	<39c14e440905240304j571f63dah70167f133f0e2c52@mail.gmail.com>	<f25439870905250206u2452865g9de2559c3fcbb9aa@mail.gmail.com>	<871vqd5tsa.fsf@wine.dyndns.org>	<b050a5e70905250701h3816ea9bk96764f09aca3c9ea@mail.gmail.com>	<87skit44rg.fsf@wine.dyndns.org>	<f3f1b91a0905251832k3af9c535ob64864877e6b9094@mail.gmail.com>
	<87d49w40rf.fsf@wine.dyndns.org>
Message-ID: <gvgi74$kvs$1@ger.gmane.org>

Alexandre Julliard ha scritto:
> 
> The last time I rejected a simple patch from Massimo, he basically said
> that he didn't have time to fix the patch and just dropped it. That
> doesn't encourage me to spend more effort on reviewing his more complex
> stuff.
> 

Hi again :-)

Well, to be precise those were some patches rejected, one with some explanation
and others not.
Former was about adding page size support to wineps.drv. I haven't dropped it,
but you told me that an almost complete rewrite of cups printers handling was
foreseen and preferred, so I kept it on my tree. I have really not enough skills
nor time to do such a complex job. My patch was just sending the missing page size
string to lpr along as printer name, which is by now the only stuff sent.
I can understand, of course, that going through lpr is not a very nice way.
I'm using the patch for my daily job, it's not dropped.

Latters were one testcase (which was meant preparing some gdiplus patches....) which
was rejected because "too long" and "with meaningless comments" and a couple of
gdiplus functions that were missing (and are still missing) needed by autocad to
run with builtin gdiplus, rejected because "contains errors" (possible, but which ?) and
were "a pain to review" (hmmmm....).
BTW, about comments, I'm sorry but my memory is not perfect and I tend to forget what I did
and why after a couple of monthes, so the reason of maybe over-commenting all my code :-)
I must say that the must difficult part of writing my engine was to try to figure out what
gdi32/winex11 code does, and some comments more woul have been of great help !

Anyways, to finish, I'm coding for fun (ops, I guess I already said that) and I also have a
job and a family that takes most of my time. If I don't see the possibility that my
patches are accepted in a couple of tentatives, I tend to keep them on my "maybe useful
stuffs" tree; otherwise if I see the possibility of having them published I can spend
a bit more time on them. Of course a comment like "a pain to review" doesn't push me
to work hard on it.....

Ciao

Max




From fgouget at free.fr  Tue May 26 07:22:18 2009
From: fgouget at free.fr (Francois Gouget)
Date: Tue, 26 May 2009 14:22:18 +0200 (CEST)
Subject: /. wants a fork
In-Reply-To: <200905251924.41497.stefandoesinger@gmx.at>
References: <36a11a3a0905250612w1768c4b9oefe73083b380ac5f@mail.gmail.com>
	<d658b69e0905250647q6c28a6fl81188735e47ed4de@mail.gmail.com>
	<200905251924.41497.stefandoesinger@gmx.at>
Message-ID: <alpine.DEB.2.00.0905261418010.27974@amboise.dolphin>

On Mon, 25 May 2009, Stefan D?singer wrote:
[...]
> On that subject, I think Dan Kegel's patchwatcher was a really, really good 
> idea, and we should revive it. Not only to catch simple problems, but also to 
> broaden the set of platforms patches are pre-tested before they are 
> applied(/me thinks about different graphics drivers)

Agreed. I think it's one of the projects that has the most potential for 
helping Wine move faster. As usual it's probably best to start small 
even if it does not do all we would like at first. Then once the basics 
are in place, well tested and stable we can broaden the scope and think 
about the wilder reaches (testing on multiple platforms: FreeBSD and 
Solaris, automatic conformance test runs on multiple Windows versions, 
etc).

But the first and most important step is to get things in place.


-- 
Francois Gouget <fgouget at free.fr>              http://fgouget.free.fr/
            Before you criticize someone, walk a mile in his shoes.
       That way, if he gets angry, he'll be a mile away - and barefoot.

From mghughes at embarqmail.com  Tue May 26 02:56:31 2009
From: mghughes at embarqmail.com (mghughes at embarqmail.com)
Date: Tue, 26 May 2009 03:56:31 -0400
Subject: PowerPC MacOSX work...
In-Reply-To: <79a63cc50905251252i4fe6f2abm1e309335df5adcc3@mail.gmail.com>
References: <op.uughphrcvab5uc@psycodelic-fireball.local>
	<200905251344.40227.stefandoesinger@gmx.at>
	<79a63cc50905251252i4fe6f2abm1e309335df5adcc3@mail.gmail.com>
Message-ID: <ef6824cf574b8070e0be4615acd67a24@embarqmail.com>

Download link did not work...  Would have been good to look 
at/try/experiment with, but not what I am looking/aiming for.


On May 25, 2009, at 03:52 PM, Gert van den Berg wrote:

> Just a random question: Any chance that PowerPC Windows apps might
> work on a PPC Wine build?
>
> A PowerPC port of Windows NT (3.51 and 4 according to Wikipedia)
> briefly existed.... Don't know if any apps more than those bundled
> with Windows existed. (Here's one: http://www.jmcgowan.com/ppc.html )
>
> Gert
>



From aric at codeweavers.com  Tue May 26 07:36:22 2009
From: aric at codeweavers.com (Aric Stewart)
Date: Tue, 26 May 2009 07:36:22 -0500
Subject: Mac OS X Joystick problem
In-Reply-To: <65a6e3960905221134m6d4d6d38j95fe636f61526431@mail.gmail.com>
References: <65a6e3960905201952q4f34fa3nfc4af9299c12cbd4@mail.gmail.com>	<4A159331.509@codeweavers.com>
	<65a6e3960905221134m6d4d6d38j95fe636f61526431@mail.gmail.com>
Message-ID: <4A1BE246.2070008@codeweavers.com>

Hum, Strange.

Those wine tests look just fine. They seem to be implying that it is 
finding your joystick and able to read its buttons and such. That would 
lead me to believe that the games would also be able to find it.

Could you maybe provide me a +dinput log of you starting up one of these 
games so I can take a look?

-aric

Nathan Gray wrote:
> On Thu, May 21, 2009 at 10:45 AM, Aric Stewart <aric at codeweavers.com> wrote:
>> If you are good there then try building the winetests for dinput and run
>> them with your joystick plugged in. You should get some status traces about
>> your joystick (finding the name and status of the various axes and buttons)
> 
> Ok, I built everything with Mike's build environment (after a bit of
> updating URLs and such).  From within the build directory I can run
> dinput_test.exe and I get output like this (moving the stick and
> pushing some buttons):
> 
> [n8gray at golux]% wine programs/winetest/dinput_test.exe joystick
> joystick.c:616: -- Testing Direct Input Version 0x0700 --
> fixme:dinput:get_osx_device_elements Unhandled type 513
> fixme:dinput:get_osx_device_elements Unhandled type 513
> joystick.c:206: ---- Microsoft SideWinder Precision Pro (USB) ----
> joystick.c:572:
> joystick.c:591: X 1976 Y-1061 Z    0 Rx    0 Ry    0 Rz -323 S0-1056
> S1    0 POV0 9000 POV1   -1 POV2   -1 POV3   -1 B 0 0 0 1 1 0 0 1 0 0
> 0 0
> 
> joystick.c:596:
> joystick.c:616: -- Testing Direct Input Version 0x0500 --
> fixme:dinput:get_osx_device_elements Unhandled type 513
> fixme:dinput:get_osx_device_elements Unhandled type 513
> joystick.c:206: ---- Microsoft SideWinder Precision Pro (USB) ----
> joystick.c:572:
> joystick.c:591: X 2000 Y-1101 Z    0 Rx    0 Ry    0 Rz -323 S0-1088
> S1    0 POV0 9000 POV1   -1 POV2   -1 POV3   -1 B 0 0 0 1 1 0 0 1 0 0
> 0 0
> 
> joystick.c:596:
> joystick.c:616: -- Testing Direct Input Version 0x0300 --
> joystick: 251 tests executed (0 marked as todo, 0 failures), 0 skipped.
> 
>> If that is working then it may be how the games interact with dinput so it
>> become not a mac specific issue.
> 
> However, I still don't get any axes detected in the IL2 demo.  During
> launch it produces this output:
> 
> DirectX Joystick NOT created: DirectX joystick driver: device not attached
> 
> (Yes, the joystick is attached when I launch it.)
> 
> I also don't get any joysticks listed in the Descent Freespace demo's setup app.
> 
> Is there some other demo you can recommend that works for you?
> 
> Thanks,
> -n8
> 


From julliard at winehq.org  Tue May 26 08:30:27 2009
From: julliard at winehq.org (Alexandre Julliard)
Date: Tue, 26 May 2009 15:30:27 +0200
Subject: [PATCH 05/10] msi: Add support for importing binary OBJECTS.
In-Reply-To: <a47100d40905240952n5a5e2b02l5eb5a694db6f1c99@mail.gmail.com>
	(Hib Eris's message of "Sun, 24 May 2009 18:52:11 +0200")
References: <a47100d40905240952n5a5e2b02l5eb5a694db6f1c99@mail.gmail.com>
Message-ID: <871vqc3sb0.fsf@wine.dyndns.org>

Hib Eris <hib at hiberis.nl> writes:

> ---
>  dlls/msi/database.c |   63 +++++++++++++++++++++++++++++++++++++++++++++++---
>  dlls/msi/msipriv.h  |    3 +-
>  dlls/msi/record.c   |    2 +-
>  dlls/msi/tests/db.c |   12 +++++-----
>  4 files changed, 68 insertions(+), 12 deletions(-)

This doesn't work here:

../../../tools/runtest -q -P wine -M msi.dll -T ../../.. -p msi_test.exe.so db.c && touch db.ok
wine: Unhandled page fault on write access to 0x00000004 at address 0x7bc4460e (thread 0019), starting debugger...
Unhandled exception: page fault on write access to 0x00000004 in 32-bit code (0x7bc4460e).
Register dump:
 CS:0023 SS:002b DS:002b ES:002b FS:0063 GS:006b
 EIP:7bc4460e ESP:0032f770 EBP:0032f7e8 EFLAGS:00010202(  R- --  I   - - - )
 EAX:00000000 EBX:7bc94448 ECX:00110014 EDX:00000000
 ESI:0012dcc8 EDI:0012dc48
Stack dump:
0x0032f770:  0032f784 00110014 00000020 0012dd00
0x0032f780:  0032f794 4d430002 0032f7bc 0012dc58
0x0032f790:  0032f7a4 00110014 00000070 4d430003
0x0032f7a0:  00000000 4d430003 00000000 00000000
0x0032f7b0:  00000000 00000000 00000000 4d430000
0x0032f7c0:  0012dc58 00000070 00000000 00000000
Backtrace:
=>0 0x7bc4460e HEAP_CreateFreeBlock+0x3be(subheap=0x110014, ptr=0x12dc48, size=128) [/home/julliard/wine/wine/dlls/ntdll/../../include/wine/list.h:98] in ntdll (0x0032f7e8)
  1 0x7bc44847 HEAP_MakeInUseBlockFree+0x57(subheap=0x110014, pArena=<is not available>) [/home/julliard/wine/wine/dlls/ntdll/heap.c:586] in ntdll (0x0032f838)
  2 0x7bc44b3c RtlFreeHeap+0x18c(heap=0x110000, flags=2, ptr=0x12dcc8) [/home/julliard/wine/wine/dlls/ntdll/heap.c:1480] in ntdll (0x0032f898)
  3 0x6081aa8e free_table+0x3e(table=<register EDI not in topmost frame>) [/home/julliard/wine/wine/dlls/msi/msipriv.h:1059] in msi (0x0032f8b8)
  4 0x6081abae free_cached_tables+0x2e(db=<register ESI not in topmost frame>) [/home/julliard/wine/wine/dlls/msi/../../include/wine/list.h:133] in msi (0x0032f8c8)
  5 0x607d3ec2 MSI_CloseDatabase+0x42(arg=0x12b7e8) [/home/julliard/wine/wine/dlls/msi/database.c:66] in msi (0x0032f8e8)
  6 0x607e6b58 msiobj_release+0x48(info=<register ESI not in topmost frame>) [/home/julliard/wine/wine/dlls/msi/handle.c:257] in msi (0x0032f918)
  7 0x607e6ccf MsiCloseHandle+0xbf(handle=<is not available>) [/home/julliard/wine/wine/dlls/msi/handle.c:311] in msi (0x0032f948)
  8 0x6066abda test_binary_import+0x33a() [/home/julliard/wine/wine/dlls/msi/tests/db.c:1991] in msi_test (0x0032fca8)
  9 0x60677d7e func_db+0x264e() [/home/julliard/wine/wine/dlls/msi/tests/db.c:7672] in msi_test (0x0032fde8)
  10 0x60749a80 run_test+0x130(name="db.c") [/home/julliard/wine/wine/dlls/msi/tests/../../../include/wine/test.h:456] in msi_test (0x0032fe28)
  11 0x60749c6f main+0x11f(argc=<register ECX not in topmost frame>, argv=<register ECX not in topmost frame>) [/home/julliard/wine/wine/dlls/msi/tests/../../../include/wine/test.h:505] in msi_test (0x0032fed8)
  12 0x6074a484 __wine_spec_exe_entry+0x84(peb=0x7ffdf000) [/home/julliard/wine/wine/dlls/winecrt0/exe_entry.c:36] in msi_test (0x0032ff08)
  13 0x7b878660 start_process+0x130(arg=(nil)) [/home/julliard/wine/wine/dlls/kernel32/process.c:941] in kernel32 (0x0032ffe8)
  14 0x6002bc07 wine_switch_to_stack+0x17() in libwine.so.1 (0x00000000)
0x7bc4460e HEAP_CreateFreeBlock+0x3be [/home/julliard/wine/wine/dlls/ntdll/../../include/wine/list.h:98] in ntdll: movl	%eax,0x4(%edx)
98	    elem->next->prev = elem->prev;


-- 
Alexandre Julliard
julliard at winehq.org


From chi at office.etersoft.ru  Tue May 26 07:29:13 2009
From: chi at office.etersoft.ru (Sergey Novosyolov)
Date: Tue, 26 May 2009 16:29:13 +0400
Subject: DIB Engine : passing all tests
In-Reply-To: <871vqd5tsa.fsf@wine.dyndns.org>
References: <gv7cjr$rn5$1@ger.gmane.org>
	<f25439870905250206u2452865g9de2559c3fcbb9aa@mail.gmail.com>
	<871vqd5tsa.fsf@wine.dyndns.org>
Message-ID: <200905261629.13862.chi@office.etersoft.ru>

On Monday 25 May 2009 15:03:17 Alexandre Julliard wrote:

> Writing a DIB engine is not a fill-in-the-blanks exercise. A large part
> of the task is precisely to come up with a good design, 

Does anyone have a mention about what a good design should be?
My mention is that DIB driver should not exist at all. All DIB functions 
should be released inside GDI32 as some functions already released (such as 
CreateDIBSection, CreateBitmap etc.)


From info at transformationalhealing.com.au  Tue May 26 09:26:16 2009
From: info at transformationalhealing.com.au (Michael)
Date: Wed, 27 May 2009 00:26:16 +1000
Subject: Problem Running Winetricks
Message-ID: <1243347976.20080.3.camel@michael-desktop>

Hi,
When I run winetricks, it consistently loops through and creates output
files winetricks.1 , winetricks.2 , etc ... until I break the terminal.
And doesn't do much more.

Each of these files shows:
-------------- next part --------------
A non-text attachment was scrubbed...
Name: winetricks.1
Type: application/x-shellscript
Size: 71736 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090527/ba8b2a99/attachment-0002.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: winetricks.2
Type: application/x-shellscript
Size: 71736 bytes
Desc: not available
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090527/ba8b2a99/attachment-0003.bin>

From austinenglish at gmail.com  Tue May 26 11:34:56 2009
From: austinenglish at gmail.com (Austin English)
Date: Tue, 26 May 2009 11:34:56 -0500
Subject: Problem Running Winetricks
In-Reply-To: <1243347976.20080.3.camel@michael-desktop>
References: <1243347976.20080.3.camel@michael-desktop>
Message-ID: <b6bb06270905260934j195645d9ud452d89490ab4c58@mail.gmail.com>

On Tue, May 26, 2009 at 9:26 AM, Michael
<info at transformationalhealing.com.au> wrote:
> Hi,
> When I run winetricks, it consistently loops through and creates output
> files winetricks.1 , winetricks.2 , etc ... until I break the terminal.
> And doesn't do much more.
>
> Each of these files shows:
>
>
>
>

How are you running it, exactly?

It's apparently making copies of itself..

-- 
-Austin


From paul.vriens.wine at gmail.com  Tue May 26 11:41:19 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Tue, 26 May 2009 18:41:19 +0200
Subject: [1/4] comctl32/listview: Basic LVM_GETVIEWRECT tests
In-Reply-To: <1243299052.29634.15.camel@debianhome.localdomain>
References: <1243299052.29634.15.camel@debianhome.localdomain>
Message-ID: <4A1C1BAF.10006@gmail.com>

Nikolay Sivov wrote:
> Changelog:
>     - Basic LVM_GETVIEWRECT tests
> 
> +    todo_wine expect(104, rect.right);
> +    expect(0, rect.top);
> +    expect(73, rect.bottom);

The first and last one of these 3 introduces errors on several boxes 
(see test.winehq.org). I guess these numbers can't be hardcoded and need 
to be calculated somehow?

Could you have a look?

-- 
Cheers,

Paul.


From bunglehead at gmail.com  Tue May 26 11:47:20 2009
From: bunglehead at gmail.com (Nikolay Sivov)
Date: Tue, 26 May 2009 20:47:20 +0400
Subject: [1/4] comctl32/listview: Basic LVM_GETVIEWRECT tests
In-Reply-To: <4A1C1BAF.10006@gmail.com>
References: <1243299052.29634.15.camel@debianhome.localdomain>
	<4A1C1BAF.10006@gmail.com>
Message-ID: <4A1C1D18.7020705@gmail.com>

Paul Vriens wrote:
> Nikolay Sivov wrote:
>> Changelog:
>>     - Basic LVM_GETVIEWRECT tests
>>
>> +    todo_wine expect(104, rect.right);
>> +    expect(0, rect.top);
>> +    expect(73, rect.bottom);
>
> The first and last one of these 3 introduces errors on several boxes 
> (see test.winehq.org). I guess these numbers can't be hardcoded and 
> need to be calculated somehow?
>
> Could you have a look?
>
Yeah. I've already fixed this in my tree. Will replace it with (> 0) 
cause all I want here is to show that not empty rectangle returned.
Calculation is a best way of course but it's a next problem.



From hverbeet at gmail.com  Tue May 26 11:56:33 2009
From: hverbeet at gmail.com (Henri Verbeet)
Date: Tue, 26 May 2009 18:56:33 +0200
Subject: patch wined3d
In-Reply-To: <4A1C153D.7090306@inf.upol.cz>
References: <4A1C153D.7090306@inf.upol.cz>
Message-ID: <d658b69e0905260956x75993e3dhbe9480becf9d5f16@mail.gmail.com>

2009/5/26 Pavel Prochazka <prochapa at inf.upol.cz>:
> +???????int i=1;
> +
> +???????/*it moves all backbuffers by 1 to left form id = 1,
> +???????the backbuffer swap to frontbuffer and frontbuffer swaps to the end of chain
> +???????Something like this:
> +???????????????????????????????????????????????????????????????????????????????????????------------^???????????
> +???????????????????????????????????????????????????????????????????????????????????????|???????????????????????|
> +???????|FrontBuffer|        |BackBuffer0|BackBuffer1|Backbuffer2|....|BackbufferN|
> +???????           ?????????????????????????????????????????????????????????????????????????????????????????????????????????????????????^
> +???????????????|---------------------------------------------------------------|
> +???????????????^
> +???????????????|---------------------|
> +
> +???????????????????????????????????????????????????????????????????????????????????????
> +???????*/
> +
> +???????for(;i<This->presentParms.BackBufferCount-1;i++)?
> +???????{
> +???????????????hlp1 = (IWineD3DSurfaceImpl *)This->backBuffer[i];
> +???????????????hlp2 = (IWineD3DSurfaceImpl *)This->backBuffer[i+1];
> +???????????????hlp1->hDC = hlp2->hDC;
> +???????????????hlp1->dib.DIBsection = hlp2->dib.DIBsection;
> +???????????????hlp1->dib.bitmap_data = hlp2->dib.bitmap_data;
> +???????????????hlp1->resource.allocatedMemory = hlp2->resource.allocatedMemory;
> +???????????????hlp1->dib.client_memory = hlp2->dib.client_memory;
> +???????}
> +
> +???????hlp1 = (IWineD3DSurfaceImpl *)This->backBuffer[i];
> +???????hlp1->hDC = front->hDC;
> +???????hlp1 = (IWineD3DSurfaceImpl *)This->backBuffer[i];
> +???????hlp1->dib.DIBsection = front->dib.DIBsection;
> +???????hlp1->dib.bitmap_data = front->dib.bitmap_data;
> +???????hlp1->resource.allocatedMemory = front->resource.allocatedMemory;
> +???????hlp1->dib.client_memory = front->dib.client_memory;
> +???????
> +???

Style issues aside, that's not a very efficient way to implement a swapchain.

From stefandoesinger at gmx.at  Tue May 26 13:12:10 2009
From: stefandoesinger at gmx.at (Stefan =?iso-8859-1?q?D=F6singer?=)
Date: Tue, 26 May 2009 20:12:10 +0200
Subject: patch wined3d
In-Reply-To: <4A1C153D.7090306@inf.upol.cz>
References: <4A1C153D.7090306@inf.upol.cz>
Message-ID: <200905262012.10427.stefandoesinger@gmx.at>

Am Dienstag, 26. Mai 2009 18:13:49 schrieb Pavel Prochazka:

Is there any reason why we'd want 32 backbuffer swapchains? The currentl limit 
comes from d3d9(no more than 3 backbuffers allowed). We can certainly change 
it, but I doubt that any Windows driver supports that in ddraw. If there is 
no limit in ddraw(provide a test), we should remove the limit and make it 
dynamic.


From khodych at gmail.com  Tue May 26 13:29:08 2009
From: khodych at gmail.com (Sergey Khodych)
Date: Tue, 26 May 2009 21:29:08 +0300
Subject: comctl32:rebar: Don't store an empty string in REBAR_InsertBandT.
In-Reply-To: <4A1BAF69.3080300@gmail.com>
References: <4A1B6B75.4000803@gmail.com> <4A1BAF69.3080300@gmail.com>
Message-ID: <4A1C34F4.4050303@gmail.com>

Nikolay Sivov ?????:
> Where did you test that it isn't stored?

The patch fixes a bug when wine allocates an extra space for a band with
an empty string. I replaced NULL by "" in the size test to show the
native realization doesn't change its behavior unlike wine in this case.






From bunglehead at gmail.com  Tue May 26 13:54:00 2009
From: bunglehead at gmail.com (Nikolay Sivov)
Date: Tue, 26 May 2009 22:54:00 +0400
Subject: comctl32:rebar: Don't store an empty string in REBAR_InsertBandT.
In-Reply-To: <4A1C34F4.4050303@gmail.com>
References: <4A1B6B75.4000803@gmail.com> <4A1BAF69.3080300@gmail.com>
	<4A1C34F4.4050303@gmail.com>
Message-ID: <4A1C3AC8.7050509@gmail.com>

 Sergey Khodych wrote:
> Nikolay Sivov ?????:
>> Where did you test that it isn't stored?
>
> The patch fixes a bug when wine allocates an extra space for a band with
> an empty string. I replaced NULL by "" in the size test to show the
> native realization doesn't change its behavior unlike wine in this case.
Ok. All todos for Rebar tests are about colors. You could check it at 
test.winehq.org.
So there's no reason to touch tests that already pass.

It looks like you need to add a simple test like that:
- add band with empty string and RBBIM_TEXT mask of course;
- query band data back with RB_GETBANDINFO and check this lpText field.

If it's really NULL (e.g. your buffer didn't change) instead of empty 
string you should test
RB_SETBARINFO for the same case.

What you mean saying extra space? Some offset during drawing or what?


From hib at hiberis.nl  Tue May 26 13:55:41 2009
From: hib at hiberis.nl (Hib Eris)
Date: Tue, 26 May 2009 20:55:41 +0200
Subject: [PATCH 05/10] msi: Add support for importing binary OBJECTS.
In-Reply-To: <a47100d40905260949o11493181q224abd82878da85@mail.gmail.com>
References: <a47100d40905240952n5a5e2b02l5eb5a694db6f1c99@mail.gmail.com>
	<871vqc3sb0.fsf@wine.dyndns.org>
	<a47100d40905260949o11493181q224abd82878da85@mail.gmail.com>
Message-ID: <a47100d40905261155m56b9bba2j1d3fdbf92f9e9ea0@mail.gmail.com>

Hi all,

hmm, I've tested it again with current git, and it still works fine here.

I have looked at my new code and it does not seem wrong to me, but
maybe it is somewhere else. Unfortunately, as I cannot reproduce this
failure, I have no idea how to debug it. Does this fail for other
people as well?

Just a wild guess... could it have something to do with 64-bit vs.
32-bit? I am running on 32-bit. Alexandre, did you run the test on 32
or 64 bit?

So, I can only ask for someone to please also try
http://www.winehq.org/pipermail/wine-patches/2009-May/073272.html and
see if it works for him/her.


Hib






On Tue, May 26, 2009 at 3:30 PM, Alexandre Julliard <julliard at winehq.org> wrote:
> Hib Eris <hib at hiberis.nl> writes:
>
>> ---
>> ?dlls/msi/database.c | ? 63 +++++++++++++++++++++++++++++++++++++++++++++++---
>> ?dlls/msi/msipriv.h ?| ? ?3 +-
>> ?dlls/msi/record.c ? | ? ?2 +-
>> ?dlls/msi/tests/db.c | ? 12 +++++-----
>> ?4 files changed, 68 insertions(+), 12 deletions(-)
>
> This doesn't work here:
>
> ../../../tools/runtest -q -P wine -M msi.dll -T ../../.. -p msi_test.exe.so db.c && touch db.ok
> wine: Unhandled page fault on write access to 0x00000004 at address 0x7bc4460e (thread 0019), starting debugger...
> Unhandled exception: page fault on write access to 0x00000004 in 32-bit code (0x7bc4460e).
> Register dump:
> ?CS:0023 SS:002b DS:002b ES:002b FS:0063 GS:006b
> ?EIP:7bc4460e ESP:0032f770 EBP:0032f7e8 EFLAGS:00010202( ?R- -- ?I ? - - - )
> ?EAX:00000000 EBX:7bc94448 ECX:00110014 EDX:00000000
> ?ESI:0012dcc8 EDI:0012dc48
> Stack dump:
> 0x0032f770: ?0032f784 00110014 00000020 0012dd00
> 0x0032f780: ?0032f794 4d430002 0032f7bc 0012dc58
> 0x0032f790: ?0032f7a4 00110014 00000070 4d430003
> 0x0032f7a0: ?00000000 4d430003 00000000 00000000
> 0x0032f7b0: ?00000000 00000000 00000000 4d430000
> 0x0032f7c0: ?0012dc58 00000070 00000000 00000000
> Backtrace:
> =>0 0x7bc4460e HEAP_CreateFreeBlock+0x3be(subheap=0x110014, ptr=0x12dc48, size=128) [/home/julliard/wine/wine/dlls/ntdll/../../include/wine/list.h:98] in ntdll (0x0032f7e8)
> ?1 0x7bc44847 HEAP_MakeInUseBlockFree+0x57(subheap=0x110014, pArena=<is not available>) [/home/julliard/wine/wine/dlls/ntdll/heap.c:586] in ntdll (0x0032f838)
> ?2 0x7bc44b3c RtlFreeHeap+0x18c(heap=0x110000, flags=2, ptr=0x12dcc8) [/home/julliard/wine/wine/dlls/ntdll/heap.c:1480] in ntdll (0x0032f898)
> ?3 0x6081aa8e free_table+0x3e(table=<register EDI not in topmost frame>) [/home/julliard/wine/wine/dlls/msi/msipriv.h:1059] in msi (0x0032f8b8)
> ?4 0x6081abae free_cached_tables+0x2e(db=<register ESI not in topmost frame>) [/home/julliard/wine/wine/dlls/msi/../../include/wine/list.h:133] in msi (0x0032f8c8)
> ?5 0x607d3ec2 MSI_CloseDatabase+0x42(arg=0x12b7e8) [/home/julliard/wine/wine/dlls/msi/database.c:66] in msi (0x0032f8e8)
> ?6 0x607e6b58 msiobj_release+0x48(info=<register ESI not in topmost frame>) [/home/julliard/wine/wine/dlls/msi/handle.c:257] in msi (0x0032f918)
> ?7 0x607e6ccf MsiCloseHandle+0xbf(handle=<is not available>) [/home/julliard/wine/wine/dlls/msi/handle.c:311] in msi (0x0032f948)
> ?8 0x6066abda test_binary_import+0x33a() [/home/julliard/wine/wine/dlls/msi/tests/db.c:1991] in msi_test (0x0032fca8)
> ?9 0x60677d7e func_db+0x264e() [/home/julliard/wine/wine/dlls/msi/tests/db.c:7672] in msi_test (0x0032fde8)
> ?10 0x60749a80 run_test+0x130(name="db.c") [/home/julliard/wine/wine/dlls/msi/tests/../../../include/wine/test.h:456] in msi_test (0x0032fe28)
> ?11 0x60749c6f main+0x11f(argc=<register ECX not in topmost frame>, argv=<register ECX not in topmost frame>) [/home/julliard/wine/wine/dlls/msi/tests/../../../include/wine/test.h:505] in msi_test (0x0032fed8)
> ?12 0x6074a484 __wine_spec_exe_entry+0x84(peb=0x7ffdf000) [/home/julliard/wine/wine/dlls/winecrt0/exe_entry.c:36] in msi_test (0x0032ff08)
> ?13 0x7b878660 start_process+0x130(arg=(nil)) [/home/julliard/wine/wine/dlls/kernel32/process.c:941] in kernel32 (0x0032ffe8)
> ?14 0x6002bc07 wine_switch_to_stack+0x17() in libwine.so.1 (0x00000000)
> 0x7bc4460e HEAP_CreateFreeBlock+0x3be [/home/julliard/wine/wine/dlls/ntdll/../../include/wine/list.h:98] in ntdll: movl %eax,0x4(%edx)
> 98 ? ? ? ? ?elem->next->prev = elem->prev;
>
>
> --
> Alexandre Julliard
> julliard at winehq.org
>


From bunglehead at gmail.com  Tue May 26 14:10:29 2009
From: bunglehead at gmail.com (Nikolay Sivov)
Date: Tue, 26 May 2009 23:10:29 +0400
Subject: [PATCH 05/10] msi: Add support for importing binary OBJECTS.
In-Reply-To: <a47100d40905261155m56b9bba2j1d3fdbf92f9e9ea0@mail.gmail.com>
References: <a47100d40905240952n5a5e2b02l5eb5a694db6f1c99@mail.gmail.com>	<871vqc3sb0.fsf@wine.dyndns.org>	<a47100d40905260949o11493181q224abd82878da85@mail.gmail.com>
	<a47100d40905261155m56b9bba2j1d3fdbf92f9e9ea0@mail.gmail.com>
Message-ID: <4A1C3EA5.4050405@gmail.com>

Hib Eris wrote:
> Hi all,
>
> hmm, I've tested it again with current git, and it still works fine here.
>
> I have looked at my new code and it does not seem wrong to me, but
> maybe it is somewhere else. Unfortunately, as I cannot reproduce this
> failure, I have no idea how to debug it. Does this fail for other
> people as well?
>
> Just a wild guess... could it have something to do with 64-bit vs.
> 32-bit? I am running on 32-bit. Alexandre, did you run the test on 32
> or 64 bit?
>
> So, I can only ask for someone to please also try
> http://www.winehq.org/pipermail/wine-patches/2009-May/073272.html and
> see if it works for him/her.
>
>
> Hib
>   
Hi, Hib.
---
error: patch failed: dlls/msi/tests/db.c:1966
error: dlls/msi/tests/db.c: patch does not apply
---
Post a rebased version please, I'll try it on my box.

Nikolay S.


From hib at hiberis.nl  Tue May 26 14:33:39 2009
From: hib at hiberis.nl (Hib Eris)
Date: Tue, 26 May 2009 21:33:39 +0200
Subject: [PATCH 05/10] msi: Add support for importing binary OBJECTS.
In-Reply-To: <87r5yb3d5i.fsf@wine.dyndns.org>
References: <a47100d40905240952n5a5e2b02l5eb5a694db6f1c99@mail.gmail.com>
	<871vqc3sb0.fsf@wine.dyndns.org>
	<a47100d40905260949o11493181q224abd82878da85@mail.gmail.com>
	<87r5yb3d5i.fsf@wine.dyndns.org>
Message-ID: <a47100d40905261233v7c0ffab2q5f31eb78a4cb677@mail.gmail.com>

On Tue, May 26, 2009 at 8:57 PM, Alexandre Julliard <julliard at winehq.org> wrote:
> Hib Eris <hib at hiberis.nl> writes:
>
>> I have looked at my new code and it does not seem wrong to me, but
>> maybe it is somewhere else. Unfortunately, as I cannot reproduce this
>> failure, I have no idea how to debug it. Does this fail for other
>> people as well?
>>
>> Just a wild guess... could it have something to do with 64-bit vs.
>> 32-bit? I am running on 32-bit. Alexandre, did you run the test on 32
>> or 64 bit?
>
> 32-bit of course, nothing works on 64-bit <g>
>
> It's heap corruption, you forgot to allocate space for the terminating
> null in msi_import_stream_filename. And you should probably use strdupW
> instead.

Ahhh, I see! I will create a new patch. Thanks.

A question about using strdupW: In my patch I use msi_alloc and
msi_realloc to allocate memory for the returned string and use
msi_free to free it again.
If I would use stdupW to create a string copy instead of msi_alloc,
would it then still be okay to use msi_realloc and msi_free? According
to
http://source.winehq.org/WineAPI/StrDupW.html I should use LocalFree
to free the memory?

I've seem some more places where msi_free and StdDupW were mixed, so I
guess it will work. But is it considered good practice?

Hib


From hib at hiberis.nl  Tue May 26 14:36:03 2009
From: hib at hiberis.nl (Hib Eris)
Date: Tue, 26 May 2009 21:36:03 +0200
Subject: [PATCH 05/10] msi: Add support for importing binary OBJECTS.
In-Reply-To: <4A1C3EA5.4050405@gmail.com>
References: <a47100d40905240952n5a5e2b02l5eb5a694db6f1c99@mail.gmail.com>
	<871vqc3sb0.fsf@wine.dyndns.org>
	<a47100d40905260949o11493181q224abd82878da85@mail.gmail.com>
	<a47100d40905261155m56b9bba2j1d3fdbf92f9e9ea0@mail.gmail.com>
	<4A1C3EA5.4050405@gmail.com>
Message-ID: <a47100d40905261236v685f386cn3587058f485578c0@mail.gmail.com>

Hi Nikolay,

Thanks for your reply. Alexandre already pointed me to my mistake, so
no need for you anymore to help out. Thanks anyway.

Hib




>
> Hi, Hib.
> ---
> error: patch failed: dlls/msi/tests/db.c:1966
> error: dlls/msi/tests/db.c: patch does not apply
> ---
> Post a rebased version please, I'll try it on my box.
>
> Nikolay S.
>


From mstefani at redhat.com  Tue May 26 14:44:47 2009
From: mstefani at redhat.com (Michael Stefaniuc)
Date: Tue, 26 May 2009 21:44:47 +0200
Subject: [PATCH 05/10] msi: Add support for importing binary OBJECTS.
In-Reply-To: <a47100d40905261233v7c0ffab2q5f31eb78a4cb677@mail.gmail.com>
References: <a47100d40905240952n5a5e2b02l5eb5a694db6f1c99@mail.gmail.com>	<871vqc3sb0.fsf@wine.dyndns.org>	<a47100d40905260949o11493181q224abd82878da85@mail.gmail.com>	<87r5yb3d5i.fsf@wine.dyndns.org>
	<a47100d40905261233v7c0ffab2q5f31eb78a4cb677@mail.gmail.com>
Message-ID: <4A1C46AF.4070703@redhat.com>

Hib Eris wrote:
> On Tue, May 26, 2009 at 8:57 PM, Alexandre Julliard <julliard at winehq.org> wrote:
>> Hib Eris <hib at hiberis.nl> writes:
>>
>>> I have looked at my new code and it does not seem wrong to me, but
>>> maybe it is somewhere else. Unfortunately, as I cannot reproduce this
>>> failure, I have no idea how to debug it. Does this fail for other
>>> people as well?
>>>
>>> Just a wild guess... could it have something to do with 64-bit vs.
>>> 32-bit? I am running on 32-bit. Alexandre, did you run the test on 32
>>> or 64 bit?
>> 32-bit of course, nothing works on 64-bit <g>
>>
>> It's heap corruption, you forgot to allocate space for the terminating
>> null in msi_import_stream_filename. And you should probably use strdupW
>> instead.
> 
> Ahhh, I see! I will create a new patch. Thanks.
> 
> A question about using strdupW: In my patch I use msi_alloc and
> msi_realloc to allocate memory for the returned string and use
> msi_free to free it again.
> If I would use stdupW to create a string copy instead of msi_alloc,
> would it then still be okay to use msi_realloc and msi_free? According
> to
> http://source.winehq.org/WineAPI/StrDupW.html I should use LocalFree
> to free the memory?
StrDupW and strdupW aren't the same.

> I've seem some more places where msi_free and StdDupW were mixed, so I
msi doesn't uses StdDupW but strdupW.

> guess it will work. But is it considered good practice?
Checkout dlls/msi/msipriv.h. You'll find there the implementation of 
msi_alloc, msi_free and strdupW. Those are basically wrappers around 
HeapAlloc/HeapFree.

bye
	michael



From wine.dev at web.de  Tue May 26 15:01:47 2009
From: wine.dev at web.de (Detlef Riekenberg)
Date: Tue, 26 May 2009 22:01:47 +0200
Subject: PowerPC MacOSX work...
In-Reply-To: <200905252206.04065.stefandoesinger@gmx.at>
References: <op.uughphrcvab5uc@psycodelic-fireball.local>
	<200905251344.40227.stefandoesinger@gmx.at>
	<79a63cc50905251252i4fe6f2abm1e309335df5adcc3@mail.gmail.com>
	<200905252206.04065.stefandoesinger@gmx.at>
Message-ID: <1243368107.6862.7.camel@p4.lan>

On Mo, 2009-05-25 at 22:06 +0200, Stefan D?singer wrote:
> they won't work because WinPPC uses little endian while MacOS uses big endian. 
> I am wondering 
> how that would be possible though, can PPCs switch modes?

Yes, a PowerPC can switch endian.


-- 
 
By by ... Detlef



From jacek at codeweavers.com  Tue May 26 15:57:36 2009
From: jacek at codeweavers.com (Jacek Caban)
Date: Tue, 26 May 2009 22:57:36 +0200
Subject: [mshtml/tests] Fix 2 test failures on IE8
In-Reply-To: <4A1C1166.5070108@gmail.com>
References: <4A1C1166.5070108@gmail.com>
Message-ID: <4A1C57C0.8090008@codeweavers.com>

Hi Paul,

Paul Vriens wrote:
> Changelog
>   Fix 2 test failures on IE8
>
-        ok(disp == (void*)0xdeadbeef, "disp=%p\n", disp);
+        ok(disp == (void*)0xdeadbeef ||
+           disp == NULL, /* IE8 */


This test does no longer make sense. It would be better to remove it and preferably change implementation to match IE8.


Thanks,
    Jacek



From jeffzaroyko at gmail.com  Tue May 26 18:23:13 2009
From: jeffzaroyko at gmail.com (Jeff Zaroyko)
Date: Wed, 27 May 2009 09:23:13 +1000
Subject: d3d9/tests: add simple test to show that QualityLevels is not 
	zero, when we call CheckDeviceMultiSampleType with D3DMULTISAMPLE_NONE
In-Reply-To: <258820.6402.qm@web23207.mail.ird.yahoo.com>
References: <258820.6402.qm@web23207.mail.ird.yahoo.com>
Message-ID: <f5d9424f0905261623v1b406367k62cdb9d532d94c0e@mail.gmail.com>

On Wed, May 27, 2009 at 7:47 AM, Louis. Lenders
<xerox_xerox2000 at yahoo.co.uk> wrote:
> This test shows second bug in
> http://www.winehq.org/pipermail/wine-bugs/2009-May/177221.html
>
> I tested this on my laptop (under windows) with an ATI-card, my desktop
> computer (that has nvidia) only runs Linux, so i could not test it on nvidia
> under windows, if anyone could do that that would be nice.
>

No failures on Vista, nv9800, 180.81.


From dmitry at codeweavers.com  Wed May 27 00:19:36 2009
From: dmitry at codeweavers.com (Dmitry Timoshkov)
Date: Wed, 27 May 2009 14:19:36 +0900
Subject: DIB Engine : passing all tests
References: <gv7cjr$rn5$1@ger.gmane.org>	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>	<gv9i31$bu4$1@ger.gmane.org>	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>	<gvb111$vrg$1@ger.gmane.org>	<39c14e440905240304j571f63dah70167f133f0e2c52@mail.gmail.com>	<f25439870905250206u2452865g9de2559c3fcbb9aa@mail.gmail.com>	<871vqd5tsa.fsf@wine.dyndns.org>	<b050a5e70905250701h3816ea9bk96764f09aca3c9ea@mail.gmail.com>	<87skit44rg.fsf@wine.dyndns.org><gvf342$al1$1@ger.gmane.org>
	<87hbz8413q.fsf@wine.dyndns.org> <gvgh1u$hmv$1@ger.gmane.org>
Message-ID: <C8EEC6B247154C688EC81511507F4036@DMITRY>

"Massimo Del Fedele" <max at veneto.com> wrote:

> The driver loading mechanics is the gdi32 one duplicated in winedib.drv.
> winedib.drv just intercept DIB calls and forward others to *any* other
> driver. Again, in my thoughts that is a "transient" phase, at the end all
> dib processing should go inside gdi32.

Probably you need to have a look how support for truetype and other
fonts via freetype was added. Although there is an entity called "GDI
font" (with freetype support), still there is such a thing as device
fonts (suported by x11drv, psdrv or any other device driver). Make that
as an analogy: GDI font - DIB, device font - DDB. Adding support for GDI
fonts didn't require introducing any new "font driver", so adding a DIB
engine shouldn't add a new one as well. DIB engine should be a GDI32 pure
internal thing.

-- 
Dmitry.


From shacklein at gmail.com  Wed May 27 00:44:58 2009
From: shacklein at gmail.com (Ben Klein)
Date: Wed, 27 May 2009 15:44:58 +1000
Subject: DIB Engine : passing all tests
In-Reply-To: <C8EEC6B247154C688EC81511507F4036@DMITRY>
References: <gv7cjr$rn5$1@ger.gmane.org>
	<39c14e440905240304j571f63dah70167f133f0e2c52@mail.gmail.com> 
	<f25439870905250206u2452865g9de2559c3fcbb9aa@mail.gmail.com> 
	<871vqd5tsa.fsf@wine.dyndns.org>
	<b050a5e70905250701h3816ea9bk96764f09aca3c9ea@mail.gmail.com> 
	<87skit44rg.fsf@wine.dyndns.org> <gvf342$al1$1@ger.gmane.org> 
	<87hbz8413q.fsf@wine.dyndns.org> <gvgh1u$hmv$1@ger.gmane.org> 
	<C8EEC6B247154C688EC81511507F4036@DMITRY>
Message-ID: <d7e40be30905262244o13d513aaxb13f1adad85554ed@mail.gmail.com>

2009/5/27 Dmitry Timoshkov <dmitry at codeweavers.com>:
> "Massimo Del Fedele" <max at veneto.com> wrote:
>
>> The driver loading mechanics is the gdi32 one duplicated in winedib.drv.
>> winedib.drv just intercept DIB calls and forward others to *any* other
>> driver. Again, in my thoughts that is a "transient" phase, at the end all
>> dib processing should go inside gdi32.
>
> Probably you need to have a look how support for truetype and other
> fonts via freetype was added. Although there is an entity called "GDI
> font" (with freetype support), still there is such a thing as device
> fonts (suported by x11drv, psdrv or any other device driver). Make that
> as an analogy: GDI font - DIB, device font - DDB. Adding support for GDI
> fonts didn't require introducing any new "font driver", so adding a DIB
> engine shouldn't add a new one as well. DIB engine should be a GDI32 pure
> internal thing.


From max at veneto.com  Wed May 27 01:45:40 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Wed, 27 May 2009 08:45:40 +0200
Subject: DIB Engine : passing all tests
In-Reply-To: <C8EEC6B247154C688EC81511507F4036@DMITRY>
References: <gv7cjr$rn5$1@ger.gmane.org>	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>	<gv9i31$bu4$1@ger.gmane.org>	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>	<gvb111$vrg$1@ger.gmane.org>	<39c14e440905240304j571f63dah70167f133f0e2c52@mail.gmail.com>	<f25439870905250206u2452865g9de2559c3fcbb9aa@mail.gmail.com>	<871vqd5tsa.fsf@wine.dyndns.org>	<b050a5e70905250701h3816ea9bk96764f09aca3c9ea@mail.gmail.com>	<87skit44rg.fsf@wine.dyndns.org><gvf342$al1$1@ger.gmane.org>	<87hbz8413q.fsf@wine.dyndns.org>
	<gvgh1u$hmv$1@ger.gmane.org>
	<C8EEC6B247154C688EC81511507F4036@DMITRY>
Message-ID: <gvinik$mkn$1@ger.gmane.org>

Dmitry Timoshkov ha scritto:
> "Massimo Del Fedele" <max at veneto.com> wrote:
> 
>> The driver loading mechanics is the gdi32 one duplicated in winedib.drv.
>> winedib.drv just intercept DIB calls and forward others to *any* other
>> driver. Again, in my thoughts that is a "transient" phase, at the end all
>> dib processing should go inside gdi32.
> 
> Probably you need to have a look how support for truetype and other
> fonts via freetype was added. Although there is an entity called "GDI
> font" (with freetype support), still there is such a thing as device
> fonts (suported by x11drv, psdrv or any other device driver). Make that
> as an analogy: GDI font - DIB, device font - DDB. Adding support for GDI
> fonts didn't require introducing any new "font driver", so adding a DIB
> engine shouldn't add a new one as well. DIB engine should be a GDI32 pure
> internal thing.
> 

I begin to repeat stuffs too often lately.
As I already wrote, *I know* and *I agree* that DIB should belong to GDI32.
The proposed driver is a working step to that final goal. Point.

Max



From max at veneto.com  Wed May 27 02:11:56 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Wed, 27 May 2009 09:11:56 +0200
Subject: DIB Engine : passing all tests
In-Reply-To: <d7e40be30905262244o13d513aaxb13f1adad85554ed@mail.gmail.com>
References: <gv7cjr$rn5$1@ger.gmane.org>	<39c14e440905240304j571f63dah70167f133f0e2c52@mail.gmail.com>
	<f25439870905250206u2452865g9de2559c3fcbb9aa@mail.gmail.com>
	<871vqd5tsa.fsf@wine.dyndns.org>	<b050a5e70905250701h3816ea9bk96764f09aca3c9ea@mail.gmail.com>
	<87skit44rg.fsf@wine.dyndns.org> <gvf342$al1$1@ger.gmane.org>
	<87hbz8413q.fsf@wine.dyndns.org> <gvgh1u$hmv$1@ger.gmane.org>
	<C8EEC6B247154C688EC81511507F4036@DMITRY>
	<d7e40be30905262244o13d513aaxb13f1adad85554ed@mail.gmail.com>
Message-ID: <gvip3s$r1g$1@ger.gmane.org>

Ben Klein ha scritto:

> 
> A little while ago I was trying to run an app that uses Win16 DIB.DRV
> (I forget which app it was). My research indicated that although
> DIB.DRV was an actual driver (similar in architecture to Max's
> proposed DIB engine) in Win16 systems, in Windows 95 the functionality
> was rolled into GDI. For my app, this means that (in theory) exposing
> appropriate, existing DIB functions to my Win16 app in the form of a
> virtual DIB.DRV should work. For Max's engine, we're looking at
> diverging from Microsoft's modern architecture and switching back to
> something that was "good enough" 25 years ago.

I begin thinking to not be clear enough in what I write......
2 Last words:

1) Huw's starting engine *was* a driver's one, and many people told it was
the right way. Worse, it forked driver from inside gdi32, which was awful
to maintain.

2) My engine insertrs itself between gdi32 and the display driver; I begins
to be tired repeating that it's a step through the final design on where
DIB are handled fully inside gdi32. The step is, imho, necessary to split
DIB handling from DDB without having to rewrite at once half of gdi32 + half
of winex11.drv and maybe others.
It is *not* the final step, now it wants to be. It's made so to prepare
the switching in a painless way, *if* accepted.
If not, just prepare to have the sampe problems we had with mshtml
switching on each gecko change. In my case that broke a lot of stuffs.
> 
> We all know AJ wants things to be done "the right way" the first time.
> I agree with this policy, because it makes for more maintainable code,
> less duplication, etc.
again, I agree with that. Defining what is "the right way" is still a
mysterious matter.

  Wine's patch acceptance policy specifically
> prohibits "hack it until it works,

which hack ?????
  then worry about it later" style
> programming, and the consensus of devs seems to be that adding a new
> DIB *driver* as an intermediary between GDI32 and hardware drivers is
> the wrong way to go about things.
> 

Strange enough, as the consensus on Huw's design was great, and it used
a *real* external driver, and *not* an intermediate one as mine.
But I start thinking that the requirements and consensus are very fluid and
moving matters, lately.

Btw, sorry all but I begins to be tired of telling same stuffs again and
again. I made a proposal for something that *could* help the migration to
final design, a *working* proposal, not just a prototype, and I believe on it.
If that's not what most devels think, for me is ok.
The engine will be available as a patch for whom needs/likes it, point.

Last work about accepting or not hacks: I never proposed such patches.
The most "hacky" stuff I sent (and was rejected, with a motivation that
could be right) was the addition of page size handling inside wineps.drv.
Motivation was that the printer driver shoul be rewritten for cups without
lpr usage. I agree. But by now *is* using lpr and *is* lacking support
for page size and other stuffs.
So I asked myself : it's better to wait up we have the "complete right code",
leaving the printer driver missing stuffs, or for the moment extend it while
waiting for the right one ? I would have chosen the second solution, but as usual
is a matter of taste.

Max



From austinenglish at gmail.com  Wed May 27 02:17:10 2009
From: austinenglish at gmail.com (Austin English)
Date: Wed, 27 May 2009 02:17:10 -0500
Subject: DIB Engine : passing all tests
In-Reply-To: <gvip3s$r1g$1@ger.gmane.org>
References: <gv7cjr$rn5$1@ger.gmane.org> <871vqd5tsa.fsf@wine.dyndns.org>
	<b050a5e70905250701h3816ea9bk96764f09aca3c9ea@mail.gmail.com>
	<87skit44rg.fsf@wine.dyndns.org> <gvf342$al1$1@ger.gmane.org>
	<87hbz8413q.fsf@wine.dyndns.org> <gvgh1u$hmv$1@ger.gmane.org>
	<C8EEC6B247154C688EC81511507F4036@DMITRY>
	<d7e40be30905262244o13d513aaxb13f1adad85554ed@mail.gmail.com>
	<gvip3s$r1g$1@ger.gmane.org>
Message-ID: <b6bb06270905270017u7566bf48ua58d78d6a019e35b@mail.gmail.com>

On Wed, May 27, 2009 at 2:11 AM, Massimo Del Fedele <max at veneto.com> wrote:
> Strange enough, as the consensus on Huw's design was great, and it used
> a *real* external driver, and *not* an intermediate one as mine.
> But I start thinking that the requirements and consensus are very fluid and
> moving matters, lately.
>
> Btw, sorry all but I begins to be tired of telling same stuffs again and
> again. I made a proposal for something that *could* help the migration to
> final design, a *working* proposal, not just a prototype, and I believe on
> it.
> If that's not what most devels think, for me is ok.
> The engine will be available as a patch for whom needs/likes it, point.

Not directed toward you, Massimo, but others:

Keep in mind, Massimo has sent patches dozens of times, along with
explanations/critiques. Unless you have something *NEW* to add (check
the archives), please refrain from commenting since in waste a lot of
time.
-- 
-Austin


From paul.vriens.wine at gmail.com  Wed May 27 02:18:14 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Wed, 27 May 2009 09:18:14 +0200
Subject: [mshtml/tests] Fix 2 test failures on IE8
In-Reply-To: <4A1C57C0.8090008@codeweavers.com>
References: <4A1C1166.5070108@gmail.com> <4A1C57C0.8090008@codeweavers.com>
Message-ID: <4A1CE936.4000703@gmail.com>

Jacek Caban wrote:
> Hi Paul,
> 
> Paul Vriens wrote:
>> Changelog
>>   Fix 2 test failures on IE8
>>
> -        ok(disp == (void*)0xdeadbeef, "disp=%p\n", disp);
> +        ok(disp == (void*)0xdeadbeef ||
> +           disp == NULL, /* IE8 */
> 
> 
> This test does no longer make sense. It would be better to remove it and 
> preferably change implementation to match IE8.
> 
> 
> Thanks,
>    Jacek
> 
> 
> 
Hi Jacek,

Something like the attached?

-- 
Cheers,

Paul.

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: patch
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090527/7f97926f/attachment.asc>

From vit.hrachovy at sandbox.cz  Wed May 27 03:26:13 2009
From: vit.hrachovy at sandbox.cz (Vit Hrachovy)
Date: Wed, 27 May 2009 10:26:13 +0200
Subject: DIB Engine : passing all tests
In-Reply-To: <gvip3s$r1g$1@ger.gmane.org>
References: <gv7cjr$rn5$1@ger.gmane.org>	<39c14e440905240304j571f63dah70167f133f0e2c52@mail.gmail.com>	<f25439870905250206u2452865g9de2559c3fcbb9aa@mail.gmail.com>	<871vqd5tsa.fsf@wine.dyndns.org>	<b050a5e70905250701h3816ea9bk96764f09aca3c9ea@mail.gmail.com>	<87skit44rg.fsf@wine.dyndns.org>
	<gvf342$al1$1@ger.gmane.org>	<87hbz8413q.fsf@wine.dyndns.org>
	<gvgh1u$hmv$1@ger.gmane.org>	<C8EEC6B247154C688EC81511507F4036@DMITRY>	<d7e40be30905262244o13d513aaxb13f1adad85554ed@mail.gmail.com>
	<gvip3s$r1g$1@ger.gmane.org>
Message-ID: <4A1CF925.9050004@sandbox.cz>

Massimo Del Fedele wrote:
> Btw, sorry all but I begins to be tired of telling same stuffs again and
> again. I made a proposal for something that *could* help the migration to
> final design, a *working* proposal, not just a prototype, and I believe 
> on it.
> If that's not what most devels think, for me is ok.
> The engine will be available as a patch for whom needs/likes it, point.

Hi Max,
would it be possible to craft a wikipage on Wine Wiki, that would encompass
  * official DIB implementation requirements
  * high level description of Huw's solution
  * description of Your solution incl. proposed integration plan

It would ease the orientation, prevent repeating the same stuff again 
and again and it could also serve as a solid base for further discussion 
about DIB integration requirements.

Regards
Hark


From thunderbird2k at gmail.com  Wed May 27 03:48:25 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Wed, 27 May 2009 10:48:25 +0200
Subject: DIB Engine : passing all tests
In-Reply-To: <4A1CF925.9050004@sandbox.cz>
References: <gv7cjr$rn5$1@ger.gmane.org>
	<b050a5e70905250701h3816ea9bk96764f09aca3c9ea@mail.gmail.com>
	<87skit44rg.fsf@wine.dyndns.org> <gvf342$al1$1@ger.gmane.org>
	<87hbz8413q.fsf@wine.dyndns.org> <gvgh1u$hmv$1@ger.gmane.org>
	<C8EEC6B247154C688EC81511507F4036@DMITRY>
	<d7e40be30905262244o13d513aaxb13f1adad85554ed@mail.gmail.com>
	<gvip3s$r1g$1@ger.gmane.org> <4A1CF925.9050004@sandbox.cz>
Message-ID: <c8485d470905270148k4ff67aa9x7c66f377a57c8ec@mail.gmail.com>

On Wed, May 27, 2009 at 10:26 AM, Vit Hrachovy <vit.hrachovy at sandbox.cz> wrote:
> Massimo Del Fedele wrote:
>>
>> Btw, sorry all but I begins to be tired of telling same stuffs again and
>> again. I made a proposal for something that *could* help the migration to
>> final design, a *working* proposal, not just a prototype, and I believe on
>> it.
>> If that's not what most devels think, for me is ok.
>> The engine will be available as a patch for whom needs/likes it, point.
>
> Hi Max,
> would it be possible to craft a wikipage on Wine Wiki, that would encompass
> ?* official DIB implementation requirements
> ?* high level description of Huw's solution
> ?* description of Your solution incl. proposed integration plan
>
> It would ease the orientation, prevent repeating the same stuff again and
> again and it could also serve as a solid base for further discussion about
> DIB integration requirements.
>
> Regards
> Hark
>
>
>

I have asked Alexandre about it but it wasn't really an option. Even
for Huw writing a full dib engine (if he resumed his current code)
would take five months or so full time. Filling in the 'easy' bits
(which Alexandre considers most of the things done so far) is not that
much work (the easy bits are the software drawing functions).

Roderick


From mrmessiah at gmail.com  Wed May 27 03:54:38 2009
From: mrmessiah at gmail.com (Chris Howe)
Date: Wed, 27 May 2009 09:54:38 +0100
Subject: DIB Engine : passing all tests
In-Reply-To: <c8485d470905270148k4ff67aa9x7c66f377a57c8ec@mail.gmail.com>
References: <gv7cjr$rn5$1@ger.gmane.org> <87skit44rg.fsf@wine.dyndns.org>
	<gvf342$al1$1@ger.gmane.org> <87hbz8413q.fsf@wine.dyndns.org>
	<gvgh1u$hmv$1@ger.gmane.org> <C8EEC6B247154C688EC81511507F4036@DMITRY>
	<d7e40be30905262244o13d513aaxb13f1adad85554ed@mail.gmail.com>
	<gvip3s$r1g$1@ger.gmane.org> <4A1CF925.9050004@sandbox.cz>
	<c8485d470905270148k4ff67aa9x7c66f377a57c8ec@mail.gmail.com>
Message-ID: <39c14e440905270154r46eb9127u64a779dc205212f4@mail.gmail.com>

2009/5/27 Roderick Colenbrander <thunderbird2k at gmail.com>

> On Wed, May 27, 2009 at 10:26 AM, Vit Hrachovy <vit.hrachovy at sandbox.cz>
> wrote:
> > would it be possible to craft a wikipage on Wine Wiki, that would
> encompass
> >  * official DIB implementation requirements
> >  * high level description of Huw's solution
> >  * description of Your solution incl. proposed integration plan
> >
>
> I have asked Alexandre about it but it wasn't really an option. Even
> for Huw writing a full dib engine (if he resumed his current code)
> would take five months or so full time. Filling in the 'easy' bits
> (which Alexandre considers most of the things done so far) is not that
> much work (the easy bits are the software drawing functions).


I'm not sure I understand this answer, as all but the first line doesn't
seem to relate to the question. Are you saying that you have been told
that making the documentation Vit described wasn't an option?

--
Chris
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090527/ff2aba61/attachment.htm>

From paul.vriens.wine at gmail.com  Wed May 27 05:59:05 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Wed, 27 May 2009 12:59:05 +0200
Subject: comctl32/ipaddress: Use ok() test instead of assert()
In-Reply-To: <1243420242.29529.3.camel@debianhome.localdomain>
References: <1243420242.29529.3.camel@debianhome.localdomain>
Message-ID: <4A1D1CF9.3060605@gmail.com>

Nikolay Sivov wrote:
> This test fails to create window sometimes on Win95,
> let's turn it into general failure.
> 
> Changelog:
>     - replace assert() with ok() test
> 
>>From b63fc6defb497505ecaab4921449327e875ab252 Mon Sep 17 00:00:00 2001
> From: Nikolay Sivov <bunglehead at gmail.com>
> Date: Wed, 27 May 2009 14:26:37 +0400
> Subject: Use ok() test instead of assert()
> 
> ---
>  dlls/comctl32/tests/ipaddress.c |    3 +--
>  1 files changed, 1 insertions(+), 2 deletions(-)
> 
> diff --git a/dlls/comctl32/tests/ipaddress.c b/dlls/comctl32/tests/ipaddress.c
> index d04223c..b8f30e4 100644
> --- a/dlls/comctl32/tests/ipaddress.c
> +++ b/dlls/comctl32/tests/ipaddress.c
> @@ -33,8 +33,6 @@ static HWND create_ipaddress_control (void)
>      handle = CreateWindowEx(0, WC_IPADDRESS, NULL,
>  			    WS_BORDER|WS_VISIBLE, 0, 0, 0, 0,
>  			    NULL, NULL, NULL, NULL);
> -    assert(handle);
> -
>      return handle;
>  }
>  
> @@ -45,6 +43,7 @@ static void test_get_set_text(void)
>      INT r;
>  
>      hwnd = create_ipaddress_control();
> +    ok(hwnd != NULL, "Expected window to be created\n");
>  

Shouldn't you insert a return here when hwnd is NULL. The following 
tests will fail as well I guess.

-- 
Cheers,

Paul.


From bunglehead at gmail.com  Wed May 27 06:03:38 2009
From: bunglehead at gmail.com (Nikolay Sivov)
Date: Wed, 27 May 2009 15:03:38 +0400
Subject: comctl32/ipaddress: Use ok() test instead of assert()
In-Reply-To: <4A1D1CF9.3060605@gmail.com>
References: <1243420242.29529.3.camel@debianhome.localdomain>
	<4A1D1CF9.3060605@gmail.com>
Message-ID: <4A1D1E0A.1050504@gmail.com>

Paul Vriens wrote:
> Nikolay Sivov wrote:
>> This test fails to create window sometimes on Win95,
>> let's turn it into general failure.
>>
>> Changelog:
>>     - replace assert() with ok() test
>>
>>> From b63fc6defb497505ecaab4921449327e875ab252 Mon Sep 17 00:00:00 2001
>> From: Nikolay Sivov <bunglehead at gmail.com>
>> Date: Wed, 27 May 2009 14:26:37 +0400
>> Subject: Use ok() test instead of assert()
>>
>> ---
>>  dlls/comctl32/tests/ipaddress.c |    3 +--
>>  1 files changed, 1 insertions(+), 2 deletions(-)
>>
>> diff --git a/dlls/comctl32/tests/ipaddress.c 
>> b/dlls/comctl32/tests/ipaddress.c
>> index d04223c..b8f30e4 100644
>> --- a/dlls/comctl32/tests/ipaddress.c
>> +++ b/dlls/comctl32/tests/ipaddress.c
>> @@ -33,8 +33,6 @@ static HWND create_ipaddress_control (void)
>>      handle = CreateWindowEx(0, WC_IPADDRESS, NULL,
>>                  WS_BORDER|WS_VISIBLE, 0, 0, 0, 0,
>>                  NULL, NULL, NULL, NULL);
>> -    assert(handle);
>> -
>>      return handle;
>>  }
>>  
>> @@ -45,6 +43,7 @@ static void test_get_set_text(void)
>>      INT r;
>>  
>>      hwnd = create_ipaddress_control();
>> +    ok(hwnd != NULL, "Expected window to be created\n");
>>  
>
> Shouldn't you insert a return here when hwnd is NULL. The following 
> tests will fail as well I guess.
>
The reason was to count failures as usual instead of exit a test hardly. 
I still don't know why it can't be created
some times so I think win_skip doesn't mean much till we don't know a cause.



From paul.vriens.wine at gmail.com  Wed May 27 06:08:00 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Wed, 27 May 2009 13:08:00 +0200
Subject: comctl32/ipaddress: Use ok() test instead of assert()
In-Reply-To: <4A1D1CF9.3060605@gmail.com>
References: <1243420242.29529.3.camel@debianhome.localdomain>
	<4A1D1CF9.3060605@gmail.com>
Message-ID: <4A1D1F10.7020008@gmail.com>

Paul Vriens wrote:
> Nikolay Sivov wrote:
>> This test fails to create window sometimes on Win95,
>> let's turn it into general failure.
>>
>> Changelog:
>>     - replace assert() with ok() test
>>
>>> From b63fc6defb497505ecaab4921449327e875ab252 Mon Sep 17 00:00:00 2001
>> From: Nikolay Sivov <bunglehead at gmail.com>
>> Date: Wed, 27 May 2009 14:26:37 +0400
>> Subject: Use ok() test instead of assert()
>>
>> ---
>>  dlls/comctl32/tests/ipaddress.c |    3 +--
>>  1 files changed, 1 insertions(+), 2 deletions(-)
>>
>> diff --git a/dlls/comctl32/tests/ipaddress.c 
>> b/dlls/comctl32/tests/ipaddress.c
>> index d04223c..b8f30e4 100644
>> --- a/dlls/comctl32/tests/ipaddress.c
>> +++ b/dlls/comctl32/tests/ipaddress.c
>> @@ -33,8 +33,6 @@ static HWND create_ipaddress_control (void)
>>      handle = CreateWindowEx(0, WC_IPADDRESS, NULL,
>>                  WS_BORDER|WS_VISIBLE, 0, 0, 0, 0,
>>                  NULL, NULL, NULL, NULL);
>> -    assert(handle);
>> -
>>      return handle;
>>  }
>>  
>> @@ -45,6 +43,7 @@ static void test_get_set_text(void)
>>      INT r;
>>  
>>      hwnd = create_ipaddress_control();
>> +    ok(hwnd != NULL, "Expected window to be created\n");
>>  
> 
> Shouldn't you insert a return here when hwnd is NULL. The following 
> tests will fail as well I guess.
> 
Just had a look and it seems that only one box actually has this 
failure. Maybe a win_skip() would be 'better'?

hwnd = create_ipaddress_control();
if (!hwnd)
{
     win_skip();
     return;
}

Maybe even printing the last error in that win_skip() ?

Especially as MSDN states:

The IP address control is implemented in version 4.71 and later of 
Comctl32.dll.

And this box has 4.70.0.1146.

-- 
Cheers,

Paul.


From jacek at codeweavers.com  Wed May 27 06:19:15 2009
From: jacek at codeweavers.com (Jacek Caban)
Date: Wed, 27 May 2009 13:19:15 +0200
Subject: [mshtml/tests] Fix 2 test failures on IE8
In-Reply-To: <4A1CE936.4000703@gmail.com>
References: <4A1C1166.5070108@gmail.com> <4A1C57C0.8090008@codeweavers.com>
	<4A1CE936.4000703@gmail.com>
Message-ID: <4A1D21B3.1040709@codeweavers.com>

Paul Vriens wrote:
> Jacek Caban wrote:
>> Hi Paul,
>>
>> Paul Vriens wrote:
>>> Changelog
>>>   Fix 2 test failures on IE8
>>>
>> -        ok(disp == (void*)0xdeadbeef, "disp=%p\n", disp);
>> +        ok(disp == (void*)0xdeadbeef ||
>> +           disp == NULL, /* IE8 */
>>
>>
>> This test does no longer make sense. It would be better to remove it 
>> and preferably change implementation to match IE8.
>>
>>
>> Thanks,
>>    Jacek
>>
>>
>>
> Hi Jacek,
>
> Something like the attached?
>

Yes, it looks good.


Thanks,
    Jacek


From bunglehead at gmail.com  Wed May 27 06:21:48 2009
From: bunglehead at gmail.com (Nikolay Sivov)
Date: Wed, 27 May 2009 15:21:48 +0400
Subject: comctl32/ipaddress: Use ok() test instead of assert()
In-Reply-To: <4A1D1F10.7020008@gmail.com>
References: <1243420242.29529.3.camel@debianhome.localdomain>
	<4A1D1CF9.3060605@gmail.com> <4A1D1F10.7020008@gmail.com>
Message-ID: <4A1D224C.4050003@gmail.com>

Paul Vriens wrote:
> Paul Vriens wrote:
>> Nikolay Sivov wrote:
>>> This test fails to create window sometimes on Win95,
>>> let's turn it into general failure.
>>>
>>> Changelog:
>>>     - replace assert() with ok() test
>>>
>>>> From b63fc6defb497505ecaab4921449327e875ab252 Mon Sep 17 00:00:00 2001
>>> From: Nikolay Sivov <bunglehead at gmail.com>
>>> Date: Wed, 27 May 2009 14:26:37 +0400
>>> Subject: Use ok() test instead of assert()
>>>
>>> ---
>>>  dlls/comctl32/tests/ipaddress.c |    3 +--
>>>  1 files changed, 1 insertions(+), 2 deletions(-)
>>>
>>> diff --git a/dlls/comctl32/tests/ipaddress.c 
>>> b/dlls/comctl32/tests/ipaddress.c
>>> index d04223c..b8f30e4 100644
>>> --- a/dlls/comctl32/tests/ipaddress.c
>>> +++ b/dlls/comctl32/tests/ipaddress.c
>>> @@ -33,8 +33,6 @@ static HWND create_ipaddress_control (void)
>>>      handle = CreateWindowEx(0, WC_IPADDRESS, NULL,
>>>                  WS_BORDER|WS_VISIBLE, 0, 0, 0, 0,
>>>                  NULL, NULL, NULL, NULL);
>>> -    assert(handle);
>>> -
>>>      return handle;
>>>  }
>>>  
>>> @@ -45,6 +43,7 @@ static void test_get_set_text(void)
>>>      INT r;
>>>  
>>>      hwnd = create_ipaddress_control();
>>> +    ok(hwnd != NULL, "Expected window to be created\n");
>>>  
>>
>> Shouldn't you insert a return here when hwnd is NULL. The following 
>> tests will fail as well I guess.
>>
> Just had a look and it seems that only one box actually has this 
> failure. Maybe a win_skip() would be 'better'?
>
> hwnd = create_ipaddress_control();
> if (!hwnd)
> {
>     win_skip();
>     return;
> }
>
> Maybe even printing the last error in that win_skip() ?
>
> Especially as MSDN states:
>
> The IP address control is implemented in version 4.71 and later of 
> Comctl32.dll.
>
> And this box has 4.70.0.1146.
>
Maybe it's true. But what about two others boxes:
http://test.winehq.org/data/bf353f180d622cbf8508af7dbc9590e33293a6ab/95_gvg-w95/version.html
http://test.winehq.org/data/bf353f180d622cbf8508af7dbc9590e33293a6ab/95_fg-win95/version.html

Version reported as 4.0, so it's pure Win95 - tests pass on it.



From paul.vriens.wine at gmail.com  Wed May 27 06:25:38 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Wed, 27 May 2009 13:25:38 +0200
Subject: comctl32/ipaddress: Use ok() test instead of assert()
In-Reply-To: <4A1D224C.4050003@gmail.com>
References: <1243420242.29529.3.camel@debianhome.localdomain>
	<4A1D1CF9.3060605@gmail.com> <4A1D1F10.7020008@gmail.com>
	<4A1D224C.4050003@gmail.com>
Message-ID: <4A1D2332.4090607@gmail.com>

Nikolay Sivov wrote:
> Paul Vriens wrote:
>> Paul Vriens wrote:
>>> Nikolay Sivov wrote:
>>>> This test fails to create window sometimes on Win95,
>>>> let's turn it into general failure.
>>>>
>>>> Changelog:
>>>>     - replace assert() with ok() test
>>>>
>>>>> From b63fc6defb497505ecaab4921449327e875ab252 Mon Sep 17 00:00:00 2001
>>>> From: Nikolay Sivov <bunglehead at gmail.com>
>>>> Date: Wed, 27 May 2009 14:26:37 +0400
>>>> Subject: Use ok() test instead of assert()
>>>>
>>>> ---
>>>>  dlls/comctl32/tests/ipaddress.c |    3 +--
>>>>  1 files changed, 1 insertions(+), 2 deletions(-)
>>>>
>>>> diff --git a/dlls/comctl32/tests/ipaddress.c 
>>>> b/dlls/comctl32/tests/ipaddress.c
>>>> index d04223c..b8f30e4 100644
>>>> --- a/dlls/comctl32/tests/ipaddress.c
>>>> +++ b/dlls/comctl32/tests/ipaddress.c
>>>> @@ -33,8 +33,6 @@ static HWND create_ipaddress_control (void)
>>>>      handle = CreateWindowEx(0, WC_IPADDRESS, NULL,
>>>>                  WS_BORDER|WS_VISIBLE, 0, 0, 0, 0,
>>>>                  NULL, NULL, NULL, NULL);
>>>> -    assert(handle);
>>>> -
>>>>      return handle;
>>>>  }
>>>>  
>>>> @@ -45,6 +43,7 @@ static void test_get_set_text(void)
>>>>      INT r;
>>>>  
>>>>      hwnd = create_ipaddress_control();
>>>> +    ok(hwnd != NULL, "Expected window to be created\n");
>>>>  
>>>
>>> Shouldn't you insert a return here when hwnd is NULL. The following 
>>> tests will fail as well I guess.
>>>
>> Just had a look and it seems that only one box actually has this 
>> failure. Maybe a win_skip() would be 'better'?
>>
>> hwnd = create_ipaddress_control();
>> if (!hwnd)
>> {
>>     win_skip();
>>     return;
>> }
>>
>> Maybe even printing the last error in that win_skip() ?
>>
>> Especially as MSDN states:
>>
>> The IP address control is implemented in version 4.71 and later of 
>> Comctl32.dll.
>>
>> And this box has 4.70.0.1146.
>>
> Maybe it's true. But what about two others boxes:
> http://test.winehq.org/data/bf353f180d622cbf8508af7dbc9590e33293a6ab/95_gvg-w95/version.html 
> 
> http://test.winehq.org/data/bf353f180d622cbf8508af7dbc9590e33293a6ab/95_fg-win95/version.html 
> 
> 
> Version reported as 4.0, so it's pure Win95 - tests pass on it.
> 
Not really, all tests are skipped on these two boxes ;).

-- 
Cheers,

Paul.


From bunglehead at gmail.com  Wed May 27 06:29:23 2009
From: bunglehead at gmail.com (Nikolay Sivov)
Date: Wed, 27 May 2009 15:29:23 +0400
Subject: comctl32/ipaddress: Use ok() test instead of assert()
In-Reply-To: <4A1D2332.4090607@gmail.com>
References: <1243420242.29529.3.camel@debianhome.localdomain>
	<4A1D1CF9.3060605@gmail.com> <4A1D1F10.7020008@gmail.com>
	<4A1D224C.4050003@gmail.com> <4A1D2332.4090607@gmail.com>
Message-ID: <4A1D2413.9060204@gmail.com>

Paul Vriens wrote:
>> Maybe it's true. But what about two others boxes:
>> http://test.winehq.org/data/bf353f180d622cbf8508af7dbc9590e33293a6ab/95_gvg-w95/version.html 
>>
>> http://test.winehq.org/data/bf353f180d622cbf8508af7dbc9590e33293a6ab/95_fg-win95/version.html 
>>
>>
>> Version reported as 4.0, so it's pure Win95 - tests pass on it.
>>
> Not really, all tests are skipped on these two boxes ;).
Oh, sorry. You're right I'll post a win_skip version.



From paul.vriens.wine at gmail.com  Wed May 27 06:50:52 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Wed, 27 May 2009 13:50:52 +0200
Subject: comctl32/ipaddress: Skip test on Win95 with common controls 4.70
	(try2)
In-Reply-To: <1243424797.31023.3.camel@debianhome.localdomain>
References: <1243424797.31023.3.camel@debianhome.localdomain>
Message-ID: <4A1D291C.5070603@gmail.com>

Nikolay Sivov wrote:
> For version 4.0 we are skipping earlier on initialization.
> 
> Changelog:
>     - try2: use win_skip()
>     - Skip test on Win95 with common controls 4.70
> 
>>From 81645944ef518860de7ddcd1b64fadd11277a915 Mon Sep 17 00:00:00 2001
> From: Nikolay Sivov <bunglehead at gmail.com>
> Date: Wed, 27 May 2009 15:39:20 +0400
> Subject: Skip test on Win95 with common controls 4.70
> 
> ---
>  dlls/comctl32/tests/ipaddress.c |    8 ++++++--
>  1 files changed, 6 insertions(+), 2 deletions(-)
> 
> diff --git a/dlls/comctl32/tests/ipaddress.c b/dlls/comctl32/tests/ipaddress.c
> index d04223c..13af687 100644
> --- a/dlls/comctl32/tests/ipaddress.c
> +++ b/dlls/comctl32/tests/ipaddress.c
> @@ -33,8 +33,6 @@ static HWND create_ipaddress_control (void)
>      handle = CreateWindowEx(0, WC_IPADDRESS, NULL,
>  			    WS_BORDER|WS_VISIBLE, 0, 0, 0, 0,
>  			    NULL, NULL, NULL, NULL);
> -    assert(handle);
> -
>      return handle;
>  }
>  
> @@ -45,6 +43,12 @@ static void test_get_set_text(void)
>      INT r;
>  
>      hwnd = create_ipaddress_control();
> +    ok(hwnd != NULL, "Expected window to be created\n");
> +    if (!hwnd)
> +    {
> +        win_skip("IPAddress control not implemented\n");
> +        return;
> +    }
>  
>      /* check text just after creation */
>      r = GetWindowText(hwnd, ip, sizeof(ip)/sizeof(CHAR));

I would either get rid of the ok(hwnd ...) altogether or move it after 
the if(). win_skip() means we are ok with a failure on some Windows 
boxes so a test failure just before that doesn't make sense.

-- 
Cheers,

Paul.


From bunglehead at gmail.com  Wed May 27 07:11:30 2009
From: bunglehead at gmail.com (Nikolay Sivov)
Date: Wed, 27 May 2009 16:11:30 +0400
Subject: comctl32/ipaddress: Skip test on Win95 with common controls 4.70
	(try2)
In-Reply-To: <4A1D291C.5070603@gmail.com>
References: <1243424797.31023.3.camel@debianhome.localdomain>
	<4A1D291C.5070603@gmail.com>
Message-ID: <4A1D2DF2.8060206@gmail.com>

Paul Vriens wrote:
> Nikolay Sivov wrote:  
>>
>> +    ok(hwnd != NULL, "Expected window to be created\n");
>> +    if (!hwnd)
>> +    {
>> +        win_skip("IPAddress control not implemented\n");
>> +        return;
>> +    }
>>  
>>      /* check text just after creation */
>>      r = GetWindowText(hwnd, ip, sizeof(ip)/sizeof(CHAR));
>
> I would either get rid of the ok(hwnd ...) altogether or move it after 
> the if(). win_skip() means we are ok with a failure on some Windows 
> boxes so a test failure just before that doesn't make sense.
>
Agreed. Try 3 should be fine.


From stefandoesinger at gmx.at  Wed May 27 09:06:05 2009
From: stefandoesinger at gmx.at (Stefan =?iso-8859-1?q?D=F6singer?=)
Date: Wed, 27 May 2009 16:06:05 +0200
Subject: wined3d:
In-Reply-To: <4A1D34B4.1040303@inf.upol.cz>
References: <4A1D34B4.1040303@inf.upol.cz>
Message-ID: <200905271606.05804.stefandoesinger@gmx.at>

Am Mittwoch, 27. Mai 2009 14:40:20 schrieb Pavel Prochazka:

> IWineGDISwapChainImpl_Present repaired when there is only one backbuffer
Hmm. Situations where flip is called on a single-buffered surface should be 
cought in ddraw I think. If I remember correctly, calling flip on a single 
buffered surface should return an error


From jjmckenzie51 at earthlink.net  Wed May 27 10:53:02 2009
From: jjmckenzie51 at earthlink.net (James Mckenzie)
Date: Wed, 27 May 2009 11:53:02 -0400 (EDT)
Subject: wined3d: {Name of patch here}
Message-ID: <32113531.1243439583164.JavaMail.root@elwamui-lapwing.atl.sa.earthlink.net>

Pavel:

Just as a hint, can you name your patches to be more descriptive.

I am looking for a fix to this problem, and will attempt to test this against DooM to see if the slowness problem I have is fixed.

Thank you for contributing to the Wine Project.

James McKenzie

-----Original Message-----
>From: Pavel Prochazka <prochapa at inf.upol.cz>
>Sent: May 27, 2009 5:40 AM
>To: wine-patches at winehq.org
>Subject: wined3d:
>
>



From dsent.zen at gmail.com  Wed May 27 14:01:35 2009
From: dsent.zen at gmail.com (Danila Sentiabov)
Date: Wed, 27 May 2009 23:01:35 +0400
Subject: AppDB - Incorrect entry
Message-ID: <1811e4620905271201m556c1125yd81025515c8b64f@mail.gmail.com>

Hi. I've found incorrect AppDB entry that needs to be merged with another
one. App maintainer could not do that.
Could someone (with admin access to AppDB) help?

http://appdb.winehq.org/objectManager.php?sClass=version&iId=7641

-- 
Best regards,
Danila Sentiabov aka dsent
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090527/a927dc09/attachment.htm>

From austinenglish at gmail.com  Wed May 27 14:07:21 2009
From: austinenglish at gmail.com (Austin English)
Date: Wed, 27 May 2009 14:07:21 -0500
Subject: AppDB - Incorrect entry
In-Reply-To: <1811e4620905271201m556c1125yd81025515c8b64f@mail.gmail.com>
References: <1811e4620905271201m556c1125yd81025515c8b64f@mail.gmail.com>
Message-ID: <b6bb06270905271207me5db2ebg34b4dd7e3248e6c2@mail.gmail.com>

On Wed, May 27, 2009 at 2:01 PM, Danila Sentiabov <dsent.zen at gmail.com> wrote:
> Hi. I've found incorrect AppDB entry that needs to be merged with another
> one. App maintainer could not do that.
> Could someone (with admin access to AppDB) help?
>
> http://appdb.winehq.org/objectManager.php?sClass=version&iId=7641

Done.

-- 
-Austin


From jjmckenzie51 at earthlink.net  Wed May 27 20:47:47 2009
From: jjmckenzie51 at earthlink.net (James McKenzie)
Date: Wed, 27 May 2009 18:47:47 -0700
Subject: DIB Engine : passing all tests
In-Reply-To: <gvgi74$kvs$1@ger.gmane.org>
References: <gv7cjr$rn5$1@ger.gmane.org>	<b6bb06270905231110g6b30853exfd853cc3a3353ebc@mail.gmail.com>	<gv9i31$bu4$1@ger.gmane.org>	<d7e40be30905232154vbf62493qcb458ed316251d49@mail.gmail.com>	<gvb111$vrg$1@ger.gmane.org>	<39c14e440905240304j571f63dah70167f133f0e2c52@mail.gmail.com>	<f25439870905250206u2452865g9de2559c3fcbb9aa@mail.gmail.com>	<871vqd5tsa.fsf@wine.dyndns.org>	<b050a5e70905250701h3816ea9bk96764f09aca3c9ea@mail.gmail.com>	<87skit44rg.fsf@wine.dyndns.org>	<f3f1b91a0905251832k3af9c535ob64864877e6b9094@mail.gmail.com>	<87d49w40rf.fsf@wine.dyndns.org>
	<gvgi74$kvs$1@ger.gmane.org>
Message-ID: <4A1DED43.6090006@earthlink.net>

Massimo Del Fedele wrote:
> Alexandre Julliard ha scritto:
>>
>> The last time I rejected a simple patch from Massimo, he basically said
>> that he didn't have time to fix the patch and just dropped it. That
>> doesn't encourage me to spend more effort on reviewing his more complex
>> stuff.
>>
>
> Hi again :-)
>
> Well, to be precise those were some patches rejected, one with some
> explanation
> and others not.
> Former was about adding page size support to wineps.drv. I haven't
> dropped it,
> but you told me that an almost complete rewrite of cups printers
> handling was
> foreseen and preferred, so I kept it on my tree. I have really not
> enough skills
> nor time to do such a complex job. My patch was just sending the
> missing page size
> string to lpr along as printer name, which is by now the only stuff sent.
> I can understand, of course, that going through lpr is not a very nice
> way.
> I'm using the patch for my daily job, it's not dropped.
>
> Latters were one testcase (which was meant preparing some gdiplus
> patches....) which
> was rejected because "too long" and "with meaningless comments" and a
> couple of
> gdiplus functions that were missing (and are still missing) needed by
> autocad to
> run with builtin gdiplus, rejected because "contains errors"
> (possible, but which ?) and
> were "a pain to review" (hmmmm....).
> BTW, about comments, I'm sorry but my memory is not perfect and I tend
> to forget what I did
> and why after a couple of monthes, so the reason of maybe
> over-commenting all my code :-)
I tend to disagree with your self evaluation of 'too many'.  There is NO
such thing in coding.  I've seen code with too little comments and then
had to figure out what the heck the coder was trying to do inside the
code.  Of course, talking to the coder resulted in a "I know what I'm
doing" conversation that resulted in no forward movement on a fixable
problem that may have resulted in the company's demise.


> I must say that the must difficult part of writing my engine was to
> try to figure out what
> gdi32/winex11 code does, and some comments more woul have been of
> great help !
>
This is very true.  Code should at a minimum point out where the
examples can be found.  MSDN is very frustrating when it comes to how a
piece of code is supposed to work.

What I see here is a lack of assistance from those who grade the code. 
This is what I consider unacceptable and has resulted in the stoppage of
fixes being submitted by folks who 'code for food', that is they write
code for a living.  I evaluate and support programs for a living.  Guess
what?  I don't recommend that folks use Wine on Macs for production
level work.  It just is not 'there'.  Sadly, these same folks want to
walk away from using Microsoft Software because, pardon the phrase, it
just plain sucks.  It is poorly written and full of bugs (and some of
those bugs have been there for years.)  I appreciate AJs efforts to keep
the code base 'clean'.  In the process, however, you have to tell folks
what to do in order to keep the base clean.  That is just plain being
nice and is good ettiquitte.  Otherwise, all you are doing is attempting
to shoo away those who could really help move the project along and fix
long standing problems.  It does not take more time to state:  Your code
does not meet Wine standards because it has tabs in it", then to say
"You can do better".    Adding comments to what a certain chunk of code
does is not expensive and it does make troubleshooting code much easier
at a later time by a different person.  One line comments are best. 

So what say all, shall we try to make coding better and as Max stated,
fun.  Most of the folks here do not support this project for a living
and we should not restrict this project to those who do.  However, it
appears that a vast majority of the patches are coming from those who
either are long time Wine 'hackers' or those whose living depends on
this project's survival.

James McKenzie




From jjmckenzie51 at earthlink.net  Wed May 27 21:00:34 2009
From: jjmckenzie51 at earthlink.net (James McKenzie)
Date: Wed, 27 May 2009 19:00:34 -0700
Subject: PowerPC MacOSX work...
In-Reply-To: <52e1cff47bb75756cf1d91ae80ee5cd1@embarqmail.com>
References: <52e1cff47bb75756cf1d91ae80ee5cd1@embarqmail.com>
Message-ID: <4A1DF042.804@earthlink.net>

mghughes at embarqmail.com wrote:
> No No No People...  Please read the messages before replying.
>
> I know the difference betweeen my 6502, 6800, Z80, 68k, x86, 7400.  I
> know Wine is focused on running MSWindows based software on x86
> processors.  I also know there exists PowerPC code in the wine project
> because people were interested in bridging the gap to running x86 code
> via emulation...
>
> For the record...  I am not looking to run another full out
> emulation.  The best example of what I have in mind is what Apple did
> when they moved their processor base from 68K to PPC.  And I am
> wondering if the same could be done for Wine.  By the looks of things
> some of the framework to make that happen are already there in the
> form of thunk code...  Apple used what they called trampolines iirc.
The question is:  Were there any programs written for WindowsNT for the
PPC?  I don't know of any, off hand.

The real problem is that most, if not all, Windows based programs were
written for the X86 platform.  The makes the use of a CPU emulator
necessary.  I know of only on FOSS project that is working on this, and
that is the Qemu (?) project.  The Darwine project was trying to combine
the PPC->X86 emulator with Wine.  Again, this project has stopped
progress and probably needs help getting restarted.  The Darwine project
does exist on SourceForge and could be revived with someone displaying
interest in getting it running again.  I do have PPC Mac here, but I
think I messed up the power port on it and thus batteries are not fully
charging.  I stopped working on another FOSS project because running the
test suite takes over a day and I could not trust the power supply to
last that long.

James McKenzie



From dmitry at codeweavers.com  Wed May 27 22:16:52 2009
From: dmitry at codeweavers.com (Dmitry Timoshkov)
Date: Thu, 28 May 2009 12:16:52 +0900
Subject: winebrowser: Fix unicode recognition
References: <4A1D7BEC.3030402@dawncrow.de>
Message-ID: <E0808006A0514786BD60AF66407B4578@DMITRY>

"Andr? Hentschel" <nerv at dawncrow.de> wrote:

> This converts the DDE-Callbackfunction to Unicode.
> After days of winebrowser-hacking i turned it down to this clean code.
> It uses the function IsTextUnicode instead of guessing.(IsTextUnicode is guessing too, but in a cleaner way)

Please add a test case which uses mixed ansi/unicode DDE client/server
and only then start fixing the code.

-- 
Dmitry. 



From xixsimplicityxix at gmail.com  Wed May 27 22:19:31 2009
From: xixsimplicityxix at gmail.com (John Klehm)
Date: Wed, 27 May 2009 22:19:31 -0500
Subject: DIB Engine : passing all tests
In-Reply-To: <4A1DED43.6090006@earthlink.net>
References: <gv7cjr$rn5$1@ger.gmane.org>
	<39c14e440905240304j571f63dah70167f133f0e2c52@mail.gmail.com>
	<f25439870905250206u2452865g9de2559c3fcbb9aa@mail.gmail.com>
	<871vqd5tsa.fsf@wine.dyndns.org>
	<b050a5e70905250701h3816ea9bk96764f09aca3c9ea@mail.gmail.com>
	<87skit44rg.fsf@wine.dyndns.org>
	<f3f1b91a0905251832k3af9c535ob64864877e6b9094@mail.gmail.com>
	<87d49w40rf.fsf@wine.dyndns.org> <gvgi74$kvs$1@ger.gmane.org>
	<4A1DED43.6090006@earthlink.net>
Message-ID: <78a7dad00905272019p152be688u864e3b9d61fa22e6@mail.gmail.com>

On Wed, May 27, 2009 at 8:47 PM, James McKenzie
<jjmckenzie51 at earthlink.net> wrote:
> So what say all, shall we try to make coding better and as Max stated,
> fun. ?Most of the folks here do not support this project for a living
> and we should not restrict this project to those who do. ?However, it
> appears that a vast majority of the patches are coming from those who
> either are long time Wine 'hackers' or those whose living depends on
> this project's survival.
>

I'm not sure why it's a strange thing that the people that spend the
most time with wine code have the most patches committed.  To try and
make an accusation that the project is restricted to paid peoples is
both false and pointlessly inflammatory.

If there was a glut of manpower there'd be plenty of time to give full
reviews of every patch.  As it is everyone gives the time they can.

--John Klehm


From saulius2 at ar.fi.lt  Wed May 27 22:21:47 2009
From: saulius2 at ar.fi.lt (Saulius Krasuckas)
Date: Thu, 28 May 2009 06:21:47 +0300 (EEST)
Subject: PowerPC MacOSX work...
In-Reply-To: <ef6824cf574b8070e0be4615acd67a24@embarqmail.com>
References: <op.uughphrcvab5uc@psycodelic-fireball.local>
	<200905251344.40227.stefandoesinger@gmx.at>
	<79a63cc50905251252i4fe6f2abm1e309335df5adcc3@mail.gmail.com>
	<ef6824cf574b8070e0be4615acd67a24@embarqmail.com>
Message-ID: <alpine.DEB.1.10.0905280612330.7942@localhost.localdomain>

* On Tue, 26 May 2009, mghughes at embarqmail.com wrote:
> 
> Download link did not work...  Would have been good to look 
> at/try/experiment with, but not what I am looking/aiming for.

You could probably want to google for Programmer's File Editor v0.07.001 
(file pfe0701p.zip), for example this link: [1].

Quoting [2]:

| This is the 0.07.001 release of Programmer's File Editor, a 
| large-capacity multi-file programming oriented editor for Windows 95, 
| Windows NT 3.51 and 4.0 on Intel and PowerPC platforms, and Windows 3.1x


[1] http://128.40.77.181/ccp/web-mirrors/pfe/people/cpaap/pfe/pfe0701p.zip
[2] http://www-personal.engin.umd.umich.edu/~nnarasim/courses/ece373/hc11/pfe32/readme.txt


From wine-devel at mohag.net  Wed May 27 23:54:32 2009
From: wine-devel at mohag.net (Gert van den Berg)
Date: Thu, 28 May 2009 06:54:32 +0200
Subject: PowerPC MacOSX work...
In-Reply-To: <4A1DF042.804@earthlink.net>
References: <52e1cff47bb75756cf1d91ae80ee5cd1@embarqmail.com>
	<4A1DF042.804@earthlink.net>
Message-ID: <79a63cc50905272154s3baff48bm8e087a8de0826033@mail.gmail.com>

On Thu, May 28, 2009 at 04:00, James McKenzie
<jjmckenzie51 at earthlink.net> wrote:
> The question is: ?Were there any programs written for WindowsNT for the
> PPC? ?I don't know of any, off hand.
>
A few seem to exist... Probably nothing without a x86 versions though.

Compatibility with PowerPC NT applications might at least give a few
programs, even if just MS's applications that got bundled with PPC NT,
to test with. It would probably not have much (if any) real-world
uses, but it might point out portability issues that might affect
other architectures, which might have more applications available,
such as x86_64 and Itanium.


From shacklein at gmail.com  Thu May 28 00:49:43 2009
From: shacklein at gmail.com (Ben Klein)
Date: Thu, 28 May 2009 15:49:43 +1000
Subject: PowerPC MacOSX work...
In-Reply-To: <52e1cff47bb75756cf1d91ae80ee5cd1@embarqmail.com>
References: <52e1cff47bb75756cf1d91ae80ee5cd1@embarqmail.com>
Message-ID: <d7e40be30905272249w7376c378s67ddc7800df0afb8@mail.gmail.com>

Please bottom-post on wine mailing lists.

2009/5/26  <mghughes at embarqmail.com>:
> No No No People... ?Please read the messages before replying.
>
> I know the difference betweeen my 6502, 6800, Z80, 68k, x86, 7400. ?I know
> Wine is focused on running MSWindows based software on x86 processors. ?I
> also know there exists PowerPC code in the wine project because people were
> interested in bridging the gap to running x86 code via emulation...

So you also know you can't run x86 apps on PPC platforms without
emulation, just like you can't run z80 code on x86 without emulation.
Also, where is this PPC code in Wine exactly? What source file
exactly?

> For the record... ?I am not looking to run another full out emulation. ?The
> best example of what I have in mind is what Apple did when they moved their
> processor base from 68K to PPC. ?And I am wondering if the same could be
> done for Wine. ?By the looks of things some of the framework to make that
> happen are already there in the form of thunk code... ?Apple used what they
> called trampolines iirc.

I believe 68k and PPC are architecturally quite similar, along the
lines of the 80386 (which has 16bit and 32bit modes). With Windows
programs being x86 apps, the translation between the two architectures
is very tricky (as has been previously noted on this thread).

> I am not sure that WineLib is what I am looking to use as the wine script &
> loader seems to achieve much of what I am already looking to do.

Winelib would be good if you had the source code for your Win32/Win16
apps and wanted to produce PPC binaries of them. Sounds like that's
not what you're trying to do though.


From msclrhd at googlemail.com  Thu May 28 02:18:52 2009
From: msclrhd at googlemail.com (Reece Dunn)
Date: Thu, 28 May 2009 08:18:52 +0100
Subject: DIB Engine : passing all tests
In-Reply-To: <78a7dad00905272019p152be688u864e3b9d61fa22e6@mail.gmail.com>
References: <gv7cjr$rn5$1@ger.gmane.org>
	<f25439870905250206u2452865g9de2559c3fcbb9aa@mail.gmail.com>
	<871vqd5tsa.fsf@wine.dyndns.org>
	<b050a5e70905250701h3816ea9bk96764f09aca3c9ea@mail.gmail.com>
	<87skit44rg.fsf@wine.dyndns.org>
	<f3f1b91a0905251832k3af9c535ob64864877e6b9094@mail.gmail.com>
	<87d49w40rf.fsf@wine.dyndns.org> <gvgi74$kvs$1@ger.gmane.org>
	<4A1DED43.6090006@earthlink.net>
	<78a7dad00905272019p152be688u864e3b9d61fa22e6@mail.gmail.com>
Message-ID: <3f4fd2640905280018k23ff8c71re7684ffef48b247f@mail.gmail.com>

2009/5/28 John Klehm <xixsimplicityxix at gmail.com>:
> On Wed, May 27, 2009 at 8:47 PM, James McKenzie
> <jjmckenzie51 at earthlink.net> wrote:
>> So what say all, shall we try to make coding better and as Max stated,
>> fun. ?Most of the folks here do not support this project for a living
>> and we should not restrict this project to those who do. ?However, it
>> appears that a vast majority of the patches are coming from those who
>> either are long time Wine 'hackers' or those whose living depends on
>> this project's survival.
>>
>
> I'm not sure why it's a strange thing that the people that spend the
> most time with wine code have the most patches committed. ?To try and
> make an accusation that the project is restricted to paid peoples is
> both false and pointlessly inflammatory.
>
> If there was a glut of manpower there'd be plenty of time to give full
> reviews of every patch. ?As it is everyone gives the time they can.

It also depends where your experience lies. I am predominantly a UI
developer, and having spent a long time writing UI code that is where
I feel most comfortable working in. That does not mean that I know the
behaviour of every Windows control inside and out, just that this is
an area I feel capable of working on.

I am in awe of what the DirectX developers have done. I doubt I would
be able to work in that area. Especially as I don't understand either
DirectX or OpenGL. Same goes for the GDI/DIB engine code, the crypto
code or a hundred other areas of the Windows API that Wine implements.

To work on an area of Wine, you need to have a deep understanding of
how the Windows API works. For some areas (such as implementing the
different Windows controls), you can do that purely through the
Windows API. For other areas, you also need an understanding of how
Linux/BSD/Mac/OpenSolaris/others implement that domain.

Wine has some very talented developers working on it. The problem
comes when you have some functionality (like the DIB engine) that cuts
across a large number of areas and requires a very deep understanding
of both Windows and Linux/etc to grasp what needs to be done. And yes,
that requires a lot of time and effort.

- Reece


From shacklein at gmail.com  Thu May 28 02:23:09 2009
From: shacklein at gmail.com (Ben Klein)
Date: Thu, 28 May 2009 17:23:09 +1000
Subject: DIB Engine : passing all tests
In-Reply-To: <gvip3s$r1g$1@ger.gmane.org>
References: <gv7cjr$rn5$1@ger.gmane.org> <871vqd5tsa.fsf@wine.dyndns.org> 
	<b050a5e70905250701h3816ea9bk96764f09aca3c9ea@mail.gmail.com> 
	<87skit44rg.fsf@wine.dyndns.org> <gvf342$al1$1@ger.gmane.org> 
	<87hbz8413q.fsf@wine.dyndns.org> <gvgh1u$hmv$1@ger.gmane.org> 
	<C8EEC6B247154C688EC81511507F4036@DMITRY>
	<d7e40be30905262244o13d513aaxb13f1adad85554ed@mail.gmail.com> 
	<gvip3s$r1g$1@ger.gmane.org>
Message-ID: <d7e40be30905280023w16429c8eu37ec7641cb91837a@mail.gmail.com>

2009/5/27 Massimo Del Fedele <max at veneto.com>:
> 1) Huw's starting engine *was* a driver's one, and many people told it was
> the right way. Worse, it forked driver from inside gdi32, which was awful
> to maintain.

I can understand AJ preferring a fork of gdi32 to the intermediary
driver given what he's said on this thread. He wants DIB to be
integrated into gdi32 (which as I pointed out is also the way Windows
does it). This is much easier to do if the DIB-enabled gdi32 can be
used as a drop-in replacement for regular gdi32.

Of course, it also makes it more difficult to maintain, with any
change in gdi32 needing to be mirrored in the forked DIB engine, but
that's where git cherry-picking can come in handy :)

> 2) My engine insertrs itself between gdi32 and the display driver; I begins
> to be tired repeating that it's a step through the final design on where
> DIB are handled fully inside gdi32. The step is, imho, necessary to split
> DIB handling from DDB without having to rewrite at once half of gdi32 + half
> of winex11.drv and maybe others.
> It is *not* the final step, now it wants to be. It's made so to prepare
> the switching in a painless way, *if* accepted.
> If not, just prepare to have the sampe problems we had with mshtml
> switching on each gecko change. In my case that broke a lot of stuffs.

What I was trying to say with my post was not to rehash old ideas, but
to say "here's where I feel you need to be going". AJ doesn't seem to
like the intermediary driver which forwards non-DIB requests, so in
order to get this into the upstream tree, what needs to be done is an
integration with gdi32, as in replacing the DIB-related methods with
the DIB-engine, instead of doing (what can be seen as a hack)
redirection of selected methods.

I believe that if the majority of the intermediary design (with the
intermediary driver) has been implemented and is working, it's time to
start thinking of integrating it into gdi32 so that it is suitable for
upstream inclusion.


From maik.schulz at gmail.com  Thu May 28 03:02:39 2009
From: maik.schulz at gmail.com (Maik Schulz)
Date: Thu, 28 May 2009 10:02:39 +0200
Subject: winehq.org page importance / website statistics
Message-ID: <62C0A125-7658-457E-AD0A-5951CC7D9528@gmail.com>

Hi,

for translation (to German) purposes I wonder which pages of the  
winehq.org website are most frequented (are there HTTP request  
statistics?) and which are deemed most important so I can focus on  
them in order.

It would also be interesting to know which pages are going to be moved  
to the Wiki eventually so I don't waste effort translating these.

Everything that is shown on the start page plus some other pages are  
done and I'm looking for direction on where to continue.

Cheers,
-Maik


From paul.vriens.wine at gmail.com  Thu May 28 03:13:06 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Thu, 28 May 2009 10:13:06 +0200
Subject: winehq.org page importance / website statistics
In-Reply-To: <62C0A125-7658-457E-AD0A-5951CC7D9528@gmail.com>
References: <62C0A125-7658-457E-AD0A-5951CC7D9528@gmail.com>
Message-ID: <4A1E4792.3070601@gmail.com>

Maik Schulz wrote:
> Hi,
> 
> for translation (to German) purposes I wonder which pages of the 
> winehq.org website are most frequented (are there HTTP request 
> statistics?) and which are deemed most important so I can focus on them 
> in order.
> 
> It would also be interesting to know which pages are going to be moved 
> to the Wiki eventually so I don't waste effort translating these.
> 
> Everything that is shown on the start page plus some other pages are 
> done and I'm looking for direction on where to continue.
> 
> Cheers,
> -Maik
> 
> 
Not sure if this will help you:

http://www.winehq.org/webalizer/index.html

-- 
Cheers,

Paul.


From nerv at dawncrow.de  Thu May 28 06:05:12 2009
From: nerv at dawncrow.de (=?ISO-8859-1?Q?Andr=E9_Hentschel?=)
Date: Thu, 28 May 2009 13:05:12 +0200
Subject: winebrowser: Fix unicode recognition
In-Reply-To: <E0808006A0514786BD60AF66407B4578@DMITRY>
References: <4A1D7BEC.3030402@dawncrow.de>
	<E0808006A0514786BD60AF66407B4578@DMITRY>
Message-ID: <4A1E6FE8.70009@dawncrow.de>

Dmitry Timoshkov schrieb:
> "Andr? Hentschel" <nerv at dawncrow.de> wrote:
> 
>> This converts the DDE-Callbackfunction to Unicode.
>> After days of winebrowser-hacking i turned it down to this clean code.
>> It uses the function IsTextUnicode instead of guessing.(IsTextUnicode 
>> is guessing too, but in a cleaner way)
> 
> Please add a test case which uses mixed ansi/unicode DDE client/server
> and only then start fixing the code.
> 
For winebrowser? Do we test any of our programs? Or for DDE?
I think it is an important fix. We can have bugs in wine, but not in our programs we serve with it.


From dmitry at codeweavers.com  Thu May 28 06:47:01 2009
From: dmitry at codeweavers.com (Dmitry Timoshkov)
Date: Thu, 28 May 2009 20:47:01 +0900
Subject: winebrowser: Fix unicode recognition
References: <4A1D7BEC.3030402@dawncrow.de>
	<E0808006A0514786BD60AF66407B4578@DMITRY>
	<4A1E6FE8.70009@dawncrow.de>
Message-ID: <C8C4AEA9109F4A4E8D24CA52C8D4F970@DMITRY>

"Andr? Hentschel" <nerv at dawncrow.de> wrote:

>> Please add a test case which uses mixed ansi/unicode DDE client/server
>> and only then start fixing the code.
>>
> For winebrowser? Do we test any of our programs? Or for DDE?

Quoting above: "mixed ansi/unicode DDE client/server".

-- 
Dmitry. 



From mahanuu at free.fr  Thu May 28 07:38:32 2009
From: mahanuu at free.fr (Emmanuel Maillard)
Date: Thu, 28 May 2009 14:38:32 +0200
Subject: Does wine handle virtual midi ports correct on OSX?
In-Reply-To: <23711488.post@talk.nabble.com>
References: <23419972.post@talk.nabble.com>
	<7144A943-F33D-4F2F-AD0F-2A7FD6C0B33D@free.fr>
	<23709245.post@talk.nabble.com>
	<E2A75C22-26DC-44ED-ADF5-3D64856BA086@free.fr>
	<23711488.post@talk.nabble.com>
Message-ID: <81893DDD-2730-41AB-8C55-4510011AC716@free.fr>


Le 25 mai 09 ? 20:54, Steve Schow a ?crit :

>
> it seems like what happens is that i select an IAC or virtual midi  
> port from
> some windows host inside Wine and everything looks ok, but no events  
> are
> sent.   Nothing.  But sometimes it works and sometimes it doesn't.   
> Once it
> is working it works fine.  Sometimes I have started it up and it was  
> not
> working, then I forgot that i had set it up and 5-10 minutes later  
> suddenly
> it would start sending the data across.
>
> Seems like somehow the windows host was not flushing the buffer or
> something.  I had this problem with Reaper and the latest version of  
> Reaper
> seems to be working ok, so maybe this was a Reaper problem, not wine.

How does it work on linux ? Did you take a look to AppDB ?

> I didn't see that fixme you  mentioned.  Where can I find that?  I'm
> actually using CrossOverGames for this, I was never able to get Wine  
> to work
> with JackOSX.
>
>
> Emmanuel Maillard-3 wrote:
>>
>> Does notes play well when playing ?
>> Correct duration, correct tempo or other kind of timing issue ?
>>
>> Have you see fixme about MOD_MIDIPORT in log  ?
>>
>> Emmanuel
>>
>> Le 25 mai 09 ? 17:59, Steve Schow a ?crit :
>>
>>>
>>> Thanks for responding.  I'm just sending midi notes around, no  
>>> sysex.
>>> Sometimes the ports work and sometimes they don't.  I may be finding
>>> that
>>> the problem is more related to Reaper bugs, I'm not sure yet.  Seems
>>> like it
>>> will not work and then sometimes after a few minutes, it will
>>> suddenly start
>>> working.  Seems possibly related to flushing, but I'm not sure.
>>>
>>> I'm not a wine developer, so I will just note your comments about
>>> MIDIClientCreate and keep testing from my end.
>>>
>>>
>>>
>>>
>>> Emmanuel Maillard-3 wrote:
>>>>
>>>> Hi,
>>>>
>>>> Sorry for the late answer.
>>>> The MIDI driver is very rudimentary : (by memory) it doesn't handle
>>>> SysEx, doesn't handle notification from MIDIServer,
>>>> and poorly tested : just testing by reading few MIDI files, and few
>>>> In/
>>>> Out tests with 2 virtuals application.
>>>>
>>>> I think you first need is to add MIDINotifyProc, in  
>>>> MIDIClientCreate
>>>> to track your MIDI setup changes.
>>>>
>>>> Cheers
>>>> Emmanuel
>>>>
>>>> Le 7 mai 09 ? 06:20, Dewdman42 a ?crit :
>>>>
>>>>>
>>>>> Does anyone know if Darwine can be fixed to handle virtual midi
>>>>> ports
>>>>> correctly?  They work very sporadically right now.  It seems to be
>>>>> related
>>>>> to getting the ports flushed or initialized or something.  When
>>>>> there is a
>>>>> virtual midi port present (under OSX), Wine seems to see it and
>>>>> lists it as
>>>>> an available midi port, but I have not been able to consistently  
>>>>> get
>>>>> that
>>>>> port to function correctly.  Sometimes it does and sometimes it
>>>>> doesn't and
>>>>> it seems to related to switching it on and off in some fashion  
>>>>> makes
>>>>> it
>>>>> work, though I can't seem to find a pattern that will work
>>>>> consistently.
>>>>>
>>>>> All I can figure is that somehow Wine is not handling midi ports  
>>>>> in
>>>>> a way
>>>>> that is compatible with OSX virtual midi ports.
>>>>>
>>>>> Anyone have any experience or knowledge in this area?
>>>>>
>>>>> Thanks
>>>>> -- 
>>>>> View this message in context:
>>>>> http://www.nabble.com/Does-wine-handle-virtual-midi-ports-correct-on-OSX--tp23419972p23419972.html
>>>>> Sent from the Wine - Devel mailing list archive at Nabble.com.
>>>>>
>>>>>
>>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>
>>> -- 
>>> View this message in context:
>>> http://www.nabble.com/Does-wine-handle-virtual-midi-ports-correct-on-OSX--tp23419972p23709245.html
>>> Sent from the Wine - Devel mailing list archive at Nabble.com.
>>>
>>>
>>>
>>
>>
>>
>>
>>
>
> -- 
> View this message in context: http://www.nabble.com/Does-wine-handle-virtual-midi-ports-correct-on-OSX--tp23419972p23711488.html
> Sent from the Wine - Devel mailing list archive at Nabble.com.
>
>
>



From mahanuu at free.fr  Thu May 28 07:44:07 2009
From: mahanuu at free.fr (Emmanuel Maillard)
Date: Thu, 28 May 2009 14:44:07 +0200
Subject: Does wine handle virtual midi ports correct on OSX?
In-Reply-To: <4A1B32F4.1000508@earthlink.net>
References: <23419972.post@talk.nabble.com>	<7144A943-F33D-4F2F-AD0F-2A7FD6C0B33D@free.fr>	<23709245.post@talk.nabble.com>
	<E2A75C22-26DC-44ED-ADF5-3D64856BA086@free.fr>
	<4A1B32F4.1000508@earthlink.net>
Message-ID: <1A342AA4-EBA6-44F2-A5BE-2D6C49CF11DB@free.fr>

I think Doom use the MIDI Synth not an external MIDI instrument.
so no log about MOD_MIDIPORT but eventually MOD_MIDISYNTH (or  
something like that)

Emmanuel

Le 26 mai 09 ? 02:08, James McKenzie a ?crit :

> Emmanuel Maillard wrote:
>> Does notes play well when playing ?
>> Correct duration, correct tempo or other kind of timing issue ?
>>
>> Have you see fixme about MOD_MIDIPORT in log  ?
> Emmanuel:
>
> Pardon my barging into this conversation, but music does not play
> correctly with Doom.  Not the CD Music, but the background music.  I  
> get
> no error messages in the log file either about MOD_MIDIPORT.
>
> MacOSX 10.5.7
>
> James McKenzie
>



From henjac at gmail.com  Thu May 28 08:24:46 2009
From: henjac at gmail.com (Henrik Jacobsson)
Date: Thu, 28 May 2009 15:24:46 +0200
Subject: Problem with async. comm from Wine to a USB->Serial-converter
Message-ID: <20090528132446.GA23222@closet>

Hi.

I just got myself a USB-GPS (GlobalSat BU-353) and wanted to
run SeaClearII, a navigation-program with it.
Turns out that Wine got confused when the USB->Serial-driver
wasn't acting like a real serial-device though.

The app does what it's supposed to do, but Wine consumes
100% of the available CPU.

After some googling I found a patch that resolved this
issue perfectly, and I'm curious why it never made it into
trunk.

The patch:
http://www.nabble.com/serial-04-04%3A-fix%3A-WaitCommEvent()-does-not-work-asynchronously--make-WaitCommEvent()-better-usable-when-TIOCGICOUNT-is-not-implemented-tc20980550.html

I only managed to apply this patch to 1.1.17.  Later
releases had changed too much for my non-programmer-brain to
cope with..

I would really appreciate if someone in the know could check
the patch out and if possible apply it to wine-proper..

Thanks in advance..
/Henrik



From lats at yless4u.com.au  Thu May 28 08:51:40 2009
From: lats at yless4u.com.au (Jeff Latimer)
Date: Thu, 28 May 2009 23:51:40 +1000
Subject: winebrowser: Fix unicode recognition
In-Reply-To: <C8C4AEA9109F4A4E8D24CA52C8D4F970@DMITRY>
References: <4A1D7BEC.3030402@dawncrow.de>	<E0808006A0514786BD60AF66407B4578@DMITRY>	<4A1E6FE8.70009@dawncrow.de>
	<C8C4AEA9109F4A4E8D24CA52C8D4F970@DMITRY>
Message-ID: <4A1E96EC.8010609@yless4u.com.au>

Dmitry Timoshkov wrote:
> "Andr? Hentschel" <nerv at dawncrow.de> wrote:
>
>>> Please add a test case which uses mixed ansi/unicode DDE client/server
>>> and only then start fixing the code.
>>>
>> For winebrowser? Do we test any of our programs? Or for DDE?
>
> Quoting above: "mixed ansi/unicode DDE client/server".
>
I put tests for the mixed conditions in test/dde.c quite a while ago:

*//* Test the combinations of A and W interfaces with A and W data/*
 */       end to end to ensure that data conversions are accurate *//*
     sprintf(buffer <http://source.winehq.org/ident?i=buffer>, /"%s dde enda"/, argv <http://source.winehq.org/ident?i=argv>[0]);
     CreateProcessA <http://source.winehq.org/ident?i=CreateProcessA>(NULL <http://source.winehq.org/ident?i=NULL>, buffer <http://source.winehq.org/ident?i=buffer>, NULL <http://source.winehq.org/ident?i=NULL>, NULL <http://source.winehq.org/ident?i=NULL>, FALSE <http://source.winehq.org/ident?i=FALSE>,
                    CREATE_SUSPENDED <http://source.winehq.org/ident?i=CREATE_SUSPENDED>, NULL <http://source.winehq.org/ident?i=NULL>, NULL <http://source.winehq.org/ident?i=NULL>, &startup, &proc);
 
     test_end_to_end_server <http://source.winehq.org/ident?i=test_end_to_end_server>(proc.hProcess, proc.hThread <http://source.winehq.org/ident?i=hThread>, TRUE <http://source.winehq.org/ident?i=TRUE>);
 
     sprintf(buffer <http://source.winehq.org/ident?i=buffer>, /"%s dde endw"/, argv <http://source.winehq.org/ident?i=argv>[0]);
 <http://source.winehq.org/source/dlls/user32/tests/dde.c#L2430>  CreateProcessA <http://source.winehq.org/ident?i=CreateProcessA>(NULL <http://source.winehq.org/ident?i=NULL>, buffer <http://source.winehq.org/ident?i=buffer>, NULL <http://source.winehq.org/ident?i=NULL>, NULL <http://source.winehq.org/ident?i=NULL>, FALSE <http://source.winehq.org/ident?i=FALSE>,
 <http://source.winehq.org/source/dlls/user32/tests/dde.c#L2431>                    CREATE_SUSPENDED <http://source.winehq.org/ident?i=CREATE_SUSPENDED>, NULL <http://source.winehq.org/ident?i=NULL>, NULL <http://source.winehq.org/ident?i=NULL>, &startup, &proc);
 
     test_end_to_end_server <http://source.winehq.org/ident?i=test_end_to_end_server>(proc.hProcess, proc.hThread <http://source.winehq.org/ident?i=hThread>, FALSE <http://source.winehq.org/ident?i=FALSE>);
 
     sprintf(buffer <http://source.winehq.org/ident?i=buffer>, /"%s dde enda"/, argv <http://source.winehq.org/ident?i=argv>[0]);
     CreateProcessA <http://source.winehq.org/ident?i=CreateProcessA>(NULL <http://source.winehq.org/ident?i=NULL>, buffer <http://source.winehq.org/ident?i=buffer>, NULL <http://source.winehq.org/ident?i=NULL>, NULL <http://source.winehq.org/ident?i=NULL>, FALSE <http://source.winehq.org/ident?i=FALSE>,
                    CREATE_SUSPENDED <http://source.winehq.org/ident?i=CREATE_SUSPENDED>, NULL <http://source.winehq.org/ident?i=NULL>, NULL <http://source.winehq.org/ident?i=NULL>, &startup, &proc);
 
     test_end_to_end_server <http://source.winehq.org/ident?i=test_end_to_end_server>(proc.hProcess, proc.hThread <http://source.winehq.org/ident?i=hThread>, FALSE <http://source.winehq.org/ident?i=FALSE>);
 
     sprintf(buffer <http://source.winehq.org/ident?i=buffer>, /"%s dde endw"/, argv <http://source.winehq.org/ident?i=argv>[0]);
     CreateProcessA <http://source.winehq.org/ident?i=CreateProcessA>(NULL <http://source.winehq.org/ident?i=NULL>, buffer <http://source.winehq.org/ident?i=buffer>, NULL <http://source.winehq.org/ident?i=NULL>, NULL <http://source.winehq.org/ident?i=NULL>, FALSE <http://source.winehq.org/ident?i=FALSE>,
                    CREATE_SUSPENDED <http://source.winehq.org/ident?i=CREATE_SUSPENDED>, NULL <http://source.winehq.org/ident?i=NULL>, NULL <http://source.winehq.org/ident?i=NULL>, &startup, &proc);

Do these exhibit the situation you are referring too?


From dmitry at codeweavers.com  Thu May 28 09:52:38 2009
From: dmitry at codeweavers.com (Dmitry Timoshkov)
Date: Thu, 28 May 2009 23:52:38 +0900
Subject: winebrowser: Fix unicode recognition
References: <4A1D7BEC.3030402@dawncrow.de>	<E0808006A0514786BD60AF66407B4578@DMITRY>	<4A1E6FE8.70009@dawncrow.de>
	<C8C4AEA9109F4A4E8D24CA52C8D4F970@DMITRY>
	<4A1E96EC.8010609@yless4u.com.au>
Message-ID: <330F1960D4A242A3ADCC6D86A28C4680@DMITRY>

"Jeff Latimer" <lats at yless4u.com.au> wrote:

> I put tests for the mixed conditions in test/dde.c quite a while ago:

Then it should be obvious where the fix should be added, with
removing todo_wine in appropriate places.

-- 
Dmitry.



From maik.schulz at gmail.com  Thu May 28 10:06:45 2009
From: maik.schulz at gmail.com (Maik Schulz)
Date: Thu, 28 May 2009 17:06:45 +0200
Subject: winehq.org page importance / website statistics
In-Reply-To: <4A1E4792.3070601@gmail.com>
References: <62C0A125-7658-457E-AD0A-5951CC7D9528@gmail.com>
	<4A1E4792.3070601@gmail.com>
Message-ID: <312ECA10-DC84-4166-A2CA-B7426717E390@gmail.com>

Hi Paul,

it's a good pointer to start, thanks.

For the other two points: Does anybody have an opinion on the  
importance of pages as well as which ones should be moved to the Wiki?

Cheers,
-Maik

On 28 May 2009, at 10:13, Paul Vriens wrote:

> Maik Schulz wrote:
>> Hi,
>> for translation (to German) purposes I wonder which pages of the  
>> winehq.org website are most frequented (are there HTTP request  
>> statistics?) and which are deemed most important so I can focus on  
>> them in order.
>> It would also be interesting to know which pages are going to be  
>> moved to the Wiki eventually so I don't waste effort translating  
>> these.
>> Everything that is shown on the start page plus some other pages  
>> are done and I'm looking for direction on where to continue.
>> Cheers,
>> -Maik
> Not sure if this will help you:
>
> http://www.winehq.org/webalizer/index.html
>
> -- 
> Cheers,
>
> Paul.



From austinenglish at gmail.com  Thu May 28 10:10:03 2009
From: austinenglish at gmail.com (Austin English)
Date: Thu, 28 May 2009 10:10:03 -0500
Subject: winehq.org page importance / website statistics
In-Reply-To: <312ECA10-DC84-4166-A2CA-B7426717E390@gmail.com>
References: <62C0A125-7658-457E-AD0A-5951CC7D9528@gmail.com>
	<4A1E4792.3070601@gmail.com>
	<312ECA10-DC84-4166-A2CA-B7426717E390@gmail.com>
Message-ID: <b6bb06270905280810n2b944749y6985eb2151120fec@mail.gmail.com>

On Thu, May 28, 2009 at 10:06 AM, Maik Schulz <maik.schulz at gmail.com> wrote:
> Hi Paul,
>
> it's a good pointer to start, thanks.
>
> For the other two points: Does anybody have an opinion on the importance of
> pages as well as which ones should be moved to the Wiki?

Please bottom post on wine mailing lists.

As for your questions, importance is a bit hard to say. Important to
users, or to potential developers?

For the wiki, a lot of it should be eventually, but some have objected
doing so until the wiki's theme is updated to match WineHQ's.

-- 
-Austin


From dank at kegel.com  Thu May 28 11:07:37 2009
From: dank at kegel.com (Dan Kegel)
Date: Thu, 28 May 2009 09:07:37 -0700
Subject: valgrind mac now on trunk!
Message-ID: <a71bd89a0905280907w5b3e560cu77bbd744e56e3808@mail.gmail.com>

http://blog.mozilla.com/nnethercote/2009/05/28/mac-os-x-now-supported-on-the-valgrind-trunk/

So for those of you developing wine on the mac, now you
have one fewer excuse not to run your changes through
valgrind before sending patches :-)


From maik.schulz at gmail.com  Thu May 28 11:19:02 2009
From: maik.schulz at gmail.com (Maik Schulz)
Date: Thu, 28 May 2009 18:19:02 +0200
Subject: winehq.org page importance / website statistics
In-Reply-To: <b6bb06270905280810n2b944749y6985eb2151120fec@mail.gmail.com>
References: <62C0A125-7658-457E-AD0A-5951CC7D9528@gmail.com>
	<4A1E4792.3070601@gmail.com>
	<312ECA10-DC84-4166-A2CA-B7426717E390@gmail.com>
	<b6bb06270905280810n2b944749y6985eb2151120fec@mail.gmail.com>
Message-ID: <1C7DAA46-8DE6-4E18-A878-9B743B4FA39F@gmail.com>

On 28 May 2009, at 17:10, Austin English wrote:

> On Thu, May 28, 2009 at 10:06 AM, Maik Schulz  
> <maik.schulz at gmail.com> wrote:
>> Hi Paul,
>>
>> it's a good pointer to start, thanks.
>>
>> For the other two points: Does anybody have an opinion on the  
>> importance of
>> pages as well as which ones should be moved to the Wiki?
>
> Please bottom post on wine mailing lists.
>
> As for your questions, importance is a bit hard to say. Important to
> users, or to potential developers?
>
> For the wiki, a lot of it should be eventually, but some have objected
> doing so until the wiki's theme is updated to match WineHQ's.
>
> -- 
> -Austin

NP. Importance to whom is a good question--who is the target group for  
winehq.org? Or who benefits most from it? Importance to that latter  
group is what I'm after.

Looking at the webalizer output, the most popular pages are the start  
page, the download page, the news, the site search, the about page,  
and the help page (taken from the top 10 URLs). From this I gather  
that it's mostly users that frequent winehq.org.

The latest patch to the developer page actually put the link to the  
wiki as the topmost with the comment that it typically has more recent  
information than the web pages.

Does that make it safe to assume that winehq.org should concentrate on  
users and wiki.winehq.org on (potential) developers? If that's the  
direction then it's more clear which content to translate.

Cheers,
-Maik


From austinenglish at gmail.com  Thu May 28 11:21:04 2009
From: austinenglish at gmail.com (Austin English)
Date: Thu, 28 May 2009 11:21:04 -0500
Subject: winehq.org page importance / website statistics
In-Reply-To: <1C7DAA46-8DE6-4E18-A878-9B743B4FA39F@gmail.com>
References: <62C0A125-7658-457E-AD0A-5951CC7D9528@gmail.com>
	<4A1E4792.3070601@gmail.com>
	<312ECA10-DC84-4166-A2CA-B7426717E390@gmail.com>
	<b6bb06270905280810n2b944749y6985eb2151120fec@mail.gmail.com>
	<1C7DAA46-8DE6-4E18-A878-9B743B4FA39F@gmail.com>
Message-ID: <b6bb06270905280921h5e848cge1e5e272f81ef10c@mail.gmail.com>

On Thu, May 28, 2009 at 11:19 AM, Maik Schulz <maik.schulz at gmail.com> wrote:
> Does that make it safe to assume that winehq.org should concentrate on users
> and wiki.winehq.org on (potential) developers? If that's the direction then
> it's more clear which content to translate.

Sounds reasonable.

-- 
-Austin


From nerv at dawncrow.de  Thu May 28 11:28:32 2009
From: nerv at dawncrow.de (=?ISO-8859-1?Q?Andr=E9_Hentschel?=)
Date: Thu, 28 May 2009 18:28:32 +0200
Subject: winehq.org page importance / website statistics
In-Reply-To: <b6bb06270905280921h5e848cge1e5e272f81ef10c@mail.gmail.com>
References: <62C0A125-7658-457E-AD0A-5951CC7D9528@gmail.com>	<4A1E4792.3070601@gmail.com>	<312ECA10-DC84-4166-A2CA-B7426717E390@gmail.com>	<b6bb06270905280810n2b944749y6985eb2151120fec@mail.gmail.com>	<1C7DAA46-8DE6-4E18-A878-9B743B4FA39F@gmail.com>
	<b6bb06270905280921h5e848cge1e5e272f81ef10c@mail.gmail.com>
Message-ID: <4A1EBBB0.5070407@dawncrow.de>

Austin English schrieb:
> On Thu, May 28, 2009 at 11:19 AM, Maik Schulz <maik.schulz at gmail.com> wrote:
>> Does that make it safe to assume that winehq.org should concentrate on users
>> and wiki.winehq.org on (potential) developers? If that's the direction then
>> it's more clear which content to translate.
> 
> Sounds reasonable.
> 
i think we should focus on users, because developers should be able to read english. they have to correspondend here in english, so i guess they can.


From paul.vriens.wine at gmail.com  Thu May 28 12:51:12 2009
From: paul.vriens.wine at gmail.com (Paul Vriens)
Date: Thu, 28 May 2009 19:51:12 +0200
Subject: How to fix some oleaut32:vartest tests?
Message-ID: <4A1ECF10.3090507@gmail.com>

Hi,

It looks like I have two boxes (W98 and NT4) that produce test failures
every now and then for the mentioned tests:

vartest.c:5514: Test failed: VarCat: VT_BSTR concat with VT_DATE
returned inncorrect result
vartest.c:5530: Test failed: VarCat: VT_DATE concat with VT_BSTR
returned inncorrect result

It boils down to the result of the VarCat which is either a 2-digit or a
4-digit year but again intermittently. If I run the same test right
after each other I get either 0, 1 or 2 failures.

The only way I can see fixing this is by having a broken() with the 2
digit date for sz12_date and date_sz12. I mean having an explicit
broken() is better then a broken() for anything but the correct result.

Anyone?

(I'll start with sending a patch for that spelling mistake in the output
;) ).

-- 
Cheers,

Paul.



From fgouget at free.fr  Thu May 28 13:11:44 2009
From: fgouget at free.fr (Francois Gouget)
Date: Thu, 28 May 2009 20:11:44 +0200 (CEST)
Subject: [PATCH] _Present
In-Reply-To: <4A1E6F03.9000307@inf.upol.cz>
References: <4A1E6F03.9000307@inf.upol.cz>
Message-ID: <alpine.DEB.2.00.0905282011040.2252@amboise.dolphin>

On Thu, 28 May 2009, Pavel Prochazka wrote:
> 
> +    IWineD3DSurfaceImpl *front,*hlp1,*hlp2;
> +       IWineD3DSurfaceImpl back; //must be copy of struct

C++ comments are not allowed in Wine. There are a few others further 
down.


-- 
Francois Gouget <fgouget at free.fr>              http://fgouget.free.fr/
                         Stolen from an Internet user:
              "f u cn rd ths, u cn gt a gd jb n cmptr prgrmmng !"


From max at veneto.com  Thu May 28 13:20:07 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Thu, 28 May 2009 20:20:07 +0200
Subject: DIB Engine : passing all tests
In-Reply-To: <d7e40be30905280023w16429c8eu37ec7641cb91837a@mail.gmail.com>
References: <gv7cjr$rn5$1@ger.gmane.org> <871vqd5tsa.fsf@wine.dyndns.org>
	<b050a5e70905250701h3816ea9bk96764f09aca3c9ea@mail.gmail.com>
	<87skit44rg.fsf@wine.dyndns.org> <gvf342$al1$1@ger.gmane.org>
	<87hbz8413q.fsf@wine.dyndns.org> <gvgh1u$hmv$1@ger.gmane.org>
	<C8EEC6B247154C688EC81511507F4036@DMITRY>	<d7e40be30905262244o13d513aaxb13f1adad85554ed@mail.gmail.com>
	<gvip3s$r1g$1@ger.gmane.org>
	<d7e40be30905280023w16429c8eu37ec7641cb91837a@mail.gmail.com>
Message-ID: <gvmkkn$aks$1@ger.gmane.org>

HI Ben,

Ben Klein ha scritto:

> Of course, it also makes it more difficult to maintain, with any
> change in gdi32 needing to be mirrored in the forked DIB engine, but
> that's where git cherry-picking can come in handy :)

Done for about 3 monthes, no more time for it :-)

> 
> What I was trying to say with my post was not to rehash old ideas, but
> to say "here's where I feel you need to be going". AJ doesn't seem to
> like the intermediary driver which forwards non-DIB requests, so in
> order to get this into the upstream tree, what needs to be done is an
> integration with gdi32, as in replacing the DIB-related methods with
> the DIB-engine, instead of doing (what can be seen as a hack)
> redirection of selected methods.
> 
> I believe that if the majority of the intermediary design (with the
> intermediary driver) has been implemented and is working, it's time to
> start thinking of integrating it into gdi32 so that it is suitable for
> upstream inclusion.
> 
IMHO, and really "in my opinion", loosing time to integrate it inside gdi32
whithout proper guidelines would be crazy. I mean, I'd never do it :-)
The intermediate step was made (among other reasons) to check if the
upcoming driver had the chance to be accepted.
Moving it *now* inside gdi32 would mean a big loss of time with almost no
hopes to see it in mainstream, added to the above effort of keeping it
in sync with changing gdi32.
OTOH, if winedib would be embedded as-is or with some minor mods, I could
od course take the job of moving it stepwise into gdi32.

Ciao

Max



From kennybobs at o2.co.uk  Thu May 28 13:40:59 2009
From: kennybobs at o2.co.uk (Ken Sharp)
Date: Thu, 28 May 2009 19:40:59 +0100
Subject: Changing default severity in Bugzilla to Normal
Message-ID: <4A1EDABB.5080103@o2.co.uk>

"It seems the default severity, enhancement, invites people to select a 
REALLY
SEVERE sounding level instead.  I suggest changing the default severity to
normal in the hopes of cutting down on the yelling."
http://bugs.winehq.org/show_bug.cgi?id=13363

Any thoughts on this?


From austinenglish at gmail.com  Thu May 28 13:43:37 2009
From: austinenglish at gmail.com (Austin English)
Date: Thu, 28 May 2009 13:43:37 -0500
Subject: Changing default severity in Bugzilla to Normal
In-Reply-To: <4A1EDABB.5080103@o2.co.uk>
References: <4A1EDABB.5080103@o2.co.uk>
Message-ID: <b6bb06270905281143v244472md6c3ec535d8724e1@mail.gmail.com>

On Thu, May 28, 2009 at 1:40 PM, Ken Sharp <kennybobs at o2.co.uk> wrote:
> "It seems the default severity, enhancement, invites people to select a
> REALLY
> SEVERE sounding level instead. ?I suggest changing the default severity to
> normal in the hopes of cutting down on the yelling."
> http://bugs.winehq.org/show_bug.cgi?id=13363
>
> Any thoughts on this?
>
>
>

+1

-- 
-Austin


From jjmckenzie51 at earthlink.net  Thu May 28 14:10:28 2009
From: jjmckenzie51 at earthlink.net (James Mckenzie)
Date: Thu, 28 May 2009 12:10:28 -0700 (GMT-07:00)
Subject: Changing default severity in Bugzilla to Normal
Message-ID: <33186961.1243537829049.JavaMail.root@elwamui-rubis.atl.sa.earthlink.net>

Austin English wrote about Re: Changing default severity in Bugzilla to Normal
>
>On Thu, May 28, 2009 at 1:40 PM, Ken Sharp <kennybobs at o2.co.uk> wrote:
>> "It seems the default severity, enhancement, invites people to select a
>> REALLY
>> SEVERE sounding level instead. ?I suggest changing the default severity to
>> normal in the hopes of cutting down on the yelling."
>> http://bugs.winehq.org/show_bug.cgi?id=13363
>>
>> Any thoughts on this?
>>
>>
>>
>
>+1
>
+1

James McKenzie


From khodych at gmail.com  Thu May 28 14:11:24 2009
From: khodych at gmail.com (Sergey Khodych)
Date: Thu, 28 May 2009 22:11:24 +0300
Subject: comctl32:rebar: Don't store an empty string in REBAR_InsertBandT.
In-Reply-To: <4A1C3AC8.7050509@gmail.com>
References: <4A1B6B75.4000803@gmail.com> <4A1BAF69.3080300@gmail.com>
	<4A1C34F4.4050303@gmail.com> <4A1C3AC8.7050509@gmail.com>
Message-ID: <4A1EE1DC.3070500@gmail.com>

Nikolay Sivov ?????:

> 
> It looks like you need to add a simple test like that:
> - add band with empty string and RBBIM_TEXT mask of course;
> - query band data back with RB_GETBANDINFO and check this lpText field.
> 
> If it's really NULL (e.g. your buffer didn't change) instead of empty 
> string you should test
> RB_SETBARINFO for the same case.
> 
It returns an empty string in both case.

> What you mean saying extra space? Some offset during drawing or what?
> 

If a band has an empty string, wine allocates a padding space in
lpBand->rcCapText that causes an offset in a band.



From bunglehead at gmail.com  Thu May 28 14:34:16 2009
From: bunglehead at gmail.com (Nikolay Sivov)
Date: Thu, 28 May 2009 23:34:16 +0400
Subject: comctl32:rebar: Don't store an empty string in REBAR_InsertBandT.
In-Reply-To: <4A1EE1DC.3070500@gmail.com>
References: <4A1B6B75.4000803@gmail.com> <4A1BAF69.3080300@gmail.com>
	<4A1C34F4.4050303@gmail.com> <4A1C3AC8.7050509@gmail.com>
	<4A1EE1DC.3070500@gmail.com>
Message-ID: <4A1EE738.5050404@gmail.com>

Sergey Khodych wrote:
> Nikolay Sivov ?????:
>
>>
>> It looks like you need to add a simple test like that:
>> - add band with empty string and RBBIM_TEXT mask of course;
>> - query band data back with RB_GETBANDINFO and check this lpText field.
>>
>> If it's really NULL (e.g. your buffer didn't change) instead of empty 
>> string you should test
>> RB_SETBARINFO for the same case.
>>
> It returns an empty string in both case.
So adding a band with NULL text OR empty string always returned empty 
string to getter?
Provide a test case for that please.

If it already returns empty when needed there's no point to change 
storing code.
>> What you mean saying extra space? Some offset during drawing or what?
>>
>
> If a band has an empty string, wine allocates a padding space in
> lpBand->rcCapText that causes an offset in a band.
It looks like a workaround, if get/set text behaves ok now (no tests 
exist I suppose) then
the only place to be changed is this rectangle dimensions.


From bunglehead at gmail.com  Thu May 28 14:38:38 2009
From: bunglehead at gmail.com (Nikolay Sivov)
Date: Thu, 28 May 2009 23:38:38 +0400
Subject: [1/2] comctl32:rebar: Don't store an empty string
	in	REBAR_InsertBandT. (try 2)
In-Reply-To: <4A1EE0E1.1000806@gmail.com>
References: <4A1EE0E1.1000806@gmail.com>
Message-ID: <4A1EE83E.3040802@gmail.com>

Sergey Khodych wrote:

> From 37cd774e71f8d260d94bd672715b1eab879c4b2d Mon Sep 17 00:00:00 2001
> From: Sergey Khodych <khodych at gmail.com>
> Date: Thu, 28 May 2009 04:52:45 +0300
> Subject: comctl32:rebar: Don't store an empty string in REBAR_InsertBandT.
>
> ---
>  dlls/comctl32/rebar.c       |   12 ++++++++----
>  dlls/comctl32/tests/rebar.c |    9 +++++++++
>  2 files changed, 17 insertions(+), 4 deletions(-)
Commented already. You're testing one part and changing another.
Add simple get/set text tests first.




From l_bratch at yahoo.co.uk  Thu May 28 14:46:01 2009
From: l_bratch at yahoo.co.uk (Luke Bratch)
Date: Thu, 28 May 2009 19:46:01 +0000 (GMT)
Subject: Need a temporary list moderator
Message-ID: <125775.42663.qm@web26605.mail.ukl.yahoo.com>


Hi all

In a couple of weeks I'm going to be travelling around India for about a month, from 14th June - 17th July, so I'll need somebody to cover list moderation during that period.

It's a simple task; you just need to bring up a web page for each list a couple of times per day, and single out any genuine messages that are awaiting approval, discarding the rest.

You'll need to do it almost every day for the whole month, otherwise people will start to wonder where their mail is getting to... :)

If you are interested, please email me directly.

Thanks, Luke.



From winehacker at gmail.com  Thu May 28 14:46:39 2009
From: winehacker at gmail.com (Steven Edwards)
Date: Thu, 28 May 2009 15:46:39 -0400
Subject: DIB Engine : passing all tests
In-Reply-To: <gvmkkn$aks$1@ger.gmane.org>
References: <gv7cjr$rn5$1@ger.gmane.org> <87skit44rg.fsf@wine.dyndns.org>
	<gvf342$al1$1@ger.gmane.org> <87hbz8413q.fsf@wine.dyndns.org>
	<gvgh1u$hmv$1@ger.gmane.org> <C8EEC6B247154C688EC81511507F4036@DMITRY>
	<d7e40be30905262244o13d513aaxb13f1adad85554ed@mail.gmail.com>
	<gvip3s$r1g$1@ger.gmane.org>
	<d7e40be30905280023w16429c8eu37ec7641cb91837a@mail.gmail.com>
	<gvmkkn$aks$1@ger.gmane.org>
Message-ID: <19e31a080905281246w4c5805a8q15c46958e3939f5d@mail.gmail.com>

On Thu, May 28, 2009 at 2:20 PM, Massimo Del Fedele <max at veneto.com> wrote:
> IMHO, and really "in my opinion", loosing time to integrate it inside gdi32
> whithout proper guidelines would be crazy. I mean, I'd never do it :-)
> The intermediate step was made (among other reasons) to check if the
> upcoming driver had the chance to be accepted.
> Moving it *now* inside gdi32 would mean a big loss of time with almost no
> hopes to see it in mainstream, added to the above effort of keeping it
> in sync with changing gdi32.
> OTOH, if winedib would be embedded as-is or with some minor mods, I could
> od course take the job of moving it stepwise into gdi32.

It seems to me the best course is keep developing it outside of the
tree until the remaining glitches are resolved and then try to
resubmit it by moving in to gdi32. At least if Alexandre still wants
to reject it due to remaining design issues, we have a good enough
alternative.

Thanks
-- 
Steven Edwards

"There is one thing stronger than all the armies in the world, and
that is an idea whose time has come." - Victor Hugo


From xixsimplicityxix at gmail.com  Thu May 28 15:16:56 2009
From: xixsimplicityxix at gmail.com (John Klehm)
Date: Thu, 28 May 2009 15:16:56 -0500
Subject: Changing default severity in Bugzilla to Normal
In-Reply-To: <33186961.1243537829049.JavaMail.root@elwamui-rubis.atl.sa.earthlink.net>
References: <33186961.1243537829049.JavaMail.root@elwamui-rubis.atl.sa.earthlink.net>
Message-ID: <78a7dad00905281316m4f3182d1vfce166e83273cac5@mail.gmail.com>

>>On Thu, May 28, 2009 at 1:40 PM, Ken Sharp <kennybobs at o2.co.uk> wrote:
>>> "It seems the default severity, enhancement, invites people to select a
>>> REALLY
>>> SEVERE sounding level instead. ?I suggest changing the default severity to
>>> normal in the hopes of cutting down on the yelling."
>>> http://bugs.winehq.org/show_bug.cgi?id=13363
>>>

Makes sense to me.


From khodych at gmail.com  Thu May 28 16:17:35 2009
From: khodych at gmail.com (Sergey Khodych)
Date: Fri, 29 May 2009 00:17:35 +0300
Subject: comctl32:rebar: Don't store an empty string in REBAR_InsertBandT.
In-Reply-To: <4A1EE738.5050404@gmail.com>
References: <4A1B6B75.4000803@gmail.com> <4A1BAF69.3080300@gmail.com>
	<4A1C34F4.4050303@gmail.com> <4A1C3AC8.7050509@gmail.com>
	<4A1EE1DC.3070500@gmail.com> <4A1EE738.5050404@gmail.com>
Message-ID: <4A1EFF6F.6080604@gmail.com>

Nikolay Sivov ?????:

>> If a band has an empty string, wine allocates a padding space in
>> lpBand->rcCapText that causes an offset in a band.
> It looks like a workaround, if get/set text behaves ok now (no tests 
> exist I suppose) then
> the only place to be changed is this rectangle dimensions.
> 
Why does wine need to keep an empty string when native realization 
doesn't distinguish "" and NULL (according to tests)?



From bunglehead at gmail.com  Thu May 28 16:28:12 2009
From: bunglehead at gmail.com (Nikolay Sivov)
Date: Fri, 29 May 2009 01:28:12 +0400
Subject: comctl32:rebar: Don't store an empty string in REBAR_InsertBandT.
In-Reply-To: <4A1EFF6F.6080604@gmail.com>
References: <4A1B6B75.4000803@gmail.com> <4A1BAF69.3080300@gmail.com>
	<4A1C34F4.4050303@gmail.com> <4A1C3AC8.7050509@gmail.com>
	<4A1EE1DC.3070500@gmail.com> <4A1EE738.5050404@gmail.com>
	<4A1EFF6F.6080604@gmail.com>
Message-ID: <4A1F01EC.6050300@gmail.com>

Sergey Khodych wrote:
> Nikolay Sivov ?????:
>
>>> If a band has an empty string, wine allocates a padding space in
>>> lpBand->rcCapText that causes an offset in a band.
>> It looks like a workaround, if get/set text behaves ok now (no tests 
>> exist I suppose) then
>> the only place to be changed is this rectangle dimensions.
>>
> Why does wine need to keep an empty string when native realization 
> doesn't distinguish "" and NULL (according to tests)?
If it's indistinguishable at all - invisible for get/set and has no side 
effect on drawing for example - we don't need to store it of course.
That's why I'm asking you about tests.
Just add 2 tests as a first patch:

- set/get (to prevent regressions here if somebody will try later to 
adjust rectangle and still store empty strings);
   it should include both InsertBand and SetBandInfo.
- dimension check.

And a fix for them as a second patch.

Nikolay S.


From adys.wh at gmail.com  Thu May 28 17:58:32 2009
From: adys.wh at gmail.com (Jerome Leclanche)
Date: Fri, 29 May 2009 01:58:32 +0300
Subject: DIB Engine : passing all tests
In-Reply-To: <19e31a080905281246w4c5805a8q15c46958e3939f5d@mail.gmail.com>
References: <gv7cjr$rn5$1@ger.gmane.org> <gvf342$al1$1@ger.gmane.org>
	<87hbz8413q.fsf@wine.dyndns.org> <gvgh1u$hmv$1@ger.gmane.org>
	<C8EEC6B247154C688EC81511507F4036@DMITRY>
	<d7e40be30905262244o13d513aaxb13f1adad85554ed@mail.gmail.com>
	<gvip3s$r1g$1@ger.gmane.org>
	<d7e40be30905280023w16429c8eu37ec7641cb91837a@mail.gmail.com>
	<gvmkkn$aks$1@ger.gmane.org>
	<19e31a080905281246w4c5805a8q15c46958e3939f5d@mail.gmail.com>
Message-ID: <41eceb530905281558r8873ae2oe830f7dd134d7a63@mail.gmail.com>

Hi Max,


From mike.kaplinskiy at gmail.com  Thu May 28 18:32:51 2009
From: mike.kaplinskiy at gmail.com (Mike Kaplinskiy)
Date: Thu, 28 May 2009 19:32:51 -0400
Subject: DIB Engine : passing all tests
In-Reply-To: <41eceb530905281558r8873ae2oe830f7dd134d7a63@mail.gmail.com>
References: <gv7cjr$rn5$1@ger.gmane.org> <87hbz8413q.fsf@wine.dyndns.org> 
	<gvgh1u$hmv$1@ger.gmane.org> <C8EEC6B247154C688EC81511507F4036@DMITRY> 
	<d7e40be30905262244o13d513aaxb13f1adad85554ed@mail.gmail.com> 
	<gvip3s$r1g$1@ger.gmane.org>
	<d7e40be30905280023w16429c8eu37ec7641cb91837a@mail.gmail.com> 
	<gvmkkn$aks$1@ger.gmane.org>
	<19e31a080905281246w4c5805a8q15c46958e3939f5d@mail.gmail.com> 
	<41eceb530905281558r8873ae2oe830f7dd134d7a63@mail.gmail.com>
Message-ID: <4d8b5aa80905281632q4d7a3419s6d57f873d2a923b2@mail.gmail.com>

On Thu, May 28, 2009 at 6:58 PM, Jerome Leclanche <adys.wh at gmail.com> wrote:
> Hi Max,
>
> From what I understand, the problem is not your design. I don't want
> to put words in anyone's mouth, but to me it seems you and AJ agree on
> the final goal; Alexandre just doesn't want the "intermediary step" in
> the master tree (there could be many reasons for this).
> As you said, starting the move to gdi32 right now would be a huge
> waste of time (in maintenance and more), and prone to hell-knows how
> many regressions. You should get the DIB engine uploaded to its own
> repo or wine-hacks (http://repo.or.cz/w/wine/hacks.git).
> It's also been mentioned, but getting some documentation up and
> running on the wiki would be of great help. Maybe the authors of the
> previous DIB engine attempts could also give a shot at helping with
> that. People will also want (need) to know what they should test, how
> to test it, where to give feedback, what's still in the works, ...
>
> You've done a great job so far, here's hoping it gets sorted :)
>
> J
>
> On Thu, May 28, 2009 at 10:46 PM, Steven Edwards <winehacker at gmail.com> wrote:
>> On Thu, May 28, 2009 at 2:20 PM, Massimo Del Fedele <max at veneto.com> wrote:
>>> IMHO, and really "in my opinion", loosing time to integrate it inside gdi32
>>> whithout proper guidelines would be crazy. I mean, I'd never do it :-)
>>> The intermediate step was made (among other reasons) to check if the
>>> upcoming driver had the chance to be accepted.
>>> Moving it *now* inside gdi32 would mean a big loss of time with almost no
>>> hopes to see it in mainstream, added to the above effort of keeping it
>>> in sync with changing gdi32.
>>> OTOH, if winedib would be embedded as-is or with some minor mods, I could
>>> od course take the job of moving it stepwise into gdi32.
>>
>> It seems to me the best course is keep developing it outside of the
>> tree until the remaining glitches are resolved and then try to
>> resubmit it by moving in to gdi32. At least if Alexandre still wants
>> to reject it due to remaining design issues, we have a good enough
>> alternative.
>>
>> Thanks
>> --
>> Steven Edwards
>>
>> "There is one thing stronger than all the armies in the world, and
>> that is an idea whose time has come." - Victor Hugo
>>
>>
>>
>
>
>
> --
> Jerome Leclanche
>
>
>

I completely agree with Jerome, and would like to add that tests of
the DIB engine would probably be accepted into the tree. Since Max
knows the finer notches of the DIB engine, taking the time to write
some tests would seem to be a good idea - both to speed up the future
migration and to make sure we're not missing any quirks. It may also
help pinpoint certain bugs within the implementation.

Mike.


From stefandoesinger at gmx.at  Thu May 28 19:21:13 2009
From: stefandoesinger at gmx.at (Stefan =?iso-8859-1?q?D=F6singer?=)
Date: Fri, 29 May 2009 02:21:13 +0200
Subject: [PATCH] _Present
In-Reply-To: <4A1E6F03.9000307@inf.upol.cz>
References: <4A1E6F03.9000307@inf.upol.cz>
Message-ID: <200905290221.13647.stefandoesinger@gmx.at>

Am Donnerstag, 28. Mai 2009 13:01:23 schrieb Pavel Prochazka:

Don't send patches on top of unapplied patches - just always send the a patch 
against the current wine git code.

Besides that, Henri and I pointed out a few other problems in the first 
version of the patch. Things won't get better if you just resend the same 
code without addressing the issues that were pointed out.



From jjmckenzie51 at earthlink.net  Thu May 28 21:18:37 2009
From: jjmckenzie51 at earthlink.net (James McKenzie)
Date: Thu, 28 May 2009 19:18:37 -0700
Subject: patch wined3d
In-Reply-To: <4A1C153D.7090306@inf.upol.cz>
References: <4A1C153D.7090306@inf.upol.cz>
Message-ID: <4A1F45FD.8040302@earthlink.net>

Pavel Prochazka wrote:

>static HRESULT WINAPI IWineGDISwapChainImpl_Present(IWineD3DSwapChain *iface, CONST RECT *pSourceRect, CONST RECT *pDestRect, HWND hDestWindowOverride, CONST >RGNDATA *pDirtyRegion, DWORD dwFlags) {
>     IWineD3DSwapChainImpl *This = (IWineD3DSwapChainImpl *) iface;
>-    IWineD3DSurfaceImpl *front, *back;
>+    IWineD3DSurfaceImpl *front, *back,*hlp1,*hlp2;;
 
You need to keep the same spacing as the remainder of the line.


-    {
-        HDC tmp;
-        tmp = front->hDC;
+    {        

Get rid of the trailing whitespace, it is not needed nor necessary.

-
-        tmp = front->resource.allocatedMemory;
+        

Same here.  You should go through your additions and make sure that no trailing whitespace exists on any line.


Also, you should combine all of your fixes into one patch until it is accepted.  

Lastly, a description should describe what your patch does:

[wine3d]  Create swapchains to eliminate problems with backbuffers (bug XXX {there are at least five bugs with backbuffer problems})

Also, provide test cases to prove that your patch actually does something that Windows(TM) does and to show that you did your homework.

Again, as one of the people with the backbuffer problem causing FPS slowness, I am very interested in these patches.  However, they need to be cleaned up so that we can use them.


James McKenzie





From hans at codeweavers.com  Fri May 29 02:52:55 2009
From: hans at codeweavers.com (Hans Leidekker)
Date: Fri, 29 May 2009 09:52:55 +0200
Subject: Announcing WineConf 2009
Message-ID: <200905290952.55983.hans@codeweavers.com>

Dear Wine developers,

You may recall that I volunteered to help host WineConf in the Netherlands
in 2007 when, after a vote, an offer by Dan Kegel to host at Google's offices
in Zurich won the bid.

Last year WineConf went across the pond to Minnesota, so it seems natural
that this year's WineConf will be hosted in the country with the highest
number of Wine developers per capita ;-)

At Twente University Campus to be precise, near the city of Enschede:
http://maps.google.com/maps/ms?ie=UTF8&hl=en&msa=0&msid=104770595427636833911.00044a70a58a75a8aaa2e&ll=52.240573,6.852207&spn=0.0226,0.057764&z=15

From November 6-8 (Friday to Sunday).

I chose this place because of its good facilities and relatively low
costs; we want to make the conference accessible for as many developers
as possible.

Directions, agenda, etc. will be made available on this page:

  http://wiki.winehq.org/WineConf

Please e-mail me at wineconf at meelstraat.net if you intend to come, so we
can make a better estimation of the number of attendees.

See you there!

 -Hans


From mghughes at embarqmail.com  Fri May 29 04:23:16 2009
From: mghughes at embarqmail.com (mghughes at embarqmail.com)
Date: Fri, 29 May 2009 05:23:16 -0400
Subject: PowerPC MacOSX work...
In-Reply-To: <d7e40be30905272249w7376c378s67ddc7800df0afb8@mail.gmail.com>
References: <52e1cff47bb75756cf1d91ae80ee5cd1@embarqmail.com>
	<d7e40be30905272249w7376c378s67ddc7800df0afb8@mail.gmail.com>
Message-ID: <2215a17eb892d5244b300cd9125e6ada@embarqmail.com>


On May 28, 2009, at 01:49 AM, Ben Klein wrote:

> So you also know you can't run x86 apps on PPC platforms without
> emulation, just like you can't run z80 code on x86 without emulation.
> Also, where is this PPC code in Wine exactly? What source file
> exactly?

Files containing PPC specific related code:
	tools/relay.c
	lib/wine/port.c
	lib/port/interlocked.c
	dlls/ntdll/signal_powerpc.c
	server/context_powerpc.c
iirc: include/ntdll.h

Next contain code Macintosh/MacOSX/Darwin specific PPC/x86 generic
	dlls/winecoreaudio/*
	dlls/kernel32/locale.c
	dlls/ntdll/cdrom.c

I am sure there are other files with PPC parts too.


> Winelib would be good if you had the source code for your Win32/Win16
> apps and wanted to produce PPC binaries of them. Sounds like that's
> not what you're trying to do though.
>
The particular program I wish to run is close source.



From celticht32 at yahoo.com  Fri May 29 10:10:49 2009
From: celticht32 at yahoo.com (chris ahrendt)
Date: Fri, 29 May 2009 08:10:49 -0700 (PDT)
Subject: DIB engine
Message-ID: <810576.68725.qm@web112613.mail.gq1.yahoo.com>


Question on this debate:

Has AJ documented anywhere what the architectural issues are so they can 
be addressed?
I have not seen this in the thread and was just wondering.
If we have them documented then its a relatively easy task to address 
each of them.
Yes it may be a hack but you would be surprised at how much of Windows 
is a hack internally.

Do we even have an architectural document or guidelines to reference?


Chris






      


From austinenglish at gmail.com  Fri May 29 10:14:47 2009
From: austinenglish at gmail.com (Austin English)
Date: Fri, 29 May 2009 10:14:47 -0500
Subject: DIB engine
In-Reply-To: <810576.68725.qm@web112613.mail.gq1.yahoo.com>
References: <810576.68725.qm@web112613.mail.gq1.yahoo.com>
Message-ID: <b6bb06270905290814i62309e8jafd5a40390a61db5@mail.gmail.com>

On Fri, May 29, 2009 at 10:10 AM, chris ahrendt <celticht32 at yahoo.com> wrote:
>
> Question on this debate:
>
> Has AJ documented anywhere what the architectural issues are so they can
> be addressed?
> I have not seen this in the thread and was just wondering.
> If we have them documented then its a relatively easy task to address
> each of them.
> Yes it may be a hack but you would be surprised at how much of Windows
> is a hack internally.
>
> Do we even have an architectural document or guidelines to reference?

If you read the entire thread, you'll see that the DIB design is not a
puzzle that can be carved out and dropped in. The DIB engine must be
designed from scratch. Designing the DIB architecture is half of the
work itself, since that involves planning a lot of the code/testing,
etc.

He pointed out a few things he didn't like about Massimo's design, but
not a full 'here's the spec, do this exactly'.

For more details, read the full thread and past discussions.

--
-Austin


From celticht32 at yahoo.com  Fri May 29 10:50:34 2009
From: celticht32 at yahoo.com (chris ahrendt)
Date: Fri, 29 May 2009 08:50:34 -0700 (PDT)
Subject: DIB engine
Message-ID: <995740.53445.qm@web112603.mail.gq1.yahoo.com>


On 05/29/2009 11:14 AM, Austin English wrote:
> On Fri, May 29, 2009 at 10:10 AM, chris ahrendt<celticht32 at yahoo.com>  wrote:
>    
>> Question on this debate:
>>
>> Has AJ documented anywhere what the architectural issues are so they can
>> be addressed?
>> I have not seen this in the thread and was just wondering.
>> If we have them documented then its a relatively easy task to address
>> each of them.
>> Yes it may be a hack but you would be surprised at how much of Windows
>> is a hack internally.
>>
>> Do we even have an architectural document or guidelines to reference?
>>      
> If you read the entire thread, you'll see that the DIB design is not a
> puzzle that can be carved out and dropped in. The DIB engine must be
> designed from scratch. Designing the DIB architecture is half of the
> work itself, since that involves planning a lot of the code/testing,
> etc.
>
> He pointed out a few things he didn't like about Massimo's design, but
> not a full 'here's the spec, do this exactly'.
>
> For more details, read the full thread and past discussions.
>
> --
> -Austin
>
>
>    
Right Austin,
I have... thats why I asked the question why not sit down and say
here is what we want from the DIB engine here is the Spec do this ..
I have seen the here is what I don't like. But nothing showing what
exactly is needed. This would be the first step in resolving this
circular argument / discussion which is what I am trying to
facilitate =D. Until that is done all we can do is have this same
circular argument / discussion =D

chris






      


From austinenglish at gmail.com  Fri May 29 10:52:36 2009
From: austinenglish at gmail.com (Austin English)
Date: Fri, 29 May 2009 10:52:36 -0500
Subject: DIB engine
In-Reply-To: <995740.53445.qm@web112603.mail.gq1.yahoo.com>
References: <995740.53445.qm@web112603.mail.gq1.yahoo.com>
Message-ID: <b6bb06270905290852p6071cb3fpbec4d4692b634ac0@mail.gmail.com>

On Fri, May 29, 2009 at 10:50 AM, chris ahrendt <celticht32 at yahoo.com> wrote:
> Right Austin,
> I have... thats why I asked the question why not sit down and say
> here is what we want from the DIB engine here is the Spec do this ..
> I have seen the here is what I don't like. But nothing showing what
> exactly is needed. This would be the first step in resolving this
> circular argument / discussion which is what I am trying to
> facilitate =D. Until that is done all we can do is have this same
> circular argument / discussion =D

As was said in the other thread, just designing it alone would take a
few months work. AJ is really busy with other things, and a few months
work is both a lot of money and a lot of wasted productivity. No one
is stepping up to sponsor the work, so it's a bit hard for him to take
that on.

-- 
-Austin


From kazade at gmail.com  Fri May 29 11:25:53 2009
From: kazade at gmail.com (Luke Benstead)
Date: Fri, 29 May 2009 17:25:53 +0100
Subject: DIB engine
In-Reply-To: <b6bb06270905290852p6071cb3fpbec4d4692b634ac0@mail.gmail.com>
References: <995740.53445.qm@web112603.mail.gq1.yahoo.com>
	<b6bb06270905290852p6071cb3fpbec4d4692b634ac0@mail.gmail.com>
Message-ID: <d04858af0905290925h55cb8348j9c49a096b39901da@mail.gmail.com>

2009/5/29 Austin English <austinenglish at gmail.com>:
> On Fri, May 29, 2009 at 10:50 AM, chris ahrendt <celticht32 at yahoo.com> wrote:
>> Right Austin,
>> I have... thats why I asked the question why not sit down and say
>> here is what we want from the DIB engine here is the Spec do this ..
>> I have seen the here is what I don't like. But nothing showing what
>> exactly is needed. This would be the first step in resolving this
>> circular argument / discussion which is what I am trying to
>> facilitate =D. Until that is done all we can do is have this same
>> circular argument / discussion =D
>
> As was said in the other thread, just designing it alone would take a
> few months work. AJ is really busy with other things, and a few months
> work is both a lot of money and a lot of wasted productivity. No one
> is stepping up to sponsor the work, so it's a bit hard for him to take
> that on.
>
> --
> -Austin
>
>
>

Heh, I wonder if someone should approach Autodesk and say, "Give us
sponsorship and we'll get Autocad running on Linux" they surely have
deep pockets :)

 Luke.

P.S. Must learn to reply to all, sorry Austin


From jjmckenzie51 at earthlink.net  Fri May 29 11:28:15 2009
From: jjmckenzie51 at earthlink.net (James Mckenzie)
Date: Fri, 29 May 2009 09:28:15 -0700 (GMT-07:00)
Subject: DIB engine
Message-ID: <25937154.1243614495891.JavaMail.root@elwamui-hound.atl.sa.earthlink.net>

>As was said in the other thread, just designing it alone would take a
>few months work. AJ is really busy with other things, and a few months
>work is both a lot of money and a lot of wasted productivity. No one
>is stepping up to sponsor the work, so it's a bit hard for him to take
>that on.

Who is asking AJ to do all of the work.  Huw Davies and Max have worked out what is needed to get this into Wine.  All we need is guidance on what is acceptable and how we should proceed.  This seems to be a serious shortcoming on AJs part.  Without this, any further work would be futile and could end up being very frustrating.  I've seen this from Huw and it is starting to come from Max.  AJ needs to get some time together and write up what is and is not acceptable as far as code style, fashion and what he expects out of the development efforts for the DIB engine.  Making a statement
after months of work is IHMO very unacceptable.

Also, I don't see this as circular, but the 'snake' of getting AJ to accept code into the codebase is.

Very respectfully submitted,

James McKenzie



From jjmckenzie51 at earthlink.net  Fri May 29 11:32:09 2009
From: jjmckenzie51 at earthlink.net (James Mckenzie)
Date: Fri, 29 May 2009 09:32:09 -0700 (GMT-07:00)
Subject: DIB engine
Message-ID: <14306540.1243614730020.JavaMail.root@elwamui-hound.atl.sa.earthlink.net>

Luke:
>
>Heh, I wonder if someone should approach Autodesk and say, "Give us
>sponsorship and we'll get Autocad running on Linux" they surely have
>deep pockets :)
>
If Autodesk were interested in making AutoCad work with Linux, they would make a native version, not try to get it working with Wine.  Sorry, but them's the facts.  Now, if you were to speak up with your wallet and donate to the effort, that is a vastly different story.

Sadly, we are on our own to get AutoCad fully working with Wine.  I don't expect any assistance from AutoDesk nor any of the major Linux players.

James McKenzie



From dank at kegel.com  Fri May 29 11:39:27 2009
From: dank at kegel.com (Dan Kegel)
Date: Fri, 29 May 2009 09:39:27 -0700
Subject: Time to remove obsolete platforms HP, SGI, and DEC?
Message-ID: <a71bd89a0905290939xd5cd2c2h5d185a10d3436f22@mail.gmail.com>

The only use of these platforms was three mistaken
bug reports that probably wanted PC.  I don't see
any reason to keep these old system types around
any more.
OK to remove?
(Suggested in http://bugs.winehq.org/show_bug.cgi?id=13363 )


From juan.lang at gmail.com  Fri May 29 11:43:00 2009
From: juan.lang at gmail.com (Juan Lang)
Date: Fri, 29 May 2009 09:43:00 -0700
Subject: Time to remove obsolete platforms HP, SGI, and DEC?
In-Reply-To: <a71bd89a0905290939xd5cd2c2h5d185a10d3436f22@mail.gmail.com>
References: <a71bd89a0905290939xd5cd2c2h5d185a10d3436f22@mail.gmail.com>
Message-ID: <3a768c550905290943ga6cb587kb8dc8807f7c7bacc@mail.gmail.com>

> The only use of these platforms was three mistaken
> bug reports that probably wanted PC. ?I don't see
> any reason to keep these old system types around
> any more.
> OK to remove?
> (Suggested in http://bugs.winehq.org/show_bug.cgi?id=13363 )

Please.
--Juan


From austinenglish at gmail.com  Fri May 29 11:46:55 2009
From: austinenglish at gmail.com (Austin English)
Date: Fri, 29 May 2009 11:46:55 -0500
Subject: Time to remove obsolete platforms HP, SGI, and DEC?
In-Reply-To: <3a768c550905290943ga6cb587kb8dc8807f7c7bacc@mail.gmail.com>
References: <a71bd89a0905290939xd5cd2c2h5d185a10d3436f22@mail.gmail.com>
	<3a768c550905290943ga6cb587kb8dc8807f7c7bacc@mail.gmail.com>
Message-ID: <b6bb06270905290946m419c30d6r8cc4c69db3e21f3@mail.gmail.com>

On Fri, May 29, 2009 at 11:43 AM, Juan Lang <juan.lang at gmail.com> wrote:
>> The only use of these platforms was three mistaken
>> bug reports that probably wanted PC. ?I don't see
>> any reason to keep these old system types around
>> any more.
>> OK to remove?
>> (Suggested in http://bugs.winehq.org/show_bug.cgi?id=13363 )
>
> Please.
> --Juan

I don't suppose you've changed your mind on also removing the obsolete
OS's (BSDI, AIX, IRIX, HP-UX, SunOS, OS/2, Mac OS X < 10.3)?

-- 
-Austin


From juan.lang at gmail.com  Fri May 29 11:58:04 2009
From: juan.lang at gmail.com (Juan Lang)
Date: Fri, 29 May 2009 09:58:04 -0700
Subject: Time to remove obsolete platforms HP, SGI, and DEC?
In-Reply-To: <b6bb06270905290946m419c30d6r8cc4c69db3e21f3@mail.gmail.com>
References: <a71bd89a0905290939xd5cd2c2h5d185a10d3436f22@mail.gmail.com>
	<3a768c550905290943ga6cb587kb8dc8807f7c7bacc@mail.gmail.com>
	<b6bb06270905290946m419c30d6r8cc4c69db3e21f3@mail.gmail.com>
Message-ID: <3a768c550905290958j5bbd58f9vbb6a16355fbb653b@mail.gmail.com>

> I don't suppose you've changed your mind on also removing the obsolete
> OS's (BSDI, AIX, IRIX, HP-UX, SunOS, OS/2, Mac OS X < 10.3)?

Did he say he wasn't for it?  I didn't catch that.  Dan, here's a vote
for removing those.  I can't comment on all of them, but SunOS has
been obsolete for a decade, OS/2 nearly as long.
--Juan


From austinenglish at gmail.com  Fri May 29 12:01:58 2009
From: austinenglish at gmail.com (Austin English)
Date: Fri, 29 May 2009 12:01:58 -0500
Subject: Time to remove obsolete platforms HP, SGI, and DEC?
In-Reply-To: <3a768c550905290958j5bbd58f9vbb6a16355fbb653b@mail.gmail.com>
References: <a71bd89a0905290939xd5cd2c2h5d185a10d3436f22@mail.gmail.com>
	<3a768c550905290943ga6cb587kb8dc8807f7c7bacc@mail.gmail.com>
	<b6bb06270905290946m419c30d6r8cc4c69db3e21f3@mail.gmail.com>
	<3a768c550905290958j5bbd58f9vbb6a16355fbb653b@mail.gmail.com>
Message-ID: <b6bb06270905291001p72bd5a78ke6cf5d4c18b6a468@mail.gmail.com>

On Fri, May 29, 2009 at 11:58 AM, Juan Lang <juan.lang at gmail.com> wrote:
>> I don't suppose you've changed your mind on also removing the obsolete
>> OS's (BSDI, AIX, IRIX, HP-UX, SunOS, OS/2, Mac OS X < 10.3)?
>
> Did he say he wasn't for it? ?I didn't catch that. ?Dan, here's a vote
> for removing those. ?I can't comment on all of them, but SunOS has
> been obsolete for a decade, OS/2 nearly as long.

It was in a thread a few months ago:
http://www.winehq.org/pipermail/wine-devel/2008-November/070494.html

He removed several, but those few I mentioned are still there.

-- 
-Austin


From dank at kegel.com  Fri May 29 12:02:08 2009
From: dank at kegel.com (Dan Kegel)
Date: Fri, 29 May 2009 10:02:08 -0700
Subject: Time to remove obsolete platforms HP, SGI, and DEC?
In-Reply-To: <3a768c550905290958j5bbd58f9vbb6a16355fbb653b@mail.gmail.com>
References: <a71bd89a0905290939xd5cd2c2h5d185a10d3436f22@mail.gmail.com>
	<3a768c550905290943ga6cb587kb8dc8807f7c7bacc@mail.gmail.com>
	<b6bb06270905290946m419c30d6r8cc4c69db3e21f3@mail.gmail.com>
	<3a768c550905290958j5bbd58f9vbb6a16355fbb653b@mail.gmail.com>
Message-ID: <a71bd89a0905291002j3c77920bu4bd5eeeec3203a22@mail.gmail.com>

On Fri, May 29, 2009 at 9:58 AM, Juan Lang <juan.lang at gmail.com> wrote:
>> I don't suppose you've changed your mind on also removing the obsolete
>> OS's (BSDI, AIX, IRIX, HP-UX, SunOS, OS/2, Mac OS X < 10.3)?
>
> Did he say he wasn't for it? ?I didn't catch that. ?Dan, here's a vote
> for removing those. ?I can't comment on all of them, but SunOS has
> been obsolete for a decade, OS/2 nearly as long.

He's referring to an old discussion we had.  I'm ok with deleting
any that have zero valid instances in the bug tracker and are obsolete.
All the SunOS instances should really be Solaris, I think.

So IRIX, SunOS, and OS/2 can go now.   We do have one (abandoned
but recent) real bug against HP-UX and HP, so maybe it's not quite
time to delete those (but we should rename HP as HP-PA to keep
people with HP PCs from choosing it).

Why do we have versions on Mac OS X?   How about we combine them all?
- Dan


From austinenglish at gmail.com  Fri May 29 12:07:46 2009
From: austinenglish at gmail.com (Austin English)
Date: Fri, 29 May 2009 12:07:46 -0500
Subject: Time to remove obsolete platforms HP, SGI, and DEC?
In-Reply-To: <a71bd89a0905291002j3c77920bu4bd5eeeec3203a22@mail.gmail.com>
References: <a71bd89a0905290939xd5cd2c2h5d185a10d3436f22@mail.gmail.com>
	<3a768c550905290943ga6cb587kb8dc8807f7c7bacc@mail.gmail.com>
	<b6bb06270905290946m419c30d6r8cc4c69db3e21f3@mail.gmail.com>
	<3a768c550905290958j5bbd58f9vbb6a16355fbb653b@mail.gmail.com>
	<a71bd89a0905291002j3c77920bu4bd5eeeec3203a22@mail.gmail.com>
Message-ID: <b6bb06270905291007q799a612wc3d99e2967ff364e@mail.gmail.com>

On Fri, May 29, 2009 at 12:02 PM, Dan Kegel <dank at kegel.com> wrote:
> On Fri, May 29, 2009 at 9:58 AM, Juan Lang <juan.lang at gmail.com> wrote:
>>> I don't suppose you've changed your mind on also removing the obsolete
>>> OS's (BSDI, AIX, IRIX, HP-UX, SunOS, OS/2, Mac OS X < 10.3)?
>>
>> Did he say he wasn't for it? ?I didn't catch that. ?Dan, here's a vote
>> for removing those. ?I can't comment on all of them, but SunOS has
>> been obsolete for a decade, OS/2 nearly as long.
>
> He's referring to an old discussion we had. ?I'm ok with deleting
> any that have zero valid instances in the bug tracker and are obsolete.
> All the SunOS instances should really be Solaris, I think.

Yes, they should be. They're all mine, I've moved them.

> So IRIX, SunOS, and OS/2 can go now. ? We do have one (abandoned
> but recent) real bug against HP-UX and HP, so maybe it's not quite
> time to delete those (but we should rename HP as HP-PA to keep
> people with HP PCs from choosing it).

If it's worth keeping an extra platform/OS for one bug, I suppose.
Could simply set it to 'other'.

> Why do we have versions on Mac OS X? ? How about we combine them all?

It can make a big difference in the bug. The X.org version in OS X
(partially?) depends on what OS X version you have. Some bugs will
only show up in Tiger, because Leopard has them fixed on Apple's end.
(Someone correct me if I'm wrong here, this is based off of what I've
seen on wine-users).

-- 
-Austin


From dmitry at codeweavers.com  Fri May 29 12:14:49 2009
From: dmitry at codeweavers.com (Dmitry Timoshkov)
Date: Sat, 30 May 2009 02:14:49 +0900
Subject: Time to remove obsolete platforms HP, SGI, and DEC?
References: <a71bd89a0905290939xd5cd2c2h5d185a10d3436f22@mail.gmail.com><3a768c550905290943ga6cb587kb8dc8807f7c7bacc@mail.gmail.com><b6bb06270905290946m419c30d6r8cc4c69db3e21f3@mail.gmail.com><3a768c550905290958j5bbd58f9vbb6a16355fbb653b@mail.gmail.com><a71bd89a0905291002j3c77920bu4bd5eeeec3203a22@mail.gmail.com>
	<b6bb06270905291007q799a612wc3d99e2967ff364e@mail.gmail.com>
Message-ID: <D06F2AB76DAA4EC98F0E9E206B0E0D60@DMITRY>

"Austin English" <austinenglish at gmail.com> wrote:

>> Why do we have versions on Mac OS X? How about we combine them all?
> 
> It can make a big difference in the bug. The X.org version in OS X
> (partially?) depends on what OS X version you have. Some bugs will
> only show up in Tiger, because Leopard has them fixed on Apple's end.
> (Someone correct me if I'm wrong here, this is based off of what I've
> seen on wine-users).

By that logic we neeed to have all versions of Ubuntu, Fedora, etc.
listed as well.

-- 
Dmitry.


From austinenglish at gmail.com  Fri May 29 12:18:19 2009
From: austinenglish at gmail.com (Austin English)
Date: Fri, 29 May 2009 12:18:19 -0500
Subject: Time to remove obsolete platforms HP, SGI, and DEC?
In-Reply-To: <D06F2AB76DAA4EC98F0E9E206B0E0D60@DMITRY>
References: <a71bd89a0905290939xd5cd2c2h5d185a10d3436f22@mail.gmail.com>
	<3a768c550905290943ga6cb587kb8dc8807f7c7bacc@mail.gmail.com>
	<b6bb06270905290946m419c30d6r8cc4c69db3e21f3@mail.gmail.com>
	<3a768c550905290958j5bbd58f9vbb6a16355fbb653b@mail.gmail.com>
	<a71bd89a0905291002j3c77920bu4bd5eeeec3203a22@mail.gmail.com>
	<b6bb06270905291007q799a612wc3d99e2967ff364e@mail.gmail.com>
	<D06F2AB76DAA4EC98F0E9E206B0E0D60@DMITRY>
Message-ID: <b6bb06270905291018n657d6764j4431dc92fc0a2eb6@mail.gmail.com>

On Fri, May 29, 2009 at 12:14 PM, Dmitry Timoshkov
<dmitry at codeweavers.com> wrote:
> "Austin English" <austinenglish at gmail.com> wrote:
>
>>> Why do we have versions on Mac OS X? How about we combine them all?
>>
>> It can make a big difference in the bug. The X.org version in OS X
>> (partially?) depends on what OS X version you have. Some bugs will
>> only show up in Tiger, because Leopard has them fixed on Apple's end.
>> (Someone correct me if I'm wrong here, this is based off of what I've
>> seen on wine-users).
>
> By that logic we neeed to have all versions of Ubuntu, Fedora, etc.
> listed as well.

I'd say the analogy is closer to having Linux 2.4/2.6, but I get your point.

I'm fine with combining those.

-- 
-Austin


From jjmckenzie51 at earthlink.net  Fri May 29 12:51:49 2009
From: jjmckenzie51 at earthlink.net (James Mckenzie)
Date: Fri, 29 May 2009 13:51:49 -0400 (EDT)
Subject: Time to remove obsolete platforms HP, SGI, and DEC?
Message-ID: <27262863.1243619509199.JavaMail.root@elwamui-hound.atl.sa.earthlink.net>

>
>> Why do we have versions on Mac OS X? ? How about we combine them all?
>
>It can make a big difference in the bug. The X.org version in OS X
>(partially?) depends on what OS X version you have. Some bugs will
>only show up in Tiger, because Leopard has them fixed on Apple's end.
>(Someone correct me if I'm wrong here, this is based off of what I've
>seen on wine-users).
>
Very much correct.  MacOSX 10.5.7 with XQuartz 2.3.3 or higher correctly utilize all OpenGL features present in Wine.  MacOSX 10.4.x or MacOSX 10.5.6 or MacOSX 10.5.7 without XQuartz 2.3.3 applied will not. Since I am running MacOSX 10.5.7 with XQuartz 2.3.3.2 applied, I do not know the status of backporting the fixes to the 10.4 (Tiger) baseline or even if it is possible.

As far as OS/2 goes, it is still a viable operating system, but I think, for Wine purposes, it should be dropped as an available OS for bugzilla and for the AppDB.

James McKenzie



From max at veneto.com  Fri May 29 14:21:51 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Fri, 29 May 2009 21:21:51 +0200
Subject: DIB engine
In-Reply-To: <14306540.1243614730020.JavaMail.root@elwamui-hound.atl.sa.earthlink.net>
References: <14306540.1243614730020.JavaMail.root@elwamui-hound.atl.sa.earthlink.net>
Message-ID: <gvpckf$qrr$1@ger.gmane.org>

James Mckenzie ha scritto:
> Luke:
>> Heh, I wonder if someone should approach Autodesk and say, "Give us
>> sponsorship and we'll get Autocad running on Linux" they surely have
>> deep pockets :)
>>
> If Autodesk were interested in making AutoCad work with Linux, they would make a native version, not try to get it working with Wine.  Sorry, but them's the facts.

Well, not exactly, I'm afraid.
M$ did all possible (and even all almost impossible) to prevent simple porting of
windows apps to other OS.
DotNet is a good example of useless stuff, directx is another example.
IMHO any app written using one of both of them will need an huge effort to
port and an even greater effort to maintain on both platforms.
Writing Autocad using a portable toolkit isn't an option, as most windows users
(I guess 90% of autocad users, even if wi'd have a native version...) *want* to have
their app looking as a native one.
The only feasible stuff they could do is an effort to build it with winelib.
Or, of course, help wine to make Autocad working perfectly on it.
But I guess for them it isn't worth the money.

Max



From kermos at somrek.net  Fri May 29 14:27:38 2009
From: kermos at somrek.net (Stephan Rose)
Date: Fri, 29 May 2009 15:27:38 -0400
Subject: DIB engine
Message-ID: <20474557.692491243625258226.JavaMail.servlet@perfora>

>>As was said in the other thread, just designing it alone would take a
>>few months work. AJ is really busy with other things, and a few months
>>work is both a lot of money and a lot of wasted productivity. No one
>>is stepping up to sponsor the work, so it's a bit hard for him to take
>>that on.
>
>Who is asking AJ to do all of the work.  Huw Davies and Max have worked out 
>what is needed to get this into Wine.  All we need is guidance on what is 
>acceptable and how we should proceed.  This seems to be a serious shortcoming 
>on AJs part.  Without this, any further work would be futile and could end up 
>being very frustrating.  I've seen this from Huw and it is starting to come 
>from Max.  AJ needs to get some time together and write up what is and is not 
>acceptable as far as code style, fashion and what he expects out of the 
>development efforts for the DIB engine.  Making a statement
>after months of work is IHMO very unacceptable.
>
>Also, I don't see this as circular, but the 'snake' of getting AJ to accept 
>code into the codebase is.

This is where I figured I'd wake up and chime in a bit. None of you all know me I suppose but I've been primarily just listening in on this list for the better part of two years now. :)

My ears perked up when the two words DIB and spec were put together in the same sentence. One frustration I encountered when wanting to contribute to wine a little over two years ago was that nobody seemed to be able to say "Hey, this is what we are missing/need, here are the specs, go implement". Essentially, that's how I work and how I work well. Trying to fix random bugs in random applications in a codebase completely unfamiliar to me seemed to be rather futile so at that point in time I abandoned those efforts and just stuck to using wine. =P

So that said, I've got a decent amount of experiences dealing with graphics, including full 24/32-bit color on embedded devices. Considering the environment, performance has always been a priority as well. Plus, I also really like working with graphics related code. So from where I'm standing right now, this seems to be right in my neighbourhood. 

So if anyone can drop a full spec into my lap which outlines everything I need to write and where (given I adhere to things as I should of course) I won't have any issues getting that accepted later on, I'd be more than willing to take on something like this. 

Thanks,

Stephan


From ken at codeweavers.com  Fri May 29 14:27:36 2009
From: ken at codeweavers.com (Ken Thomases)
Date: Fri, 29 May 2009 14:27:36 -0500
Subject: Time to remove obsolete platforms HP, SGI, and DEC?
In-Reply-To: <b6bb06270905291018n657d6764j4431dc92fc0a2eb6@mail.gmail.com>
References: <a71bd89a0905290939xd5cd2c2h5d185a10d3436f22@mail.gmail.com>
	<3a768c550905290943ga6cb587kb8dc8807f7c7bacc@mail.gmail.com>
	<b6bb06270905290946m419c30d6r8cc4c69db3e21f3@mail.gmail.com>
	<3a768c550905290958j5bbd58f9vbb6a16355fbb653b@mail.gmail.com>
	<a71bd89a0905291002j3c77920bu4bd5eeeec3203a22@mail.gmail.com>
	<b6bb06270905291007q799a612wc3d99e2967ff364e@mail.gmail.com>
	<D06F2AB76DAA4EC98F0E9E206B0E0D60@DMITRY>
	<b6bb06270905291018n657d6764j4431dc92fc0a2eb6@mail.gmail.com>
Message-ID: <76C26D5E-E771-4C78-A232-BC3042EA85C6@codeweavers.com>

On May 29, 2009, at 12:18 PM, Austin English wrote:

> On Fri, May 29, 2009 at 12:14 PM, Dmitry Timoshkov
> <dmitry at codeweavers.com> wrote:
>> "Austin English" <austinenglish at gmail.com> wrote:
>>
>>>> Why do we have versions on Mac OS X? How about we combine them all?
>>>
>>> It can make a big difference in the bug. The X.org version in OS X
>>> (partially?) depends on what OS X version you have. Some bugs will
>>> only show up in Tiger, because Leopard has them fixed on Apple's  
>>> end.
>>> (Someone correct me if I'm wrong here, this is based off of what  
>>> I've
>>> seen on wine-users).
>>
>> By that logic we neeed to have all versions of Ubuntu, Fedora, etc.
>> listed as well.
>
> I'd say the analogy is closer to having Linux 2.4/2.6, but I get  
> your point.
>
> I'm fine with combining those.

One big difference is that upgrading from Tiger to Leopard costs  
money, unlike upgrading Linux.  So, it's not as simple to just tell a  
user to upgrade to fix their problem.

(I don't interact with Bugzilla much, so I'm not weighing in on what  
suits the needs of bug wranglers.  Just raising a point.)

-Ken



From austinenglish at gmail.com  Fri May 29 16:17:09 2009
From: austinenglish at gmail.com (Austin English)
Date: Fri, 29 May 2009 16:17:09 -0500
Subject: Announcing WineConf 2009
In-Reply-To: <200905290952.55983.hans@codeweavers.com>
References: <200905290952.55983.hans@codeweavers.com>
Message-ID: <b6bb06270905291417y26d62283t14b8600803067e9e@mail.gmail.com>

On Fri, May 29, 2009 at 2:52 AM, Hans Leidekker <hans at codeweavers.com> wrote:
> Dear Wine developers,
>
> You may recall that I volunteered to help host WineConf in the Netherlands
> in 2007 when, after a vote, an offer by Dan Kegel to host at Google's offices
> in Zurich won the bid.
>
> Last year WineConf went across the pond to Minnesota, so it seems natural
> that this year's WineConf will be hosted in the country with the highest
> number of Wine developers per capita ;-)
>
> At Twente University Campus to be precise, near the city of Enschede:
> http://maps.google.com/maps/ms?ie=UTF8&hl=en&msa=0&msid=104770595427636833911.00044a70a58a75a8aaa2e&ll=52.240573,6.852207&spn=0.0226,0.057764&z=15
>
> From November 6-8 (Friday to Sunday).
>
> I chose this place because of its good facilities and relatively low
> costs; we want to make the conference accessible for as many developers
> as possible.
>
> Directions, agenda, etc. will be made available on this page:
>
> ?http://wiki.winehq.org/WineConf
>
> Please e-mail me at wineconf at meelstraat.net if you intend to come, so we
> can make a better estimation of the number of attendees.
>
> See you there!
>
> ?-Hans

What is the status of the Wine Party Fund this year, to help with the
cost of transportation/lodging? I remember quite a bit of it was used
up last year...

-- 
-Austin


From winehacker at gmail.com  Fri May 29 16:26:11 2009
From: winehacker at gmail.com (Steven Edwards)
Date: Fri, 29 May 2009 17:26:11 -0400
Subject: Announcing WineConf 2009
In-Reply-To: <b6bb06270905291417y26d62283t14b8600803067e9e@mail.gmail.com>
References: <200905290952.55983.hans@codeweavers.com>
	<b6bb06270905291417y26d62283t14b8600803067e9e@mail.gmail.com>
Message-ID: <19e31a080905291426m66c4e581r307d4bbafe0dc37c@mail.gmail.com>

On Fri, May 29, 2009 at 5:17 PM, Austin English <austinenglish at gmail.com> wrote:
> What is the status of the Wine Party Fund this year, to help with the
> cost of transportation/lodging? I remember quite a bit of it was used
> up last year...

This also provides a good time for us to publicly seek donations.

-- 
Steven Edwards

"There is one thing stronger than all the armies in the world, and
that is an idea whose time has come." - Victor Hugo


From thunderbird2k at gmail.com  Fri May 29 16:41:51 2009
From: thunderbird2k at gmail.com (Roderick Colenbrander)
Date: Fri, 29 May 2009 23:41:51 +0200
Subject: Announcing WineConf 2009
In-Reply-To: <19e31a080905291426m66c4e581r307d4bbafe0dc37c@mail.gmail.com>
References: <200905290952.55983.hans@codeweavers.com>
	<b6bb06270905291417y26d62283t14b8600803067e9e@mail.gmail.com>
	<19e31a080905291426m66c4e581r307d4bbafe0dc37c@mail.gmail.com>
Message-ID: <c8485d470905291441x133d9b02o5fc064bacc253081@mail.gmail.com>

On Fri, May 29, 2009 at 11:26 PM, Steven Edwards <winehacker at gmail.com> wrote:
> On Fri, May 29, 2009 at 5:17 PM, Austin English <austinenglish at gmail.com> wrote:
>> What is the status of the Wine Party Fund this year, to help with the
>> cost of transportation/lodging? I remember quite a bit of it was used
>> up last year...
>
> This also provides a good time for us to publicly seek donations.
>
> --
> Steven Edwards
>
> "There is one thing stronger than all the armies in the world, and
> that is an idea whose time has come." - Victor Hugo
>
>
>

Yep and we might also want donations for some other things e.g. DIB
engine and other things (it shouldn't bite with CW). Further remember
as of Wineconf 2008 it is not Wine Party Fund but Wine Development
Fund but it was discussed on saturday morning .... ;)

Roderick


From austinenglish at gmail.com  Fri May 29 16:42:31 2009
From: austinenglish at gmail.com (Austin English)
Date: Fri, 29 May 2009 16:42:31 -0500
Subject: Announcing WineConf 2009
In-Reply-To: <19e31a080905291426m66c4e581r307d4bbafe0dc37c@mail.gmail.com>
References: <200905290952.55983.hans@codeweavers.com>
	<b6bb06270905291417y26d62283t14b8600803067e9e@mail.gmail.com>
	<19e31a080905291426m66c4e581r307d4bbafe0dc37c@mail.gmail.com>
Message-ID: <b6bb06270905291442l5ec3b330w627d1aaa6a280c5f@mail.gmail.com>

On Fri, May 29, 2009 at 4:26 PM, Steven Edwards <winehacker at gmail.com> wrote:
> On Fri, May 29, 2009 at 5:17 PM, Austin English <austinenglish at gmail.com> wrote:
>> What is the status of the Wine Party Fund this year, to help with the
>> cost of transportation/lodging? I remember quite a bit of it was used
>> up last year...
>
> This also provides a good time for us to publicly seek donations.

On a related note, I noticed when installing TortiseSVN on windows,
that the installer has a donation button. Well, two actually, one with
installing files on the progress screen, and one at the final 'finish'
screen, asking for a donation.

When you click it, it goes to http://tortoisesvn.tigris.org/donate.html.

So, two things:
A) We really need a donation page. Currently, the donate button on
http://www.winehq.org redirects you to paypal, without sending you to
a WineHQ page first explaining what the donation is for, saying
thanks, etc. It's a bit hard/tacky to send a donation request out if
we don't have a page to send them to, other than paypal.
B) We could add a button to winecfg for donating (under the
'Name'/'Company' fields in the 'About' tab). It's unobtrusive,
non-invasive, and gives quite a bit of exposure (curious users check
out all the tabs and would see it).

The donate tab may be a bit controversial, and I'm not proposing
putting it in without gathering some opinions first. But I do think
it's a really neat idea. There are often times I want to donate to a
project, but I'm lazy and don't want to search through the site to
find it. A button making it easier for me to do so => $ in their
pocket.

--
-Austin


From celticht32 at yahoo.com  Fri May 29 17:57:48 2009
From: celticht32 at yahoo.com (chris ahrendt)
Date: Fri, 29 May 2009 15:57:48 -0700 (PDT)
Subject: DIB engine
Message-ID: <802250.8075.qm@web112608.mail.gq1.yahoo.com>


On 05/29/2009 12:28 PM, James Mckenzie wrote:
>> As was said in the other thread, just designing it alone would take a
>> few months work. AJ is really busy with other things, and a few months
>> work is both a lot of money and a lot of wasted productivity. No one
>> is stepping up to sponsor the work, so it's a bit hard for him to take
>> that on.
>>      
> Who is asking AJ to do all of the work.  Huw Davies and Max have worked out what is needed to get this into Wine.  All we need is guidance on what is acceptable and how we should proceed.  This seems to be a serious shortcoming on AJs part.  Without this, any further work would be futile and could end up being very frustrating.  I've seen this from Huw and it is starting to come from Max.  AJ needs to get some time together and write up what is and is not acceptable as far as code style, fashion and what he expects out of the development efforts for the DIB engine.  Making a statement
> after months of work is IHMO very unacceptable.
>
> Also, I don't see this as circular, but the 'snake' of getting AJ to accept code into the codebase is.
>
> Very respectfully submitted,
>
> James McKenzie
>
>
>
>    
Agreed James,
this is the exact point I am getting at I guess... what exactly is 
acceptable and what is not... It seems we have a working solution for DIB.
I do not think that it would take that long for AJ to sit down and say 
here.. this is what I want or this is what is acceptable then its up to the
development people to come back and say ok here is our solution and then 
rectify the delta's in between. If Huw and Max have a solution
then what is the delta?

Chris






      


From dank at kegel.com  Fri May 29 19:53:21 2009
From: dank at kegel.com (Dan Kegel)
Date: Fri, 29 May 2009 17:53:21 -0700
Subject: Time to remove obsolete platforms HP, SGI, and DEC?
In-Reply-To: <27262863.1243619509199.JavaMail.root@elwamui-hound.atl.sa.earthlink.net>
References: <27262863.1243619509199.JavaMail.root@elwamui-hound.atl.sa.earthlink.net>
Message-ID: <a71bd89a0905291753h34f2e20cwcee1a540a58c293e@mail.gmail.com>

On Fri, May 29, 2009 at 10:51 AM, James Mckenzie
<jjmckenzie51 at earthlink.net> wrote:
>>> Why do we have versions on Mac OS X? ? How about we combine them all?
>>
>>It can make a big difference in the bug. The X.org version in OS X
>>(partially?) depends on what OS X version you have. ...
>
> As far as OS/2 goes, it is still a viable operating system, but I think, for Wine purposes, it should be dropped as an available OS for bugzilla and for the AppDB.

OK.  Last time we looked at this, their bodies hadn't quite decomposed
enough, but now they're most sincerely dead.  I've simplified our bug OS
and System fields accordingly.

Of MacOSX, I removed 10.0 and 10.1.  There were some real 10.2 bugs,
so it's probably not appropriate to remove that one (yet...).
- Dan


From shacklein at gmail.com  Fri May 29 20:52:34 2009
From: shacklein at gmail.com (Ben Klein)
Date: Sat, 30 May 2009 11:52:34 +1000
Subject: DIB engine
In-Reply-To: <810576.68725.qm@web112613.mail.gq1.yahoo.com>
References: <810576.68725.qm@web112613.mail.gq1.yahoo.com>
Message-ID: <d7e40be30905291852u7c72bb5aj8c682bbd37cba549@mail.gmail.com>

2009/5/30 chris ahrendt <celticht32 at yahoo.com>:
>
> Question on this debate:
>
> Has AJ documented anywhere what the architectural issues are so they can
> be addressed?

This did not need a new thread. You should have posted it on the existing one.

> I have not seen this in the thread and was just wondering.
> If we have them documented then its a relatively easy task to address
> each of them.
> Yes it may be a hack but you would be surprised at how much of Windows
> is a hack internally.

You would be surprised at how much of Wine is NOT a hack internally.
Wine doesn't do hacks, hence AJ's reluctance to include the current
DIB proposal in Wine (to make it "correct" later will require a lot of
hacking, as Max has objected).

> Do we even have an architectural document or guidelines to reference?

This was also raised on the existing thread. No. This is a problem.
The best we have so far is "DIB engine should be integrated into
GDI32". This is not a problem, because both Max and AJ share this
goal, but if I understand correctly, Max doesn't want to invest the
effort (which is a lot) until the current design is validated by
inclusion into upstream source.

This leads me to my second point.

2009/5/30Z Stephan Rose <kermos at somrek.net>:
> My ears perked up when the two words DIB and spec were put together in the same sentence. One frustration I encountered when wanting to contribute to wine a little over two years ago was that nobody seemed to be able to say "Hey, this is what we are missing/need, here are the specs, go implement". Essentially, that's how I work and how I work well. Trying to fix random bugs in random applications in a codebase completely unfamiliar to me seemed to be rather futile so at that point in time I abandoned those efforts and just stuck to using wine. =P
>
> So that said, I've got a decent amount of experiences dealing with graphics, including full 24/32-bit color on embedded devices. Considering the environment, performance has always been a priority as well. Plus, I also really like working with graphics related code. So from where I'm standing right now, this seems to be right in my neighbourhood.
>
> So if anyone can drop a full spec into my lap which outlines everything I need to write and where (given I adhere to things as I should of course) I won't have any issues getting that accepted later on, I'd be more than willing to take on something like this.

Welcome aboard! I suggest that if you'd like to help out with the DIB
engine (with the goal of getting it included to Wine upstream source),
that you take a look at the code on bugzilla page #421 and talk to
Massimo about how you might adapt it for integration into GDI32.


From dmitry at codeweavers.com  Sat May 30 00:07:37 2009
From: dmitry at codeweavers.com (Dmitry Timoshkov)
Date: Sat, 30 May 2009 14:07:37 +0900
Subject: DIB engine
References: <20474557.692491243625258226.JavaMail.servlet@perfora>
Message-ID: <DCC204FB9BF64BF19F92F20D68FFC537@DMITRY>

"Stephan Rose" <kermos at somrek.net> wrote:

> So if anyone can drop a full spec into my lap which outlines everything
> I need to write and where (given I adhere to things as I should of course)
> I won't have any issues getting that accepted later on, I'd be more than
> willing to take on something like this.

Anyone needing a full spec can start here:

http://msdn.microsoft.com/en-us/library/dd183562(VS.85).aspx

If that's not enough just do it the way most of us are doing it every day:
1. write a test case
2. make the test pass under Wine

-- 
Dmitry.


From dmitry at codeweavers.com  Sat May 30 00:24:01 2009
From: dmitry at codeweavers.com (Dmitry Timoshkov)
Date: Sat, 30 May 2009 14:24:01 +0900
Subject: d3d10: Improve parse_fx10.
References: <4A20550B.7070905@web.de>
Message-ID: <C4A8109617C84A43B49B3AA187586EFA@DMITRY>

"Rico Sch?ller" <kgbricola at web.de> wrote:

> -    /* version info? */
> -    skip_dword_unknown(&ptr, 2);
> +    /* Compiled target version (e.g. fx_4_0=0xfeff1001, fx_4_1=0xfeff1011). */
> +    read_dword(&ptr, &e->version);
> +    TRACE("Target: %#x\n", e->version);

0xfeff/0xfffe is a unicode byte order mark, could it serve the same
purpose here?

-- 
Dmitry. 



From max at veneto.com  Sat May 30 03:08:32 2009
From: max at veneto.com (Massimo Del Fedele)
Date: Sat, 30 May 2009 10:08:32 +0200
Subject: DIB engine
In-Reply-To: <d7e40be30905291852u7c72bb5aj8c682bbd37cba549@mail.gmail.com>
References: <810576.68725.qm@web112613.mail.gq1.yahoo.com>
	<d7e40be30905291852u7c72bb5aj8c682bbd37cba549@mail.gmail.com>
Message-ID: <gvqpi0$jkf$1@ger.gmane.org>

Ben Klein ha scritto:

> 
> You would be surprised at how much of Wine is NOT a hack internally.
> Wine doesn't do hacks,

Well, well.... there are some, indeed.
Of course, it's better not add new ones :-)

  hence AJ's reluctance to include the current
> DIB proposal in Wine (to make it "correct" later will require a lot of
> hacking, as Max has objected).

Again, my engine isn't a hack. Nor you'll need hacks to embed it on gdi32.
Even more, some parts will be simplified because of direct access to internal
gdi32 structures, which can't be done (without hacks....) in current implementation.
The *only* semi-hack is the direct access of gdifont struct from inside winedib....
it could also be avoided, but with much useless code added.
Useless because it will be so once embedded in gdi32.
> 
>> Do we even have an architectural document or guidelines to reference?
> 
> This was also raised on the existing thread. No. This is a problem.
> The best we have so far is "DIB engine should be integrated into
> GDI32". This is not a problem, because both Max and AJ share this
> goal, but if I understand correctly, Max doesn't want to invest the
> effort (which is a lot) until the current design is validated by
> inclusion into upstream source.

You got exactly the point :-)
To be precise, the effort isn't so huge, but summed with the effort of maintaining
all in sync with current tree the global effort would be great (and dumb, imho).
> 
> 
> Welcome aboard! I suggest that if you'd like to help out with the DIB
> engine (with the goal of getting it included to Wine upstream source),
> that you take a look at the code on bugzilla page #421 and talk to
> Massimo about how you might adapt it for integration into GDI32.
> 
There's not too much to adapt.... moving the engine inside gdi32 is (IMHO)
not complicated at all. More a writing effort than a coding one.
But, *before*, I guess winex11.drv (and any possible driver that does DIBs internally)
should be patched stripping DIB handling *and* adding some stuffs for mixed transfers.
Again, not an huge work, for somebody that knows well drivers internals.
It could also be done later, if wished... but logically that would be the first step.

Ciao

Max



From stefandoesinger at gmx.at  Sat May 30 04:43:58 2009
From: stefandoesinger at gmx.at (=?ISO-8859-1?Q?Stefan_D=F6singer?=)
Date: Sat, 30 May 2009 11:43:58 +0200
Subject: d3d10: Improve parse_fx10.
In-Reply-To: <C4A8109617C84A43B49B3AA187586EFA@DMITRY>
References: <4A20550B.7070905@web.de> <C4A8109617C84A43B49B3AA187586EFA@DMITRY>
Message-ID: <B362B48F-6CD3-41C6-A90B-41454AB81987@gmx.at>


Am 30.05.2009 um 07:24 schrieb Dmitry Timoshkov:

> "Rico Sch?ller" <kgbricola at web.de> wrote:
>
>> -    /* version info? */
>> -    skip_dword_unknown(&ptr, 2);
>> +    /* Compiled target version (e.g. fx_4_0=0xfeff1001,  
>> fx_4_1=0xfeff1011). */
>> +    read_dword(&ptr, &e->version);
>> +    TRACE("Target: %#x\n", e->version);
>
> 0xfeff/0xfffe is a unicode byte order mark, could it serve the same
> purpose here?
On top of my head I think it is the shader type marker - pixel shader,  
vertex shader, geometry shader. I don't have the headers atm, so I  
can't check to be sure.




From jwhite at codeweavers.com  Sat May 30 10:21:35 2009
From: jwhite at codeweavers.com (Jeremy White)
Date: Sat, 30 May 2009 10:21:35 -0500
Subject: Wineconf 2009 and funding
In-Reply-To: <b6bb06270905291417y26d62283t14b8600803067e9e@mail.gmail.com>
References: <200905290952.55983.hans@codeweavers.com>
	<b6bb06270905291417y26d62283t14b8600803067e9e@mail.gmail.com>
Message-ID: <4A214EFF.6000405@codeweavers.com>

> What is the status of the Wine Party Fund this year, to help with the
> cost of transportation/lodging? I remember quite a bit of it was used
> up last year...
> 

I see no reason to change the practice of providing travel sponsorships.

I believe the WPF is lower this year than last, so we may be more restrained
in what we can offer, but folks should definitely ask me if they're
interested.

Cheers,

Jeremy


From austinenglish at gmail.com  Sat May 30 10:30:29 2009
From: austinenglish at gmail.com (Austin English)
Date: Sat, 30 May 2009 10:30:29 -0500
Subject: Wineconf 2009 and funding
In-Reply-To: <4A214EFF.6000405@codeweavers.com>
References: <200905290952.55983.hans@codeweavers.com>
	<b6bb06270905291417y26d62283t14b8600803067e9e@mail.gmail.com>
	<4A214EFF.6000405@codeweavers.com>
Message-ID: <b6bb06270905300830vb22fad6ladf23c1abfe2409b@mail.gmail.com>

On Sat, May 30, 2009 at 10:21 AM, Jeremy White <jwhite at codeweavers.com> wrote:
>> What is the status of the Wine Party Fund this year, to help with the
>> cost of transportation/lodging? I remember quite a bit of it was used
>> up last year...
>>
>
> I see no reason to change the practice of providing travel sponsorships.
>
> I believe the WPF is lower this year than last, so we may be more restrained
> in what we can offer, but folks should definitely ask me if they're
> interested.

Like Steven/Roderick said, we can increase that quite a bit if we
start fundraising early (now).

-- 
-Austin


From hverbeet at gmail.com  Sat May 30 11:00:33 2009
From: hverbeet at gmail.com (Henri Verbeet)
Date: Sat, 30 May 2009 18:00:33 +0200
Subject: d3d10: Improve parse_fx10.
In-Reply-To: <B362B48F-6CD3-41C6-A90B-41454AB81987@gmx.at>
References: <4A20550B.7070905@web.de> <C4A8109617C84A43B49B3AA187586EFA@DMITRY>
	<B362B48F-6CD3-41C6-A90B-41454AB81987@gmx.at>
Message-ID: <d658b69e0905300900w1eaed8aet3154adcacc66e689@mail.gmail.com>

2009/5/30 Stefan D?singer <stefandoesinger at gmx.at>:
>
> Am 30.05.2009 um 07:24 schrieb Dmitry Timoshkov:
>
>> "Rico Sch?ller" <kgbricola at web.de> wrote:
>>
>>> - ? ?/* version info? */
>>> - ? ?skip_dword_unknown(&ptr, 2);
>>> + ? ?/* Compiled target version (e.g. fx_4_0=0xfeff1001,
>>> fx_4_1=0xfeff1011). */
>>> + ? ?read_dword(&ptr, &e->version);
>>> + ? ?TRACE("Target: %#x\n", e->version);
>>
>> 0xfeff/0xfffe is a unicode byte order mark, could it serve the same
>> purpose here?
>
> On top of my head I think it is the shader type marker - pixel shader,
> vertex shader, geometry shader. I don't have the headers atm, so I can't
> check to be sure.
>
Yes, but for effects. SM1-3 version tokens are 0xfffexxyy/0xffffxxyy
for vertex and pixel shaders resp. SM4 version tokens look like
0x000000xy/0x000100xy/0x000200xy for PS/VS/GS. I don't remember what
the version token for d3d9 effects looks like, but this is consistent
with MS's general scheme for D3D/shader file formats.


From winehacker at gmail.com  Sat May 30 13:07:25 2009
From: winehacker at gmail.com (Steven Edwards)
Date: Sat, 30 May 2009 14:07:25 -0400
Subject: Wineconf 2009 and funding
In-Reply-To: <b6bb06270905300830vb22fad6ladf23c1abfe2409b@mail.gmail.com>
References: <200905290952.55983.hans@codeweavers.com>
	<b6bb06270905291417y26d62283t14b8600803067e9e@mail.gmail.com>
	<4A214EFF.6000405@codeweavers.com>
	<b6bb06270905300830vb22fad6ladf23c1abfe2409b@mail.gmail.com>
Message-ID: <19e31a080905301107j50b86239u85b72e65ca562ce0@mail.gmail.com>

On Sat, May 30, 2009 at 11:30 AM, Austin English
<austinenglish at gmail.com> wrote:
> Like Steven/Roderick said, we can increase that quite a bit if we
> start fundraising early (now).

I and Aleksey Bragin will be attending to represent ReactOS. I've
asked their developers, users and advocates to contribute a little
change to both projects donation links. I think this is a good chance
for those of us with relationships to other projects that directly
affect or benefit from Wine to contribute something back.

-- 
Steven Edwards

"There is one thing stronger than all the armies in the world, and
that is an idea whose time has come." - Victor Hugo


From celticht32 at yahoo.com  Sat May 30 14:54:00 2009
From: celticht32 at yahoo.com (chris ahrendt)
Date: Sat, 30 May 2009 12:54:00 -0700 (PDT)
Subject: WIne DIB
Message-ID: <985554.79655.qm@web112620.mail.gq1.yahoo.com>

On 05/30/2009 12:59 PM, wine-devel-request at winehq.org wrote:
> Ben Klein ha scritto:
>
>>
>> You would be surprised at how much of Wine is NOT a hack internally.
>> Wine doesn't do hacks,
>
> Well, well.... there are some, indeed.
> Of course, it's better not add new ones :-)
>
>  hence AJ's reluctance to include the current
>> DIB proposal in Wine (to make it "correct" later will require a lot of
>> hacking, as Max has objected).
>
> Again, my engine isn't a hack. Nor you'll need hacks to embed it on 
> gdi32.
> Even more, some parts will be simplified because of direct access to 
> internal
> gdi32 structures, which can't be done (without hacks....) in current 
> implementation.
> The *only* semi-hack is the direct access of gdifont struct from 
> inside winedib....
> it could also be avoided, but with much useless code added.
> Useless because it will be so once embedded in gdi32.
>>
>>> Do we even have an architectural document or guidelines to reference?
>>
>> This was also raised on the existing thread. No. This is a problem.
>> The best we have so far is "DIB engine should be integrated into
>> GDI32". This is not a problem, because both Max and AJ share this
>> goal, but if I understand correctly, Max doesn't want to invest the
>> effort (which is a lot) until the current design is validated by
>> inclusion into upstream source.
>
> You got exactly the point :-)
> To be precise, the effort isn't so huge, but summed with the effort of 
> maintaining
> all in sync with current tree the global effort would be great (and 
> dumb, imho).
>>
>>
>> Welcome aboard! I suggest that if you'd like to help out with the DIB
>> engine (with the goal of getting it included to Wine upstream source),
>> that you take a look at the code on bugzilla page #421 and talk to
>> Massimo about how you might adapt it for integration into GDI32.
>>
> There's not too much to adapt.... moving the engine inside gdi32 is 
> (IMHO)
> not complicated at all. More a writing effort than a coding one.
> But, *before*, I guess winex11.drv (and any possible driver that does 
> DIBs internally)
> should be patched stripping DIB handling *and* adding some stuffs for 
> mixed transfers.
> Again, not an huge work, for somebody that knows well drivers internals.
> It could also be done later, if wished... but logically that would be 
> the first step.
>
> Ciao
>
> Max
>
>
Ok Max then document what you think the effort would be and what is 
needed to migrate your DIB engine into GDI32
Then We could send it to AJ for approval and go from there. This would 
be documenting the Delta which should
allow AJ to go line item by line item and say yes or no to each or what 
needs to do. How long would that take
you to do Max? Once that is done we would have a defined plan etc and 
going forward it would be documented.


Chris






      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090530/3690f7bf/attachment.htm>

From dank at kegel.com  Sat May 30 16:14:35 2009
From: dank at kegel.com (Dan Kegel)
Date: Sat, 30 May 2009 14:14:35 -0700
Subject: DIB engine
Message-ID: <a71bd89a0905301414j5bd70f74y3441d367b49bc5f0@mail.gmail.com>

Stephan Rose wrote:
> My ears perked up when the two words DIB and spec were put
> together in the same sentence. One frustration I encountered
> when wanting to contribute to wine a little over two years ago
> was that nobody seemed to be able to say "Hey, this is what
> we are missing/need, here are the specs, go implement".
>...
> So if anyone can drop a full spec into my lap which outlines
> everything I need to write and where (given I adhere to things
> as I should of course) I won't have any issues getting that accepted later on...

I don't think such manna is likely to fall from heaven any time soon.
If it was that easy to spec, we would have been done by now.

If you're looking for something better specified, try finishing off
gdiplus.   That's a somewhat well defined graphics package,
and Wine's implementation has a few missing bits yet, last
I checked.
- Dan


From dgerard at gmail.com  Sat May 30 16:21:31 2009
From: dgerard at gmail.com (David Gerard)
Date: Sat, 30 May 2009 22:21:31 +0100
Subject: DIB engine
In-Reply-To: <a71bd89a0905301414j5bd70f74y3441d367b49bc5f0@mail.gmail.com>
References: <a71bd89a0905301414j5bd70f74y3441d367b49bc5f0@mail.gmail.com>
Message-ID: <fbad4e140905301421i386244fct446dbda65c5f2977@mail.gmail.com>

2009/5/30 Dan Kegel <dank at kegel.com>:

> If you're looking for something better specified, try finishing off
> gdiplus. ? That's a somewhat well defined graphics package,
> and Wine's implementation has a few missing bits yet, last
> I checked.


OH YES PLEASE.

(lots of apps missing bits of this - check over bugzilla and
everything in it that's been stubbed)


- d.


From shacklein at gmail.com  Sat May 30 19:21:01 2009
From: shacklein at gmail.com (Ben Klein)
Date: Sun, 31 May 2009 10:21:01 +1000
Subject: WIne DIB
In-Reply-To: <985554.79655.qm@web112620.mail.gq1.yahoo.com>
References: <985554.79655.qm@web112620.mail.gq1.yahoo.com>
Message-ID: <d7e40be30905301721i468acdfcw7310933b6f242e93@mail.gmail.com>

Stop making new threads about this! We've already had too many DIB
Engine threads!


From jjmckenzie51 at earthlink.net  Sat May 30 20:17:46 2009
From: jjmckenzie51 at earthlink.net (James McKenzie)
Date: Sat, 30 May 2009 18:17:46 -0700
Subject: WIne DIB
In-Reply-To: <d7e40be30905301721i468acdfcw7310933b6f242e93@mail.gmail.com>
References: <985554.79655.qm@web112620.mail.gq1.yahoo.com>
	<d7e40be30905301721i468acdfcw7310933b6f242e93@mail.gmail.com>
Message-ID: <4A21DABA.8030102@earthlink.net>

Ben Klein wrote:
> Stop making new threads about this! We've already had too many DIB
> Engine threads!
>
>
>   
+1.  Please keep all of the traffic on the DIB engine to one thread.

James McKenzie




From zgold at bluesata.com  Sun May 31 02:05:36 2009
From: zgold at bluesata.com (Zachary Goldberg)
Date: Sun, 31 May 2009 03:05:36 -0400
Subject: Its Alive! Patchwatcher is reborn.
Message-ID: <b050a5e70905310005m65da85a6r89af4bbd95fba4c1@mail.gmail.com>

All,

As you may have noticed in the last WWN I have been working on getting
patchwatcher back up on a rather nice server whose cpu time is
graciously donated by STWing (stwing.org).  I've got it running at the
moment at

http://winepatch.stwing.upenn.edu/results2/

There are still many, many kinks to be worked out before I would use
this as reliable and/or before I even think about enabling sending to
patch authors.  But if you're curious thats where the results are
going and will likely be in the future.

-Zach

p.s. Kudos to Dan Kegel for a great walkthrough in the PW readme.txt,
and of course for putting patchwatcher together in the first place!


From kai.blin at gmail.com  Sun May 31 02:27:04 2009
From: kai.blin at gmail.com (Kai Blin)
Date: Sun, 31 May 2009 09:27:04 +0200
Subject: Its Alive! Patchwatcher is reborn.
In-Reply-To: <b050a5e70905310005m65da85a6r89af4bbd95fba4c1@mail.gmail.com>
References: <b050a5e70905310005m65da85a6r89af4bbd95fba4c1@mail.gmail.com>
Message-ID: <200905310927.04631.kai.blin@gmail.com>

On Sunday 31 May 2009 09:05:36 Zachary Goldberg wrote:
> All,
>
> As you may have noticed in the last WWN I have been working on getting
> patchwatcher back up on a rather nice server whose cpu time is
> graciously donated by STWing (stwing.org).  I've got it running at the
> moment at
>
> http://winepatch.stwing.upenn.edu/results2/

The most notable issue is that most patches fail to apply and apply claims 
they're reversed patches. Are you sure you're using git am the right way?

Cheers,
Kai

-- 
Kai Blin
WorldForge developer  http://www.worldforge.org/
Wine developer        http://wiki.winehq.org/KaiBlin
Samba team member     http://www.samba.org/samba/team/
--
Will code for cotton.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part.
URL: <http://www.winehq.org/pipermail/wine-devel/attachments/20090531/251ac23b/attachment-0001.pgp>

From kermos at somrek.net  Sun May 31 02:45:35 2009
From: kermos at somrek.net (Stephan Rose)
Date: Sun, 31 May 2009 03:45:35 -0400
Subject: DIB engine
In-Reply-To: <a71bd89a0905301414j5bd70f74y3441d367b49bc5f0@mail.gmail.com>
References: <a71bd89a0905301414j5bd70f74y3441d367b49bc5f0@mail.gmail.com>
Message-ID: <1243755935.4535.1.camel@stephan-desktop>

On Sat, 2009-05-30 at 14:14 -0700, Dan Kegel wrote:
> Stephan Rose wrote:
> > My ears perked up when the two words DIB and spec were put
> > together in the same sentence. One frustration I encountered
> > when wanting to contribute to wine a little over two years ago
> > was that nobody seemed to be able to say "Hey, this is what
> > we are missing/need, here are the specs, go implement".
> >...
> > So if anyone can drop a full spec into my lap which outlines
> > everything I need to write and where (given I adhere to things
> > as I should of course) I won't have any issues getting that accepted later on...
> 
> I don't think such manna is likely to fall from heaven any time soon.
> If it was that easy to spec, we would have been done by now.
> 
> If you're looking for something better specified, try finishing off
> gdiplus.   That's a somewhat well defined graphics package,
> and Wine's implementation has a few missing bits yet, last
> I checked.

Ok, then judging from the last few posts i'll leave DIB be for now
seeing how there still seems to be some figuring out to do and I'll
check into gdiplus missing bits sometime next week. :)

Thanks,

Stephan




